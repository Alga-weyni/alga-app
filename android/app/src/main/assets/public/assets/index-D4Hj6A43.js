var cge=Object.defineProperty;var a7=t=>{throw TypeError(t)};var uge=(t,e,r)=>e in t?cge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ne=(t,e,r)=>uge(t,typeof e!="symbol"?e+"":e,r),SA=(t,e,r)=>e.has(t)||a7("Cannot "+r);var ie=(t,e,r)=>(SA(t,e,"read from private field"),r?r.call(t):e.get(t)),xt=(t,e,r)=>e.has(t)?a7("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),wt=(t,e,r,n)=>(SA(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Lt=(t,e,r)=>(SA(t,e,"access private method"),r);var AN=(t,e,r,n)=>({set _(i){wt(t,e,i,r)},get _(){return ie(t,e,n)}});function _J(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function as(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CA={exports:{}},Yy={},AA={exports:{}},Zn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o7;function dge(){if(o7)return Zn;o7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function y(ne){return ne===null||typeof ne!="object"?null:(ne=f&&ne[f]||ne["@@iterator"],typeof ne=="function"?ne:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function N(ne,G,se){this.props=ne,this.context=G,this.refs=w,this.updater=se||v}N.prototype.isReactComponent={},N.prototype.setState=function(ne,G){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,G,"setState")},N.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function _(){}_.prototype=N.prototype;function E(ne,G,se){this.props=ne,this.context=G,this.refs=w,this.updater=se||v}var T=E.prototype=new _;T.constructor=E,S(T,N.prototype),T.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,L={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function U(ne,G,se){var ue,je={},Ce=null,ae=null;if(G!=null)for(ue in G.ref!==void 0&&(ae=G.ref),G.key!==void 0&&(Ce=""+G.key),G)O.call(G,ue)&&!B.hasOwnProperty(ue)&&(je[ue]=G[ue]);var de=arguments.length-2;if(de===1)je.children=se;else if(1<de){for(var pe=Array(de),Oe=0;Oe<de;Oe++)pe[Oe]=arguments[Oe+2];je.children=pe}if(ne&&ne.defaultProps)for(ue in de=ne.defaultProps,de)je[ue]===void 0&&(je[ue]=de[ue]);return{$$typeof:t,type:ne,key:Ce,ref:ae,props:je,_owner:L.current}}function $(ne,G){return{$$typeof:t,type:ne.type,key:G,ref:ne.ref,props:ne.props,_owner:ne._owner}}function K(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function q(ne){var G={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(se){return G[se]})}var H=/\/+/g;function Q(ne,G){return typeof ne=="object"&&ne!==null&&ne.key!=null?q(""+ne.key):G.toString(36)}function Z(ne,G,se,ue,je){var Ce=typeof ne;(Ce==="undefined"||Ce==="boolean")&&(ne=null);var ae=!1;if(ne===null)ae=!0;else switch(Ce){case"string":case"number":ae=!0;break;case"object":switch(ne.$$typeof){case t:case e:ae=!0}}if(ae)return ae=ne,je=je(ae),ne=ue===""?"."+Q(ae,0):ue,M(je)?(se="",ne!=null&&(se=ne.replace(H,"$&/")+"/"),Z(je,G,se,"",function(Oe){return Oe})):je!=null&&(K(je)&&(je=$(je,se+(!je.key||ae&&ae.key===je.key?"":(""+je.key).replace(H,"$&/")+"/")+ne)),G.push(je)),1;if(ae=0,ue=ue===""?".":ue+":",M(ne))for(var de=0;de<ne.length;de++){Ce=ne[de];var pe=ue+Q(Ce,de);ae+=Z(Ce,G,se,pe,je)}else if(pe=y(ne),typeof pe=="function")for(ne=pe.call(ne),de=0;!(Ce=ne.next()).done;)Ce=Ce.value,pe=ue+Q(Ce,de++),ae+=Z(Ce,G,se,pe,je);else if(Ce==="object")throw G=String(ne),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ae}function J(ne,G,se){if(ne==null)return ne;var ue=[],je=0;return Z(ne,ue,"","",function(Ce){return G.call(se,Ce,je++)}),ue}function ye(ne){if(ne._status===-1){var G=ne._result;G=G(),G.then(function(se){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=se)},function(se){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=se)}),ne._status===-1&&(ne._status=0,ne._result=G)}if(ne._status===1)return ne._result.default;throw ne._result}var ge={current:null},oe={transition:null},re={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:oe,ReactCurrentOwner:L};function me(){throw Error("act(...) is not supported in production builds of React.")}return Zn.Children={map:J,forEach:function(ne,G,se){J(ne,function(){G.apply(this,arguments)},se)},count:function(ne){var G=0;return J(ne,function(){G++}),G},toArray:function(ne){return J(ne,function(G){return G})||[]},only:function(ne){if(!K(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},Zn.Component=N,Zn.Fragment=r,Zn.Profiler=i,Zn.PureComponent=E,Zn.StrictMode=n,Zn.Suspense=c,Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Zn.act=me,Zn.cloneElement=function(ne,G,se){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var ue=S({},ne.props),je=ne.key,Ce=ne.ref,ae=ne._owner;if(G!=null){if(G.ref!==void 0&&(Ce=G.ref,ae=L.current),G.key!==void 0&&(je=""+G.key),ne.type&&ne.type.defaultProps)var de=ne.type.defaultProps;for(pe in G)O.call(G,pe)&&!B.hasOwnProperty(pe)&&(ue[pe]=G[pe]===void 0&&de!==void 0?de[pe]:G[pe])}var pe=arguments.length-2;if(pe===1)ue.children=se;else if(1<pe){de=Array(pe);for(var Oe=0;Oe<pe;Oe++)de[Oe]=arguments[Oe+2];ue.children=de}return{$$typeof:t,type:ne.type,key:je,ref:Ce,props:ue,_owner:ae}},Zn.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:a,_context:ne},ne.Consumer=ne},Zn.createElement=U,Zn.createFactory=function(ne){var G=U.bind(null,ne);return G.type=ne,G},Zn.createRef=function(){return{current:null}},Zn.forwardRef=function(ne){return{$$typeof:l,render:ne}},Zn.isValidElement=K,Zn.lazy=function(ne){return{$$typeof:h,_payload:{_status:-1,_result:ne},_init:ye}},Zn.memo=function(ne,G){return{$$typeof:u,type:ne,compare:G===void 0?null:G}},Zn.startTransition=function(ne){var G=oe.transition;oe.transition={};try{ne()}finally{oe.transition=G}},Zn.unstable_act=me,Zn.useCallback=function(ne,G){return ge.current.useCallback(ne,G)},Zn.useContext=function(ne){return ge.current.useContext(ne)},Zn.useDebugValue=function(){},Zn.useDeferredValue=function(ne){return ge.current.useDeferredValue(ne)},Zn.useEffect=function(ne,G){return ge.current.useEffect(ne,G)},Zn.useId=function(){return ge.current.useId()},Zn.useImperativeHandle=function(ne,G,se){return ge.current.useImperativeHandle(ne,G,se)},Zn.useInsertionEffect=function(ne,G){return ge.current.useInsertionEffect(ne,G)},Zn.useLayoutEffect=function(ne,G){return ge.current.useLayoutEffect(ne,G)},Zn.useMemo=function(ne,G){return ge.current.useMemo(ne,G)},Zn.useReducer=function(ne,G,se){return ge.current.useReducer(ne,G,se)},Zn.useRef=function(ne){return ge.current.useRef(ne)},Zn.useState=function(ne){return ge.current.useState(ne)},Zn.useSyncExternalStore=function(ne,G,se){return ge.current.useSyncExternalStore(ne,G,se)},Zn.useTransition=function(){return ge.current.useTransition()},Zn.version="18.3.1",Zn}var l7;function h4(){return l7||(l7=1,AA.exports=dge()),AA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c7;function hge(){if(c7)return Yy;c7=1;var t=h4(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,f={},y=null,v=null;u!==void 0&&(y=""+u),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:v,props:f,_owner:i.current}}return Yy.Fragment=r,Yy.jsx=o,Yy.jsxs=o,Yy}var u7;function fge(){return u7||(u7=1,CA.exports=hge()),CA.exports}var s=fge(),_N={},_A={exports:{}},bc={},EA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d7;function mge(){return d7||(d7=1,(function(t){function e(oe,re){var me=oe.length;oe.push(re);e:for(;0<me;){var ne=me-1>>>1,G=oe[ne];if(0<i(G,re))oe[ne]=re,oe[me]=G,me=ne;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var re=oe[0],me=oe.pop();if(me!==re){oe[0]=me;e:for(var ne=0,G=oe.length,se=G>>>1;ne<se;){var ue=2*(ne+1)-1,je=oe[ue],Ce=ue+1,ae=oe[Ce];if(0>i(je,me))Ce<G&&0>i(ae,je)?(oe[ne]=ae,oe[Ce]=me,ne=Ce):(oe[ne]=je,oe[ue]=me,ne=ue);else if(Ce<G&&0>i(ae,me))oe[ne]=ae,oe[Ce]=me,ne=Ce;else break e}}return re}function i(oe,re){var me=oe.sortIndex-re.sortIndex;return me!==0?me:oe.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,y=3,v=!1,S=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(oe){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=oe)n(u),re.sortIndex=re.expirationTime,e(c,re);else break;re=r(u)}}function M(oe){if(w=!1,T(oe),!S)if(r(c)!==null)S=!0,ye(O);else{var re=r(u);re!==null&&ge(M,re.startTime-oe)}}function O(oe,re){S=!1,w&&(w=!1,_(U),U=-1),v=!0;var me=y;try{for(T(re),f=r(c);f!==null&&(!(f.expirationTime>re)||oe&&!q());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,y=f.priorityLevel;var G=ne(f.expirationTime<=re);re=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),T(re)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var ue=r(u);ue!==null&&ge(M,ue.startTime-re),se=!1}return se}finally{f=null,y=me,v=!1}}var L=!1,B=null,U=-1,$=5,K=-1;function q(){return!(t.unstable_now()-K<$)}function H(){if(B!==null){var oe=t.unstable_now();K=oe;var re=!0;try{re=B(!0,oe)}finally{re?Q():(L=!1,B=null)}}else L=!1}var Q;if(typeof E=="function")Q=function(){E(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,J=Z.port2;Z.port1.onmessage=H,Q=function(){J.postMessage(null)}}else Q=function(){N(H,0)};function ye(oe){B=oe,L||(L=!0,Q())}function ge(oe,re){U=N(function(){oe(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,ye(O))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var me=y;y=re;try{return oe()}finally{y=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,re){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=y;y=oe;try{return re()}finally{y=me}},t.unstable_scheduleCallback=function(oe,re,me){var ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ne+me:ne):me=ne,oe){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=me+G,oe={id:h++,callback:re,priorityLevel:oe,startTime:me,expirationTime:G,sortIndex:-1},me>ne?(oe.sortIndex=me,e(u,oe),r(c)===null&&oe===r(u)&&(w?(_(U),U=-1):w=!0,ge(M,me-ne))):(oe.sortIndex=G,e(c,oe),S||v||(S=!0,ye(O))),oe},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(oe){var re=y;return function(){var me=y;y=re;try{return oe.apply(this,arguments)}finally{y=me}}}})(TA)),TA}var h7;function pge(){return h7||(h7=1,EA.exports=mge()),EA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f7;function gge(){if(f7)return bc;f7=1;var t=h4(),e=pge();function r(p){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+p,A=1;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(p,x){o(p,x),o(p+"Capture",x)}function o(p,x){for(i[p]=x,p=0;p<x.length;p++)n.add(x[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function y(p){return c.call(f,p)?!0:c.call(h,p)?!1:u.test(p)?f[p]=!0:(h[p]=!0,!1)}function v(p,x,A,R){if(A!==null&&A.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return R?!1:A!==null?!A.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function S(p,x,A,R){if(x===null||typeof x>"u"||v(p,x,A,R))return!0;if(R)return!1;if(A!==null)switch(A.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function w(p,x,A,R,W,X,xe){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=R,this.attributeNamespace=W,this.mustUseProperty=A,this.propertyName=p,this.type=x,this.sanitizeURL=X,this.removeEmptyString=xe}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){N[p]=new w(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var x=p[0];N[x]=new w(x,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){N[p]=new w(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){N[p]=new w(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){N[p]=new w(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){N[p]=new w(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){N[p]=new w(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){N[p]=new w(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){N[p]=new w(p,5,!1,p.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var x=p.replace(_,E);N[x]=new w(x,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var x=p.replace(_,E);N[x]=new w(x,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var x=p.replace(_,E);N[x]=new w(x,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){N[p]=new w(p,1,!1,p.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){N[p]=new w(p,1,!1,p.toLowerCase(),null,!0,!0)});function T(p,x,A,R){var W=N.hasOwnProperty(x)?N[x]:null;(W!==null?W.type!==0:R||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(S(x,A,W,R)&&(A=null),R||W===null?y(x)&&(A===null?p.removeAttribute(x):p.setAttribute(x,""+A)):W.mustUseProperty?p[W.propertyName]=A===null?W.type===3?!1:"":A:(x=W.attributeName,R=W.attributeNamespace,A===null?p.removeAttribute(x):(W=W.type,A=W===3||W===4&&A===!0?"":""+A,R?p.setAttributeNS(R,x,A):p.setAttribute(x,A))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),oe=Symbol.iterator;function re(p){return p===null||typeof p!="object"?null:(p=oe&&p[oe]||p["@@iterator"],typeof p=="function"?p:null)}var me=Object.assign,ne;function G(p){if(ne===void 0)try{throw Error()}catch(A){var x=A.stack.trim().match(/\n( *(at )?)/);ne=x&&x[1]||""}return`
`+ne+p}var se=!1;function ue(p,x){if(!p||se)return"";se=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(gt){var R=gt}Reflect.construct(p,[],x)}else{try{x.call()}catch(gt){R=gt}p.call(x.prototype)}else{try{throw Error()}catch(gt){R=gt}p()}}catch(gt){if(gt&&R&&typeof gt.stack=="string"){for(var W=gt.stack.split(`
`),X=R.stack.split(`
`),xe=W.length-1,Ue=X.length-1;1<=xe&&0<=Ue&&W[xe]!==X[Ue];)Ue--;for(;1<=xe&&0<=Ue;xe--,Ue--)if(W[xe]!==X[Ue]){if(xe!==1||Ue!==1)do if(xe--,Ue--,0>Ue||W[xe]!==X[Ue]){var Qe=`
`+W[xe].replace(" at new "," at ");return p.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",p.displayName)),Qe}while(1<=xe&&0<=Ue);break}}}finally{se=!1,Error.prepareStackTrace=A}return(p=p?p.displayName||p.name:"")?G(p):""}function je(p){switch(p.tag){case 5:return G(p.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return p=ue(p.type,!1),p;case 11:return p=ue(p.type.render,!1),p;case 1:return p=ue(p.type,!0),p;default:return""}}function Ce(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case B:return"Fragment";case L:return"Portal";case $:return"Profiler";case U:return"StrictMode";case Q:return"Suspense";case Z:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case q:return(p.displayName||"Context")+".Consumer";case K:return(p._context.displayName||"Context")+".Provider";case H:var x=p.render;return p=p.displayName,p||(p=x.displayName||x.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case J:return x=p.displayName||null,x!==null?x:Ce(p.type)||"Memo";case ye:x=p._payload,p=p._init;try{return Ce(p(x))}catch{}}return null}function ae(p){var x=p.type;switch(p.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=x.render,p=p.displayName||p.name||"",x.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(x);case 8:return x===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function de(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function pe(p){var x=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Oe(p){var x=pe(p)?"checked":"value",A=Object.getOwnPropertyDescriptor(p.constructor.prototype,x),R=""+p[x];if(!p.hasOwnProperty(x)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var W=A.get,X=A.set;return Object.defineProperty(p,x,{configurable:!0,get:function(){return W.call(this)},set:function(xe){R=""+xe,X.call(this,xe)}}),Object.defineProperty(p,x,{enumerable:A.enumerable}),{getValue:function(){return R},setValue:function(xe){R=""+xe},stopTracking:function(){p._valueTracker=null,delete p[x]}}}}function ze(p){p._valueTracker||(p._valueTracker=Oe(p))}function qe(p){if(!p)return!1;var x=p._valueTracker;if(!x)return!0;var A=x.getValue(),R="";return p&&(R=pe(p)?p.checked?"true":"false":p.value),p=R,p!==A?(x.setValue(p),!0):!1}function $e(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Ve(p,x){var A=x.checked;return me({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??p._wrapperState.initialChecked})}function Ee(p,x){var A=x.defaultValue==null?"":x.defaultValue,R=x.checked!=null?x.checked:x.defaultChecked;A=de(x.value!=null?x.value:A),p._wrapperState={initialChecked:R,initialValue:A,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function sr(p,x){x=x.checked,x!=null&&T(p,"checked",x,!1)}function Zt(p,x){sr(p,x);var A=de(x.value),R=x.type;if(A!=null)R==="number"?(A===0&&p.value===""||p.value!=A)&&(p.value=""+A):p.value!==""+A&&(p.value=""+A);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}x.hasOwnProperty("value")?mt(p,x.type,A):x.hasOwnProperty("defaultValue")&&mt(p,x.type,de(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(p.defaultChecked=!!x.defaultChecked)}function Gt(p,x,A){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var R=x.type;if(!(R!=="submit"&&R!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+p._wrapperState.initialValue,A||x===p.value||(p.value=x),p.defaultValue=x}A=p.name,A!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,A!==""&&(p.name=A)}function mt(p,x,A){(x!=="number"||$e(p.ownerDocument)!==p)&&(A==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+A&&(p.defaultValue=""+A))}var dr=Array.isArray;function ht(p,x,A,R){if(p=p.options,x){x={};for(var W=0;W<A.length;W++)x["$"+A[W]]=!0;for(A=0;A<p.length;A++)W=x.hasOwnProperty("$"+p[A].value),p[A].selected!==W&&(p[A].selected=W),W&&R&&(p[A].defaultSelected=!0)}else{for(A=""+de(A),x=null,W=0;W<p.length;W++){if(p[W].value===A){p[W].selected=!0,R&&(p[W].defaultSelected=!0);return}x!==null||p[W].disabled||(x=p[W])}x!==null&&(x.selected=!0)}}function Fe(p,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},x,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Xe(p,x){var A=x.value;if(A==null){if(A=x.children,x=x.defaultValue,A!=null){if(x!=null)throw Error(r(92));if(dr(A)){if(1<A.length)throw Error(r(93));A=A[0]}x=A}x==null&&(x=""),A=x}p._wrapperState={initialValue:de(A)}}function ot(p,x){var A=de(x.value),R=de(x.defaultValue);A!=null&&(A=""+A,A!==p.value&&(p.value=A),x.defaultValue==null&&p.defaultValue!==A&&(p.defaultValue=A)),R!=null&&(p.defaultValue=""+R)}function Et(p){var x=p.textContent;x===p._wrapperState.initialValue&&x!==""&&x!==null&&(p.value=x)}function vt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(p,x){return p==null||p==="http://www.w3.org/1999/xhtml"?vt(x):p==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var It,$t=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,A,R,W){MSApp.execUnsafeLocalFunction(function(){return p(x,A,R,W)})}:p})(function(p,x){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=x;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=It.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;x.firstChild;)p.appendChild(x.firstChild)}});function ur(p,x){if(x){var A=p.firstChild;if(A&&A===p.lastChild&&A.nodeType===3){A.nodeValue=x;return}}p.textContent=x}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_s=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(p){_s.forEach(function(x){x=x+p.charAt(0).toUpperCase()+p.substring(1),tr[x]=tr[p]})});function qr(p,x,A){return x==null||typeof x=="boolean"||x===""?"":A||typeof x!="number"||x===0||tr.hasOwnProperty(p)&&tr[p]?(""+x).trim():x+"px"}function pt(p,x){p=p.style;for(var A in x)if(x.hasOwnProperty(A)){var R=A.indexOf("--")===0,W=qr(A,x[A],R);A==="float"&&(A="cssFloat"),R?p.setProperty(A,W):p[A]=W}}var Ar=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(p,x){if(x){if(Ar[p]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function or(p,x){if(p.indexOf("-")===-1)return typeof x.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function cn(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var ri=null,Wr=null,Rn=null;function un(p){if(p=jm(p)){if(typeof ri!="function")throw Error(r(280));var x=p.stateNode;x&&(x=Hp(x),ri(p.stateNode,p.type,x))}}function rs(p){Wr?Rn?Rn.push(p):Rn=[p]:Wr=p}function da(){if(Wr){var p=Wr,x=Rn;if(Rn=Wr=null,un(p),x)for(p=0;p<x.length;p++)un(x[p])}}function Xi(p,x){return p(x)}function Hs(){}var ja=!1;function Gr(p,x,A){if(ja)return p(x,A);ja=!0;try{return Xi(p,x,A)}finally{ja=!1,(Wr!==null||Rn!==null)&&(Hs(),da())}}function pi(p,x){var A=p.stateNode;if(A===null)return null;var R=Hp(A);if(R===null)return null;A=R[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(A&&typeof A!="function")throw Error(r(231,x,typeof A));return A}var Bl=!1;if(l)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Bl=!1}function bo(p,x,A,R,W,X,xe,Ue,Qe){var gt=Array.prototype.slice.call(arguments,3);try{x.apply(A,gt)}catch(Yt){this.onError(Yt)}}var In=!1,Ps=null,os=!1,lr=null,Vo={onError:function(p){In=!0,Ps=p}};function Ho(p,x,A,R,W,X,xe,Ue,Qe){In=!1,Ps=null,bo.apply(Vo,arguments)}function ai(p,x,A,R,W,X,xe,Ue,Qe){if(Ho.apply(this,arguments),In){if(In){var gt=Ps;In=!1,Ps=null}else throw Error(r(198));os||(os=!0,lr=gt)}}function xi(p){var x=p,A=p;if(p.alternate)for(;x.return;)x=x.return;else{p=x;do x=p,(x.flags&4098)!==0&&(A=x.return),p=x.return;while(p)}return x.tag===3?A:null}function ro(p){if(p.tag===13){var x=p.memoizedState;if(x===null&&(p=p.alternate,p!==null&&(x=p.memoizedState)),x!==null)return x.dehydrated}return null}function Ua(p){if(xi(p)!==p)throw Error(r(188))}function $a(p){var x=p.alternate;if(!x){if(x=xi(p),x===null)throw Error(r(188));return x!==p?null:p}for(var A=p,R=x;;){var W=A.return;if(W===null)break;var X=W.alternate;if(X===null){if(R=W.return,R!==null){A=R;continue}break}if(W.child===X.child){for(X=W.child;X;){if(X===A)return Ua(W),p;if(X===R)return Ua(W),x;X=X.sibling}throw Error(r(188))}if(A.return!==R.return)A=W,R=X;else{for(var xe=!1,Ue=W.child;Ue;){if(Ue===A){xe=!0,A=W,R=X;break}if(Ue===R){xe=!0,R=W,A=X;break}Ue=Ue.sibling}if(!xe){for(Ue=X.child;Ue;){if(Ue===A){xe=!0,A=X,R=W;break}if(Ue===R){xe=!0,R=X,A=W;break}Ue=Ue.sibling}if(!xe)throw Error(r(189))}}if(A.alternate!==R)throw Error(r(190))}if(A.tag!==3)throw Error(r(188));return A.stateNode.current===A?p:x}function Ul(p){return p=$a(p),p!==null?hu(p):null}function hu(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var x=hu(p);if(x!==null)return x;p=p.sibling}return null}var za=e.unstable_scheduleCallback,Ii=e.unstable_cancelCallback,ys=e.unstable_shouldYield,gm=e.unstable_requestPaint,ns=e.unstable_now,ah=e.unstable_getCurrentPriorityLevel,Dt=e.unstable_ImmediatePriority,Wo=e.unstable_UserBlockingPriority,vs=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,oh=e.unstable_IdlePriority,$n=null,wn=null;function Dn(p){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot($n,p,void 0,(p.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:vi,af=Math.log,yi=Math.LN2;function vi(p){return p>>>=0,p===0?32:31-(af(p)/yi|0)|0}var wo=64,dl=4194304;function ls(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Oi(p,x){var A=p.pendingLanes;if(A===0)return 0;var R=0,W=p.suspendedLanes,X=p.pingedLanes,xe=A&268435455;if(xe!==0){var Ue=xe&~W;Ue!==0?R=ls(Ue):(X&=xe,X!==0&&(R=ls(X)))}else xe=A&~W,xe!==0?R=ls(xe):X!==0&&(R=ls(X));if(R===0)return 0;if(x!==0&&x!==R&&(x&W)===0&&(W=R&-R,X=x&-x,W>=X||W===16&&(X&4194240)!==0))return x;if((R&4)!==0&&(R|=A&16),x=p.entangledLanes,x!==0)for(p=p.entanglements,x&=R;0<x;)A=31-ha(x),W=1<<A,R|=p[A],x&=~W;return R}function td(p,x){switch(p){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(p,x){for(var A=p.suspendedLanes,R=p.pingedLanes,W=p.expirationTimes,X=p.pendingLanes;0<X;){var xe=31-ha(X),Ue=1<<xe,Qe=W[xe];Qe===-1?((Ue&A)===0||(Ue&R)!==0)&&(W[xe]=td(Ue,x)):Qe<=x&&(p.expiredLanes|=Ue),X&=~Ue}}function ss(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Zi(){var p=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),p}function it(p){for(var x=[],A=0;31>A;A++)x.push(p);return x}function ke(p,x,A){p.pendingLanes|=x,x!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,x=31-ha(x),p[x]=A}function vr(p,x){var A=p.pendingLanes&~x;p.pendingLanes=x,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=x,p.mutableReadLanes&=x,p.entangledLanes&=x,x=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<A;){var W=31-ha(A),X=1<<W;x[W]=0,R[W]=-1,p[W]=-1,A&=~X}}function oi(p,x){var A=p.entangledLanes|=x;for(p=p.entanglements;A;){var R=31-ha(A),W=1<<R;W&x|p[R]&x&&(p[R]|=x),A&=~W}}var Nn=0;function Ic(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var fu,qa,Br,Fs,rd,Oc=!1,Go=[],Yo=null,Va=null,hl=null,gr=new Map,$l=new Map,Sa=[],en="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xm(p,x){switch(p){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":gr.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(x.pointerId)}}function Qr(p,x,A,R,W,X){return p===null||p.nativeEvent!==X?(p={blockedOn:x,domEventName:A,eventSystemFlags:R,nativeEvent:X,targetContainers:[W]},x!==null&&(x=jm(x),x!==null&&qa(x)),p):(p.eventSystemFlags|=R,x=p.targetContainers,W!==null&&x.indexOf(W)===-1&&x.push(W),p)}function Ws(p,x,A,R,W){switch(x){case"focusin":return Yo=Qr(Yo,p,x,A,R,W),!0;case"dragenter":return Va=Qr(Va,p,x,A,R,W),!0;case"mouseover":return hl=Qr(hl,p,x,A,R,W),!0;case"pointerover":var X=W.pointerId;return gr.set(X,Qr(gr.get(X)||null,p,x,A,R,W)),!0;case"gotpointercapture":return X=W.pointerId,$l.set(X,Qr($l.get(X)||null,p,x,A,R,W)),!0}return!1}function ym(p){var x=dh(p.target);if(x!==null){var A=xi(x);if(A!==null){if(x=A.tag,x===13){if(x=ro(A),x!==null){p.blockedOn=x,rd(p.priority,function(){Br(A)});return}}else if(x===3&&A.stateNode.current.memoizedState.isDehydrated){p.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}p.blockedOn=null}function mu(p){if(p.blockedOn!==null)return!1;for(var x=p.targetContainers;0<x.length;){var A=gu(p.domEventName,p.eventSystemFlags,x[0],p.nativeEvent);if(A===null){A=p.nativeEvent;var R=new A.constructor(A.type,A);vn=R,A.target.dispatchEvent(R),vn=null}else return x=jm(A),x!==null&&qa(x),p.blockedOn=A,!1;x.shift()}return!0}function pu(p,x,A){mu(p)&&A.delete(x)}function zl(){Oc=!1,Yo!==null&&mu(Yo)&&(Yo=null),Va!==null&&mu(Va)&&(Va=null),hl!==null&&mu(hl)&&(hl=null),gr.forEach(pu),$l.forEach(pu)}function ql(p,x){p.blockedOn===x&&(p.blockedOn=null,Oc||(Oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zl)))}function No(p){function x(W){return ql(W,p)}if(0<Go.length){ql(Go[0],p);for(var A=1;A<Go.length;A++){var R=Go[A];R.blockedOn===p&&(R.blockedOn=null)}}for(Yo!==null&&ql(Yo,p),Va!==null&&ql(Va,p),hl!==null&&ql(hl,p),gr.forEach(x),$l.forEach(x),A=0;A<Sa.length;A++)R=Sa[A],R.blockedOn===p&&(R.blockedOn=null);for(;0<Sa.length&&(A=Sa[0],A.blockedOn===null);)ym(A),A.blockedOn===null&&Sa.shift()}var no=M.ReactCurrentBatchConfig,cc=!0;function lh(p,x,A,R){var W=Nn,X=no.transition;no.transition=null;try{Nn=1,Ko(p,x,A,R)}finally{Nn=W,no.transition=X}}function Mc(p,x,A,R){var W=Nn,X=no.transition;no.transition=null;try{Nn=4,Ko(p,x,A,R)}finally{Nn=W,no.transition=X}}function Ko(p,x,A,R){if(cc){var W=gu(p,x,A,R);if(W===null)zp(p,x,R,li,A),xm(p,R);else if(Ws(W,p,x,A,R))R.stopPropagation();else if(xm(p,R),x&4&&-1<en.indexOf(p)){for(;W!==null;){var X=jm(W);if(X!==null&&fu(X),X=gu(p,x,A,R),X===null&&zp(p,x,R,li,A),X===W)break;W=X}W!==null&&R.stopPropagation()}else zp(p,x,R,null,A)}}var li=null;function gu(p,x,A,R){if(li=null,p=cn(R),p=dh(p),p!==null)if(x=xi(p),x===null)p=null;else if(A=x.tag,A===13){if(p=ro(x),p!==null)return p;p=null}else if(A===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;p=null}else x!==p&&(p=null);return li=p,null}function xu(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ah()){case Dt:return 1;case Wo:return 4;case vs:case Pc:return 16;case oh:return 536870912;default:return 16}default:return 16}}var Xo=null,Rc=null,nd=null;function of(){if(nd)return nd;var p,x=Rc,A=x.length,R,W="value"in Xo?Xo.value:Xo.textContent,X=W.length;for(p=0;p<A&&x[p]===W[p];p++);var xe=A-p;for(R=1;R<=xe&&x[A-R]===W[X-R];R++);return nd=W.slice(p,1<R?1-R:void 0)}function On(p){var x=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&x===13&&(p=13)):p=x,p===10&&(p=13),32<=p||p===13?p:0}function Zo(){return!0}function yu(){return!1}function ci(p){function x(A,R,W,X,xe){this._reactName=A,this._targetInst=W,this.type=R,this.nativeEvent=X,this.target=xe,this.currentTarget=null;for(var Ue in p)p.hasOwnProperty(Ue)&&(A=p[Ue],this[Ue]=A?A(X):X[Ue]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?Zo:yu,this.isPropagationStopped=yu,this}return me(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),x}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ft=ci(fl),z=me({},fl,{view:0,detail:0}),he=ci(z),De,We,rt,jt=me({},z,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==rt&&(rt&&p.type==="mousemove"?(De=p.screenX-rt.screenX,We=p.screenY-rt.screenY):We=De=0,rt=p),De)},movementY:function(p){return"movementY"in p?p.movementY:We}}),Ut=ci(jt),br=me({},jt,{dataTransfer:0}),nr=ci(br),rn=me({},z,{relatedTarget:0}),pr=ci(rn),Kn=me({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=ci(Kn),hn=me({},fl,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),ir=ci(hn),Qi=me({},fl,{data:0}),pn=ci(Qi),ui={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(p){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(p):(p=jo[p])?!!x[p]:!1}function uc(){return Qo}var vu=me({},z,{key:function(p){if(p.key){var x=ui[p.key]||p.key;if(x!=="Unidentified")return x}return p.type==="keypress"?(p=On(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Ca[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(p){return p.type==="keypress"?On(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?On(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),dc=ci(vu),bu=me({},jt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=ci(bu),sd=me({},z,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Mi=ci(sd),Lc=me({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),id=ci(Lc),Fc=me({},jt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),lf=ci(Fc),ws=[9,13,27,32],So=l&&"CompositionEvent"in window,Ri=null;l&&"documentMode"in document&&(Ri=document.documentMode);var cf=l&&"TextEvent"in window&&!Ri,bi=l&&(!So||Ri&&8<Ri&&11>=Ri),wu=" ",Nu=!1;function ch(p,x){switch(p){case"keyup":return ws.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Di=!1;function Jo(p,x){switch(p){case"compositionend":return hc(x);case"keypress":return x.which!==32?null:(Nu=!0,wu);case"textInput":return p=x.data,p===wu&&Nu?null:p;default:return null}}function so(p,x){if(Di)return p==="compositionend"||!So&&ch(p,x)?(p=of(),nd=Rc=Xo=null,Di=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return bi&&x.locale!=="ko"?null:x.data;default:return null}}var ml={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x==="input"?!!ml[p.type]:x==="textarea"}function pl(p,x,A,R){rs(R),x=A0(x,"onChange"),0<x.length&&(A=new ft("onChange","change",null,A,R),p.push({event:A,listeners:x}))}var le=null,d=null;function m(p){Up(p,0)}function g(p){var x=ff(p);if(qe(x))return p}function b(p,x){if(p==="change")return x}var j=!1;if(l){var C;if(l){var I="oninput"in document;if(!I){var F=document.createElement("div");F.setAttribute("oninput","return;"),I=typeof F.oninput=="function"}C=I}else C=!1;j=C&&(!document.documentMode||9<document.documentMode)}function V(){le&&(le.detachEvent("onpropertychange",te),d=le=null)}function te(p){if(p.propertyName==="value"&&g(d)){var x=[];pl(x,d,p,cn(p)),Gr(m,x)}}function ce(p,x,A){p==="focusin"?(V(),le=x,d=A,le.attachEvent("onpropertychange",te)):p==="focusout"&&V()}function be(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return g(d)}function Me(p,x){if(p==="click")return g(x)}function He(p,x){if(p==="input"||p==="change")return g(x)}function Ke(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var tt=typeof Object.is=="function"?Object.is:Ke;function ut(p,x){if(tt(p,x))return!0;if(typeof p!="object"||p===null||typeof x!="object"||x===null)return!1;var A=Object.keys(p),R=Object.keys(x);if(A.length!==R.length)return!1;for(R=0;R<A.length;R++){var W=A[R];if(!c.call(x,W)||!tt(p[W],x[W]))return!1}return!0}function St(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Pt(p,x){var A=St(p);p=0;for(var R;A;){if(A.nodeType===3){if(R=p+A.textContent.length,p<=x&&R>=x)return{node:A,offset:x-p};p=R}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=St(A)}}function At(p,x){return p&&x?p===x?!0:p&&p.nodeType===3?!1:x&&x.nodeType===3?At(p,x.parentNode):"contains"in p?p.contains(x):p.compareDocumentPosition?!!(p.compareDocumentPosition(x)&16):!1:!1}function Vr(){for(var p=window,x=$e();x instanceof p.HTMLIFrameElement;){try{var A=typeof x.contentWindow.location.href=="string"}catch{A=!1}if(A)p=x.contentWindow;else break;x=$e(p.document)}return x}function Jr(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x&&(x==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||x==="textarea"||p.contentEditable==="true")}function fa(p){var x=Vr(),A=p.focusedElem,R=p.selectionRange;if(x!==A&&A&&A.ownerDocument&&At(A.ownerDocument.documentElement,A)){if(R!==null&&Jr(A)){if(x=R.start,p=R.end,p===void 0&&(p=x),"selectionStart"in A)A.selectionStart=x,A.selectionEnd=Math.min(p,A.value.length);else if(p=(x=A.ownerDocument||document)&&x.defaultView||window,p.getSelection){p=p.getSelection();var W=A.textContent.length,X=Math.min(R.start,W);R=R.end===void 0?X:Math.min(R.end,W),!p.extend&&X>R&&(W=R,R=X,X=W),W=Pt(A,X);var xe=Pt(A,R);W&&xe&&(p.rangeCount!==1||p.anchorNode!==W.node||p.anchorOffset!==W.offset||p.focusNode!==xe.node||p.focusOffset!==xe.offset)&&(x=x.createRange(),x.setStart(W.node,W.offset),p.removeAllRanges(),X>R?(p.addRange(x),p.extend(xe.node,xe.offset)):(x.setEnd(xe.node,xe.offset),p.addRange(x)))}}for(x=[],p=A;p=p.parentNode;)p.nodeType===1&&x.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<x.length;A++)p=x[A],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Ha=l&&"documentMode"in document&&11>=document.documentMode,wi=null,fs=null,Ni=null,Wa=!1;function ju(p,x,A){var R=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Wa||wi==null||wi!==$e(R)||(R=wi,"selectionStart"in R&&Jr(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Ni&&ut(Ni,R)||(Ni=R,R=A0(fs,"onSelect"),0<R.length&&(x=new ft("onSelect","select",null,x,A),p.push({event:x,listeners:R}),x.target=wi)))}function fc(p,x){var A={};return A[p.toLowerCase()]=x.toLowerCase(),A["Webkit"+p]="webkit"+x,A["Moz"+p]="moz"+x,A}var ad={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},od={},Cy={};l&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Fp(p){if(od[p])return od[p];if(!ad[p])return p;var x=ad[p],A;for(A in x)if(x.hasOwnProperty(A)&&A in Cy)return od[p]=x[A];return p}var Ay=Fp("animationend"),_y=Fp("animationiteration"),Ey=Fp("animationstart"),Ty=Fp("transitionend"),ky=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Su(p,x){ky.set(p,x),a(x,[p])}for(var vm=0;vm<Py.length;vm++){var el=Py[vm],mc=el.toLowerCase(),S0=el[0].toUpperCase()+el.slice(1);Su(mc,"on"+S0)}Su(Ay,"onAnimationEnd"),Su(_y,"onAnimationIteration"),Su(Ey,"onAnimationStart"),Su("dblclick","onDoubleClick"),Su("focusin","onFocus"),Su("focusout","onBlur"),Su(Ty,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(uh));function Bp(p,x,A){var R=p.type||"unknown-event";p.currentTarget=A,ai(R,x,void 0,p),p.currentTarget=null}function Up(p,x){x=(x&4)!==0;for(var A=0;A<p.length;A++){var R=p[A],W=R.event;R=R.listeners;e:{var X=void 0;if(x)for(var xe=R.length-1;0<=xe;xe--){var Ue=R[xe],Qe=Ue.instance,gt=Ue.currentTarget;if(Ue=Ue.listener,Qe!==X&&W.isPropagationStopped())break e;Bp(W,Ue,gt),X=Qe}else for(xe=0;xe<R.length;xe++){if(Ue=R[xe],Qe=Ue.instance,gt=Ue.currentTarget,Ue=Ue.listener,Qe!==X&&W.isPropagationStopped())break e;Bp(W,Ue,gt),X=Qe}}}if(os)throw p=lr,os=!1,lr=null,p}function Gs(p,x){var A=x[xl];A===void 0&&(A=x[xl]=new Set);var R=p+"__bubble";A.has(R)||($p(x,p,2,!1),A.add(R))}function C0(p,x,A){var R=0;x&&(R|=4),$p(A,p,R,x)}var bm="_reactListening"+Math.random().toString(36).slice(2);function uf(p){if(!p[bm]){p[bm]=!0,n.forEach(function(A){A!=="selectionchange"&&(W2.has(A)||C0(A,!1,p),C0(A,!0,p))});var x=p.nodeType===9?p:p.ownerDocument;x===null||x[bm]||(x[bm]=!0,C0("selectionchange",!1,x))}}function $p(p,x,A,R){switch(xu(x)){case 1:var W=lh;break;case 4:W=Mc;break;default:W=Ko}A=W.bind(null,x,A,p),W=void 0,!Bl||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(W=!0),R?W!==void 0?p.addEventListener(x,A,{capture:!0,passive:W}):p.addEventListener(x,A,!0):W!==void 0?p.addEventListener(x,A,{passive:W}):p.addEventListener(x,A,!1)}function zp(p,x,A,R,W){var X=R;if((x&1)===0&&(x&2)===0&&R!==null)e:for(;;){if(R===null)return;var xe=R.tag;if(xe===3||xe===4){var Ue=R.stateNode.containerInfo;if(Ue===W||Ue.nodeType===8&&Ue.parentNode===W)break;if(xe===4)for(xe=R.return;xe!==null;){var Qe=xe.tag;if((Qe===3||Qe===4)&&(Qe=xe.stateNode.containerInfo,Qe===W||Qe.nodeType===8&&Qe.parentNode===W))return;xe=xe.return}for(;Ue!==null;){if(xe=dh(Ue),xe===null)return;if(Qe=xe.tag,Qe===5||Qe===6){R=X=xe;continue e}Ue=Ue.parentNode}}R=R.return}Gr(function(){var gt=X,Yt=cn(A),Kt=[];e:{var Wt=ky.get(p);if(Wt!==void 0){var xr=ft,Pr=p;switch(p){case"keypress":if(On(A)===0)break e;case"keydown":case"keyup":xr=dc;break;case"focusin":Pr="focus",xr=pr;break;case"focusout":Pr="blur",xr=pr;break;case"beforeblur":case"afterblur":xr=pr;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xr=Ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xr=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xr=Mi;break;case Ay:case _y:case Ey:xr=bs;break;case Ty:xr=id;break;case"scroll":xr=he;break;case"wheel":xr=lf;break;case"copy":case"cut":case"paste":xr=ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xr=Dc}var Dr=(x&4)!==0,Ea=!Dr&&p==="scroll",lt=Dr?Wt!==null?Wt+"Capture":null:Wt;Dr=[];for(var et=gt,dt;et!==null;){dt=et;var Qt=dt.stateNode;if(dt.tag===5&&Qt!==null&&(dt=Qt,lt!==null&&(Qt=pi(et,lt),Qt!=null&&Dr.push(qp(et,Qt,dt)))),Ea)break;et=et.return}0<Dr.length&&(Wt=new xr(Wt,Pr,null,A,Yt),Kt.push({event:Wt,listeners:Dr}))}}if((x&7)===0){e:{if(Wt=p==="mouseover"||p==="pointerover",xr=p==="mouseout"||p==="pointerout",Wt&&A!==vn&&(Pr=A.relatedTarget||A.fromElement)&&(dh(Pr)||Pr[Co]))break e;if((xr||Wt)&&(Wt=Yt.window===Yt?Yt:(Wt=Yt.ownerDocument)?Wt.defaultView||Wt.parentWindow:window,xr?(Pr=A.relatedTarget||A.toElement,xr=gt,Pr=Pr?dh(Pr):null,Pr!==null&&(Ea=xi(Pr),Pr!==Ea||Pr.tag!==5&&Pr.tag!==6)&&(Pr=null)):(xr=null,Pr=gt),xr!==Pr)){if(Dr=Ut,Qt="onMouseLeave",lt="onMouseEnter",et="mouse",(p==="pointerout"||p==="pointerover")&&(Dr=Dc,Qt="onPointerLeave",lt="onPointerEnter",et="pointer"),Ea=xr==null?Wt:ff(xr),dt=Pr==null?Wt:ff(Pr),Wt=new Dr(Qt,et+"leave",xr,A,Yt),Wt.target=Ea,Wt.relatedTarget=dt,Qt=null,dh(Yt)===gt&&(Dr=new Dr(lt,et+"enter",Pr,A,Yt),Dr.target=dt,Dr.relatedTarget=Ea,Qt=Dr),Ea=Qt,xr&&Pr)t:{for(Dr=xr,lt=Pr,et=0,dt=Dr;dt;dt=df(dt))et++;for(dt=0,Qt=lt;Qt;Qt=df(Qt))dt++;for(;0<et-dt;)Dr=df(Dr),et--;for(;0<dt-et;)lt=df(lt),dt--;for(;et--;){if(Dr===lt||lt!==null&&Dr===lt.alternate)break t;Dr=df(Dr),lt=df(lt)}Dr=null}else Dr=null;xr!==null&&G2(Kt,Wt,xr,Dr,!1),Pr!==null&&Ea!==null&&G2(Kt,Ea,Pr,Dr,!0)}}e:{if(Wt=gt?ff(gt):window,xr=Wt.nodeName&&Wt.nodeName.toLowerCase(),xr==="select"||xr==="input"&&Wt.type==="file")var Ur=b;else if(Cn(Wt))if(j)Ur=He;else{Ur=be;var nn=ce}else(xr=Wt.nodeName)&&xr.toLowerCase()==="input"&&(Wt.type==="checkbox"||Wt.type==="radio")&&(Ur=Me);if(Ur&&(Ur=Ur(p,gt))){pl(Kt,Ur,A,Yt);break e}nn&&nn(p,Wt,gt),p==="focusout"&&(nn=Wt._wrapperState)&&nn.controlled&&Wt.type==="number"&&mt(Wt,"number",Wt.value)}switch(nn=gt?ff(gt):window,p){case"focusin":(Cn(nn)||nn.contentEditable==="true")&&(wi=nn,fs=gt,Ni=null);break;case"focusout":Ni=fs=wi=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,ju(Kt,A,Yt);break;case"selectionchange":if(Ha)break;case"keydown":case"keyup":ju(Kt,A,Yt)}var sn;if(So)e:{switch(p){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else Di?ch(p,A)&&(jn="onCompositionEnd"):p==="keydown"&&A.keyCode===229&&(jn="onCompositionStart");jn&&(bi&&A.locale!=="ko"&&(Di||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&Di&&(sn=of()):(Xo=Yt,Rc="value"in Xo?Xo.value:Xo.textContent,Di=!0)),nn=A0(gt,jn),0<nn.length&&(jn=new pn(jn,p,null,A,Yt),Kt.push({event:jn,listeners:nn}),sn?jn.data=sn:(sn=hc(A),sn!==null&&(jn.data=sn)))),(sn=cf?Jo(p,A):so(p,A))&&(gt=A0(gt,"onBeforeInput"),0<gt.length&&(Yt=new pn("onBeforeInput","beforeinput",null,A,Yt),Kt.push({event:Yt,listeners:gt}),Yt.data=sn))}Up(Kt,x)})}function qp(p,x,A){return{instance:p,listener:x,currentTarget:A}}function A0(p,x){for(var A=x+"Capture",R=[];p!==null;){var W=p,X=W.stateNode;W.tag===5&&X!==null&&(W=X,X=pi(p,A),X!=null&&R.unshift(qp(p,X,W)),X=pi(p,x),X!=null&&R.push(qp(p,X,W))),p=p.return}return R}function df(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function G2(p,x,A,R,W){for(var X=x._reactName,xe=[];A!==null&&A!==R;){var Ue=A,Qe=Ue.alternate,gt=Ue.stateNode;if(Qe!==null&&Qe===R)break;Ue.tag===5&&gt!==null&&(Ue=gt,W?(Qe=pi(A,X),Qe!=null&&xe.unshift(qp(A,Qe,Ue))):W||(Qe=pi(A,X),Qe!=null&&xe.push(qp(A,Qe,Ue)))),A=A.return}xe.length!==0&&p.push({event:x,listeners:xe})}var FC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function Y2(p){return(typeof p=="string"?p:""+p).replace(FC,`
`).replace(BC,"")}function _0(p,x,A){if(x=Y2(x),Y2(p)!==x&&A)throw Error(r(425))}function wm(){}var Vp=null,hf=null;function Iy(p,x){return p==="textarea"||p==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,X2=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof X2<"u"?function(p){return X2.resolve(null).then(p).catch($C)}:Oy;function $C(p){setTimeout(function(){throw p})}function My(p,x){var A=x,R=0;do{var W=A.nextSibling;if(p.removeChild(A),W&&W.nodeType===8)if(A=W.data,A==="/$"){if(R===0){p.removeChild(W),No(x);return}R--}else A!=="$"&&A!=="$?"&&A!=="$!"||R++;A=W}while(A);No(x)}function tl(p){for(;p!=null;p=p.nextSibling){var x=p.nodeType;if(x===1||x===3)break;if(x===8){if(x=p.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return p}function pc(p){p=p.previousSibling;for(var x=0;p;){if(p.nodeType===8){var A=p.data;if(A==="$"||A==="$!"||A==="$?"){if(x===0)return p;x--}else A==="/$"&&x++}p=p.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Cu="__reactFiber$"+gl,Nm="__reactProps$"+gl,Co="__reactContainer$"+gl,xl="__reactEvents$"+gl,zC="__reactListeners$"+gl,qC="__reactHandles$"+gl;function dh(p){var x=p[Cu];if(x)return x;for(var A=p.parentNode;A;){if(x=A[Co]||A[Cu]){if(A=x.alternate,x.child!==null||A!==null&&A.child!==null)for(p=pc(p);p!==null;){if(A=p[Cu])return A;p=pc(p)}return x}p=A,A=p.parentNode}return null}function jm(p){return p=p[Cu]||p[Co],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function ff(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function Hp(p){return p[Nm]||null}var Ry=[],ld=-1;function Bc(p){return{current:p}}function Is(p){0>ld||(p.current=Ry[ld],Ry[ld]=null,ld--)}function Bs(p,x){ld++,Ry[ld]=p.current,p.current=x}var hh={},io=Bc(hh),yl=Bc(!1),mf=hh;function Sm(p,x){var A=p.type.contextTypes;if(!A)return hh;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===x)return R.__reactInternalMemoizedMaskedChildContext;var W={},X;for(X in A)W[X]=x[X];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=x,p.__reactInternalMemoizedMaskedChildContext=W),W}function vl(p){return p=p.childContextTypes,p!=null}function E0(){Is(yl),Is(io)}function Z2(p,x,A){if(io.current!==hh)throw Error(r(168));Bs(io,x),Bs(yl,A)}function Dy(p,x,A){var R=p.stateNode;if(x=x.childContextTypes,typeof R.getChildContext!="function")return A;R=R.getChildContext();for(var W in R)if(!(W in x))throw Error(r(108,ae(p)||"Unknown",W));return me({},A,R)}function pf(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||hh,mf=io.current,Bs(io,p),Bs(yl,yl.current),!0}function Q2(p,x,A){var R=p.stateNode;if(!R)throw Error(r(169));A?(p=Dy(p,x,mf),R.__reactInternalMemoizedMergedChildContext=p,Is(yl),Is(io),Bs(io,p)):Is(yl),Bs(yl,A)}var cd=null,Wp=!1,k=!1;function D(p){cd===null?cd=[p]:cd.push(p)}function Y(p){Wp=!0,D(p)}function ee(){if(!k&&cd!==null){k=!0;var p=0,x=Nn;try{var A=cd;for(Nn=1;p<A.length;p++){var R=A[p];do R=R(!0);while(R!==null)}cd=null,Wp=!1}catch(W){throw cd!==null&&(cd=cd.slice(p+1)),za(Dt,ee),W}finally{Nn=x,k=!1}}return null}var fe=[],ve=0,we=null,Se=0,Ae=[],Pe=0,Ze=null,at=1,Re="";function Je(p,x){fe[ve++]=Se,fe[ve++]=we,we=p,Se=x}function st(p,x,A){Ae[Pe++]=at,Ae[Pe++]=Re,Ae[Pe++]=Ze,Ze=p;var R=at;p=Re;var W=32-ha(R)-1;R&=~(1<<W),A+=1;var X=32-ha(x)+W;if(30<X){var xe=W-W%5;X=(R&(1<<xe)-1).toString(32),R>>=xe,W-=xe,at=1<<32-ha(x)+W|A<<W|R,Re=X+p}else at=1<<X|A<<W|R,Re=p}function Nt(p){p.return!==null&&(Je(p,1),st(p,1,0))}function ct(p){for(;p===we;)we=fe[--ve],fe[ve]=null,Se=fe[--ve],fe[ve]=null;for(;p===Ze;)Ze=Ae[--Pe],Ae[Pe]=null,Re=Ae[--Pe],Ae[Pe]=null,at=Ae[--Pe],Ae[Pe]=null}var yt=null,bt=null,kt=!1,Mt=null;function Lr(p,x){var A=ku(5,null,null,0);A.elementType="DELETED",A.stateNode=x,A.return=p,x=p.deletions,x===null?(p.deletions=[A],p.flags|=16):x.push(A)}function jr(p,x){switch(p.tag){case 5:var A=p.type;return x=x.nodeType!==1||A.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(p.stateNode=x,yt=p,bt=tl(x.firstChild),!0):!1;case 6:return x=p.pendingProps===""||x.nodeType!==3?null:x,x!==null?(p.stateNode=x,yt=p,bt=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(A=Ze!==null?{id:at,overflow:Re}:null,p.memoizedState={dehydrated:x,treeContext:A,retryLane:1073741824},A=ku(18,null,null,0),A.stateNode=x,A.return=p,p.child=A,yt=p,bt=null,!0):!1;default:return!1}}function An(p){return(p.mode&1)!==0&&(p.flags&128)===0}function kr(p){if(kt){var x=bt;if(x){var A=x;if(!jr(p,x)){if(An(p))throw Error(r(418));x=tl(A.nextSibling);var R=yt;x&&jr(p,x)?Lr(R,A):(p.flags=p.flags&-4097|2,kt=!1,yt=p)}}else{if(An(p))throw Error(r(418));p.flags=p.flags&-4097|2,kt=!1,yt=p}}}function Xn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;yt=p}function qi(p){if(p!==yt)return!1;if(!kt)return Xn(p),kt=!0,!1;var x;if((x=p.tag!==3)&&!(x=p.tag!==5)&&(x=p.type,x=x!=="head"&&x!=="body"&&!Iy(p.type,p.memoizedProps)),x&&(x=bt)){if(An(p))throw _n(),Error(r(418));for(;x;)Lr(p,x),x=tl(x.nextSibling)}if(Xn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,x=0;p;){if(p.nodeType===8){var A=p.data;if(A==="/$"){if(x===0){bt=tl(p.nextSibling);break e}x--}else A!=="$"&&A!=="$!"&&A!=="$?"||x++}p=p.nextSibling}bt=null}}else bt=yt?tl(p.stateNode.nextSibling):null;return!0}function _n(){for(var p=bt;p;)p=tl(p.nextSibling)}function Sr(){bt=yt=null,kt=!1}function rr(p){Mt===null?Mt=[p]:Mt.push(p)}var Ji=M.ReactCurrentBatchConfig;function gn(p,x,A){if(p=A.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(r(309));var R=A.stateNode}if(!R)throw Error(r(147,p));var W=R,X=""+p;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===X?x.ref:(x=function(xe){var Ue=W.refs;xe===null?delete Ue[X]:Ue[X]=xe},x._stringRef=X,x)}if(typeof p!="string")throw Error(r(284));if(!A._owner)throw Error(r(290,p))}return p}function Hn(p,x){throw p=Object.prototype.toString.call(x),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":p))}function ni(p){var x=p._init;return x(p._payload)}function Ga(p){function x(lt,et){if(p){var dt=lt.deletions;dt===null?(lt.deletions=[et],lt.flags|=16):dt.push(et)}}function A(lt,et){if(!p)return null;for(;et!==null;)x(lt,et),et=et.sibling;return null}function R(lt,et){for(lt=new Map;et!==null;)et.key!==null?lt.set(et.key,et):lt.set(et.index,et),et=et.sibling;return lt}function W(lt,et){return lt=Mm(lt,et),lt.index=0,lt.sibling=null,lt}function X(lt,et,dt){return lt.index=dt,p?(dt=lt.alternate,dt!==null?(dt=dt.index,dt<et?(lt.flags|=2,et):dt):(lt.flags|=2,et)):(lt.flags|=1048576,et)}function xe(lt){return p&&lt.alternate===null&&(lt.flags|=2),lt}function Ue(lt,et,dt,Qt){return et===null||et.tag!==6?(et=yA(dt,lt.mode,Qt),et.return=lt,et):(et=W(et,dt),et.return=lt,et)}function Qe(lt,et,dt,Qt){var Ur=dt.type;return Ur===B?Yt(lt,et,dt.props.children,Qt,dt.key):et!==null&&(et.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===ye&&ni(Ur)===et.type)?(Qt=W(et,dt.props),Qt.ref=gn(lt,et,dt),Qt.return=lt,Qt):(Qt=yN(dt.type,dt.key,dt.props,null,lt.mode,Qt),Qt.ref=gn(lt,et,dt),Qt.return=lt,Qt)}function gt(lt,et,dt,Qt){return et===null||et.tag!==4||et.stateNode.containerInfo!==dt.containerInfo||et.stateNode.implementation!==dt.implementation?(et=vA(dt,lt.mode,Qt),et.return=lt,et):(et=W(et,dt.children||[]),et.return=lt,et)}function Yt(lt,et,dt,Qt,Ur){return et===null||et.tag!==7?(et=eg(dt,lt.mode,Qt,Ur),et.return=lt,et):(et=W(et,dt),et.return=lt,et)}function Kt(lt,et,dt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=yA(""+et,lt.mode,dt),et.return=lt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case O:return dt=yN(et.type,et.key,et.props,null,lt.mode,dt),dt.ref=gn(lt,null,et),dt.return=lt,dt;case L:return et=vA(et,lt.mode,dt),et.return=lt,et;case ye:var Qt=et._init;return Kt(lt,Qt(et._payload),dt)}if(dr(et)||re(et))return et=eg(et,lt.mode,dt,null),et.return=lt,et;Hn(lt,et)}return null}function Wt(lt,et,dt,Qt){var Ur=et!==null?et.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Ur!==null?null:Ue(lt,et,""+dt,Qt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case O:return dt.key===Ur?Qe(lt,et,dt,Qt):null;case L:return dt.key===Ur?gt(lt,et,dt,Qt):null;case ye:return Ur=dt._init,Wt(lt,et,Ur(dt._payload),Qt)}if(dr(dt)||re(dt))return Ur!==null?null:Yt(lt,et,dt,Qt,null);Hn(lt,dt)}return null}function xr(lt,et,dt,Qt,Ur){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number")return lt=lt.get(dt)||null,Ue(et,lt,""+Qt,Ur);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case O:return lt=lt.get(Qt.key===null?dt:Qt.key)||null,Qe(et,lt,Qt,Ur);case L:return lt=lt.get(Qt.key===null?dt:Qt.key)||null,gt(et,lt,Qt,Ur);case ye:var nn=Qt._init;return xr(lt,et,dt,nn(Qt._payload),Ur)}if(dr(Qt)||re(Qt))return lt=lt.get(dt)||null,Yt(et,lt,Qt,Ur,null);Hn(et,Qt)}return null}function Pr(lt,et,dt,Qt){for(var Ur=null,nn=null,sn=et,jn=et=0,ko=null;sn!==null&&jn<dt.length;jn++){sn.index>jn?(ko=sn,sn=null):ko=sn.sibling;var Es=Wt(lt,sn,dt[jn],Qt);if(Es===null){sn===null&&(sn=ko);break}p&&sn&&Es.alternate===null&&x(lt,sn),et=X(Es,et,jn),nn===null?Ur=Es:nn.sibling=Es,nn=Es,sn=ko}if(jn===dt.length)return A(lt,sn),kt&&Je(lt,jn),Ur;if(sn===null){for(;jn<dt.length;jn++)sn=Kt(lt,dt[jn],Qt),sn!==null&&(et=X(sn,et,jn),nn===null?Ur=sn:nn.sibling=sn,nn=sn);return kt&&Je(lt,jn),Ur}for(sn=R(lt,sn);jn<dt.length;jn++)ko=xr(sn,lt,jn,dt[jn],Qt),ko!==null&&(p&&ko.alternate!==null&&sn.delete(ko.key===null?jn:ko.key),et=X(ko,et,jn),nn===null?Ur=ko:nn.sibling=ko,nn=ko);return p&&sn.forEach(function(Rm){return x(lt,Rm)}),kt&&Je(lt,jn),Ur}function Dr(lt,et,dt,Qt){var Ur=re(dt);if(typeof Ur!="function")throw Error(r(150));if(dt=Ur.call(dt),dt==null)throw Error(r(151));for(var nn=Ur=null,sn=et,jn=et=0,ko=null,Es=dt.next();sn!==null&&!Es.done;jn++,Es=dt.next()){sn.index>jn?(ko=sn,sn=null):ko=sn.sibling;var Rm=Wt(lt,sn,Es.value,Qt);if(Rm===null){sn===null&&(sn=ko);break}p&&sn&&Rm.alternate===null&&x(lt,sn),et=X(Rm,et,jn),nn===null?Ur=Rm:nn.sibling=Rm,nn=Rm,sn=ko}if(Es.done)return A(lt,sn),kt&&Je(lt,jn),Ur;if(sn===null){for(;!Es.done;jn++,Es=dt.next())Es=Kt(lt,Es.value,Qt),Es!==null&&(et=X(Es,et,jn),nn===null?Ur=Es:nn.sibling=Es,nn=Es);return kt&&Je(lt,jn),Ur}for(sn=R(lt,sn);!Es.done;jn++,Es=dt.next())Es=xr(sn,lt,jn,Es.value,Qt),Es!==null&&(p&&Es.alternate!==null&&sn.delete(Es.key===null?jn:Es.key),et=X(Es,et,jn),nn===null?Ur=Es:nn.sibling=Es,nn=Es);return p&&sn.forEach(function(lge){return x(lt,lge)}),kt&&Je(lt,jn),Ur}function Ea(lt,et,dt,Qt){if(typeof dt=="object"&&dt!==null&&dt.type===B&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case O:e:{for(var Ur=dt.key,nn=et;nn!==null;){if(nn.key===Ur){if(Ur=dt.type,Ur===B){if(nn.tag===7){A(lt,nn.sibling),et=W(nn,dt.props.children),et.return=lt,lt=et;break e}}else if(nn.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===ye&&ni(Ur)===nn.type){A(lt,nn.sibling),et=W(nn,dt.props),et.ref=gn(lt,nn,dt),et.return=lt,lt=et;break e}A(lt,nn);break}else x(lt,nn);nn=nn.sibling}dt.type===B?(et=eg(dt.props.children,lt.mode,Qt,dt.key),et.return=lt,lt=et):(Qt=yN(dt.type,dt.key,dt.props,null,lt.mode,Qt),Qt.ref=gn(lt,et,dt),Qt.return=lt,lt=Qt)}return xe(lt);case L:e:{for(nn=dt.key;et!==null;){if(et.key===nn)if(et.tag===4&&et.stateNode.containerInfo===dt.containerInfo&&et.stateNode.implementation===dt.implementation){A(lt,et.sibling),et=W(et,dt.children||[]),et.return=lt,lt=et;break e}else{A(lt,et);break}else x(lt,et);et=et.sibling}et=vA(dt,lt.mode,Qt),et.return=lt,lt=et}return xe(lt);case ye:return nn=dt._init,Ea(lt,et,nn(dt._payload),Qt)}if(dr(dt))return Pr(lt,et,dt,Qt);if(re(dt))return Dr(lt,et,dt,Qt);Hn(lt,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,et!==null&&et.tag===6?(A(lt,et.sibling),et=W(et,dt),et.return=lt,lt=et):(A(lt,et),et=yA(dt,lt.mode,Qt),et.return=lt,lt=et),xe(lt)):A(lt,et)}return Ea}var ma=Ga(!0),Li=Ga(!1),Aa=Bc(null),Ya=null,ji=null,ts=null;function Ns(){ts=ji=Ya=null}function Si(p){var x=Aa.current;Is(Aa),p._currentValue=x}function js(p,x,A){for(;p!==null;){var R=p.alternate;if((p.childLanes&x)!==x?(p.childLanes|=x,R!==null&&(R.childLanes|=x)):R!==null&&(R.childLanes&x)!==x&&(R.childLanes|=x),p===A)break;p=p.return}}function Vi(p,x){Ya=p,ts=ji=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&x)!==0&&(xc=!0),p.firstContext=null)}function Hi(p){var x=p._currentValue;if(ts!==p)if(p={context:p,memoizedValue:x,next:null},ji===null){if(Ya===null)throw Error(r(308));ji=p,Ya.dependencies={lanes:0,firstContext:p}}else ji=ji.next=p;return x}var Ys=null;function Ao(p){Ys===null?Ys=[p]:Ys.push(p)}function Us(p,x,A,R){var W=x.interleaved;return W===null?(A.next=A,Ao(x)):(A.next=W.next,W.next=A),x.interleaved=A,Ks(p,R)}function Ks(p,x){p.lanes|=x;var A=p.alternate;for(A!==null&&(A.lanes|=x),A=p,p=p.return;p!==null;)p.childLanes|=x,A=p.alternate,A!==null&&(A.childLanes|=x),A=p,p=p.return;return A.tag===3?A.stateNode:null}var pa=!1;function ao(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bl(p,x){p=p.updateQueue,x.updateQueue===p&&(x.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ea(p,x){return{eventTime:p,lane:x,tag:0,payload:null,callback:null,next:null}}function ta(p,x,A){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(Ss&2)!==0){var W=R.pending;return W===null?x.next=x:(x.next=W.next,W.next=x),R.pending=x,Ks(p,A)}return W=R.interleaved,W===null?(x.next=x,Ao(R)):(x.next=W.next,W.next=x),R.interleaved=x,Ks(p,A)}function _o(p,x,A){if(x=x.updateQueue,x!==null&&(x=x.shared,(A&4194240)!==0)){var R=x.lanes;R&=p.pendingLanes,A|=R,x.lanes=A,oi(p,A)}}function Xs(p,x){var A=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,A===R)){var W=null,X=null;if(A=A.firstBaseUpdate,A!==null){do{var xe={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};X===null?W=X=xe:X=X.next=xe,A=A.next}while(A!==null);X===null?W=X=x:X=X.next=x}else W=X=x;A={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:X,shared:R.shared,effects:R.effects},p.updateQueue=A;return}p=A.lastBaseUpdate,p===null?A.firstBaseUpdate=x:p.next=x,A.lastBaseUpdate=x}function Eo(p,x,A,R){var W=p.updateQueue;pa=!1;var X=W.firstBaseUpdate,xe=W.lastBaseUpdate,Ue=W.shared.pending;if(Ue!==null){W.shared.pending=null;var Qe=Ue,gt=Qe.next;Qe.next=null,xe===null?X=gt:xe.next=gt,xe=Qe;var Yt=p.alternate;Yt!==null&&(Yt=Yt.updateQueue,Ue=Yt.lastBaseUpdate,Ue!==xe&&(Ue===null?Yt.firstBaseUpdate=gt:Ue.next=gt,Yt.lastBaseUpdate=Qe))}if(X!==null){var Kt=W.baseState;xe=0,Yt=gt=Qe=null,Ue=X;do{var Wt=Ue.lane,xr=Ue.eventTime;if((R&Wt)===Wt){Yt!==null&&(Yt=Yt.next={eventTime:xr,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});e:{var Pr=p,Dr=Ue;switch(Wt=x,xr=A,Dr.tag){case 1:if(Pr=Dr.payload,typeof Pr=="function"){Kt=Pr.call(xr,Kt,Wt);break e}Kt=Pr;break e;case 3:Pr.flags=Pr.flags&-65537|128;case 0:if(Pr=Dr.payload,Wt=typeof Pr=="function"?Pr.call(xr,Kt,Wt):Pr,Wt==null)break e;Kt=me({},Kt,Wt);break e;case 2:pa=!0}}Ue.callback!==null&&Ue.lane!==0&&(p.flags|=64,Wt=W.effects,Wt===null?W.effects=[Ue]:Wt.push(Ue))}else xr={eventTime:xr,lane:Wt,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},Yt===null?(gt=Yt=xr,Qe=Kt):Yt=Yt.next=xr,xe|=Wt;if(Ue=Ue.next,Ue===null){if(Ue=W.shared.pending,Ue===null)break;Wt=Ue,Ue=Wt.next,Wt.next=null,W.lastBaseUpdate=Wt,W.shared.pending=null}}while(!0);if(Yt===null&&(Qe=Kt),W.baseState=Qe,W.firstBaseUpdate=gt,W.lastBaseUpdate=Yt,x=W.shared.interleaved,x!==null){W=x;do xe|=W.lane,W=W.next;while(W!==x)}else X===null&&(W.shared.lanes=0);Xp|=xe,p.lanes=xe,p.memoizedState=Kt}}function gc(p,x,A){if(p=x.effects,x.effects=null,p!==null)for(x=0;x<p.length;x++){var R=p[x],W=R.callback;if(W!==null){if(R.callback=null,R=A,typeof W!="function")throw Error(r(191,W));W.call(R)}}}var Uc={},Ka=Bc(Uc),ra=Bc(Uc),fh=Bc(Uc);function ud(p){if(p===Uc)throw Error(r(174));return p}function Cm(p,x){switch(Bs(fh,x),Bs(ra,p),Bs(Ka,Uc),p=x.nodeType,p){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Tt(null,"");break;default:p=p===8?x.parentNode:x,x=p.namespaceURI||null,p=p.tagName,x=Tt(x,p)}Is(Ka),Bs(Ka,x)}function Au(){Is(Ka),Is(ra),Is(fh)}function J2(p){ud(fh.current);var x=ud(Ka.current),A=Tt(x,p.type);x!==A&&(Bs(ra,p),Bs(Ka,A))}function Ly(p){ra.current===p&&(Is(Ka),Is(ra))}var di=Bc(0);function $c(p){for(var x=p;x!==null;){if(x.tag===13){var A=x.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var Fy=[];function By(){for(var p=0;p<Fy.length;p++)Fy[p]._workInProgressVersionPrimary=null;Fy.length=0}var T0=M.ReactCurrentDispatcher,k0=M.ReactCurrentBatchConfig,_u=0,Ci=null,ga=null,na=null,Am=!1,dd=!1,_m=0,VC=0;function _a(){throw Error(r(321))}function P0(p,x){if(x===null)return!1;for(var A=0;A<x.length&&A<p.length;A++)if(!tt(p[A],x[A]))return!1;return!0}function Gp(p,x,A,R,W,X){if(_u=X,Ci=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,T0.current=p===null||p.memoizedState===null?Mpe:Rpe,p=A(R,W),dd){X=0;do{if(dd=!1,_m=0,25<=X)throw Error(r(301));X+=1,na=ga=null,x.updateQueue=null,T0.current=Dpe,p=A(R,W)}while(dd)}if(T0.current=sN,x=ga!==null&&ga.next!==null,_u=0,na=ga=Ci=null,Am=!1,x)throw Error(r(300));return p}function Eu(){var p=_m!==0;return _m=0,p}function zc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?Ci.memoizedState=na=p:na=na.next=p,na}function Vl(){if(ga===null){var p=Ci.alternate;p=p!==null?p.memoizedState:null}else p=ga.next;var x=na===null?Ci.memoizedState:na.next;if(x!==null)na=x,ga=p;else{if(p===null)throw Error(r(310));ga=p,p={memoizedState:ga.memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},na===null?Ci.memoizedState=na=p:na=na.next=p}return na}function Yp(p,x){return typeof x=="function"?x(p):x}function I0(p){var x=Vl(),A=x.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=p;var R=ga,W=R.baseQueue,X=A.pending;if(X!==null){if(W!==null){var xe=W.next;W.next=X.next,X.next=xe}R.baseQueue=W=X,A.pending=null}if(W!==null){X=W.next,R=R.baseState;var Ue=xe=null,Qe=null,gt=X;do{var Yt=gt.lane;if((_u&Yt)===Yt)Qe!==null&&(Qe=Qe.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),R=gt.hasEagerState?gt.eagerState:p(R,gt.action);else{var Kt={lane:Yt,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};Qe===null?(Ue=Qe=Kt,xe=R):Qe=Qe.next=Kt,Ci.lanes|=Yt,Xp|=Yt}gt=gt.next}while(gt!==null&&gt!==X);Qe===null?xe=R:Qe.next=Ue,tt(R,x.memoizedState)||(xc=!0),x.memoizedState=R,x.baseState=xe,x.baseQueue=Qe,A.lastRenderedState=R}if(p=A.interleaved,p!==null){W=p;do X=W.lane,Ci.lanes|=X,Xp|=X,W=W.next;while(W!==p)}else W===null&&(A.lanes=0);return[x.memoizedState,A.dispatch]}function mh(p){var x=Vl(),A=x.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=p;var R=A.dispatch,W=A.pending,X=x.memoizedState;if(W!==null){A.pending=null;var xe=W=W.next;do X=p(X,xe.action),xe=xe.next;while(xe!==W);tt(X,x.memoizedState)||(xc=!0),x.memoizedState=X,x.baseQueue===null&&(x.baseState=X),A.lastRenderedState=X}return[X,R]}function eN(){}function Uy(p,x){var A=Ci,R=Vl(),W=x(),X=!tt(R.memoizedState,W);if(X&&(R.memoizedState=W,xc=!0),R=R.queue,R0(rN.bind(null,A,R,p),[p]),R.getSnapshot!==x||X||na!==null&&na.memoizedState.tag&1){if(A.flags|=2048,Hl(9,$y.bind(null,A,R,W,x),void 0,null),To===null)throw Error(r(349));(_u&30)!==0||tN(A,x,W)}return W}function tN(p,x,A){p.flags|=16384,p={getSnapshot:x,value:A},x=Ci.updateQueue,x===null?(x={lastEffect:null,stores:null},Ci.updateQueue=x,x.stores=[p]):(A=x.stores,A===null?x.stores=[p]:A.push(p))}function $y(p,x,A,R){x.value=A,x.getSnapshot=R,Em(x)&&O0(p)}function rN(p,x,A){return A(function(){Em(x)&&O0(p)})}function Em(p){var x=p.getSnapshot;p=p.value;try{var A=x();return!tt(p,A)}catch{return!0}}function O0(p){var x=Ks(p,1);x!==null&&gd(x,p,1,-1)}function Kp(p){var x=zc();return typeof p=="function"&&(p=p()),x.memoizedState=x.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:p},x.queue=p,p=p.dispatch=Ope.bind(null,Ci,p),[x.memoizedState,p]}function Hl(p,x,A,R){return p={tag:p,create:x,destroy:A,deps:R,next:null},x=Ci.updateQueue,x===null?(x={lastEffect:null,stores:null},Ci.updateQueue=x,x.lastEffect=p.next=p):(A=x.lastEffect,A===null?x.lastEffect=p.next=p:(R=A.next,A.next=p,p.next=R,x.lastEffect=p)),p}function hd(){return Vl().memoizedState}function qc(p,x,A,R){var W=zc();Ci.flags|=p,W.memoizedState=Hl(1|x,A,void 0,R===void 0?null:R)}function gf(p,x,A,R){var W=Vl();R=R===void 0?null:R;var X=void 0;if(ga!==null){var xe=ga.memoizedState;if(X=xe.destroy,R!==null&&P0(R,xe.deps)){W.memoizedState=Hl(x,A,X,R);return}}Ci.flags|=p,W.memoizedState=Hl(1|x,A,X,R)}function M0(p,x){return qc(8390656,8,p,x)}function R0(p,x){return gf(2048,8,p,x)}function nN(p,x){return gf(4,2,p,x)}function D0(p,x){return gf(4,4,p,x)}function L0(p,x){if(typeof x=="function")return p=p(),x(p),function(){x(null)};if(x!=null)return p=p(),x.current=p,function(){x.current=null}}function sL(p,x,A){return A=A!=null?A.concat([p]):null,gf(4,4,L0.bind(null,x,p),A)}function HC(){}function iL(p,x){var A=Vl();x=x===void 0?null:x;var R=A.memoizedState;return R!==null&&x!==null&&P0(x,R[1])?R[0]:(A.memoizedState=[p,x],p)}function aL(p,x){var A=Vl();x=x===void 0?null:x;var R=A.memoizedState;return R!==null&&x!==null&&P0(x,R[1])?R[0]:(p=p(),A.memoizedState=[p,x],p)}function oL(p,x,A){return(_u&21)===0?(p.baseState&&(p.baseState=!1,xc=!0),p.memoizedState=A):(tt(A,x)||(A=Zi(),Ci.lanes|=A,Xp|=A,p.baseState=!0),x)}function Ppe(p,x){var A=Nn;Nn=A!==0&&4>A?A:4,p(!0);var R=k0.transition;k0.transition={};try{p(!1),x()}finally{Nn=A,k0.transition=R}}function lL(){return Vl().memoizedState}function Ipe(p,x,A){var R=Im(p);if(A={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null},cL(p))uL(x,A);else if(A=Us(p,x,A,R),A!==null){var W=Gl();gd(A,p,R,W),dL(A,x,R)}}function Ope(p,x,A){var R=Im(p),W={lane:R,action:A,hasEagerState:!1,eagerState:null,next:null};if(cL(p))uL(x,W);else{var X=p.alternate;if(p.lanes===0&&(X===null||X.lanes===0)&&(X=x.lastRenderedReducer,X!==null))try{var xe=x.lastRenderedState,Ue=X(xe,A);if(W.hasEagerState=!0,W.eagerState=Ue,tt(Ue,xe)){var Qe=x.interleaved;Qe===null?(W.next=W,Ao(x)):(W.next=Qe.next,Qe.next=W),x.interleaved=W;return}}catch{}finally{}A=Us(p,x,W,R),A!==null&&(W=Gl(),gd(A,p,R,W),dL(A,x,R))}}function cL(p){var x=p.alternate;return p===Ci||x!==null&&x===Ci}function uL(p,x){dd=Am=!0;var A=p.pending;A===null?x.next=x:(x.next=A.next,A.next=x),p.pending=x}function dL(p,x,A){if((A&4194240)!==0){var R=x.lanes;R&=p.pendingLanes,A|=R,x.lanes=A,oi(p,A)}}var sN={readContext:Hi,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},Mpe={readContext:Hi,useCallback:function(p,x){return zc().memoizedState=[p,x===void 0?null:x],p},useContext:Hi,useEffect:M0,useImperativeHandle:function(p,x,A){return A=A!=null?A.concat([p]):null,qc(4194308,4,L0.bind(null,x,p),A)},useLayoutEffect:function(p,x){return qc(4194308,4,p,x)},useInsertionEffect:function(p,x){return qc(4,2,p,x)},useMemo:function(p,x){var A=zc();return x=x===void 0?null:x,p=p(),A.memoizedState=[p,x],p},useReducer:function(p,x,A){var R=zc();return x=A!==void 0?A(x):x,R.memoizedState=R.baseState=x,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:x},R.queue=p,p=p.dispatch=Ipe.bind(null,Ci,p),[R.memoizedState,p]},useRef:function(p){var x=zc();return p={current:p},x.memoizedState=p},useState:Kp,useDebugValue:HC,useDeferredValue:function(p){return zc().memoizedState=p},useTransition:function(){var p=Kp(!1),x=p[0];return p=Ppe.bind(null,p[1]),zc().memoizedState=p,[x,p]},useMutableSource:function(){},useSyncExternalStore:function(p,x,A){var R=Ci,W=zc();if(kt){if(A===void 0)throw Error(r(407));A=A()}else{if(A=x(),To===null)throw Error(r(349));(_u&30)!==0||tN(R,x,A)}W.memoizedState=A;var X={value:A,getSnapshot:x};return W.queue=X,M0(rN.bind(null,R,X,p),[p]),R.flags|=2048,Hl(9,$y.bind(null,R,X,A,x),void 0,null),A},useId:function(){var p=zc(),x=To.identifierPrefix;if(kt){var A=Re,R=at;A=(R&~(1<<32-ha(R)-1)).toString(32)+A,x=":"+x+"R"+A,A=_m++,0<A&&(x+="H"+A.toString(32)),x+=":"}else A=VC++,x=":"+x+"r"+A.toString(32)+":";return p.memoizedState=x},unstable_isNewReconciler:!1},Rpe={readContext:Hi,useCallback:iL,useContext:Hi,useEffect:R0,useImperativeHandle:sL,useInsertionEffect:nN,useLayoutEffect:D0,useMemo:aL,useReducer:I0,useRef:hd,useState:function(){return I0(Yp)},useDebugValue:HC,useDeferredValue:function(p){var x=Vl();return oL(x,ga.memoizedState,p)},useTransition:function(){var p=I0(Yp)[0],x=Vl().memoizedState;return[p,x]},useMutableSource:eN,useSyncExternalStore:Uy,useId:lL,unstable_isNewReconciler:!1},Dpe={readContext:Hi,useCallback:iL,useContext:Hi,useEffect:R0,useImperativeHandle:sL,useInsertionEffect:nN,useLayoutEffect:D0,useMemo:aL,useReducer:mh,useRef:hd,useState:function(){return mh(Yp)},useDebugValue:HC,useDeferredValue:function(p){var x=Vl();return ga===null?x.memoizedState=p:oL(x,ga.memoizedState,p)},useTransition:function(){var p=mh(Yp)[0],x=Vl().memoizedState;return[p,x]},useMutableSource:eN,useSyncExternalStore:Uy,useId:lL,unstable_isNewReconciler:!1};function fd(p,x){if(p&&p.defaultProps){x=me({},x),p=p.defaultProps;for(var A in p)x[A]===void 0&&(x[A]=p[A]);return x}return x}function WC(p,x,A,R){x=p.memoizedState,A=A(R,x),A=A==null?x:me({},x,A),p.memoizedState=A,p.lanes===0&&(p.updateQueue.baseState=A)}var iN={isMounted:function(p){return(p=p._reactInternals)?xi(p)===p:!1},enqueueSetState:function(p,x,A){p=p._reactInternals;var R=Gl(),W=Im(p),X=ea(R,W);X.payload=x,A!=null&&(X.callback=A),x=ta(p,X,W),x!==null&&(gd(x,p,W,R),_o(x,p,W))},enqueueReplaceState:function(p,x,A){p=p._reactInternals;var R=Gl(),W=Im(p),X=ea(R,W);X.tag=1,X.payload=x,A!=null&&(X.callback=A),x=ta(p,X,W),x!==null&&(gd(x,p,W,R),_o(x,p,W))},enqueueForceUpdate:function(p,x){p=p._reactInternals;var A=Gl(),R=Im(p),W=ea(A,R);W.tag=2,x!=null&&(W.callback=x),x=ta(p,W,R),x!==null&&(gd(x,p,R,A),_o(x,p,R))}};function hL(p,x,A,R,W,X,xe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,X,xe):x.prototype&&x.prototype.isPureReactComponent?!ut(A,R)||!ut(W,X):!0}function fL(p,x,A){var R=!1,W=hh,X=x.contextType;return typeof X=="object"&&X!==null?X=Hi(X):(W=vl(x)?mf:io.current,R=x.contextTypes,X=(R=R!=null)?Sm(p,W):hh),x=new x(A,X),p.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=iN,p.stateNode=x,x._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=X),x}function mL(p,x,A,R){p=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(A,R),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(A,R),x.state!==p&&iN.enqueueReplaceState(x,x.state,null)}function GC(p,x,A,R){var W=p.stateNode;W.props=A,W.state=p.memoizedState,W.refs={},ao(p);var X=x.contextType;typeof X=="object"&&X!==null?W.context=Hi(X):(X=vl(x)?mf:io.current,W.context=Sm(p,X)),W.state=p.memoizedState,X=x.getDerivedStateFromProps,typeof X=="function"&&(WC(p,x,X,A),W.state=p.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(x=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),x!==W.state&&iN.enqueueReplaceState(W,W.state,null),Eo(p,A,W,R),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}function F0(p,x){try{var A="",R=x;do A+=je(R),R=R.return;while(R);var W=A}catch(X){W=`
Error generating stack: `+X.message+`
`+X.stack}return{value:p,source:x,stack:W,digest:null}}function YC(p,x,A){return{value:p,source:null,stack:A??null,digest:x??null}}function KC(p,x){try{console.error(x.value)}catch(A){setTimeout(function(){throw A})}}var Lpe=typeof WeakMap=="function"?WeakMap:Map;function pL(p,x,A){A=ea(-1,A),A.tag=3,A.payload={element:null};var R=x.value;return A.callback=function(){hN||(hN=!0,uA=R),KC(p,x)},A}function gL(p,x,A){A=ea(-1,A),A.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var W=x.value;A.payload=function(){return R(W)},A.callback=function(){KC(p,x)}}var X=p.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(A.callback=function(){KC(p,x),typeof R!="function"&&(km===null?km=new Set([this]):km.add(this));var xe=x.stack;this.componentDidCatch(x.value,{componentStack:xe!==null?xe:""})}),A}function xL(p,x,A){var R=p.pingCache;if(R===null){R=p.pingCache=new Lpe;var W=new Set;R.set(x,W)}else W=R.get(x),W===void 0&&(W=new Set,R.set(x,W));W.has(A)||(W.add(A),p=Zpe.bind(null,p,x,A),x.then(p,p))}function yL(p){do{var x;if((x=p.tag===13)&&(x=p.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return p;p=p.return}while(p!==null);return null}function vL(p,x,A,R,W){return(p.mode&1)===0?(p===x?p.flags|=65536:(p.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(x=ea(-1,1),x.tag=2,ta(A,x,1))),A.lanes|=1),p):(p.flags|=65536,p.lanes=W,p)}var Fpe=M.ReactCurrentOwner,xc=!1;function Wl(p,x,A,R){x.child=p===null?Li(x,null,A,R):ma(x,p.child,A,R)}function bL(p,x,A,R,W){A=A.render;var X=x.ref;return Vi(x,W),R=Gp(p,x,A,R,X,W),A=Eu(),p!==null&&!xc?(x.updateQueue=p.updateQueue,x.flags&=-2053,p.lanes&=~W,xf(p,x,W)):(kt&&A&&Nt(x),x.flags|=1,Wl(p,x,R,W),x.child)}function wL(p,x,A,R,W){if(p===null){var X=A.type;return typeof X=="function"&&!xA(X)&&X.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(x.tag=15,x.type=X,NL(p,x,X,R,W)):(p=yN(A.type,null,R,x,x.mode,W),p.ref=x.ref,p.return=x,x.child=p)}if(X=p.child,(p.lanes&W)===0){var xe=X.memoizedProps;if(A=A.compare,A=A!==null?A:ut,A(xe,R)&&p.ref===x.ref)return xf(p,x,W)}return x.flags|=1,p=Mm(X,R),p.ref=x.ref,p.return=x,x.child=p}function NL(p,x,A,R,W){if(p!==null){var X=p.memoizedProps;if(ut(X,R)&&p.ref===x.ref)if(xc=!1,x.pendingProps=R=X,(p.lanes&W)!==0)(p.flags&131072)!==0&&(xc=!0);else return x.lanes=p.lanes,xf(p,x,W)}return XC(p,x,A,R,W)}function jL(p,x,A){var R=x.pendingProps,W=R.children,X=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bs(U0,Vc),Vc|=A;else{if((A&1073741824)===0)return p=X!==null?X.baseLanes|A:A,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:p,cachePool:null,transitions:null},x.updateQueue=null,Bs(U0,Vc),Vc|=p,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=X!==null?X.baseLanes:A,Bs(U0,Vc),Vc|=R}else X!==null?(R=X.baseLanes|A,x.memoizedState=null):R=A,Bs(U0,Vc),Vc|=R;return Wl(p,x,W,A),x.child}function SL(p,x){var A=x.ref;(p===null&&A!==null||p!==null&&p.ref!==A)&&(x.flags|=512,x.flags|=2097152)}function XC(p,x,A,R,W){var X=vl(A)?mf:io.current;return X=Sm(x,X),Vi(x,W),A=Gp(p,x,A,R,X,W),R=Eu(),p!==null&&!xc?(x.updateQueue=p.updateQueue,x.flags&=-2053,p.lanes&=~W,xf(p,x,W)):(kt&&R&&Nt(x),x.flags|=1,Wl(p,x,A,W),x.child)}function CL(p,x,A,R,W){if(vl(A)){var X=!0;pf(x)}else X=!1;if(Vi(x,W),x.stateNode===null)oN(p,x),fL(x,A,R),GC(x,A,R,W),R=!0;else if(p===null){var xe=x.stateNode,Ue=x.memoizedProps;xe.props=Ue;var Qe=xe.context,gt=A.contextType;typeof gt=="object"&&gt!==null?gt=Hi(gt):(gt=vl(A)?mf:io.current,gt=Sm(x,gt));var Yt=A.getDerivedStateFromProps,Kt=typeof Yt=="function"||typeof xe.getSnapshotBeforeUpdate=="function";Kt||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Ue!==R||Qe!==gt)&&mL(x,xe,R,gt),pa=!1;var Wt=x.memoizedState;xe.state=Wt,Eo(x,R,xe,W),Qe=x.memoizedState,Ue!==R||Wt!==Qe||yl.current||pa?(typeof Yt=="function"&&(WC(x,A,Yt,R),Qe=x.memoizedState),(Ue=pa||hL(x,A,Ue,R,Wt,Qe,gt))?(Kt||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount()),typeof xe.componentDidMount=="function"&&(x.flags|=4194308)):(typeof xe.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=R,x.memoizedState=Qe),xe.props=R,xe.state=Qe,xe.context=gt,R=Ue):(typeof xe.componentDidMount=="function"&&(x.flags|=4194308),R=!1)}else{xe=x.stateNode,bl(p,x),Ue=x.memoizedProps,gt=x.type===x.elementType?Ue:fd(x.type,Ue),xe.props=gt,Kt=x.pendingProps,Wt=xe.context,Qe=A.contextType,typeof Qe=="object"&&Qe!==null?Qe=Hi(Qe):(Qe=vl(A)?mf:io.current,Qe=Sm(x,Qe));var xr=A.getDerivedStateFromProps;(Yt=typeof xr=="function"||typeof xe.getSnapshotBeforeUpdate=="function")||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Ue!==Kt||Wt!==Qe)&&mL(x,xe,R,Qe),pa=!1,Wt=x.memoizedState,xe.state=Wt,Eo(x,R,xe,W);var Pr=x.memoizedState;Ue!==Kt||Wt!==Pr||yl.current||pa?(typeof xr=="function"&&(WC(x,A,xr,R),Pr=x.memoizedState),(gt=pa||hL(x,A,gt,R,Wt,Pr,Qe)||!1)?(Yt||typeof xe.UNSAFE_componentWillUpdate!="function"&&typeof xe.componentWillUpdate!="function"||(typeof xe.componentWillUpdate=="function"&&xe.componentWillUpdate(R,Pr,Qe),typeof xe.UNSAFE_componentWillUpdate=="function"&&xe.UNSAFE_componentWillUpdate(R,Pr,Qe)),typeof xe.componentDidUpdate=="function"&&(x.flags|=4),typeof xe.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof xe.componentDidUpdate!="function"||Ue===p.memoizedProps&&Wt===p.memoizedState||(x.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Ue===p.memoizedProps&&Wt===p.memoizedState||(x.flags|=1024),x.memoizedProps=R,x.memoizedState=Pr),xe.props=R,xe.state=Pr,xe.context=Qe,R=gt):(typeof xe.componentDidUpdate!="function"||Ue===p.memoizedProps&&Wt===p.memoizedState||(x.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Ue===p.memoizedProps&&Wt===p.memoizedState||(x.flags|=1024),R=!1)}return ZC(p,x,A,R,X,W)}function ZC(p,x,A,R,W,X){SL(p,x);var xe=(x.flags&128)!==0;if(!R&&!xe)return W&&Q2(x,A,!1),xf(p,x,X);R=x.stateNode,Fpe.current=x;var Ue=xe&&typeof A.getDerivedStateFromError!="function"?null:R.render();return x.flags|=1,p!==null&&xe?(x.child=ma(x,p.child,null,X),x.child=ma(x,null,Ue,X)):Wl(p,x,Ue,X),x.memoizedState=R.state,W&&Q2(x,A,!0),x.child}function AL(p){var x=p.stateNode;x.pendingContext?Z2(p,x.pendingContext,x.pendingContext!==x.context):x.context&&Z2(p,x.context,!1),Cm(p,x.containerInfo)}function _L(p,x,A,R,W){return Sr(),rr(W),x.flags|=256,Wl(p,x,A,R),x.child}var QC={dehydrated:null,treeContext:null,retryLane:0};function JC(p){return{baseLanes:p,cachePool:null,transitions:null}}function EL(p,x,A){var R=x.pendingProps,W=di.current,X=!1,xe=(x.flags&128)!==0,Ue;if((Ue=xe)||(Ue=p!==null&&p.memoizedState===null?!1:(W&2)!==0),Ue?(X=!0,x.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),Bs(di,W&1),p===null)return kr(x),p=x.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((x.mode&1)===0?x.lanes=1:p.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(xe=R.children,p=R.fallback,X?(R=x.mode,X=x.child,xe={mode:"hidden",children:xe},(R&1)===0&&X!==null?(X.childLanes=0,X.pendingProps=xe):X=vN(xe,R,0,null),p=eg(p,R,A,null),X.return=x,p.return=x,X.sibling=p,x.child=X,x.child.memoizedState=JC(A),x.memoizedState=QC,p):eA(x,xe));if(W=p.memoizedState,W!==null&&(Ue=W.dehydrated,Ue!==null))return Bpe(p,x,xe,R,Ue,W,A);if(X){X=R.fallback,xe=x.mode,W=p.child,Ue=W.sibling;var Qe={mode:"hidden",children:R.children};return(xe&1)===0&&x.child!==W?(R=x.child,R.childLanes=0,R.pendingProps=Qe,x.deletions=null):(R=Mm(W,Qe),R.subtreeFlags=W.subtreeFlags&14680064),Ue!==null?X=Mm(Ue,X):(X=eg(X,xe,A,null),X.flags|=2),X.return=x,R.return=x,R.sibling=X,x.child=R,R=X,X=x.child,xe=p.child.memoizedState,xe=xe===null?JC(A):{baseLanes:xe.baseLanes|A,cachePool:null,transitions:xe.transitions},X.memoizedState=xe,X.childLanes=p.childLanes&~A,x.memoizedState=QC,R}return X=p.child,p=X.sibling,R=Mm(X,{mode:"visible",children:R.children}),(x.mode&1)===0&&(R.lanes=A),R.return=x,R.sibling=null,p!==null&&(A=x.deletions,A===null?(x.deletions=[p],x.flags|=16):A.push(p)),x.child=R,x.memoizedState=null,R}function eA(p,x){return x=vN({mode:"visible",children:x},p.mode,0,null),x.return=p,p.child=x}function aN(p,x,A,R){return R!==null&&rr(R),ma(x,p.child,null,A),p=eA(x,x.pendingProps.children),p.flags|=2,x.memoizedState=null,p}function Bpe(p,x,A,R,W,X,xe){if(A)return x.flags&256?(x.flags&=-257,R=YC(Error(r(422))),aN(p,x,xe,R)):x.memoizedState!==null?(x.child=p.child,x.flags|=128,null):(X=R.fallback,W=x.mode,R=vN({mode:"visible",children:R.children},W,0,null),X=eg(X,W,xe,null),X.flags|=2,R.return=x,X.return=x,R.sibling=X,x.child=R,(x.mode&1)!==0&&ma(x,p.child,null,xe),x.child.memoizedState=JC(xe),x.memoizedState=QC,X);if((x.mode&1)===0)return aN(p,x,xe,null);if(W.data==="$!"){if(R=W.nextSibling&&W.nextSibling.dataset,R)var Ue=R.dgst;return R=Ue,X=Error(r(419)),R=YC(X,R,void 0),aN(p,x,xe,R)}if(Ue=(xe&p.childLanes)!==0,xc||Ue){if(R=To,R!==null){switch(xe&-xe){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(R.suspendedLanes|xe))!==0?0:W,W!==0&&W!==X.retryLane&&(X.retryLane=W,Ks(p,W),gd(R,p,W,-1))}return gA(),R=YC(Error(r(421))),aN(p,x,xe,R)}return W.data==="$?"?(x.flags|=128,x.child=p.child,x=Qpe.bind(null,p),W._reactRetry=x,null):(p=X.treeContext,bt=tl(W.nextSibling),yt=x,kt=!0,Mt=null,p!==null&&(Ae[Pe++]=at,Ae[Pe++]=Re,Ae[Pe++]=Ze,at=p.id,Re=p.overflow,Ze=x),x=eA(x,R.children),x.flags|=4096,x)}function TL(p,x,A){p.lanes|=x;var R=p.alternate;R!==null&&(R.lanes|=x),js(p.return,x,A)}function tA(p,x,A,R,W){var X=p.memoizedState;X===null?p.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:R,tail:A,tailMode:W}:(X.isBackwards=x,X.rendering=null,X.renderingStartTime=0,X.last=R,X.tail=A,X.tailMode=W)}function kL(p,x,A){var R=x.pendingProps,W=R.revealOrder,X=R.tail;if(Wl(p,x,R.children,A),R=di.current,(R&2)!==0)R=R&1|2,x.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=x.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&TL(p,A,x);else if(p.tag===19)TL(p,A,x);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===x)break e;for(;p.sibling===null;){if(p.return===null||p.return===x)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(Bs(di,R),(x.mode&1)===0)x.memoizedState=null;else switch(W){case"forwards":for(A=x.child,W=null;A!==null;)p=A.alternate,p!==null&&$c(p)===null&&(W=A),A=A.sibling;A=W,A===null?(W=x.child,x.child=null):(W=A.sibling,A.sibling=null),tA(x,!1,W,A,X);break;case"backwards":for(A=null,W=x.child,x.child=null;W!==null;){if(p=W.alternate,p!==null&&$c(p)===null){x.child=W;break}p=W.sibling,W.sibling=A,A=W,W=p}tA(x,!0,A,null,X);break;case"together":tA(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function oN(p,x){(x.mode&1)===0&&p!==null&&(p.alternate=null,x.alternate=null,x.flags|=2)}function xf(p,x,A){if(p!==null&&(x.dependencies=p.dependencies),Xp|=x.lanes,(A&x.childLanes)===0)return null;if(p!==null&&x.child!==p.child)throw Error(r(153));if(x.child!==null){for(p=x.child,A=Mm(p,p.pendingProps),x.child=A,A.return=x;p.sibling!==null;)p=p.sibling,A=A.sibling=Mm(p,p.pendingProps),A.return=x;A.sibling=null}return x.child}function Upe(p,x,A){switch(x.tag){case 3:AL(x),Sr();break;case 5:J2(x);break;case 1:vl(x.type)&&pf(x);break;case 4:Cm(x,x.stateNode.containerInfo);break;case 10:var R=x.type._context,W=x.memoizedProps.value;Bs(Aa,R._currentValue),R._currentValue=W;break;case 13:if(R=x.memoizedState,R!==null)return R.dehydrated!==null?(Bs(di,di.current&1),x.flags|=128,null):(A&x.child.childLanes)!==0?EL(p,x,A):(Bs(di,di.current&1),p=xf(p,x,A),p!==null?p.sibling:null);Bs(di,di.current&1);break;case 19:if(R=(A&x.childLanes)!==0,(p.flags&128)!==0){if(R)return kL(p,x,A);x.flags|=128}if(W=x.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Bs(di,di.current),R)break;return null;case 22:case 23:return x.lanes=0,jL(p,x,A)}return xf(p,x,A)}var PL,rA,IL,OL;PL=function(p,x){for(var A=x.child;A!==null;){if(A.tag===5||A.tag===6)p.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===x)break;for(;A.sibling===null;){if(A.return===null||A.return===x)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},rA=function(){},IL=function(p,x,A,R){var W=p.memoizedProps;if(W!==R){p=x.stateNode,ud(Ka.current);var X=null;switch(A){case"input":W=Ve(p,W),R=Ve(p,R),X=[];break;case"select":W=me({},W,{value:void 0}),R=me({},R,{value:void 0}),X=[];break;case"textarea":W=Fe(p,W),R=Fe(p,R),X=[];break;default:typeof W.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=wm)}Rr(A,R);var xe;A=null;for(gt in W)if(!R.hasOwnProperty(gt)&&W.hasOwnProperty(gt)&&W[gt]!=null)if(gt==="style"){var Ue=W[gt];for(xe in Ue)Ue.hasOwnProperty(xe)&&(A||(A={}),A[xe]="")}else gt!=="dangerouslySetInnerHTML"&&gt!=="children"&&gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&gt!=="autoFocus"&&(i.hasOwnProperty(gt)?X||(X=[]):(X=X||[]).push(gt,null));for(gt in R){var Qe=R[gt];if(Ue=W!=null?W[gt]:void 0,R.hasOwnProperty(gt)&&Qe!==Ue&&(Qe!=null||Ue!=null))if(gt==="style")if(Ue){for(xe in Ue)!Ue.hasOwnProperty(xe)||Qe&&Qe.hasOwnProperty(xe)||(A||(A={}),A[xe]="");for(xe in Qe)Qe.hasOwnProperty(xe)&&Ue[xe]!==Qe[xe]&&(A||(A={}),A[xe]=Qe[xe])}else A||(X||(X=[]),X.push(gt,A)),A=Qe;else gt==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,Ue=Ue?Ue.__html:void 0,Qe!=null&&Ue!==Qe&&(X=X||[]).push(gt,Qe)):gt==="children"?typeof Qe!="string"&&typeof Qe!="number"||(X=X||[]).push(gt,""+Qe):gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&(i.hasOwnProperty(gt)?(Qe!=null&&gt==="onScroll"&&Gs("scroll",p),X||Ue===Qe||(X=[])):(X=X||[]).push(gt,Qe))}A&&(X=X||[]).push("style",A);var gt=X;(x.updateQueue=gt)&&(x.flags|=4)}},OL=function(p,x,A,R){A!==R&&(x.flags|=4)};function zy(p,x){if(!kt)switch(p.tailMode){case"hidden":x=p.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?p.tail=null:A.sibling=null;break;case"collapsed":A=p.tail;for(var R=null;A!==null;)A.alternate!==null&&(R=A),A=A.sibling;R===null?x||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function wl(p){var x=p.alternate!==null&&p.alternate.child===p.child,A=0,R=0;if(x)for(var W=p.child;W!==null;)A|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)A|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=R,p.childLanes=A,x}function $pe(p,x,A){var R=x.pendingProps;switch(ct(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wl(x),null;case 1:return vl(x.type)&&E0(),wl(x),null;case 3:return R=x.stateNode,Au(),Is(yl),Is(io),By(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(qi(x)?x.flags|=4:p===null||p.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Mt!==null&&(fA(Mt),Mt=null))),rA(p,x),wl(x),null;case 5:Ly(x);var W=ud(fh.current);if(A=x.type,p!==null&&x.stateNode!=null)IL(p,x,A,R,W),p.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!R){if(x.stateNode===null)throw Error(r(166));return wl(x),null}if(p=ud(Ka.current),qi(x)){R=x.stateNode,A=x.type;var X=x.memoizedProps;switch(R[Cu]=x,R[Nm]=X,p=(x.mode&1)!==0,A){case"dialog":Gs("cancel",R),Gs("close",R);break;case"iframe":case"object":case"embed":Gs("load",R);break;case"video":case"audio":for(W=0;W<uh.length;W++)Gs(uh[W],R);break;case"source":Gs("error",R);break;case"img":case"image":case"link":Gs("error",R),Gs("load",R);break;case"details":Gs("toggle",R);break;case"input":Ee(R,X),Gs("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!X.multiple},Gs("invalid",R);break;case"textarea":Xe(R,X),Gs("invalid",R)}Rr(A,X),W=null;for(var xe in X)if(X.hasOwnProperty(xe)){var Ue=X[xe];xe==="children"?typeof Ue=="string"?R.textContent!==Ue&&(X.suppressHydrationWarning!==!0&&_0(R.textContent,Ue,p),W=["children",Ue]):typeof Ue=="number"&&R.textContent!==""+Ue&&(X.suppressHydrationWarning!==!0&&_0(R.textContent,Ue,p),W=["children",""+Ue]):i.hasOwnProperty(xe)&&Ue!=null&&xe==="onScroll"&&Gs("scroll",R)}switch(A){case"input":ze(R),Gt(R,X,!0);break;case"textarea":ze(R),Et(R);break;case"select":case"option":break;default:typeof X.onClick=="function"&&(R.onclick=wm)}R=W,x.updateQueue=R,R!==null&&(x.flags|=4)}else{xe=W.nodeType===9?W:W.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=vt(A)),p==="http://www.w3.org/1999/xhtml"?A==="script"?(p=xe.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=xe.createElement(A,{is:R.is}):(p=xe.createElement(A),A==="select"&&(xe=p,R.multiple?xe.multiple=!0:R.size&&(xe.size=R.size))):p=xe.createElementNS(p,A),p[Cu]=x,p[Nm]=R,PL(p,x,!1,!1),x.stateNode=p;e:{switch(xe=or(A,R),A){case"dialog":Gs("cancel",p),Gs("close",p),W=R;break;case"iframe":case"object":case"embed":Gs("load",p),W=R;break;case"video":case"audio":for(W=0;W<uh.length;W++)Gs(uh[W],p);W=R;break;case"source":Gs("error",p),W=R;break;case"img":case"image":case"link":Gs("error",p),Gs("load",p),W=R;break;case"details":Gs("toggle",p),W=R;break;case"input":Ee(p,R),W=Ve(p,R),Gs("invalid",p);break;case"option":W=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},W=me({},R,{value:void 0}),Gs("invalid",p);break;case"textarea":Xe(p,R),W=Fe(p,R),Gs("invalid",p);break;default:W=R}Rr(A,W),Ue=W;for(X in Ue)if(Ue.hasOwnProperty(X)){var Qe=Ue[X];X==="style"?pt(p,Qe):X==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,Qe!=null&&$t(p,Qe)):X==="children"?typeof Qe=="string"?(A!=="textarea"||Qe!=="")&&ur(p,Qe):typeof Qe=="number"&&ur(p,""+Qe):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?Qe!=null&&X==="onScroll"&&Gs("scroll",p):Qe!=null&&T(p,X,Qe,xe))}switch(A){case"input":ze(p),Gt(p,R,!1);break;case"textarea":ze(p),Et(p);break;case"option":R.value!=null&&p.setAttribute("value",""+de(R.value));break;case"select":p.multiple=!!R.multiple,X=R.value,X!=null?ht(p,!!R.multiple,X,!1):R.defaultValue!=null&&ht(p,!!R.multiple,R.defaultValue,!0);break;default:typeof W.onClick=="function"&&(p.onclick=wm)}switch(A){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return wl(x),null;case 6:if(p&&x.stateNode!=null)OL(p,x,p.memoizedProps,R);else{if(typeof R!="string"&&x.stateNode===null)throw Error(r(166));if(A=ud(fh.current),ud(Ka.current),qi(x)){if(R=x.stateNode,A=x.memoizedProps,R[Cu]=x,(X=R.nodeValue!==A)&&(p=yt,p!==null))switch(p.tag){case 3:_0(R.nodeValue,A,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&_0(R.nodeValue,A,(p.mode&1)!==0)}X&&(x.flags|=4)}else R=(A.nodeType===9?A:A.ownerDocument).createTextNode(R),R[Cu]=x,x.stateNode=R}return wl(x),null;case 13:if(Is(di),R=x.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(kt&&bt!==null&&(x.mode&1)!==0&&(x.flags&128)===0)_n(),Sr(),x.flags|=98560,X=!1;else if(X=qi(x),R!==null&&R.dehydrated!==null){if(p===null){if(!X)throw Error(r(318));if(X=x.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(r(317));X[Cu]=x}else Sr(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;wl(x),X=!1}else Mt!==null&&(fA(Mt),Mt=null),X=!0;if(!X)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=A,x):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(x.child.flags|=8192,(x.mode&1)!==0&&(p===null||(di.current&1)!==0?oo===0&&(oo=3):gA())),x.updateQueue!==null&&(x.flags|=4),wl(x),null);case 4:return Au(),rA(p,x),p===null&&uf(x.stateNode.containerInfo),wl(x),null;case 10:return Si(x.type._context),wl(x),null;case 17:return vl(x.type)&&E0(),wl(x),null;case 19:if(Is(di),X=x.memoizedState,X===null)return wl(x),null;if(R=(x.flags&128)!==0,xe=X.rendering,xe===null)if(R)zy(X,!1);else{if(oo!==0||p!==null&&(p.flags&128)!==0)for(p=x.child;p!==null;){if(xe=$c(p),xe!==null){for(x.flags|=128,zy(X,!1),R=xe.updateQueue,R!==null&&(x.updateQueue=R,x.flags|=4),x.subtreeFlags=0,R=A,A=x.child;A!==null;)X=A,p=R,X.flags&=14680066,xe=X.alternate,xe===null?(X.childLanes=0,X.lanes=p,X.child=null,X.subtreeFlags=0,X.memoizedProps=null,X.memoizedState=null,X.updateQueue=null,X.dependencies=null,X.stateNode=null):(X.childLanes=xe.childLanes,X.lanes=xe.lanes,X.child=xe.child,X.subtreeFlags=0,X.deletions=null,X.memoizedProps=xe.memoizedProps,X.memoizedState=xe.memoizedState,X.updateQueue=xe.updateQueue,X.type=xe.type,p=xe.dependencies,X.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),A=A.sibling;return Bs(di,di.current&1|2),x.child}p=p.sibling}X.tail!==null&&ns()>$0&&(x.flags|=128,R=!0,zy(X,!1),x.lanes=4194304)}else{if(!R)if(p=$c(xe),p!==null){if(x.flags|=128,R=!0,A=p.updateQueue,A!==null&&(x.updateQueue=A,x.flags|=4),zy(X,!0),X.tail===null&&X.tailMode==="hidden"&&!xe.alternate&&!kt)return wl(x),null}else 2*ns()-X.renderingStartTime>$0&&A!==1073741824&&(x.flags|=128,R=!0,zy(X,!1),x.lanes=4194304);X.isBackwards?(xe.sibling=x.child,x.child=xe):(A=X.last,A!==null?A.sibling=xe:x.child=xe,X.last=xe)}return X.tail!==null?(x=X.tail,X.rendering=x,X.tail=x.sibling,X.renderingStartTime=ns(),x.sibling=null,A=di.current,Bs(di,R?A&1|2:A&1),x):(wl(x),null);case 22:case 23:return pA(),R=x.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(x.flags|=8192),R&&(x.mode&1)!==0?(Vc&1073741824)!==0&&(wl(x),x.subtreeFlags&6&&(x.flags|=8192)):wl(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function zpe(p,x){switch(ct(x),x.tag){case 1:return vl(x.type)&&E0(),p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 3:return Au(),Is(yl),Is(io),By(),p=x.flags,(p&65536)!==0&&(p&128)===0?(x.flags=p&-65537|128,x):null;case 5:return Ly(x),null;case 13:if(Is(di),p=x.memoizedState,p!==null&&p.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Sr()}return p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 19:return Is(di),null;case 4:return Au(),null;case 10:return Si(x.type._context),null;case 22:case 23:return pA(),null;case 24:return null;default:return null}}var lN=!1,Nl=!1,qpe=typeof WeakSet=="function"?WeakSet:Set,_r=null;function B0(p,x){var A=p.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(R){xa(p,x,R)}else A.current=null}function nA(p,x,A){try{A()}catch(R){xa(p,x,R)}}var ML=!1;function Vpe(p,x){if(Vp=cc,p=Vr(),Jr(p)){if("selectionStart"in p)var A={start:p.selectionStart,end:p.selectionEnd};else e:{A=(A=p.ownerDocument)&&A.defaultView||window;var R=A.getSelection&&A.getSelection();if(R&&R.rangeCount!==0){A=R.anchorNode;var W=R.anchorOffset,X=R.focusNode;R=R.focusOffset;try{A.nodeType,X.nodeType}catch{A=null;break e}var xe=0,Ue=-1,Qe=-1,gt=0,Yt=0,Kt=p,Wt=null;t:for(;;){for(var xr;Kt!==A||W!==0&&Kt.nodeType!==3||(Ue=xe+W),Kt!==X||R!==0&&Kt.nodeType!==3||(Qe=xe+R),Kt.nodeType===3&&(xe+=Kt.nodeValue.length),(xr=Kt.firstChild)!==null;)Wt=Kt,Kt=xr;for(;;){if(Kt===p)break t;if(Wt===A&&++gt===W&&(Ue=xe),Wt===X&&++Yt===R&&(Qe=xe),(xr=Kt.nextSibling)!==null)break;Kt=Wt,Wt=Kt.parentNode}Kt=xr}A=Ue===-1||Qe===-1?null:{start:Ue,end:Qe}}else A=null}A=A||{start:0,end:0}}else A=null;for(hf={focusedElem:p,selectionRange:A},cc=!1,_r=x;_r!==null;)if(x=_r,p=x.child,(x.subtreeFlags&1028)!==0&&p!==null)p.return=x,_r=p;else for(;_r!==null;){x=_r;try{var Pr=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Pr!==null){var Dr=Pr.memoizedProps,Ea=Pr.memoizedState,lt=x.stateNode,et=lt.getSnapshotBeforeUpdate(x.elementType===x.type?Dr:fd(x.type,Dr),Ea);lt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var dt=x.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qt){xa(x,x.return,Qt)}if(p=x.sibling,p!==null){p.return=x.return,_r=p;break}_r=x.return}return Pr=ML,ML=!1,Pr}function qy(p,x,A){var R=x.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&p)===p){var X=W.destroy;W.destroy=void 0,X!==void 0&&nA(x,A,X)}W=W.next}while(W!==R)}}function cN(p,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&p)===p){var R=A.create;A.destroy=R()}A=A.next}while(A!==x)}}function sA(p){var x=p.ref;if(x!==null){var A=p.stateNode;switch(p.tag){case 5:p=A;break;default:p=A}typeof x=="function"?x(p):x.current=p}}function RL(p){var x=p.alternate;x!==null&&(p.alternate=null,RL(x)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(x=p.stateNode,x!==null&&(delete x[Cu],delete x[Nm],delete x[xl],delete x[zC],delete x[qC])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function DL(p){return p.tag===5||p.tag===3||p.tag===4}function LL(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||DL(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function iA(p,x,A){var R=p.tag;if(R===5||R===6)p=p.stateNode,x?A.nodeType===8?A.parentNode.insertBefore(p,x):A.insertBefore(p,x):(A.nodeType===8?(x=A.parentNode,x.insertBefore(p,A)):(x=A,x.appendChild(p)),A=A._reactRootContainer,A!=null||x.onclick!==null||(x.onclick=wm));else if(R!==4&&(p=p.child,p!==null))for(iA(p,x,A),p=p.sibling;p!==null;)iA(p,x,A),p=p.sibling}function aA(p,x,A){var R=p.tag;if(R===5||R===6)p=p.stateNode,x?A.insertBefore(p,x):A.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(aA(p,x,A),p=p.sibling;p!==null;)aA(p,x,A),p=p.sibling}var rl=null,md=!1;function Tm(p,x,A){for(A=A.child;A!==null;)FL(p,x,A),A=A.sibling}function FL(p,x,A){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount($n,A)}catch{}switch(A.tag){case 5:Nl||B0(A,x);case 6:var R=rl,W=md;rl=null,Tm(p,x,A),rl=R,md=W,rl!==null&&(md?(p=rl,A=A.stateNode,p.nodeType===8?p.parentNode.removeChild(A):p.removeChild(A)):rl.removeChild(A.stateNode));break;case 18:rl!==null&&(md?(p=rl,A=A.stateNode,p.nodeType===8?My(p.parentNode,A):p.nodeType===1&&My(p,A),No(p)):My(rl,A.stateNode));break;case 4:R=rl,W=md,rl=A.stateNode.containerInfo,md=!0,Tm(p,x,A),rl=R,md=W;break;case 0:case 11:case 14:case 15:if(!Nl&&(R=A.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){W=R=R.next;do{var X=W,xe=X.destroy;X=X.tag,xe!==void 0&&((X&2)!==0||(X&4)!==0)&&nA(A,x,xe),W=W.next}while(W!==R)}Tm(p,x,A);break;case 1:if(!Nl&&(B0(A,x),R=A.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=A.memoizedProps,R.state=A.memoizedState,R.componentWillUnmount()}catch(Ue){xa(A,x,Ue)}Tm(p,x,A);break;case 21:Tm(p,x,A);break;case 22:A.mode&1?(Nl=(R=Nl)||A.memoizedState!==null,Tm(p,x,A),Nl=R):Tm(p,x,A);break;default:Tm(p,x,A)}}function BL(p){var x=p.updateQueue;if(x!==null){p.updateQueue=null;var A=p.stateNode;A===null&&(A=p.stateNode=new qpe),x.forEach(function(R){var W=Jpe.bind(null,p,R);A.has(R)||(A.add(R),R.then(W,W))})}}function pd(p,x){var A=x.deletions;if(A!==null)for(var R=0;R<A.length;R++){var W=A[R];try{var X=p,xe=x,Ue=xe;e:for(;Ue!==null;){switch(Ue.tag){case 5:rl=Ue.stateNode,md=!1;break e;case 3:rl=Ue.stateNode.containerInfo,md=!0;break e;case 4:rl=Ue.stateNode.containerInfo,md=!0;break e}Ue=Ue.return}if(rl===null)throw Error(r(160));FL(X,xe,W),rl=null,md=!1;var Qe=W.alternate;Qe!==null&&(Qe.return=null),W.return=null}catch(gt){xa(W,x,gt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)UL(x,p),x=x.sibling}function UL(p,x){var A=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(pd(x,p),ph(p),R&4){try{qy(3,p,p.return),cN(3,p)}catch(Dr){xa(p,p.return,Dr)}try{qy(5,p,p.return)}catch(Dr){xa(p,p.return,Dr)}}break;case 1:pd(x,p),ph(p),R&512&&A!==null&&B0(A,A.return);break;case 5:if(pd(x,p),ph(p),R&512&&A!==null&&B0(A,A.return),p.flags&32){var W=p.stateNode;try{ur(W,"")}catch(Dr){xa(p,p.return,Dr)}}if(R&4&&(W=p.stateNode,W!=null)){var X=p.memoizedProps,xe=A!==null?A.memoizedProps:X,Ue=p.type,Qe=p.updateQueue;if(p.updateQueue=null,Qe!==null)try{Ue==="input"&&X.type==="radio"&&X.name!=null&&sr(W,X),or(Ue,xe);var gt=or(Ue,X);for(xe=0;xe<Qe.length;xe+=2){var Yt=Qe[xe],Kt=Qe[xe+1];Yt==="style"?pt(W,Kt):Yt==="dangerouslySetInnerHTML"?$t(W,Kt):Yt==="children"?ur(W,Kt):T(W,Yt,Kt,gt)}switch(Ue){case"input":Zt(W,X);break;case"textarea":ot(W,X);break;case"select":var Wt=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!X.multiple;var xr=X.value;xr!=null?ht(W,!!X.multiple,xr,!1):Wt!==!!X.multiple&&(X.defaultValue!=null?ht(W,!!X.multiple,X.defaultValue,!0):ht(W,!!X.multiple,X.multiple?[]:"",!1))}W[Nm]=X}catch(Dr){xa(p,p.return,Dr)}}break;case 6:if(pd(x,p),ph(p),R&4){if(p.stateNode===null)throw Error(r(162));W=p.stateNode,X=p.memoizedProps;try{W.nodeValue=X}catch(Dr){xa(p,p.return,Dr)}}break;case 3:if(pd(x,p),ph(p),R&4&&A!==null&&A.memoizedState.isDehydrated)try{No(x.containerInfo)}catch(Dr){xa(p,p.return,Dr)}break;case 4:pd(x,p),ph(p);break;case 13:pd(x,p),ph(p),W=p.child,W.flags&8192&&(X=W.memoizedState!==null,W.stateNode.isHidden=X,!X||W.alternate!==null&&W.alternate.memoizedState!==null||(cA=ns())),R&4&&BL(p);break;case 22:if(Yt=A!==null&&A.memoizedState!==null,p.mode&1?(Nl=(gt=Nl)||Yt,pd(x,p),Nl=gt):pd(x,p),ph(p),R&8192){if(gt=p.memoizedState!==null,(p.stateNode.isHidden=gt)&&!Yt&&(p.mode&1)!==0)for(_r=p,Yt=p.child;Yt!==null;){for(Kt=_r=Yt;_r!==null;){switch(Wt=_r,xr=Wt.child,Wt.tag){case 0:case 11:case 14:case 15:qy(4,Wt,Wt.return);break;case 1:B0(Wt,Wt.return);var Pr=Wt.stateNode;if(typeof Pr.componentWillUnmount=="function"){R=Wt,A=Wt.return;try{x=R,Pr.props=x.memoizedProps,Pr.state=x.memoizedState,Pr.componentWillUnmount()}catch(Dr){xa(R,A,Dr)}}break;case 5:B0(Wt,Wt.return);break;case 22:if(Wt.memoizedState!==null){qL(Kt);continue}}xr!==null?(xr.return=Wt,_r=xr):qL(Kt)}Yt=Yt.sibling}e:for(Yt=null,Kt=p;;){if(Kt.tag===5){if(Yt===null){Yt=Kt;try{W=Kt.stateNode,gt?(X=W.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none"):(Ue=Kt.stateNode,Qe=Kt.memoizedProps.style,xe=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null,Ue.style.display=qr("display",xe))}catch(Dr){xa(p,p.return,Dr)}}}else if(Kt.tag===6){if(Yt===null)try{Kt.stateNode.nodeValue=gt?"":Kt.memoizedProps}catch(Dr){xa(p,p.return,Dr)}}else if((Kt.tag!==22&&Kt.tag!==23||Kt.memoizedState===null||Kt===p)&&Kt.child!==null){Kt.child.return=Kt,Kt=Kt.child;continue}if(Kt===p)break e;for(;Kt.sibling===null;){if(Kt.return===null||Kt.return===p)break e;Yt===Kt&&(Yt=null),Kt=Kt.return}Yt===Kt&&(Yt=null),Kt.sibling.return=Kt.return,Kt=Kt.sibling}}break;case 19:pd(x,p),ph(p),R&4&&BL(p);break;case 21:break;default:pd(x,p),ph(p)}}function ph(p){var x=p.flags;if(x&2){try{e:{for(var A=p.return;A!==null;){if(DL(A)){var R=A;break e}A=A.return}throw Error(r(160))}switch(R.tag){case 5:var W=R.stateNode;R.flags&32&&(ur(W,""),R.flags&=-33);var X=LL(p);aA(p,X,W);break;case 3:case 4:var xe=R.stateNode.containerInfo,Ue=LL(p);iA(p,Ue,xe);break;default:throw Error(r(161))}}catch(Qe){xa(p,p.return,Qe)}p.flags&=-3}x&4096&&(p.flags&=-4097)}function Hpe(p,x,A){_r=p,$L(p)}function $L(p,x,A){for(var R=(p.mode&1)!==0;_r!==null;){var W=_r,X=W.child;if(W.tag===22&&R){var xe=W.memoizedState!==null||lN;if(!xe){var Ue=W.alternate,Qe=Ue!==null&&Ue.memoizedState!==null||Nl;Ue=lN;var gt=Nl;if(lN=xe,(Nl=Qe)&&!gt)for(_r=W;_r!==null;)xe=_r,Qe=xe.child,xe.tag===22&&xe.memoizedState!==null?VL(W):Qe!==null?(Qe.return=xe,_r=Qe):VL(W);for(;X!==null;)_r=X,$L(X),X=X.sibling;_r=W,lN=Ue,Nl=gt}zL(p)}else(W.subtreeFlags&8772)!==0&&X!==null?(X.return=W,_r=X):zL(p)}}function zL(p){for(;_r!==null;){var x=_r;if((x.flags&8772)!==0){var A=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:Nl||cN(5,x);break;case 1:var R=x.stateNode;if(x.flags&4&&!Nl)if(A===null)R.componentDidMount();else{var W=x.elementType===x.type?A.memoizedProps:fd(x.type,A.memoizedProps);R.componentDidUpdate(W,A.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var X=x.updateQueue;X!==null&&gc(x,X,R);break;case 3:var xe=x.updateQueue;if(xe!==null){if(A=null,x.child!==null)switch(x.child.tag){case 5:A=x.child.stateNode;break;case 1:A=x.child.stateNode}gc(x,xe,A)}break;case 5:var Ue=x.stateNode;if(A===null&&x.flags&4){A=Ue;var Qe=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Qe.autoFocus&&A.focus();break;case"img":Qe.src&&(A.src=Qe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var gt=x.alternate;if(gt!==null){var Yt=gt.memoizedState;if(Yt!==null){var Kt=Yt.dehydrated;Kt!==null&&No(Kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Nl||x.flags&512&&sA(x)}catch(Wt){xa(x,x.return,Wt)}}if(x===p){_r=null;break}if(A=x.sibling,A!==null){A.return=x.return,_r=A;break}_r=x.return}}function qL(p){for(;_r!==null;){var x=_r;if(x===p){_r=null;break}var A=x.sibling;if(A!==null){A.return=x.return,_r=A;break}_r=x.return}}function VL(p){for(;_r!==null;){var x=_r;try{switch(x.tag){case 0:case 11:case 15:var A=x.return;try{cN(4,x)}catch(Qe){xa(x,A,Qe)}break;case 1:var R=x.stateNode;if(typeof R.componentDidMount=="function"){var W=x.return;try{R.componentDidMount()}catch(Qe){xa(x,W,Qe)}}var X=x.return;try{sA(x)}catch(Qe){xa(x,X,Qe)}break;case 5:var xe=x.return;try{sA(x)}catch(Qe){xa(x,xe,Qe)}}}catch(Qe){xa(x,x.return,Qe)}if(x===p){_r=null;break}var Ue=x.sibling;if(Ue!==null){Ue.return=x.return,_r=Ue;break}_r=x.return}}var Wpe=Math.ceil,uN=M.ReactCurrentDispatcher,oA=M.ReactCurrentOwner,Tu=M.ReactCurrentBatchConfig,Ss=0,To=null,Xa=null,nl=0,Vc=0,U0=Bc(0),oo=0,Vy=null,Xp=0,dN=0,lA=0,Hy=null,yc=null,cA=0,$0=1/0,yf=null,hN=!1,uA=null,km=null,fN=!1,Pm=null,mN=0,Wy=0,dA=null,pN=-1,gN=0;function Gl(){return(Ss&6)!==0?ns():pN!==-1?pN:pN=ns()}function Im(p){return(p.mode&1)===0?1:(Ss&2)!==0&&nl!==0?nl&-nl:Ji.transition!==null?(gN===0&&(gN=Zi()),gN):(p=Nn,p!==0||(p=window.event,p=p===void 0?16:xu(p.type)),p)}function gd(p,x,A,R){if(50<Wy)throw Wy=0,dA=null,Error(r(185));ke(p,A,R),((Ss&2)===0||p!==To)&&(p===To&&((Ss&2)===0&&(dN|=A),oo===4&&Om(p,nl)),vc(p,R),A===1&&Ss===0&&(x.mode&1)===0&&($0=ns()+500,Wp&&ee()))}function vc(p,x){var A=p.callbackNode;Ls(p,x);var R=Oi(p,p===To?nl:0);if(R===0)A!==null&&Ii(A),p.callbackNode=null,p.callbackPriority=0;else if(x=R&-R,p.callbackPriority!==x){if(A!=null&&Ii(A),x===1)p.tag===0?Y(WL.bind(null,p)):D(WL.bind(null,p)),UC(function(){(Ss&6)===0&&ee()}),A=null;else{switch(Ic(R)){case 1:A=Dt;break;case 4:A=Wo;break;case 16:A=vs;break;case 536870912:A=oh;break;default:A=vs}A=e7(A,HL.bind(null,p))}p.callbackPriority=x,p.callbackNode=A}}function HL(p,x){if(pN=-1,gN=0,(Ss&6)!==0)throw Error(r(327));var A=p.callbackNode;if(z0()&&p.callbackNode!==A)return null;var R=Oi(p,p===To?nl:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||x)x=xN(p,R);else{x=R;var W=Ss;Ss|=2;var X=YL();(To!==p||nl!==x)&&(yf=null,$0=ns()+500,Qp(p,x));do try{Kpe();break}catch(Ue){GL(p,Ue)}while(!0);Ns(),uN.current=X,Ss=W,Xa!==null?x=0:(To=null,nl=0,x=oo)}if(x!==0){if(x===2&&(W=ss(p),W!==0&&(R=W,x=hA(p,W))),x===1)throw A=Vy,Qp(p,0),Om(p,R),vc(p,ns()),A;if(x===6)Om(p,R);else{if(W=p.current.alternate,(R&30)===0&&!Gpe(W)&&(x=xN(p,R),x===2&&(X=ss(p),X!==0&&(R=X,x=hA(p,X))),x===1))throw A=Vy,Qp(p,0),Om(p,R),vc(p,ns()),A;switch(p.finishedWork=W,p.finishedLanes=R,x){case 0:case 1:throw Error(r(345));case 2:Jp(p,yc,yf);break;case 3:if(Om(p,R),(R&130023424)===R&&(x=cA+500-ns(),10<x)){if(Oi(p,0)!==0)break;if(W=p.suspendedLanes,(W&R)!==R){Gl(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=Oy(Jp.bind(null,p,yc,yf),x);break}Jp(p,yc,yf);break;case 4:if(Om(p,R),(R&4194240)===R)break;for(x=p.eventTimes,W=-1;0<R;){var xe=31-ha(R);X=1<<xe,xe=x[xe],xe>W&&(W=xe),R&=~X}if(R=W,R=ns()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Wpe(R/1960))-R,10<R){p.timeoutHandle=Oy(Jp.bind(null,p,yc,yf),R);break}Jp(p,yc,yf);break;case 5:Jp(p,yc,yf);break;default:throw Error(r(329))}}}return vc(p,ns()),p.callbackNode===A?HL.bind(null,p):null}function hA(p,x){var A=Hy;return p.current.memoizedState.isDehydrated&&(Qp(p,x).flags|=256),p=xN(p,x),p!==2&&(x=yc,yc=A,x!==null&&fA(x)),p}function fA(p){yc===null?yc=p:yc.push.apply(yc,p)}function Gpe(p){for(var x=p;;){if(x.flags&16384){var A=x.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var R=0;R<A.length;R++){var W=A[R],X=W.getSnapshot;W=W.value;try{if(!tt(X(),W))return!1}catch{return!1}}}if(A=x.child,x.subtreeFlags&16384&&A!==null)A.return=x,x=A;else{if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Om(p,x){for(x&=~lA,x&=~dN,p.suspendedLanes|=x,p.pingedLanes&=~x,p=p.expirationTimes;0<x;){var A=31-ha(x),R=1<<A;p[A]=-1,x&=~R}}function WL(p){if((Ss&6)!==0)throw Error(r(327));z0();var x=Oi(p,0);if((x&1)===0)return vc(p,ns()),null;var A=xN(p,x);if(p.tag!==0&&A===2){var R=ss(p);R!==0&&(x=R,A=hA(p,R))}if(A===1)throw A=Vy,Qp(p,0),Om(p,x),vc(p,ns()),A;if(A===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=x,Jp(p,yc,yf),vc(p,ns()),null}function mA(p,x){var A=Ss;Ss|=1;try{return p(x)}finally{Ss=A,Ss===0&&($0=ns()+500,Wp&&ee())}}function Zp(p){Pm!==null&&Pm.tag===0&&(Ss&6)===0&&z0();var x=Ss;Ss|=1;var A=Tu.transition,R=Nn;try{if(Tu.transition=null,Nn=1,p)return p()}finally{Nn=R,Tu.transition=A,Ss=x,(Ss&6)===0&&ee()}}function pA(){Vc=U0.current,Is(U0)}function Qp(p,x){p.finishedWork=null,p.finishedLanes=0;var A=p.timeoutHandle;if(A!==-1&&(p.timeoutHandle=-1,K2(A)),Xa!==null)for(A=Xa.return;A!==null;){var R=A;switch(ct(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&E0();break;case 3:Au(),Is(yl),Is(io),By();break;case 5:Ly(R);break;case 4:Au();break;case 13:Is(di);break;case 19:Is(di);break;case 10:Si(R.type._context);break;case 22:case 23:pA()}A=A.return}if(To=p,Xa=p=Mm(p.current,null),nl=Vc=x,oo=0,Vy=null,lA=dN=Xp=0,yc=Hy=null,Ys!==null){for(x=0;x<Ys.length;x++)if(A=Ys[x],R=A.interleaved,R!==null){A.interleaved=null;var W=R.next,X=A.pending;if(X!==null){var xe=X.next;X.next=W,R.next=xe}A.pending=R}Ys=null}return p}function GL(p,x){do{var A=Xa;try{if(Ns(),T0.current=sN,Am){for(var R=Ci.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}Am=!1}if(_u=0,na=ga=Ci=null,dd=!1,_m=0,oA.current=null,A===null||A.return===null){oo=1,Vy=x,Xa=null;break}e:{var X=p,xe=A.return,Ue=A,Qe=x;if(x=nl,Ue.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var gt=Qe,Yt=Ue,Kt=Yt.tag;if((Yt.mode&1)===0&&(Kt===0||Kt===11||Kt===15)){var Wt=Yt.alternate;Wt?(Yt.updateQueue=Wt.updateQueue,Yt.memoizedState=Wt.memoizedState,Yt.lanes=Wt.lanes):(Yt.updateQueue=null,Yt.memoizedState=null)}var xr=yL(xe);if(xr!==null){xr.flags&=-257,vL(xr,xe,Ue,X,x),xr.mode&1&&xL(X,gt,x),x=xr,Qe=gt;var Pr=x.updateQueue;if(Pr===null){var Dr=new Set;Dr.add(Qe),x.updateQueue=Dr}else Pr.add(Qe);break e}else{if((x&1)===0){xL(X,gt,x),gA();break e}Qe=Error(r(426))}}else if(kt&&Ue.mode&1){var Ea=yL(xe);if(Ea!==null){(Ea.flags&65536)===0&&(Ea.flags|=256),vL(Ea,xe,Ue,X,x),rr(F0(Qe,Ue));break e}}X=Qe=F0(Qe,Ue),oo!==4&&(oo=2),Hy===null?Hy=[X]:Hy.push(X),X=xe;do{switch(X.tag){case 3:X.flags|=65536,x&=-x,X.lanes|=x;var lt=pL(X,Qe,x);Xs(X,lt);break e;case 1:Ue=Qe;var et=X.type,dt=X.stateNode;if((X.flags&128)===0&&(typeof et.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(km===null||!km.has(dt)))){X.flags|=65536,x&=-x,X.lanes|=x;var Qt=gL(X,Ue,x);Xs(X,Qt);break e}}X=X.return}while(X!==null)}XL(A)}catch(Ur){x=Ur,Xa===A&&A!==null&&(Xa=A=A.return);continue}break}while(!0)}function YL(){var p=uN.current;return uN.current=sN,p===null?sN:p}function gA(){(oo===0||oo===3||oo===2)&&(oo=4),To===null||(Xp&268435455)===0&&(dN&268435455)===0||Om(To,nl)}function xN(p,x){var A=Ss;Ss|=2;var R=YL();(To!==p||nl!==x)&&(yf=null,Qp(p,x));do try{Ype();break}catch(W){GL(p,W)}while(!0);if(Ns(),Ss=A,uN.current=R,Xa!==null)throw Error(r(261));return To=null,nl=0,oo}function Ype(){for(;Xa!==null;)KL(Xa)}function Kpe(){for(;Xa!==null&&!ys();)KL(Xa)}function KL(p){var x=JL(p.alternate,p,Vc);p.memoizedProps=p.pendingProps,x===null?XL(p):Xa=x,oA.current=null}function XL(p){var x=p;do{var A=x.alternate;if(p=x.return,(x.flags&32768)===0){if(A=$pe(A,x,Vc),A!==null){Xa=A;return}}else{if(A=zpe(A,x),A!==null){A.flags&=32767,Xa=A;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{oo=6,Xa=null;return}}if(x=x.sibling,x!==null){Xa=x;return}Xa=x=p}while(x!==null);oo===0&&(oo=5)}function Jp(p,x,A){var R=Nn,W=Tu.transition;try{Tu.transition=null,Nn=1,Xpe(p,x,A,R)}finally{Tu.transition=W,Nn=R}return null}function Xpe(p,x,A,R){do z0();while(Pm!==null);if((Ss&6)!==0)throw Error(r(327));A=p.finishedWork;var W=p.finishedLanes;if(A===null)return null;if(p.finishedWork=null,p.finishedLanes=0,A===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var X=A.lanes|A.childLanes;if(vr(p,X),p===To&&(Xa=To=null,nl=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||fN||(fN=!0,e7(vs,function(){return z0(),null})),X=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||X){X=Tu.transition,Tu.transition=null;var xe=Nn;Nn=1;var Ue=Ss;Ss|=4,oA.current=null,Vpe(p,A),UL(A,p),fa(hf),cc=!!Vp,hf=Vp=null,p.current=A,Hpe(A),gm(),Ss=Ue,Nn=xe,Tu.transition=X}else p.current=A;if(fN&&(fN=!1,Pm=p,mN=W),X=p.pendingLanes,X===0&&(km=null),Dn(A.stateNode),vc(p,ns()),x!==null)for(R=p.onRecoverableError,A=0;A<x.length;A++)W=x[A],R(W.value,{componentStack:W.stack,digest:W.digest});if(hN)throw hN=!1,p=uA,uA=null,p;return(mN&1)!==0&&p.tag!==0&&z0(),X=p.pendingLanes,(X&1)!==0?p===dA?Wy++:(Wy=0,dA=p):Wy=0,ee(),null}function z0(){if(Pm!==null){var p=Ic(mN),x=Tu.transition,A=Nn;try{if(Tu.transition=null,Nn=16>p?16:p,Pm===null)var R=!1;else{if(p=Pm,Pm=null,mN=0,(Ss&6)!==0)throw Error(r(331));var W=Ss;for(Ss|=4,_r=p.current;_r!==null;){var X=_r,xe=X.child;if((_r.flags&16)!==0){var Ue=X.deletions;if(Ue!==null){for(var Qe=0;Qe<Ue.length;Qe++){var gt=Ue[Qe];for(_r=gt;_r!==null;){var Yt=_r;switch(Yt.tag){case 0:case 11:case 15:qy(8,Yt,X)}var Kt=Yt.child;if(Kt!==null)Kt.return=Yt,_r=Kt;else for(;_r!==null;){Yt=_r;var Wt=Yt.sibling,xr=Yt.return;if(RL(Yt),Yt===gt){_r=null;break}if(Wt!==null){Wt.return=xr,_r=Wt;break}_r=xr}}}var Pr=X.alternate;if(Pr!==null){var Dr=Pr.child;if(Dr!==null){Pr.child=null;do{var Ea=Dr.sibling;Dr.sibling=null,Dr=Ea}while(Dr!==null)}}_r=X}}if((X.subtreeFlags&2064)!==0&&xe!==null)xe.return=X,_r=xe;else e:for(;_r!==null;){if(X=_r,(X.flags&2048)!==0)switch(X.tag){case 0:case 11:case 15:qy(9,X,X.return)}var lt=X.sibling;if(lt!==null){lt.return=X.return,_r=lt;break e}_r=X.return}}var et=p.current;for(_r=et;_r!==null;){xe=_r;var dt=xe.child;if((xe.subtreeFlags&2064)!==0&&dt!==null)dt.return=xe,_r=dt;else e:for(xe=et;_r!==null;){if(Ue=_r,(Ue.flags&2048)!==0)try{switch(Ue.tag){case 0:case 11:case 15:cN(9,Ue)}}catch(Ur){xa(Ue,Ue.return,Ur)}if(Ue===xe){_r=null;break e}var Qt=Ue.sibling;if(Qt!==null){Qt.return=Ue.return,_r=Qt;break e}_r=Ue.return}}if(Ss=W,ee(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot($n,p)}catch{}R=!0}return R}finally{Nn=A,Tu.transition=x}}return!1}function ZL(p,x,A){x=F0(A,x),x=pL(p,x,1),p=ta(p,x,1),x=Gl(),p!==null&&(ke(p,1,x),vc(p,x))}function xa(p,x,A){if(p.tag===3)ZL(p,p,A);else for(;x!==null;){if(x.tag===3){ZL(x,p,A);break}else if(x.tag===1){var R=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(km===null||!km.has(R))){p=F0(A,p),p=gL(x,p,1),x=ta(x,p,1),p=Gl(),x!==null&&(ke(x,1,p),vc(x,p));break}}x=x.return}}function Zpe(p,x,A){var R=p.pingCache;R!==null&&R.delete(x),x=Gl(),p.pingedLanes|=p.suspendedLanes&A,To===p&&(nl&A)===A&&(oo===4||oo===3&&(nl&130023424)===nl&&500>ns()-cA?Qp(p,0):lA|=A),vc(p,x)}function QL(p,x){x===0&&((p.mode&1)===0?x=1:(x=dl,dl<<=1,(dl&130023424)===0&&(dl=4194304)));var A=Gl();p=Ks(p,x),p!==null&&(ke(p,x,A),vc(p,A))}function Qpe(p){var x=p.memoizedState,A=0;x!==null&&(A=x.retryLane),QL(p,A)}function Jpe(p,x){var A=0;switch(p.tag){case 13:var R=p.stateNode,W=p.memoizedState;W!==null&&(A=W.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(x),QL(p,A)}var JL;JL=function(p,x,A){if(p!==null)if(p.memoizedProps!==x.pendingProps||yl.current)xc=!0;else{if((p.lanes&A)===0&&(x.flags&128)===0)return xc=!1,Upe(p,x,A);xc=(p.flags&131072)!==0}else xc=!1,kt&&(x.flags&1048576)!==0&&st(x,Se,x.index);switch(x.lanes=0,x.tag){case 2:var R=x.type;oN(p,x),p=x.pendingProps;var W=Sm(x,io.current);Vi(x,A),W=Gp(null,x,R,p,W,A);var X=Eu();return x.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,vl(R)?(X=!0,pf(x)):X=!1,x.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,ao(x),W.updater=iN,x.stateNode=W,W._reactInternals=x,GC(x,R,p,A),x=ZC(null,x,R,!0,X,A)):(x.tag=0,kt&&X&&Nt(x),Wl(null,x,W,A),x=x.child),x;case 16:R=x.elementType;e:{switch(oN(p,x),p=x.pendingProps,W=R._init,R=W(R._payload),x.type=R,W=x.tag=tge(R),p=fd(R,p),W){case 0:x=XC(null,x,R,p,A);break e;case 1:x=CL(null,x,R,p,A);break e;case 11:x=bL(null,x,R,p,A);break e;case 14:x=wL(null,x,R,fd(R.type,p),A);break e}throw Error(r(306,R,""))}return x;case 0:return R=x.type,W=x.pendingProps,W=x.elementType===R?W:fd(R,W),XC(p,x,R,W,A);case 1:return R=x.type,W=x.pendingProps,W=x.elementType===R?W:fd(R,W),CL(p,x,R,W,A);case 3:e:{if(AL(x),p===null)throw Error(r(387));R=x.pendingProps,X=x.memoizedState,W=X.element,bl(p,x),Eo(x,R,null,A);var xe=x.memoizedState;if(R=xe.element,X.isDehydrated)if(X={element:R,isDehydrated:!1,cache:xe.cache,pendingSuspenseBoundaries:xe.pendingSuspenseBoundaries,transitions:xe.transitions},x.updateQueue.baseState=X,x.memoizedState=X,x.flags&256){W=F0(Error(r(423)),x),x=_L(p,x,R,A,W);break e}else if(R!==W){W=F0(Error(r(424)),x),x=_L(p,x,R,A,W);break e}else for(bt=tl(x.stateNode.containerInfo.firstChild),yt=x,kt=!0,Mt=null,A=Li(x,null,R,A),x.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Sr(),R===W){x=xf(p,x,A);break e}Wl(p,x,R,A)}x=x.child}return x;case 5:return J2(x),p===null&&kr(x),R=x.type,W=x.pendingProps,X=p!==null?p.memoizedProps:null,xe=W.children,Iy(R,W)?xe=null:X!==null&&Iy(R,X)&&(x.flags|=32),SL(p,x),Wl(p,x,xe,A),x.child;case 6:return p===null&&kr(x),null;case 13:return EL(p,x,A);case 4:return Cm(x,x.stateNode.containerInfo),R=x.pendingProps,p===null?x.child=ma(x,null,R,A):Wl(p,x,R,A),x.child;case 11:return R=x.type,W=x.pendingProps,W=x.elementType===R?W:fd(R,W),bL(p,x,R,W,A);case 7:return Wl(p,x,x.pendingProps,A),x.child;case 8:return Wl(p,x,x.pendingProps.children,A),x.child;case 12:return Wl(p,x,x.pendingProps.children,A),x.child;case 10:e:{if(R=x.type._context,W=x.pendingProps,X=x.memoizedProps,xe=W.value,Bs(Aa,R._currentValue),R._currentValue=xe,X!==null)if(tt(X.value,xe)){if(X.children===W.children&&!yl.current){x=xf(p,x,A);break e}}else for(X=x.child,X!==null&&(X.return=x);X!==null;){var Ue=X.dependencies;if(Ue!==null){xe=X.child;for(var Qe=Ue.firstContext;Qe!==null;){if(Qe.context===R){if(X.tag===1){Qe=ea(-1,A&-A),Qe.tag=2;var gt=X.updateQueue;if(gt!==null){gt=gt.shared;var Yt=gt.pending;Yt===null?Qe.next=Qe:(Qe.next=Yt.next,Yt.next=Qe),gt.pending=Qe}}X.lanes|=A,Qe=X.alternate,Qe!==null&&(Qe.lanes|=A),js(X.return,A,x),Ue.lanes|=A;break}Qe=Qe.next}}else if(X.tag===10)xe=X.type===x.type?null:X.child;else if(X.tag===18){if(xe=X.return,xe===null)throw Error(r(341));xe.lanes|=A,Ue=xe.alternate,Ue!==null&&(Ue.lanes|=A),js(xe,A,x),xe=X.sibling}else xe=X.child;if(xe!==null)xe.return=X;else for(xe=X;xe!==null;){if(xe===x){xe=null;break}if(X=xe.sibling,X!==null){X.return=xe.return,xe=X;break}xe=xe.return}X=xe}Wl(p,x,W.children,A),x=x.child}return x;case 9:return W=x.type,R=x.pendingProps.children,Vi(x,A),W=Hi(W),R=R(W),x.flags|=1,Wl(p,x,R,A),x.child;case 14:return R=x.type,W=fd(R,x.pendingProps),W=fd(R.type,W),wL(p,x,R,W,A);case 15:return NL(p,x,x.type,x.pendingProps,A);case 17:return R=x.type,W=x.pendingProps,W=x.elementType===R?W:fd(R,W),oN(p,x),x.tag=1,vl(R)?(p=!0,pf(x)):p=!1,Vi(x,A),fL(x,R,W),GC(x,R,W,A),ZC(null,x,R,!0,p,A);case 19:return kL(p,x,A);case 22:return jL(p,x,A)}throw Error(r(156,x.tag))};function e7(p,x){return za(p,x)}function ege(p,x,A,R){this.tag=p,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(p,x,A,R){return new ege(p,x,A,R)}function xA(p){return p=p.prototype,!(!p||!p.isReactComponent)}function tge(p){if(typeof p=="function")return xA(p)?1:0;if(p!=null){if(p=p.$$typeof,p===H)return 11;if(p===J)return 14}return 2}function Mm(p,x){var A=p.alternate;return A===null?(A=ku(p.tag,x,p.key,p.mode),A.elementType=p.elementType,A.type=p.type,A.stateNode=p.stateNode,A.alternate=p,p.alternate=A):(A.pendingProps=x,A.type=p.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=p.flags&14680064,A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,x=p.dependencies,A.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},A.sibling=p.sibling,A.index=p.index,A.ref=p.ref,A}function yN(p,x,A,R,W,X){var xe=2;if(R=p,typeof p=="function")xA(p)&&(xe=1);else if(typeof p=="string")xe=5;else e:switch(p){case B:return eg(A.children,W,X,x);case U:xe=8,W|=8;break;case $:return p=ku(12,A,x,W|2),p.elementType=$,p.lanes=X,p;case Q:return p=ku(13,A,x,W),p.elementType=Q,p.lanes=X,p;case Z:return p=ku(19,A,x,W),p.elementType=Z,p.lanes=X,p;case ge:return vN(A,W,X,x);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case K:xe=10;break e;case q:xe=9;break e;case H:xe=11;break e;case J:xe=14;break e;case ye:xe=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return x=ku(xe,A,x,W),x.elementType=p,x.type=R,x.lanes=X,x}function eg(p,x,A,R){return p=ku(7,p,R,x),p.lanes=A,p}function vN(p,x,A,R){return p=ku(22,p,R,x),p.elementType=ge,p.lanes=A,p.stateNode={isHidden:!1},p}function yA(p,x,A){return p=ku(6,p,null,x),p.lanes=A,p}function vA(p,x,A){return x=ku(4,p.children!==null?p.children:[],p.key,x),x.lanes=A,x.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},x}function rge(p,x,A,R,W){this.tag=x,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=it(0),this.expirationTimes=it(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.identifierPrefix=R,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function bA(p,x,A,R,W,X,xe,Ue,Qe){return p=new rge(p,x,A,Ue,Qe),x===1?(x=1,X===!0&&(x|=8)):x=0,X=ku(3,null,null,x),p.current=X,X.stateNode=p,X.memoizedState={element:R,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},ao(X),p}function nge(p,x,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:R==null?null:""+R,children:p,containerInfo:x,implementation:A}}function t7(p){if(!p)return hh;p=p._reactInternals;e:{if(xi(p)!==p||p.tag!==1)throw Error(r(170));var x=p;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(vl(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(p.tag===1){var A=p.type;if(vl(A))return Dy(p,A,x)}return x}function r7(p,x,A,R,W,X,xe,Ue,Qe){return p=bA(A,R,!0,p,W,X,xe,Ue,Qe),p.context=t7(null),A=p.current,R=Gl(),W=Im(A),X=ea(R,W),X.callback=x??null,ta(A,X,W),p.current.lanes=W,ke(p,W,R),vc(p,R),p}function bN(p,x,A,R){var W=x.current,X=Gl(),xe=Im(W);return A=t7(A),x.context===null?x.context=A:x.pendingContext=A,x=ea(X,xe),x.payload={element:p},R=R===void 0?null:R,R!==null&&(x.callback=R),p=ta(W,x,xe),p!==null&&(gd(p,W,xe,X),_o(p,W,xe)),xe}function wN(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function n7(p,x){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var A=p.retryLane;p.retryLane=A!==0&&A<x?A:x}}function wA(p,x){n7(p,x),(p=p.alternate)&&n7(p,x)}function sge(){return null}var s7=typeof reportError=="function"?reportError:function(p){console.error(p)};function NA(p){this._internalRoot=p}NN.prototype.render=NA.prototype.render=function(p){var x=this._internalRoot;if(x===null)throw Error(r(409));bN(p,x,null,null)},NN.prototype.unmount=NA.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var x=p.containerInfo;Zp(function(){bN(null,p,null,null)}),x[Co]=null}};function NN(p){this._internalRoot=p}NN.prototype.unstable_scheduleHydration=function(p){if(p){var x=Fs();p={blockedOn:null,target:p,priority:x};for(var A=0;A<Sa.length&&x!==0&&x<Sa[A].priority;A++);Sa.splice(A,0,p),A===0&&ym(p)}};function jA(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function jN(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function i7(){}function ige(p,x,A,R,W){if(W){if(typeof R=="function"){var X=R;R=function(){var gt=wN(xe);X.call(gt)}}var xe=r7(x,R,p,0,null,!1,!1,"",i7);return p._reactRootContainer=xe,p[Co]=xe.current,uf(p.nodeType===8?p.parentNode:p),Zp(),xe}for(;W=p.lastChild;)p.removeChild(W);if(typeof R=="function"){var Ue=R;R=function(){var gt=wN(Qe);Ue.call(gt)}}var Qe=bA(p,0,!1,null,null,!1,!1,"",i7);return p._reactRootContainer=Qe,p[Co]=Qe.current,uf(p.nodeType===8?p.parentNode:p),Zp(function(){bN(x,Qe,A,R)}),Qe}function SN(p,x,A,R,W){var X=A._reactRootContainer;if(X){var xe=X;if(typeof W=="function"){var Ue=W;W=function(){var Qe=wN(xe);Ue.call(Qe)}}bN(x,xe,p,W)}else xe=ige(A,x,p,W,R);return wN(xe)}fu=function(p){switch(p.tag){case 3:var x=p.stateNode;if(x.current.memoizedState.isDehydrated){var A=ls(x.pendingLanes);A!==0&&(oi(x,A|1),vc(x,ns()),(Ss&6)===0&&($0=ns()+500,ee()))}break;case 13:Zp(function(){var R=Ks(p,1);if(R!==null){var W=Gl();gd(R,p,1,W)}}),wA(p,1)}},qa=function(p){if(p.tag===13){var x=Ks(p,134217728);if(x!==null){var A=Gl();gd(x,p,134217728,A)}wA(p,134217728)}},Br=function(p){if(p.tag===13){var x=Im(p),A=Ks(p,x);if(A!==null){var R=Gl();gd(A,p,x,R)}wA(p,x)}},Fs=function(){return Nn},rd=function(p,x){var A=Nn;try{return Nn=p,x()}finally{Nn=A}},ri=function(p,x,A){switch(x){case"input":if(Zt(p,A),x=A.name,A.type==="radio"&&x!=null){for(A=p;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<A.length;x++){var R=A[x];if(R!==p&&R.form===p.form){var W=Hp(R);if(!W)throw Error(r(90));qe(R),Zt(R,W)}}}break;case"textarea":ot(p,A);break;case"select":x=A.value,x!=null&&ht(p,!!A.multiple,x,!1)}},Xi=mA,Hs=Zp;var age={usingClientEntryPoint:!1,Events:[jm,ff,Hp,rs,da,mA]},Gy={findFiberByHostInstance:dh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oge={bundleType:Gy.bundleType,version:Gy.version,rendererPackageName:Gy.rendererPackageName,rendererConfig:Gy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Ul(p),p===null?null:p.stateNode},findFiberByHostInstance:Gy.findFiberByHostInstance||sge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var CN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!CN.isDisabled&&CN.supportsFiber)try{$n=CN.inject(oge),wn=CN}catch{}}return bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=age,bc.createPortal=function(p,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jA(x))throw Error(r(200));return nge(p,x,null,A)},bc.createRoot=function(p,x){if(!jA(p))throw Error(r(299));var A=!1,R="",W=s7;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(R=x.identifierPrefix),x.onRecoverableError!==void 0&&(W=x.onRecoverableError)),x=bA(p,1,!1,null,null,A,!1,R,W),p[Co]=x.current,uf(p.nodeType===8?p.parentNode:p),new NA(x)},bc.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var x=p._reactInternals;if(x===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=Ul(x),p=p===null?null:p.stateNode,p},bc.flushSync=function(p){return Zp(p)},bc.hydrate=function(p,x,A){if(!jN(x))throw Error(r(200));return SN(null,p,x,!0,A)},bc.hydrateRoot=function(p,x,A){if(!jA(p))throw Error(r(405));var R=A!=null&&A.hydratedSources||null,W=!1,X="",xe=s7;if(A!=null&&(A.unstable_strictMode===!0&&(W=!0),A.identifierPrefix!==void 0&&(X=A.identifierPrefix),A.onRecoverableError!==void 0&&(xe=A.onRecoverableError)),x=r7(x,null,p,1,A??null,W,!1,X,xe),p[Co]=x.current,uf(p),R)for(p=0;p<R.length;p++)A=R[p],W=A._getVersion,W=W(A._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[A,W]:x.mutableSourceEagerHydrationData.push(A,W);return new NN(x)},bc.render=function(p,x,A){if(!jN(x))throw Error(r(200));return SN(null,p,x,!1,A)},bc.unmountComponentAtNode=function(p){if(!jN(p))throw Error(r(40));return p._reactRootContainer?(Zp(function(){SN(null,null,p,!1,function(){p._reactRootContainer=null,p[Co]=null})}),!0):!1},bc.unstable_batchedUpdates=mA,bc.unstable_renderSubtreeIntoContainer=function(p,x,A,R){if(!jN(A))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return SN(p,x,A,!1,R)},bc.version="18.3.1-next-f1338f8080-20240426",bc}var m7;function EJ(){if(m7)return _A.exports;m7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_A.exports=gge(),_A.exports}var p7;function xge(){if(p7)return _N;p7=1;var t=EJ();return _N.createRoot=t.createRoot,_N.hydrateRoot=t.hydrateRoot,_N}var yge=xge(),P=h4();const Le=as(P),TJ=_J({__proto__:null,default:Le},[P]);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g7="popstate";function vge(t={}){function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return RP("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:pb(i)}return wge(e,r,null,t)}function la(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bge(){return Math.random().toString(36).substring(2,10)}function x7(t,e){return{usr:t.state,key:t.key,idx:e}}function RP(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ty(e):e,state:r,key:e&&e.key||n||bge()}}function pb({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ty(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function wge(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let N=h(),_=N==null?null:N-u;u=N,c&&c({action:l,location:w.location,delta:_})}function y(N,_){l="PUSH";let E=RP(w.location,N,_);u=h()+1;let T=x7(E,u),M=w.createHref(E);try{o.pushState(T,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(M)}a&&c&&c({action:l,location:w.location,delta:1})}function v(N,_){l="REPLACE";let E=RP(w.location,N,_);u=h();let T=x7(E,u),M=w.createHref(E);o.replaceState(T,"",M),a&&c&&c({action:l,location:w.location,delta:0})}function S(N){return Nge(N)}let w={get action(){return l},get location(){return t(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(g7,f),c=N,()=>{i.removeEventListener(g7,f),c=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let _=S(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:v,go(N){return o.go(N)}};return w}function Nge(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),la(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:pb(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kJ(t,e,r="/"){return jge(t,e,r,!1)}function jge(t,e,r,n){let i=typeof e=="string"?ty(e):e,a=em(i.pathname||"/",r);if(a==null)return null;let o=PJ(t);Sge(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Rge(a);l=Oge(o[c],u,n)}return l}function PJ(t,e=[],r=[],n="",i=!1){let a=(o,l,c=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;la(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=qf([n,h.relativePath]),y=r.concat(h);o.children&&o.children.length>0&&(la(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),PJ(o.children,e,y,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:Pge(f,o.index),routesMeta:y})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let u of IJ(o.path))a(o,l,!0,u)}),e}function IJ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=IJ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Sge(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ige(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Cge=/^:[\w-]+$/,Age=3,_ge=2,Ege=1,Tge=10,kge=-2,y7=t=>t==="*";function Pge(t,e){let r=t.split("/"),n=r.length;return r.some(y7)&&(n+=kge),e&&(n+=_ge),r.filter(i=>!y7(i)).reduce((i,a)=>i+(Cge.test(a)?Age:a===""?Ege:Tge),n)}function Ige(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Oge(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=Zj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Zj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:qf([a,f.pathname]),pathnameBase:Bge(qf([a,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(a=qf([a,f.pathnameBase]))}return o}function Zj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Mge(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},y)=>{if(h==="*"){let S=l[y]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const v=l[y];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Mge(t,e=!1,r=!0){Wd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Rge(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wd(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function em(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Dge(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ty(t):t;return{pathname:r?r.startsWith("/")?r:Lge(r,e):e,search:Uge(n),hash:$ge(i)}}function Lge(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kA(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fge(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function OJ(t){let e=Fge(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function MJ(t,e,r,n=!1){let i;typeof t=="string"?i=ty(t):(i={...t},la(!i.pathname||!i.pathname.includes("?"),kA("?","pathname","search",i)),la(!i.pathname||!i.pathname.includes("#"),kA("#","pathname","hash",i)),la(!i.search||!i.search.includes("#"),kA("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),f-=1;i.pathname=y.join("/")}l=f>=0?e[f]:"/"}let c=Dge(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var qf=t=>t.join("/").replace(/\/\/+/g,"/"),Bge=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uge=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$ge=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zge(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var RJ=["POST","PUT","PATCH","DELETE"];new Set(RJ);var qge=["GET",...RJ];new Set(qge);var ry=P.createContext(null);ry.displayName="DataRouter";var f4=P.createContext(null);f4.displayName="DataRouterState";P.createContext(!1);var DJ=P.createContext({isTransitioning:!1});DJ.displayName="ViewTransition";var Vge=P.createContext(new Map);Vge.displayName="Fetchers";var Hge=P.createContext(null);Hge.displayName="Await";var Qh=P.createContext(null);Qh.displayName="Navigation";var i2=P.createContext(null);i2.displayName="Location";var Jh=P.createContext({outlet:null,matches:[],isDataRoute:!1});Jh.displayName="Route";var l8=P.createContext(null);l8.displayName="RouteError";function Wge(t,{relative:e}={}){la(a2(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=P.useContext(Qh),{hash:i,pathname:a,search:o}=o2(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:qf([r,a])),n.createHref({pathname:l,search:o,hash:i})}function a2(){return P.useContext(i2)!=null}function Ac(){return la(a2(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(i2).location}var LJ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FJ(t){P.useContext(Qh).static||P.useLayoutEffect(t)}function Ms(){let{isDataRoute:t}=P.useContext(Jh);return t?i0e():Gge()}function Gge(){la(a2(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(ry),{basename:e,navigator:r}=P.useContext(Qh),{matches:n}=P.useContext(Jh),{pathname:i}=Ac(),a=JSON.stringify(OJ(n)),o=P.useRef(!1);return FJ(()=>{o.current=!0}),P.useCallback((c,u={})=>{if(Wd(o.current,LJ),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=MJ(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qf([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,a,i,t])}P.createContext(null);function m4(){let{matches:t}=P.useContext(Jh),e=t[t.length-1];return e?e.params:{}}function o2(t,{relative:e}={}){let{matches:r}=P.useContext(Jh),{pathname:n}=Ac(),i=JSON.stringify(OJ(r));return P.useMemo(()=>MJ(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Yge(t,e){return BJ(t,e)}function BJ(t,e,r,n,i){var E;la(a2(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Qh),{matches:o}=P.useContext(Jh),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";UJ(u,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Ac(),v;if(e){let T=typeof e=="string"?ty(e):e;la(h==="/"||((E=T.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=y;let S=v.pathname||"/",w=S;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=kJ(t,{pathname:w});Wd(f||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Wd(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Jge(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:qf([h,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:qf([h,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,r,n,i);return e&&_?P.createElement(i2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function Kge(){let t=s0e(),e=zge(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,o)}var Xge=P.createElement(Kge,null),Zge=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Jh.Provider,{value:this.props.routeContext},P.createElement(l8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qge({routeContext:t,match:e,children:r}){let n=P.useContext(ry);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Jh.Provider,{value:t},r)}function Jge(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);la(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let y,v=!1,S=null,w=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,S=h.route.errorElement||Xge,l&&(c<0&&f===0?(UJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):c===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,f+1)),_=()=>{let E;return y?E=S:v?E=w:h.route.Component?E=P.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,P.createElement(Qge,{match:h,routeContext:{outlet:u,matches:N,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(Zge,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:n}):_()},null)}function c8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e0e(t){let e=P.useContext(ry);return la(e,c8(t)),e}function t0e(t){let e=P.useContext(f4);return la(e,c8(t)),e}function r0e(t){let e=P.useContext(Jh);return la(e,c8(t)),e}function u8(t){let e=r0e(t),r=e.matches[e.matches.length-1];return la(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function n0e(){return u8("useRouteId")}function s0e(){var n;let t=P.useContext(l8),e=t0e("useRouteError"),r=u8("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function i0e(){let{router:t}=e0e("useNavigate"),e=u8("useNavigate"),r=P.useRef(!1);return FJ(()=>{r.current=!0}),P.useCallback(async(i,a={})=>{Wd(r.current,LJ),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var v7={};function UJ(t,e,r){!e&&!v7[t]&&(v7[t]=!0,Wd(!1,r))}P.memo(a0e);function a0e({routes:t,future:e,state:r,unstable_onError:n}){return BJ(t,void 0,r,n,e)}function Hr(t){la(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o0e({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){la(!a2(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=ty(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:y="default"}=r,v=P.useMemo(()=>{let S=em(c,o);return S==null?null:{location:{pathname:S,search:u,hash:h,state:f,key:y},navigationType:n}},[o,c,u,h,f,y,n]);return Wd(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:P.createElement(Qh.Provider,{value:l},P.createElement(i2.Provider,{children:e,value:v}))}function l0e({children:t,location:e}){return Yge(DP(t),e)}function DP(t,e=[]){let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let a=[...e,i];if(n.type===P.Fragment){r.push.apply(r,DP(n.props.children,a));return}la(n.type===Hr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),la(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=DP(n.props.children,a)),r.push(o)}),r}var Cj="get",Aj="application/x-www-form-urlencoded";function p4(t){return t!=null&&typeof t.tagName=="string"}function c0e(t){return p4(t)&&t.tagName.toLowerCase()==="button"}function u0e(t){return p4(t)&&t.tagName.toLowerCase()==="form"}function d0e(t){return p4(t)&&t.tagName.toLowerCase()==="input"}function h0e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f0e(t,e){return t.button===0&&(!e||e==="_self")&&!h0e(t)}function LP(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function m0e(t,e){let r=LP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var EN=null;function p0e(){if(EN===null)try{new FormData(document.createElement("form"),0),EN=!1}catch{EN=!0}return EN}var g0e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function PA(t){return t!=null&&!g0e.has(t)?(Wd(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Aj}"`),null):t}function x0e(t,e){let r,n,i,a,o;if(u0e(t)){let l=t.getAttribute("action");n=l?em(l,e):null,r=t.getAttribute("method")||Cj,i=PA(t.getAttribute("enctype"))||Aj,a=new FormData(t)}else if(c0e(t)||d0e(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?em(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Cj,i=PA(t.getAttribute("formenctype"))||PA(l.getAttribute("enctype"))||Aj,a=new FormData(l,t),!p0e()){let{name:u,type:h,value:f}=t;if(h==="image"){let y=u?`${u}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else u&&a.append(u,f)}}else{if(p4(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cj,n=null,i=Aj,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d8(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y0e(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&em(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function v0e(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b0e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w0e(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await v0e(a,r);return o.links?o.links():[]}return[]}));return C0e(n.flat(1).filter(b0e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b7(t,e,r,n,i,a){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var h;return r[u].pathname!==c.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var f;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function N0e(t,e,{includeHydrateFallback:r}={}){return j0e(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function j0e(t){return[...new Set(t)]}function S0e(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function C0e(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(S0e(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function $J(){let t=P.useContext(ry);return d8(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function A0e(){let t=P.useContext(f4);return d8(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var h8=P.createContext(void 0);h8.displayName="FrameworkContext";function zJ(){let t=P.useContext(h8);return d8(t,"You must render this element inside a <HydratedRouter> element"),t}function _0e(t,e){let r=P.useContext(h8),[n,i]=P.useState(!1),[a,o]=P.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,y=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=_=>{_.forEach(E=>{o(E.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[t]),P.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{i(!0)},S=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Ky(l,v),onBlur:Ky(c,S),onMouseEnter:Ky(u,v),onMouseLeave:Ky(h,S),onTouchStart:Ky(f,v)}]:[!1,y,{}]}function Ky(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function E0e({page:t,...e}){let{router:r}=$J(),n=P.useMemo(()=>kJ(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?P.createElement(k0e,{page:t,matches:n,...e}):null}function T0e(t){let{manifest:e,routeModules:r}=zJ(),[n,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return w0e(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function k0e({page:t,matches:e,...r}){let n=Ac(),{manifest:i,routeModules:a}=zJ(),{basename:o}=$J(),{loaderData:l,matches:c}=A0e(),u=P.useMemo(()=>b7(t,e,c,i,n,"data"),[t,e,c,i,n]),h=P.useMemo(()=>b7(t,e,c,i,n,"assets"),[t,e,c,i,n]),f=P.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(e.forEach(_=>{var T;let E=i.routes[_.route.id];!E||!E.hasLoader||(!u.some(M=>M.route.id===_.route.id)&&_.route.id in l&&((T=a[_.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?w=!0:S.add(_.route.id))}),S.size===0)return[];let N=y0e(t,o,"data");return w&&S.size>0&&N.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[o,l,n,i,u,e,t,a]),y=P.useMemo(()=>N0e(h,i),[h,i]),v=T0e(h);return P.createElement(P.Fragment,null,f.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:w})=>P.createElement("link",{key:S,nonce:r.nonce,...w})))}function P0e(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var qJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qJ&&(window.__reactRouterVersion="7.9.4")}catch{}function I0e({basename:t,children:e,window:r}){let n=P.useRef();n.current==null&&(n.current=vge({window:r,v5Compat:!0}));let i=n.current,[a,o]=P.useState({action:i.action,location:i.location}),l=P.useCallback(c=>{P.startTransition(()=>o(c))},[o]);return P.useLayoutEffect(()=>i.listen(l),[i,l]),P.createElement(o0e,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var VJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cs=P.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...y},v){let{basename:S}=P.useContext(Qh),w=typeof u=="string"&&VJ.test(u),N,_=!1;if(typeof u=="string"&&w&&(N=u,qJ))try{let $=new URL(window.location.href),K=u.startsWith("//")?new URL($.protocol+u):new URL(u),q=em(K.pathname,S);K.origin===$.origin&&q!=null?u=q+K.search+K.hash:_=!0}catch{Wd(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Wge(u,{relative:i}),[T,M,O]=_0e(n,y),L=D0e(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function B($){e&&e($),$.defaultPrevented||L($)}let U=P.createElement("a",{...y,...O,href:N||E,onClick:_||a?e:B,ref:P0e(v,M),target:c,"data-discover":!w&&r==="render"?"true":void 0});return T&&!w?P.createElement(P.Fragment,null,U,P.createElement(E0e,{page:E})):U});Cs.displayName="Link";var O0e=P.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...u},h){let f=o2(o,{relative:u.relative}),y=Ac(),v=P.useContext(f4),{navigator:S,basename:w}=P.useContext(Qh),N=v!=null&&$0e(f)&&l===!0,_=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,E=y.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(E=E.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&w&&(T=em(T,w)||T);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=E===_||!i&&E.startsWith(_)&&E.charAt(M)==="/",L=T!=null&&(T===_||!i&&T.startsWith(_)&&T.charAt(_.length)==="/"),B={isActive:O,isPending:L,isTransitioning:N},U=O?e:void 0,$;typeof n=="function"?$=n(B):$=[n,O?"active":null,L?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(B):a;return P.createElement(Cs,{...u,"aria-current":U,className:$,ref:h,style:K,to:o,viewTransition:l},typeof c=="function"?c(B):c)});O0e.displayName="NavLink";var M0e=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=Cj,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...y},v)=>{let S=B0e(),w=U0e(l,{relative:u}),N=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&VJ.test(l),E=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,O=(M==null?void 0:M.getAttribute("formmethod"))||o;S(M||T.currentTarget,{fetcherKey:e,method:O,navigate:r,replace:i,state:a,relative:u,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:v,method:N,action:w,onSubmit:n?c:E,...y,"data-discover":!_&&t==="render"?"true":void 0})});M0e.displayName="Form";function R0e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HJ(t){let e=P.useContext(ry);return la(e,R0e(t)),e}function D0e(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=Ms(),c=Ac(),u=o2(t,{relative:a});return P.useCallback(h=>{if(f0e(h,e)){h.preventDefault();let f=r!==void 0?r:pb(c)===pb(u);l(t,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,r,n,e,t,i,a,o])}function WJ(t){Wd(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(LP(t)),r=P.useRef(!1),n=Ac(),i=P.useMemo(()=>m0e(n.search,r.current?null:e.current),[n.search]),a=Ms(),o=P.useCallback((l,c)=>{const u=LP(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var L0e=0,F0e=()=>`__${String(++L0e)}__`;function B0e(){let{router:t}=HJ("useSubmit"),{basename:e}=P.useContext(Qh),r=n0e();return P.useCallback(async(n,i={})=>{let{action:a,method:o,encType:l,formData:c,body:u}=x0e(n,e);if(i.navigate===!1){let h=i.fetcherKey||F0e();await t.fetch(h,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function U0e(t,{relative:e}={}){let{basename:r}=P.useContext(Qh),n=P.useContext(Jh);la(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...o2(t||".",{relative:e})},o=Ac();if(t==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:qf([r,a.pathname])),pb(a)}function $0e(t,{relative:e}={}){let r=P.useContext(DJ);la(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=HJ("useViewTransitionState"),i=o2(t,{relative:e});if(!r.isTransitioning)return!1;let a=em(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=em(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zj(i.pathname,o)!=null||Zj(i.pathname,a)!=null}var h0=EJ();const gb=as(h0),f8=P.createContext({});function m8(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const g4=P.createContext(null),p8=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class z0e extends P.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function q0e({children:t,isPresent:e}){const r=P.useId(),n=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=P.useContext(p8);return P.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),s.jsx(z0e,{isPresent:e,childRef:n,sizeRef:i,children:P.cloneElement(t,{ref:n})})}const V0e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=m8(H0e),c=P.useId(),u=P.useCallback(f=>{l.set(f,!0);for(const y of l.values())if(!y)return;n&&n()},[l,n]),h=P.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[r,u]);return P.useMemo(()=>{l.forEach((f,y)=>l.set(y,!1))},[r]),P.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(q0e,{isPresent:r,children:t})),s.jsx(g4.Provider,{value:h,children:t})};function H0e(){return new Map}function GJ(t=!0){const e=P.useContext(g4);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=P.useId();P.useEffect(()=>{t&&i(a)},[t]);const o=P.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const TN=t=>t.key||"";function w7(t){const e=[];return P.Children.forEach(t,r=>{P.isValidElement(r)&&e.push(r)}),e}const g8=typeof window<"u",YJ=g8?P.useLayoutEffect:P.useEffect,FP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=GJ(o),u=P.useMemo(()=>w7(t),[t]),h=o&&!l?[]:u.map(TN),f=P.useRef(!0),y=P.useRef(u),v=m8(()=>new Map),[S,w]=P.useState(u),[N,_]=P.useState(u);YJ(()=>{f.current=!1,y.current=u;for(let M=0;M<N.length;M++){const O=TN(N[M]);h.includes(O)?v.delete(O):v.get(O)!==!0&&v.set(O,!1)}},[N,h.length,h.join("-")]);const E=[];if(u!==S){let M=[...u];for(let O=0;O<N.length;O++){const L=N[O],B=TN(L);h.includes(B)||(M.splice(O,0,L),E.push(L))}a==="wait"&&E.length&&(M=E),_(w7(M)),w(u);return}const{forceRender:T}=P.useContext(f8);return s.jsx(s.Fragment,{children:N.map(M=>{const O=TN(M),L=o&&!l?!1:u===N||h.includes(O),B=()=>{if(v.has(O))v.set(O,!0);else return;let U=!0;v.forEach($=>{$||(U=!1)}),U&&(T==null||T(),_(y.current),o&&(c==null||c()),n&&n())};return s.jsx(V0e,{isPresent:L,initial:!f.current||r?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:L?void 0:B,children:M},O)})})},nu=t=>t;let KJ=nu;function x8(t){let e;return()=>(e===void 0&&(e=t()),e)}const x1=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Vf=t=>t*1e3,Hf=t=>t/1e3,W0e={useManualTiming:!1};function G0e(t){let e=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,h=!1,f=!1)=>{const v=f&&n?e:r;return h&&a.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const kN=["read","resolveKeyframes","update","preRender","render","postRender"],Y0e=40;function XJ(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=kN.reduce((_,E)=>(_[E]=G0e(a),_),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:f,postRender:y}=o,v=()=>{const _=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(_-i.timestamp,Y0e),1),i.timestamp=_,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},S=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:kN.reduce((_,E)=>{const T=o[E];return _[E]=(M,O=!1,L=!1)=>(r||S(),T.schedule(M,O,L)),_},{}),cancel:_=>{for(let E=0;E<kN.length;E++)o[kN[E]].cancel(_)},state:i,steps:o}}const{schedule:zi,cancel:xp,state:al,steps:IA}=XJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:nu,!0),ZJ=P.createContext({strict:!1}),N7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},y1={};for(const t in N7)y1[t]={isEnabled:e=>N7[t].some(r=>!!e[r])};function K0e(t){for(const e in t)y1[e]={...y1[e],...t[e]}}const X0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X0e.has(t)}let QJ=t=>!Qj(t);function Z0e(t){t&&(QJ=e=>e.startsWith("on")?!Qj(e):t(e))}try{Z0e(require("@emotion/is-prop-valid").default)}catch{}function Q0e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(QJ(i)||r===!0&&Qj(i)||!e&&!Qj(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function J0e(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const x4=P.createContext({});function xb(t){return typeof t=="string"||Array.isArray(t)}function y4(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v8=["initial",...y8];function v4(t){return y4(t.animate)||v8.some(e=>xb(t[e]))}function JJ(t){return!!(v4(t)||t.variants)}function exe(t,e){if(v4(t)){const{initial:r,animate:n}=t;return{initial:r===!1||xb(r)?r:void 0,animate:xb(n)?n:void 0}}return t.inherit!==!1?e:{}}function txe(t){const{initial:e,animate:r}=exe(t,P.useContext(x4));return P.useMemo(()=>({initial:e,animate:r}),[j7(e),j7(r)])}function j7(t){return Array.isArray(t)?t.join(" "):t}const rxe=Symbol.for("motionComponentSymbol");function lx(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nxe(t,e,r){return P.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):lx(r)&&(r.current=n))},[e])}const b8=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sxe="framerAppearId",eee="data-"+b8(sxe),{schedule:w8}=XJ(queueMicrotask,!1),tee=P.createContext({});function ixe(t,e,r,n,i){var a,o;const{visualElement:l}=P.useContext(x4),c=P.useContext(ZJ),u=P.useContext(g4),h=P.useContext(p8).reducedMotion,f=P.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const y=f.current,v=P.useContext(tee);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&axe(f.current,r,i,v);const S=P.useRef(!1);P.useInsertionEffect(()=>{y&&S.current&&y.update(r,u)});const w=r[eee],N=P.useRef(!!w&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return YJ(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),w8.render(y.render),N.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,w)}),N.current=!1))}),y}function axe(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:ree(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&lx(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function ree(t){if(t)return t.options.allowProjection!==!1?t.projection:ree(t.parent)}function oxe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var a,o;t&&K0e(t);function l(u,h){let f;const y={...P.useContext(p8),...u,layoutId:lxe(u)},{isStatic:v}=y,S=txe(u),w=n(u,v);if(!v&&g8){cxe();const N=uxe(y);f=N.MeasureLayout,S.visualElement=ixe(i,w,y,e,N.ProjectionNode)}return s.jsxs(x4.Provider,{value:S,children:[f&&S.visualElement?s.jsx(f,{visualElement:S.visualElement,...y}):null,r(i,u,nxe(w,S.visualElement,h),w,v,S.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=P.forwardRef(l);return c[rxe]=i,c}function lxe({layoutId:t}){const e=P.useContext(f8).id;return e&&t!==void 0?e+"-"+t:t}function cxe(t,e){P.useContext(ZJ).strict}function uxe(t){const{drag:e,layout:r}=y1;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const dxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N8(t){return typeof t!="string"||t.includes("-")?!1:!!(dxe.indexOf(t)>-1||/[A-Z]/u.test(t))}function S7(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function j8(t,e,r,n){if(typeof e=="function"){const[i,a]=S7(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=S7(n);e=e(r!==void 0?r:t.custom,i,a)}return e}const BP=t=>Array.isArray(t),hxe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fxe=t=>BP(t)?t[t.length-1]||0:t,Ml=t=>!!(t&&t.getVelocity);function _j(t){const e=Ml(t)?t.get():t;return hxe(e)?e.toValue():e}function mxe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,a){const o={latestValues:pxe(n,i,a,t),renderState:e()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const nee=t=>(e,r)=>{const n=P.useContext(x4),i=P.useContext(g4),a=()=>mxe(t,e,n,i);return r?a():m8(a)};function pxe(t,e,r,n){const i={},a=n(t,{});for(const y in a)i[y]=_j(a[y]);let{initial:o,animate:l}=t;const c=v4(t),u=JJ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!y4(f)){const y=Array.isArray(f)?f:[f];for(let v=0;v<y.length;v++){const S=j8(t,y[v]);if(S){const{transitionEnd:w,transition:N,..._}=S;for(const E in _){let T=_[E];if(Array.isArray(T)){const M=h?T.length-1:0;T=T[M]}T!==null&&(i[E]=T)}for(const E in w)i[E]=w[E]}}}return i}const ny=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],f0=new Set(ny),see=t=>e=>typeof e=="string"&&e.startsWith(t),iee=see("--"),gxe=see("var(--"),S8=t=>gxe(t)?xxe.test(t.split("/*")[0].trim()):!1,xxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aee=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tm=(t,e,r)=>r>e?e:r<t?t:r,sy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yb={...sy,transform:t=>tm(0,1,t)},PN={...sy,default:1},l2=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zm=l2("deg"),Uh=l2("%"),mn=l2("px"),yxe=l2("vh"),vxe=l2("vw"),C7={...Uh,parse:t=>Uh.parse(t)/100,transform:t=>Uh.transform(t*100)},bxe={borderWidth:mn,borderTopWidth:mn,borderRightWidth:mn,borderBottomWidth:mn,borderLeftWidth:mn,borderRadius:mn,radius:mn,borderTopLeftRadius:mn,borderTopRightRadius:mn,borderBottomRightRadius:mn,borderBottomLeftRadius:mn,width:mn,maxWidth:mn,height:mn,maxHeight:mn,top:mn,right:mn,bottom:mn,left:mn,padding:mn,paddingTop:mn,paddingRight:mn,paddingBottom:mn,paddingLeft:mn,margin:mn,marginTop:mn,marginRight:mn,marginBottom:mn,marginLeft:mn,backgroundPositionX:mn,backgroundPositionY:mn},wxe={rotate:zm,rotateX:zm,rotateY:zm,rotateZ:zm,scale:PN,scaleX:PN,scaleY:PN,scaleZ:PN,skew:zm,skewX:zm,skewY:zm,distance:mn,translateX:mn,translateY:mn,translateZ:mn,x:mn,y:mn,z:mn,perspective:mn,transformPerspective:mn,opacity:yb,originX:C7,originY:C7,originZ:mn},A7={...sy,transform:Math.round},C8={...bxe,...wxe,zIndex:A7,size:mn,fillOpacity:yb,strokeOpacity:yb,numOctaves:A7},Nxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jxe=ny.length;function Sxe(t,e,r){let n="",i=!0;for(let a=0;a<jxe;a++){const o=ny[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=aee(l,C8[o]);if(!c){i=!1;const h=Nxe[o]||o;n+=`${h}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function A8(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(f0.has(c)){o=!0;continue}else if(iee(c)){i[c]=u;continue}else{const h=aee(u,C8[c]);c.startsWith("origin")?(l=!0,a[c]=h):n[c]=h}}if(e.transform||(o||r?n.transform=Sxe(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;n.transformOrigin=`${c} ${u} ${h}`}}const Cxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Axe={offset:"strokeDashoffset",array:"strokeDasharray"};function _xe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?Cxe:Axe;t[a.offset]=mn.transform(-n);const o=mn.transform(e),l=mn.transform(r);t[a.array]=`${o} ${l}`}function _7(t,e,r){return typeof t=="string"?t:mn.transform(e+r*t)}function Exe(t,e,r){const n=_7(e,t.x,t.width),i=_7(r,t.y,t.height);return`${n} ${i}`}function _8(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,f){if(A8(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v,dimensions:S}=t;y.transform&&(S&&(v.transform=y.transform),delete y.transform),S&&(i!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=Exe(S,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),o!==void 0&&_xe(y,o,l,c,!1)}const E8=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oee=()=>({...E8(),attrs:{}}),T8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lee(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const cee=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uee(t,e,r,n){lee(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(cee.has(i)?i:b8(i),e.attrs[i])}const Jj={};function Txe(t){Object.assign(Jj,t)}function dee(t,{layout:e,layoutId:r}){return f0.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Jj[t]||t==="opacity")}function k8(t,e,r){var n;const{style:i}=t,a={};for(const o in i)(Ml(i[o])||e.style&&Ml(e.style[o])||dee(o,t)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function hee(t,e,r){const n=k8(t,e,r);for(const i in t)if(Ml(t[i])||Ml(e[i])){const a=ny.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}function kxe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const E7=["x","y","width","height","cx","cy","r"],Pxe={useVisualState:nee({scrapeMotionValuesFromProps:hee,createRenderState:oee,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!t.drag;if(!a){for(const l in i)if(f0.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<E7.length;l++){const c=E7[l];t[c]!==e[c]&&(o=!0)}o&&zi.read(()=>{kxe(r,n),zi.render(()=>{_8(n,i,T8(r.tagName),t.transformTemplate),uee(r,n)})})}})},Ixe={useVisualState:nee({scrapeMotionValuesFromProps:k8,createRenderState:E8})};function fee(t,e,r){for(const n in e)!Ml(e[n])&&!dee(n,r)&&(t[n]=e[n])}function Oxe({transformTemplate:t},e){return P.useMemo(()=>{const r=E8();return A8(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Mxe(t,e){const r=t.style||{},n={};return fee(n,r,t),Object.assign(n,Oxe(t,e)),n}function Rxe(t,e){const r={},n=Mxe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function Dxe(t,e,r,n){const i=P.useMemo(()=>{const a=oee();return _8(a,e,T8(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fee(a,t.style,t),i.style={...a,...i.style}}return i}function Lxe(t=!1){return(r,n,i,{latestValues:a},o)=>{const c=(N8(r)?Dxe:Rxe)(n,a,o,r),u=Q0e(n,typeof r=="string",t),h=r!==P.Fragment?{...u,...c,ref:i}:{},{children:f}=n,y=P.useMemo(()=>Ml(f)?f.get():f,[f]);return P.createElement(r,{...h,children:y})}}function Fxe(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...N8(n)?Pxe:Ixe,preloadedFeatures:t,useRender:Lxe(i),createVisualElement:e,Component:n};return oxe(o)}}function mee(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function b4(t,e,r){const n=t.getProps();return j8(n,e,r!==void 0?r:n.custom,t)}const Bxe=x8(()=>window.ScrollTimeline!==void 0);class Uxe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(Bxe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $xe extends Uxe{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function P8(t,e){return t?t[e]||t.default||t:void 0}const UP=2e4;function pee(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<UP;)e+=r,n=t.next(e);return e>=UP?1/0:e}function I8(t){return typeof t=="function"}function T7(t,e){t.timeline=e,t.onfinish=null}const O8=t=>Array.isArray(t)&&typeof t[0]=="number",zxe={linearEasing:void 0};function qxe(t,e){const r=x8(t);return()=>{var n;return(n=zxe[e])!==null&&n!==void 0?n:r()}}const e5=qxe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gee=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=t(x1(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function xee(t){return!!(typeof t=="function"&&e5()||!t||typeof t=="string"&&(t in $P||e5())||O8(t)||Array.isArray(t)&&t.every(xee))}const Cv=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,$P={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cv([0,.65,.55,1]),circOut:Cv([.55,0,1,.45]),backIn:Cv([.31,.01,.66,-.59]),backOut:Cv([.33,1.53,.69,.99])};function yee(t,e){if(t)return typeof t=="function"&&e5()?gee(t,e):O8(t)?Cv(t):Array.isArray(t)?t.map(r=>yee(r,e)||$P.easeOut):$P[t]}const Nd={x:!1,y:!1};function vee(){return Nd.x||Nd.y}function Vxe(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function bee(t,e){const r=Vxe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function k7(t){return e=>{e.pointerType==="touch"||vee()||t(e)}}function Hxe(t,e,r={}){const[n,i,a]=bee(t,r),o=k7(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const h=k7(f=>{u(f),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const wee=(t,e)=>e?t===e?!0:wee(t,e.parentElement):!1,M8=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wxe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gxe(t){return Wxe.has(t.tagName)||t.tabIndex!==-1}const Av=new WeakSet;function P7(t){return e=>{e.key==="Enter"&&t(e)}}function OA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yxe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=P7(()=>{if(Av.has(r))return;OA(r,"down");const i=P7(()=>{OA(r,"up")}),a=()=>OA(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function I7(t){return M8(t)&&!vee()}function Kxe(t,e,r={}){const[n,i,a]=bee(t,r),o=l=>{const c=l.currentTarget;if(!I7(l)||Av.has(c))return;Av.add(c);const u=e(l),h=(v,S)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",y),!(!I7(v)||!Av.has(c))&&(Av.delete(c),typeof u=="function"&&u(v,{success:S}))},f=v=>{h(v,r.useGlobalTarget||wee(c,v.target))},y=v=>{h(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",y,i)};return n.forEach(l=>{!Gxe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>Yxe(u,i),i)}),a}function Xxe(t){return t==="x"||t==="y"?Nd[t]?null:(Nd[t]=!0,()=>{Nd[t]=!1}):Nd.x||Nd.y?null:(Nd.x=Nd.y=!0,()=>{Nd.x=Nd.y=!1})}const Nee=new Set(["width","height","top","left","right","bottom",...ny]);let Ej;function Zxe(){Ej=void 0}const $h={now:()=>(Ej===void 0&&$h.set(al.isProcessing||W0e.useManualTiming?al.timestamp:performance.now()),Ej),set:t=>{Ej=t,queueMicrotask(Zxe)}};function R8(t,e){t.indexOf(e)===-1&&t.push(e)}function D8(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class L8{constructor(){this.subscriptions=[]}add(e){return R8(this.subscriptions,e),()=>D8(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jee(t,e){return e?t*(1e3/e):0}const O7=30,Qxe=t=>!isNaN(parseFloat(t));class Jxe{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=$h.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=$h.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qxe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new L8);const n=this.events[e].add(r);return e==="change"?()=>{n(),zi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$h.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>O7)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,O7);return jee(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vb(t,e){return new Jxe(t,e)}function e1e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,vb(r))}function t1e(t,e){const r=b4(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=fxe(a[o]);e1e(t,o,l)}}function r1e(t){return!!(Ml(t)&&t.add)}function zP(t,e){const r=t.getValue("willChange");if(r1e(r))return r.add(e)}function See(t){return t.props[eee]}const Cee=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,n1e=1e-7,s1e=12;function i1e(t,e,r,n,i){let a,o,l=0;do o=e+(r-e)/2,a=Cee(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>n1e&&++l<s1e);return o}function c2(t,e,r,n){if(t===e&&r===n)return nu;const i=a=>i1e(a,0,1,t,r);return a=>a===0||a===1?a:Cee(i(a),e,n)}const Aee=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_ee=t=>e=>1-t(1-e),Eee=c2(.33,1.53,.69,.99),F8=_ee(Eee),Tee=Aee(F8),kee=t=>(t*=2)<1?.5*F8(t):.5*(2-Math.pow(2,-10*(t-1))),B8=t=>1-Math.sin(Math.acos(t)),Pee=_ee(B8),Iee=Aee(B8),Oee=t=>/^0[^.\s]+$/u.test(t);function a1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Oee(t):!0}const Hv=t=>Math.round(t*1e5)/1e5,U8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o1e(t){return t==null}const l1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$8=(t,e)=>r=>!!(typeof r=="string"&&l1e.test(r)&&r.startsWith(t)||e&&!o1e(r)&&Object.prototype.hasOwnProperty.call(r,e)),Mee=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(U8);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},c1e=t=>tm(0,255,t),MA={...sy,transform:t=>Math.round(c1e(t))},pg={test:$8("rgb","red"),parse:Mee("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+MA.transform(t)+", "+MA.transform(e)+", "+MA.transform(r)+", "+Hv(yb.transform(n))+")"};function u1e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const qP={test:$8("#"),parse:u1e,transform:pg.transform},cx={test:$8("hsl","hue"),parse:Mee("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Uh.transform(Hv(e))+", "+Uh.transform(Hv(r))+", "+Hv(yb.transform(n))+")"},El={test:t=>pg.test(t)||qP.test(t)||cx.test(t),parse:t=>pg.test(t)?pg.parse(t):cx.test(t)?cx.parse(t):qP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pg.transform(t):cx.transform(t)},d1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h1e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(U8))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(d1e))===null||r===void 0?void 0:r.length)||0)>0}const Ree="number",Dee="color",f1e="var",m1e="var(",M7="${}",p1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bb(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(p1e,c=>(El.test(c)?(n.color.push(a),i.push(Dee),r.push(El.parse(c))):c.startsWith(m1e)?(n.var.push(a),i.push(f1e),r.push(c)):(n.number.push(a),i.push(Ree),r.push(parseFloat(c))),++a,M7)).split(M7);return{values:r,split:l,indexes:n,types:i}}function Lee(t){return bb(t).values}function Fee(t){const{split:e,types:r}=bb(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const l=r[o];l===Ree?a+=Hv(i[o]):l===Dee?a+=El.transform(i[o]):a+=i[o]}return a}}const g1e=t=>typeof t=="number"?0:t;function x1e(t){const e=Lee(t);return Fee(t)(e.map(g1e))}const yp={test:h1e,parse:Lee,createTransformer:Fee,getAnimatableNone:x1e},y1e=new Set(["brightness","contrast","saturate","opacity"]);function v1e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(U8)||[];if(!n)return t;const i=r.replace(n,"");let a=y1e.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const b1e=/\b([a-z-]*)\(.*?\)/gu,VP={...yp,getAnimatableNone:t=>{const e=t.match(b1e);return e?e.map(v1e).join(" "):t}},w1e={...C8,color:El,backgroundColor:El,outlineColor:El,fill:El,stroke:El,borderColor:El,borderTopColor:El,borderRightColor:El,borderBottomColor:El,borderLeftColor:El,filter:VP,WebkitFilter:VP},z8=t=>w1e[t];function Bee(t,e){let r=z8(t);return r!==VP&&(r=yp),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const N1e=new Set(["auto","none","0"]);function j1e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!N1e.has(a)&&bb(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=Bee(r,i)}const R7=t=>t===sy||t===mn,D7=(t,e)=>parseFloat(t.split(", ")[e]),L7=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return D7(i[1],e);{const a=n.match(/^matrix\((.+)\)$/u);return a?D7(a[1],t):0}},S1e=new Set(["x","y","z"]),C1e=ny.filter(t=>!S1e.has(t));function A1e(t){const e=[];return C1e.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const v1={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:L7(4,13),y:L7(5,14)};v1.translateX=v1.x;v1.translateY=v1.y;const $g=new Set;let HP=!1,WP=!1;function Uee(){if(WP){const t=Array.from($g).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=A1e(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}WP=!1,HP=!1,$g.forEach(t=>t.complete()),$g.clear()}function $ee(){$g.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(WP=!0)})}function _1e(){$ee(),Uee()}class q8{constructor(e,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($g.add(this),HP||(HP=!0,zi.read($ee),zi.resolveKeyframes(Uee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$g.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$g.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zee=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),E1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function T1e(t){const e=E1e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function qee(t,e,r=1){const[n,i]=T1e(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return zee(o)?parseFloat(o):o}return S8(i)?qee(i,e,r+1):i}const Vee=t=>e=>e.test(t),k1e={test:t=>t==="auto",parse:t=>t},Hee=[sy,mn,Uh,zm,vxe,yxe,k1e],F7=t=>Hee.find(Vee(t));class Wee extends q8{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),S8(u))){const h=qee(u,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Nee.has(n)||e.length!==2)return;const[i,a]=e,o=F7(i),l=F7(a);if(o!==l)if(R7(o)&&R7(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)a1e(e[i])&&n.push(i);n.length&&j1e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=v1[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=v1[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const B7=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yp.test(t)||t==="0")&&!t.startsWith("url("));function P1e(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function I1e(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=B7(i,e),l=B7(a,e);return!o||!l?!1:P1e(t)||(r==="spring"||I8(r))&&n}const O1e=t=>t!==null;function w4(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(O1e),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const M1e=40;class Gee{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$h.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>M1e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_1e(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=$h.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!I1e(e,n,i,a))if(o)this.options.duration=0;else{c&&c(w4(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,r);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...h},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const oa=(t,e,r)=>t+(e-t)*r;function RA(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function R1e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=RA(c,l,t+1/3),a=RA(c,l,t),o=RA(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function t5(t,e){return r=>r>0?e:t}const DA=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},D1e=[qP,pg,cx],L1e=t=>D1e.find(e=>e.test(t));function U7(t){const e=L1e(t);if(!e)return!1;let r=e.parse(t);return e===cx&&(r=R1e(r)),r}const $7=(t,e)=>{const r=U7(t),n=U7(e);if(!r||!n)return t5(t,e);const i={...r};return a=>(i.red=DA(r.red,n.red,a),i.green=DA(r.green,n.green,a),i.blue=DA(r.blue,n.blue,a),i.alpha=oa(r.alpha,n.alpha,a),pg.transform(i))},F1e=(t,e)=>r=>e(t(r)),u2=(...t)=>t.reduce(F1e),GP=new Set(["none","hidden"]);function B1e(t,e){return GP.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function U1e(t,e){return r=>oa(t,e,r)}function V8(t){return typeof t=="number"?U1e:typeof t=="string"?S8(t)?t5:El.test(t)?$7:q1e:Array.isArray(t)?Yee:typeof t=="object"?El.test(t)?$7:$1e:t5}function Yee(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>V8(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function $1e(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=V8(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function z1e(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const q1e=(t,e)=>{const r=yp.createTransformer(e),n=bb(t),i=bb(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?GP.has(t)&&!i.values.length||GP.has(e)&&!n.values.length?B1e(t,e):u2(Yee(z1e(n,i),i.values),r):t5(t,e)};function Kee(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?oa(t,e,r):V8(t)(t,e)}const V1e=5;function Xee(t,e,r){const n=Math.max(e-V1e,0);return jee(r-t(n),e-n)}const ba={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LA=.001;function H1e({duration:t=ba.duration,bounce:e=ba.bounce,velocity:r=ba.velocity,mass:n=ba.mass}){let i,a,o=1-e;o=tm(ba.minDamping,ba.maxDamping,o),t=tm(ba.minDuration,ba.maxDuration,Hf(t)),o<1?(i=u=>{const h=u*o,f=h*t,y=h-r,v=YP(u,o),S=Math.exp(-f);return LA-y/v*S},a=u=>{const f=u*o*t,y=f*r+r,v=Math.pow(o,2)*Math.pow(u,2)*t,S=Math.exp(-f),w=YP(Math.pow(u,2),o);return(-i(u)+LA>0?-1:1)*((y-v)*S)/w}):(i=u=>{const h=Math.exp(-u*t),f=(u-r)*t+1;return-LA+h*f},a=u=>{const h=Math.exp(-u*t),f=(r-u)*(t*t);return h*f});const l=5/t,c=G1e(i,a,l);if(t=Vf(t),isNaN(c))return{stiffness:ba.stiffness,damping:ba.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const W1e=12;function G1e(t,e,r){let n=r;for(let i=1;i<W1e;i++)n=n-t(n)/e(n);return n}function YP(t,e){return t*Math.sqrt(1-e*e)}const Y1e=["duration","bounce"],K1e=["stiffness","damping","mass"];function z7(t,e){return e.some(r=>t[r]!==void 0)}function X1e(t){let e={velocity:ba.velocity,stiffness:ba.stiffness,damping:ba.damping,mass:ba.mass,isResolvedFromDuration:!1,...t};if(!z7(t,K1e)&&z7(t,Y1e))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*tm(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ba.mass,stiffness:i,damping:a}}else{const r=H1e(t);e={...e,...r,mass:ba.mass},e.isResolvedFromDuration=!0}return e}function Zee(t=ba.visualDuration,e=ba.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:f,velocity:y,isResolvedFromDuration:v}=X1e({...r,velocity:-Hf(r.velocity||0)}),S=y||0,w=u/(2*Math.sqrt(c*h)),N=o-a,_=Hf(Math.sqrt(c/h)),E=Math.abs(N)<5;n||(n=E?ba.restSpeed.granular:ba.restSpeed.default),i||(i=E?ba.restDelta.granular:ba.restDelta.default);let T;if(w<1){const O=YP(_,w);T=L=>{const B=Math.exp(-w*_*L);return o-B*((S+w*_*N)/O*Math.sin(O*L)+N*Math.cos(O*L))}}else if(w===1)T=O=>o-Math.exp(-_*O)*(N+(S+_*N)*O);else{const O=_*Math.sqrt(w*w-1);T=L=>{const B=Math.exp(-w*_*L),U=Math.min(O*L,300);return o-B*((S+w*_*N)*Math.sinh(U)+O*N*Math.cosh(U))/O}}const M={calculatedDuration:v&&f||null,next:O=>{const L=T(O);if(v)l.done=O>=f;else{let B=0;w<1&&(B=O===0?Vf(S):Xee(T,O,L));const U=Math.abs(B)<=n,$=Math.abs(o-L)<=i;l.done=U&&$}return l.value=l.done?o:L,l},toString:()=>{const O=Math.min(pee(M),UP),L=gee(B=>M.next(O*B).value,O,30);return O+"ms "+L}};return M}function q7({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=t[0],y={done:!1,value:f},v=U=>l!==void 0&&U<l||c!==void 0&&U>c,S=U=>l===void 0?c:c===void 0||Math.abs(l-U)<Math.abs(c-U)?l:c;let w=r*e;const N=f+w,_=o===void 0?N:o(N);_!==N&&(w=_-f);const E=U=>-w*Math.exp(-U/n),T=U=>_+E(U),M=U=>{const $=E(U),K=T(U);y.done=Math.abs($)<=u,y.value=y.done?_:K};let O,L;const B=U=>{v(y.value)&&(O=U,L=Zee({keyframes:[y.value,S(y.value)],velocity:Xee(T,U,y.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return B(0),{calculatedDuration:null,next:U=>{let $=!1;return!L&&O===void 0&&($=!0,M(U),B(U)),O!==void 0&&U>=O?L.next(U-O):(!$&&M(U),y)}}}const Z1e=c2(.42,0,1,1),Q1e=c2(0,0,.58,1),Qee=c2(.42,0,.58,1),J1e=t=>Array.isArray(t)&&typeof t[0]!="number",eye={linear:nu,easeIn:Z1e,easeInOut:Qee,easeOut:Q1e,circIn:B8,circInOut:Iee,circOut:Pee,backIn:F8,backInOut:Tee,backOut:Eee,anticipate:kee},V7=t=>{if(O8(t)){KJ(t.length===4);const[e,r,n,i]=t;return c2(e,r,n,i)}else if(typeof t=="string")return eye[t];return t};function tye(t,e,r){const n=[],i=r||Kee,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||nu:e;l=u2(c,l)}n.push(l)}return n}function rye(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(KJ(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=tye(e,n,i),c=l.length,u=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const y=x1(t[f],t[f+1],h);return l[f](y)};return r?h=>u(tm(t[0],t[a-1],h)):u}function nye(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=x1(0,e,n);t.push(oa(r,1,i))}}function sye(t){const e=[0];return nye(e,t.length-1),e}function iye(t,e){return t.map(r=>r*e)}function aye(t,e){return t.map(()=>e||Qee).splice(0,t.length-1)}function r5({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=J1e(n)?n.map(V7):V7(n),a={done:!1,value:e[0]},o=iye(r&&r.length===e.length?r:sye(e),t),l=rye(o,e,{ease:Array.isArray(i)?i:aye(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const oye=t=>{const e=({timestamp:r})=>t(r);return{start:()=>zi.update(e,!0),stop:()=>xp(e),now:()=>al.isProcessing?al.timestamp:$h.now()}},lye={decay:q7,inertia:q7,tween:r5,keyframes:r5,spring:Zee},cye=t=>t/100;class H8 extends Gee{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||q8,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=I8(r)?r:lye[r]||r5;let c,u;l!==r5&&typeof e[0]!="number"&&(c=u2(cye,Kee(e[0],e[1])),e=[0,100]);const h=l({...this.options,keyframes:e});a==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=pee(h));const{calculatedDuration:f}=h,y=f+i,v=y*(n+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:y,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:U}=this.options;return{done:!0,value:U[U.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=n;if(this.startTime===null)return a.next(0);const{delay:y,repeat:v,repeatType:S,repeatDelay:w,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-y*(this.speed>=0?1:-1),E=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,M=a;if(v){const U=Math.min(this.currentTime,h)/f;let $=Math.floor(U),K=U%1;!K&&U>=1&&(K=1),K===1&&$--,$=Math.min($,v+1),!!($%2)&&(S==="reverse"?(K=1-K,w&&(K-=w/f)):S==="mirror"&&(M=o)),T=tm(0,1,K)*f}const O=E?{done:!1,value:c[0]}:M.next(T);l&&(O.value=l(O.value));let{done:L}=O;!E&&u!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return B&&i!==void 0&&(O.value=w4(c,this.options,i)),N&&N(O.value),B&&this.finish(),O}get duration(){const{resolved:e}=this;return e?Hf(e.calculatedDuration):0}get time(){return Hf(this.currentTime)}set time(e){e=Vf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Hf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oye,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uye=new Set(["opacity","clipPath","filter","transform"]);function dye(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const h=yee(l,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const hye=x8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),n5=10,fye=2e4;function mye(t){return I8(t.type)||t.type==="spring"||!xee(t.ease)}function pye(t,e){const r=new H8({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let a=0;for(;!n.done&&a<fye;)n=r.sample(a),i.push(n.value),a+=n5;return{times:void 0,keyframes:i,duration:a-n5,ease:"linear"}}const Jee={anticipate:kee,backInOut:Tee,circInOut:Iee};function gye(t){return t in Jee}class H7 extends Gee{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new Wee(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&e5()&&gye(a)&&(a=Jee[a]),mye(this.options)){const{onComplete:f,onUpdate:y,motionValue:v,element:S,...w}=this.options,N=pye(e,w);e=N.keyframes,e.length===1&&(e[1]=e[0]),n=N.duration,i=N.times,a=N.ease,o="keyframes"}const h=dye(l.owner.current,c,e,{...this.options,duration:n,times:i,ease:a});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(T7(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(w4(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Hf(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Hf(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Vf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return nu;const{animation:n}=r;T7(n,e)}return nu}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:y,...v}=this.options,S=new H8({...v,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),w=Vf(this.time);u.setWithVelocity(S.sample(w-n5).value,S.sample(w).value,n5)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return hye()&&n&&uye.has(n)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const xye={type:"spring",stiffness:500,damping:25,restSpeed:10},yye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vye={type:"keyframes",duration:.8},bye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wye=(t,{keyframes:e})=>e.length>2?vye:f0.has(t)?t.startsWith("scale")?yye(e[1]):xye:bye;function Nye({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const W8=(t,e,r,n={},i,a)=>o=>{const l=P8(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Vf(c);let h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};Nye(l)||(h={...h,...wye(t,h)}),h.duration&&(h.duration=Vf(h.duration)),h.repeatDelay&&(h.repeatDelay=Vf(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const y=w4(h.keyframes,l);if(y!==void 0)return zi.update(()=>{h.onUpdate(y),h.onComplete()}),new $xe([])}return!a&&H7.supports(h)?new H7(h):new H8(h)};function jye({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ete(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(o=n);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const y=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),v=c[f];if(v===void 0||h&&jye(h,f))continue;const S={delay:r,...P8(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const _=See(t);if(_){const E=window.MotionHandoffAnimation(_,f,zi);E!==null&&(S.startTime=E,w=!0)}}zP(t,f),y.start(W8(f,y,v,t.shouldReduceMotion&&Nee.has(f)?{type:!1}:S,t,w));const N=y.animation;N&&u.push(N)}return l&&Promise.all(u).then(()=>{zi.update(()=>{l&&t1e(t,l)})}),u}function KP(t,e,r={}){var n;const i=b4(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(ete(t,i,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:y}=a;return Sye(t,e,h+u,f,y,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(r.delay)])}function Sye(t,e,r=0,n=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(Cye).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(KP(u,e,{...a,delay:r+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Cye(t,e){return t.sortNodePosition(e)}function Aye(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>KP(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=KP(t,e,r);else{const i=typeof e=="function"?b4(t,e,r.custom):e;n=Promise.all(ete(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const _ye=v8.length;function tte(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?tte(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<_ye;r++){const n=v8[r],i=t.props[n];(xb(i)||i===!1)&&(e[n]=i)}return e}const Eye=[...y8].reverse(),Tye=y8.length;function kye(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Aye(t,r,n)))}function Pye(t){let e=kye(t),r=W7(),n=!0;const i=c=>(u,h)=>{var f;const y=b4(t,h,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(y){const{transition:v,transitionEnd:S,...w}=y;u={...u,...w,...S}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,h=tte(t.parent)||{},f=[],y=new Set;let v={},S=1/0;for(let N=0;N<Tye;N++){const _=Eye[N],E=r[_],T=u[_]!==void 0?u[_]:h[_],M=xb(T),O=_===c?E.isActive:null;O===!1&&(S=N);let L=T===h[_]&&T!==u[_]&&M;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...v},!E.isActive&&O===null||!T&&!E.prevProp||y4(T)||typeof T=="boolean")continue;const B=Iye(E.prevProp,T);let U=B||_===c&&E.isActive&&!L&&M||N>S&&M,$=!1;const K=Array.isArray(T)?T:[T];let q=K.reduce(i(_),{});O===!1&&(q={});const{prevResolvedValues:H={}}=E,Q={...H,...q},Z=ge=>{U=!0,y.has(ge)&&($=!0,y.delete(ge)),E.needsAnimating[ge]=!0;const oe=t.getValue(ge);oe&&(oe.liveStyle=!1)};for(const ge in Q){const oe=q[ge],re=H[ge];if(v.hasOwnProperty(ge))continue;let me=!1;BP(oe)&&BP(re)?me=!mee(oe,re):me=oe!==re,me?oe!=null?Z(ge):y.add(ge):oe!==void 0&&y.has(ge)?Z(ge):E.protectedKeys[ge]=!0}E.prevProp=T,E.prevResolvedValues=q,E.isActive&&(v={...v,...q}),n&&t.blockInitialAnimation&&(U=!1),U&&(!(L&&B)||$)&&f.push(...K.map(ge=>({animation:ge,options:{type:_}})))}if(y.size){const N={};y.forEach(_=>{const E=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),N[_]=E??null}),f.push({animation:N})}let w=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(f):Promise.resolve()}function l(c,u){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var v;return(v=y.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const y in r)r[y].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=W7(),n=!0}}}function Iye(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mee(e,t):!1}function tg(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W7(){return{animate:tg(!0),whileInView:tg(),whileHover:tg(),whileTap:tg(),whileDrag:tg(),whileFocus:tg(),exit:tg()}}class Tp{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Oye extends Tp{constructor(e){super(e),e.animationState||(e.animationState=Pye(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();y4(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Mye=0;class Rye extends Tp{constructor(){super(...arguments),this.id=Mye++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Dye={animation:{Feature:Oye},exit:{Feature:Rye}};function wb(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function d2(t){return{point:{x:t.pageX,y:t.pageY}}}const Lye=t=>e=>M8(e)&&t(e,d2(e));function Wv(t,e,r,n){return wb(t,e,Lye(r),n)}const G7=(t,e)=>Math.abs(t-e);function Fye(t,e){const r=G7(t.x,e.x),n=G7(t.y,e.y);return Math.sqrt(r**2+n**2)}class rte{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=BA(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=Fye(f.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:S}=f,{timestamp:w}=al;this.history.push({...S,timestamp:w});const{onStart:N,onMove:_}=this.handlers;y||(N&&N(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=FA(y,this.transformPagePoint),zi.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=BA(f.type==="pointercancel"?this.lastMoveEventInfo:FA(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,N),S&&S(f,N)},!M8(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=d2(e),l=FA(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=al;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=r;h&&h(e,BA(l,this.history)),this.removeListeners=u2(Wv(this.contextWindow,"pointermove",this.handlePointerMove),Wv(this.contextWindow,"pointerup",this.handlePointerUp),Wv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xp(this.updatePoint)}}function FA(t,e){return e?{point:e(t.point)}:t}function Y7(t,e){return{x:t.x-e.x,y:t.y-e.y}}function BA({point:t},e){return{point:t,delta:Y7(t,nte(e)),offset:Y7(t,Bye(e)),velocity:Uye(e,.1)}}function Bye(t){return t[0]}function nte(t){return t[t.length-1]}function Uye(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=nte(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Vf(e)));)r--;if(!n)return{x:0,y:0};const a=Hf(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ste=1e-4,$ye=1-ste,zye=1+ste,ite=.01,qye=0-ite,Vye=0+ite;function ou(t){return t.max-t.min}function Hye(t,e,r){return Math.abs(t-e)<=r}function K7(t,e,r,n=.5){t.origin=n,t.originPoint=oa(e.min,e.max,t.origin),t.scale=ou(r)/ou(e),t.translate=oa(r.min,r.max,t.origin)-t.originPoint,(t.scale>=$ye&&t.scale<=zye||isNaN(t.scale))&&(t.scale=1),(t.translate>=qye&&t.translate<=Vye||isNaN(t.translate))&&(t.translate=0)}function Gv(t,e,r,n){K7(t.x,e.x,r.x,n?n.originX:void 0),K7(t.y,e.y,r.y,n?n.originY:void 0)}function X7(t,e,r){t.min=r.min+e.min,t.max=t.min+ou(e)}function Wye(t,e,r){X7(t.x,e.x,r.x),X7(t.y,e.y,r.y)}function Z7(t,e,r){t.min=e.min-r.min,t.max=t.min+ou(e)}function Yv(t,e,r){Z7(t.x,e.x,r.x),Z7(t.y,e.y,r.y)}function Gye(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?oa(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?oa(r,t,n.max):Math.min(t,r)),t}function Q7(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Yye(t,{top:e,left:r,bottom:n,right:i}){return{x:Q7(t.x,r,i),y:Q7(t.y,e,n)}}function J7(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Kye(t,e){return{x:J7(t.x,e.x),y:J7(t.y,e.y)}}function Xye(t,e){let r=.5;const n=ou(t),i=ou(e);return i>n?r=x1(e.min,e.max-n,t.min):n>i&&(r=x1(t.min,t.max-i,e.min)),tm(0,1,r)}function Zye(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const XP=.35;function Qye(t=XP){return t===!1?t=0:t===!0&&(t=XP),{x:eF(t,"left","right"),y:eF(t,"top","bottom")}}function eF(t,e,r){return{min:tF(t,e),max:tF(t,r)}}function tF(t,e){return typeof t=="number"?t:t[e]||0}const rF=()=>({translate:0,scale:1,origin:0,originPoint:0}),ux=()=>({x:rF(),y:rF()}),nF=()=>({min:0,max:0}),Ta=()=>({x:nF(),y:nF()});function Du(t){return[t("x"),t("y")]}function ate({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Jye({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eve(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function UA(t){return t===void 0||t===1}function ZP({scale:t,scaleX:e,scaleY:r}){return!UA(t)||!UA(e)||!UA(r)}function sg(t){return ZP(t)||ote(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ote(t){return sF(t.x)||sF(t.y)}function sF(t){return t&&t!=="0%"}function s5(t,e,r){const n=t-r,i=e*n;return r+i}function iF(t,e,r,n,i){return i!==void 0&&(t=s5(t,i,n)),s5(t,r,n)+e}function QP(t,e=0,r=1,n,i){t.min=iF(t.min,e,r,n,i),t.max=iF(t.max,e,r,n,i)}function lte(t,{x:e,y:r}){QP(t.x,e.translate,e.scale,e.originPoint),QP(t.y,r.translate,r.scale,r.originPoint)}const aF=.999999999999,oF=1.0000000000001;function tve(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hx(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,lte(t,o)),n&&sg(a.latestValues)&&hx(t,a.latestValues))}e.x<oF&&e.x>aF&&(e.x=1),e.y<oF&&e.y>aF&&(e.y=1)}function dx(t,e){t.min=t.min+e,t.max=t.max+e}function lF(t,e,r,n,i=.5){const a=oa(t.min,t.max,i);QP(t,e,r,a,n)}function hx(t,e){lF(t.x,e.x,e.scaleX,e.scale,e.originX),lF(t.y,e.y,e.scaleY,e.scale,e.originY)}function cte(t,e){return ate(eve(t.getBoundingClientRect(),e))}function rve(t,e,r){const n=cte(t,r),{scroll:i}=e;return i&&(dx(n.x,i.offset.x),dx(n.y,i.offset.y)),n}const ute=({current:t})=>t?t.ownerDocument.defaultView:null,nve=new WeakMap;class sve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ta(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(d2(h).point)},a=(h,f)=>{const{drag:y,dragPropagation:v,onDragStart:S}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xxe(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Du(N=>{let _=this.getAxisMotionValue(N).get()||0;if(Uh.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[N];T&&(_=ou(T)*(parseFloat(_)/100))}}this.originPoint[N]=_}),S&&zi.postRender(()=>S(h,f)),zP(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:S,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=f;if(v&&this.currentDirection===null){this.currentDirection=ive(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,N),this.updateAxis("y",f.point,N),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Du(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rte(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ute(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&zi.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!IN(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Gye(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&lx(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Yye(i.layoutBox,r):this.constraints=!1,this.elastic=Qye(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Du(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zye(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!lx(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=rve(n,i.root,this.visualElement.getTransformPagePoint());let o=Kye(i.layout.layoutBox,a);if(r){const l=r(Jye(o));this.hasMutatedConstraints=!!l,l&&(o=ate(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Du(h=>{if(!IN(h,r,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,S={type:"inertia",velocity:n?e[h]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,S)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return zP(this.visualElement,e),n.start(W8(e,n,0,r,this.visualElement,!1))}stopAnimation(){Du(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Du(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Du(r=>{const{drag:n}=this.getProps();if(!IN(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(e[r]-oa(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!lx(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Du(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Xye({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Du(o=>{if(!IN(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(oa(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;nve.set(this.visualElement,this);const e=this.visualElement.current,r=Wv(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();lx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zi.read(n);const o=wb(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Du(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=XP,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function IN(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ive(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ave extends Tp{constructor(e){super(e),this.removeGroupControls=nu,this.removeListeners=nu,this.controls=new sve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nu}unmount(){this.removeGroupControls(),this.removeListeners()}}const cF=t=>(e,r)=>{t&&zi.postRender(()=>t(e,r))};class ove extends Tp{constructor(){super(...arguments),this.removePointerDownListener=nu}onPointerDown(e){this.session=new rte(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ute(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:cF(e),onStart:cF(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&zi.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Wv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tj={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(mn.test(t))t=parseFloat(t);else return t;const r=uF(t,e.target.x),n=uF(t,e.target.y);return`${r}% ${n}%`}},lve={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=yp.parse(t);if(i.length>5)return n;const a=yp.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=oa(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class cve extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;Txe(uve),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Tj.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||zi.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w8.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dte(t){const[e,r]=GJ(),n=P.useContext(f8);return s.jsx(cve,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(tee),isPresent:e,safeToRemove:r})}const uve={borderRadius:{...Xy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xy,borderTopRightRadius:Xy,borderBottomLeftRadius:Xy,borderBottomRightRadius:Xy,boxShadow:lve};function dve(t,e,r){const n=Ml(t)?t:vb(t);return n.start(W8("",n,e,r)),n.animation}function hve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const fve=(t,e)=>t.depth-e.depth;class mve{constructor(){this.children=[],this.isDirty=!1}add(e){R8(this.children,e),this.isDirty=!0}remove(e){D8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fve),this.isDirty=!1,this.children.forEach(e)}}function pve(t,e){const r=$h.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(xp(n),t(a-e))};return zi.read(n,!0),()=>xp(n)}const hte=["TopLeft","TopRight","BottomLeft","BottomRight"],gve=hte.length,dF=t=>typeof t=="string"?parseFloat(t):t,hF=t=>typeof t=="number"||mn.test(t);function xve(t,e,r,n,i,a){i?(t.opacity=oa(0,r.opacity!==void 0?r.opacity:1,yve(n)),t.opacityExit=oa(e.opacity!==void 0?e.opacity:1,0,vve(n))):a&&(t.opacity=oa(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<gve;o++){const l=`border${hte[o]}Radius`;let c=fF(e,l),u=fF(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||hF(c)===hF(u)?(t[l]=Math.max(oa(dF(c),dF(u),n),0),(Uh.test(u)||Uh.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=oa(e.rotate||0,r.rotate||0,n))}function fF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yve=fte(0,.5,Pee),vve=fte(.5,.95,nu);function fte(t,e,r){return n=>n<t?0:n>e?1:r(x1(t,e,n))}function mF(t,e){t.min=e.min,t.max=e.max}function Pu(t,e){mF(t.x,e.x),mF(t.y,e.y)}function pF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gF(t,e,r,n,i){return t-=e,t=s5(t,1/r,n),i!==void 0&&(t=s5(t,1/i,n)),t}function bve(t,e=0,r=1,n=.5,i,a=t,o=t){if(Uh.test(e)&&(e=parseFloat(e),e=oa(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=oa(a.min,a.max,n);t===a&&(l-=e),t.min=gF(t.min,e,r,l,i),t.max=gF(t.max,e,r,l,i)}function xF(t,e,[r,n,i],a,o){bve(t,e[r],e[n],e[i],e.scale,a,o)}const wve=["x","scaleX","originX"],Nve=["y","scaleY","originY"];function yF(t,e,r,n){xF(t.x,e,wve,r?r.x:void 0,n?n.x:void 0),xF(t.y,e,Nve,r?r.y:void 0,n?n.y:void 0)}function vF(t){return t.translate===0&&t.scale===1}function mte(t){return vF(t.x)&&vF(t.y)}function bF(t,e){return t.min===e.min&&t.max===e.max}function jve(t,e){return bF(t.x,e.x)&&bF(t.y,e.y)}function wF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pte(t,e){return wF(t.x,e.x)&&wF(t.y,e.y)}function NF(t){return ou(t.x)/ou(t.y)}function jF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Sve{constructor(){this.members=[]}add(e){R8(this.members,e),e.scheduleRender()}remove(e){if(D8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cve(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:y,skewX:v,skewY:S}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),f&&(n+=`rotateX(${f}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),S&&(n+=`skewY(${S}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ig={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_v=typeof window<"u"&&window.MotionDebug!==void 0,$A=["","X","Y","Z"],Ave={visibility:"hidden"},SF=1e3;let _ve=0;function zA(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function gte(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=See(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",zi,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&gte(n)}function xte({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=_ve++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_v&&(ig.totalNodes=ig.resolvedTargetDeltas=ig.recalculatedProjection=0),this.nodes.forEach(kve),this.nodes.forEach(Rve),this.nodes.forEach(Dve),this.nodes.forEach(Pve),_v&&window.MotionDebug.record(ig)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mve)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new L8),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hve(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const y=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=pve(y,250),Tj.hasAnimatedSinceResize&&(Tj.hasAnimatedSinceResize=!1,this.nodes.forEach(AF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:y,hasRelativeTargetChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||$ve,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=h.getProps(),E=!this.targetLayout||!pte(this.targetLayout,S)||v,T=!y&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||y&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const M={...P8(w,"layout"),onPlay:N,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else y||AF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CF);return}this.isUpdating||this.nodes.forEach(Ove),this.isUpdating=!1,this.nodes.forEach(Mve),this.nodes.forEach(Eve),this.nodes.forEach(Tve),this.clearAllSnapshots();const l=$h.now();al.delta=tm(0,1e3/60,l-al.timestamp),al.timestamp=l,al.isProcessing=!0,IA.update.process(al),IA.preRender.process(al),IA.render.process(al),al.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ive),this.sharedNodes.forEach(Fve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ta(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!mte(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||sg(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),zve(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ta();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(qve))){const{scroll:h}=this.root;h&&(dx(c.x,h.offset.x),dx(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=Ta();if(Pu(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:y}=h;h!==this.root&&f&&y.layoutScroll&&(f.wasRoot&&Pu(c,o),dx(c.x,f.offset.x),dx(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Ta();Pu(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&hx(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),sg(h.latestValues)&&hx(c,h.latestValues)}return sg(this.latestValues)&&hx(c,this.latestValues),c}removeTransform(o){const l=Ta();Pu(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!sg(u.latestValues))continue;ZP(u.latestValues)&&u.updateSnapshot();const h=Ta(),f=u.measurePageBox();Pu(h,f),yF(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return sg(this.latestValues)&&yF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==al.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:y}=this.options;if(!(!this.layout||!(f||y))){if(this.resolvedRelativeTargetAt=al.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ta(),this.relativeTargetOrigin=Ta(),Yv(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Pu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ta(),this.targetWithTransforms=Ta()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pu(this.target,this.layout.layoutBox),lte(this.target,this.targetDelta)):Pu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ta(),this.relativeTargetOrigin=Ta(),Yv(this.relativeTargetOrigin,this.target,v.target),Pu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_v&&ig.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ZP(this.parent.latestValues)||ote(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===al.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Pu(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;tve(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ta());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pF(this.prevProjectionDelta.x,this.projectionDelta.x),pF(this.prevProjectionDelta.y,this.projectionDelta.y)),Gv(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!jF(this.projectionDelta.x,this.prevProjectionDelta.x)||!jF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),_v&&ig.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ux(),this.projectionDelta=ux(),this.projectionDeltaWithTransform=ux()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=ux();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Ta(),v=c?c.source:void 0,S=this.layout?this.layout.source:void 0,w=v!==S,N=this.getStack(),_=!N||N.members.length<=1,E=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(Uve));this.animationProgress=0;let T;this.mixTargetDelta=M=>{const O=M/1e3;_F(f.x,o.x,O),_F(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yv(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Bve(this.relativeTarget,this.relativeTargetOrigin,y,O),T&&jve(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ta()),Pu(T,this.relativeTarget)),w&&(this.animationValues=h,xve(h,u,this.latestValues,O,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zi.update(()=>{Tj.hasAnimatedSinceResize=!0,this.currentAnimation=dve(0,SF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&yte(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ta();const f=ou(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const y=ou(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+y}Pu(l,c),hx(l,h),Gv(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Sve),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&zA("z",o,u,this.animationValues);for(let h=0;h<$A.length;h++)zA(`rotate${$A[h]}`,o,u,this.animationValues),zA(`skew${$A[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ave;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_j(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=_j(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sg(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const y=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Cve(this.projectionDeltaWithTransform,this.treeScale,y),h&&(u.transform=h(y,u.transform));const{x:v,y:S}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=f===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Jj){if(y[w]===void 0)continue;const{correct:N,applyTo:_}=Jj[w],E=u.transform==="none"?y[w]:N(y[w],f);if(_){const T=_.length;for(let M=0;M<T;M++)u[_[M]]=E}else u[w]=E}return this.options.layoutId&&(u.pointerEvents=f===this?_j(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(CF),this.root.sharedNodes.clear()}}}function Eve(t){t.updateLayout()}function Tve(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?Du(f=>{const y=o?r.measuredBox[f]:r.layoutBox[f],v=ou(y);y.min=n[f].min,y.max=y.min+v}):yte(a,r.layoutBox,n)&&Du(f=>{const y=o?r.measuredBox[f]:r.layoutBox[f],v=ou(n[f]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const l=ux();Gv(l,n,r.layoutBox);const c=ux();o?Gv(c,t.applyTransform(i,!0),r.measuredBox):Gv(c,n,r.layoutBox);const u=!mte(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:y,layout:v}=f;if(y&&v){const S=Ta();Yv(S,r.layoutBox,y.layoutBox);const w=Ta();Yv(w,n,v.layoutBox),pte(S,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kve(t){_v&&ig.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ive(t){t.clearSnapshot()}function CF(t){t.clearMeasurements()}function Ove(t){t.isLayoutDirty=!1}function Mve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rve(t){t.resolveTargetDelta()}function Dve(t){t.calcProjection()}function Lve(t){t.resetSkewAndRotation()}function Fve(t){t.removeLeadSnapshot()}function _F(t,e,r){t.translate=oa(e.translate,0,r),t.scale=oa(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function EF(t,e,r,n){t.min=oa(e.min,r.min,n),t.max=oa(e.max,r.max,n)}function Bve(t,e,r,n){EF(t.x,e.x,r.x,n),EF(t.y,e.y,r.y,n)}function Uve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $ve={duration:.45,ease:[.4,0,.1,1]},TF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kF=TF("applewebkit/")&&!TF("chrome/")?Math.round:nu;function PF(t){t.min=kF(t.min),t.max=kF(t.max)}function zve(t){PF(t.x),PF(t.y)}function yte(t,e,r){return t==="position"||t==="preserve-aspect"&&!Hye(NF(e),NF(r),.2)}function qve(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Vve=xte({attachResizeListener:(t,e)=>wb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qA={current:void 0},vte=xte({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qA.current){const t=new Vve({});t.mount(window),t.setOptions({layoutScroll:!0}),qA.current=t}return qA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Hve={pan:{Feature:ove},drag:{Feature:ave,ProjectionNode:vte,MeasureLayout:dte}};function IF(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&zi.postRender(()=>a(e,d2(e)))}class Wve extends Tp{mount(){const{current:e}=this.node;e&&(this.unmount=Hxe(e,r=>(IF(this.node,r,"Start"),n=>IF(this.node,n,"End"))))}unmount(){}}class Gve extends Tp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=u2(wb(this.node.current,"focus",()=>this.onFocus()),wb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OF(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&zi.postRender(()=>a(e,d2(e)))}class Yve extends Tp{mount(){const{current:e}=this.node;e&&(this.unmount=Kxe(e,r=>(OF(this.node,r,"Start"),(n,{success:i})=>OF(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const JP=new WeakMap,VA=new WeakMap,Kve=t=>{const e=JP.get(t.target);e&&e(t)},Xve=t=>{t.forEach(Kve)};function Zve({root:t,...e}){const r=t||document;VA.has(r)||VA.set(r,{});const n=VA.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Xve,{root:t,...e})),n[i]}function Qve(t,e,r){const n=Zve(e);return JP.set(t,r),n.observe(t),()=>{JP.delete(t),n.unobserve(t)}}const Jve={some:0,all:1};class ebe extends Tp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Jve[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),y=u?h:f;y&&y(c)};return Qve(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(tbe(e,r))&&this.startObserver()}unmount(){}}function tbe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const rbe={inView:{Feature:ebe},tap:{Feature:Yve},focus:{Feature:Gve},hover:{Feature:Wve}},nbe={layout:{ProjectionNode:vte,MeasureLayout:dte}},e6={current:null},bte={current:!1};function sbe(){if(bte.current=!0,!!g8)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>e6.current=t.matches;t.addListener(e),e()}else e6.current=!1}const ibe=[...Hee,El,yp],abe=t=>ibe.find(Vee(t)),MF=new WeakMap;function obe(t,e,r){for(const n in e){const i=e[n],a=r[n];if(Ml(i))t.addValue(n,i);else if(Ml(a))t.addValue(n,vb(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,vb(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const RF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lbe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=$h.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,zi.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=v4(r),this.isVariantNode=JJ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...y}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in y){const S=y[v];c[v]!==void 0&&Ml(S)&&S.set(c[v],!1)}}mount(e){this.current=e,MF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bte.current||sbe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:e6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MF.delete(this.current),this.projection&&this.projection.unmount(),xp(this.notifyUpdate),xp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=f0.has(e),i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&zi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in y1){const r=y1[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ta()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<RF.length;n++){const i=RF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=obe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=vb(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zee(i)||Oee(i))?i=parseFloat(i):!abe(i)&&yp.test(r)&&(i=Bee(e,r)),this.setBaseTarget(e,Ml(i)?i.get():i)),Ml(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=j8(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ml(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new L8),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class wte extends lbe{constructor(){super(...arguments),this.KeyframeResolver=Wee}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ml(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cbe(t){return window.getComputedStyle(t)}class ube extends wte{constructor(){super(...arguments),this.type="html",this.renderInstance=lee}readValueFromInstance(e,r){if(f0.has(r)){const n=z8(r);return n&&n.default||0}else{const n=cbe(e),i=(iee(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return cte(e,r)}build(e,r,n){A8(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return k8(e,r,n)}}class dbe extends wte{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ta}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(f0.has(r)){const n=z8(r);return n&&n.default||0}return r=cee.has(r)?r:b8(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return hee(e,r,n)}build(e,r,n){_8(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){uee(e,r,n,i)}mount(e){this.isSVGTag=T8(e.tagName),super.mount(e)}}const hbe=(t,e)=>N8(t)?new dbe(e):new ube(e,{allowProjection:t!==P.Fragment}),fbe=Fxe({...Dye,...rbe,...Hve,...nbe},hbe),Ev=J0e(fbe);var iy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yg=typeof window>"u"||"Deno"in globalThis;function Bu(){}function mbe(t,e){return typeof t=="function"?t(e):t}function t6(t){return typeof t=="number"&&t>=0&&t!==1/0}function Nte(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wx(t,e){return typeof t=="function"?t(e):t}function Dd(t,e){return typeof t=="function"?t(e):t}function DF(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==G8(o,e.options))return!1}else if(!Nb(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function LF(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Kg(e.options.mutationKey)!==Kg(a))return!1}else if(!Nb(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function G8(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kg)(t)}function Kg(t){return JSON.stringify(t,(e,r)=>r6(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Nb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Nb(t[r],e[r])):!1}function jte(t,e){if(t===e)return t;const r=FF(t)&&FF(e);if(r||r6(t)&&r6(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const h=r?u:a[u];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=jte(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function i5(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function FF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function r6(t){if(!BF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!BF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function BF(t){return Object.prototype.toString.call(t)==="[object Object]"}function pbe(t){return new Promise(e=>{setTimeout(e,t)})}function n6(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?jte(t,e):e}function gbe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xbe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Y8=Symbol();function Ste(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Y8?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jg,Xm,Fx,PK,ybe=(PK=class extends iy{constructor(){super();xt(this,jg);xt(this,Xm);xt(this,Fx);wt(this,Fx,e=>{if(!Yg&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,Xm)||this.setEventListener(ie(this,Fx))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Xm))==null||e.call(this),wt(this,Xm,void 0))}setEventListener(e){var r;wt(this,Fx,e),(r=ie(this,Xm))==null||r.call(this),wt(this,Xm,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ie(this,jg)!==e&&(wt(this,jg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ie(this,jg)=="boolean"?ie(this,jg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jg=new WeakMap,Xm=new WeakMap,Fx=new WeakMap,PK),K8=new ybe,Bx,Zm,Ux,IK,vbe=(IK=class extends iy{constructor(){super();xt(this,Bx,!0);xt(this,Zm);xt(this,Ux);wt(this,Ux,e=>{if(!Yg&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,Zm)||this.setEventListener(ie(this,Ux))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Zm))==null||e.call(this),wt(this,Zm,void 0))}setEventListener(e){var r;wt(this,Ux,e),(r=ie(this,Zm))==null||r.call(this),wt(this,Zm,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Bx)!==e&&(wt(this,Bx,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ie(this,Bx)}},Bx=new WeakMap,Zm=new WeakMap,Ux=new WeakMap,IK),a5=new vbe;function s6(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function bbe(t){return Math.min(1e3*2**t,3e4)}function Cte(t){return(t??"online")==="online"?a5.isOnline():!0}var Ate=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function HA(t){return t instanceof Ate}function _te(t){let e=!1,r=0,n=!1,i;const a=s6(),o=w=>{var N;n||(y(new Ate(w)),(N=t.abort)==null||N.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>K8.isFocused()&&(t.networkMode==="always"||a5.isOnline())&&t.canRun(),h=()=>Cte(t.networkMode)&&t.canRun(),f=w=>{var N;n||(n=!0,(N=t.onSuccess)==null||N.call(t,w),i==null||i(),a.resolve(w))},y=w=>{var N;n||(n=!0,(N=t.onError)==null||N.call(t,w),i==null||i(),a.reject(w))},v=()=>new Promise(w=>{var N;i=_=>{(n||u())&&w(_)},(N=t.onPause)==null||N.call(t)}).then(()=>{var w;i=void 0,n||(w=t.onContinue)==null||w.call(t)}),S=()=>{if(n)return;let w;const N=r===0?t.initialPromise:void 0;try{w=N??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var L;if(n)return;const E=t.retry??(Yg?0:3),T=t.retryDelay??bbe,M=typeof T=="function"?T(r,_):T,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,_);if(e||!O){y(_);return}r++,(L=t.onFail)==null||L.call(t,r,_),pbe(M).then(()=>u()?void 0:v()).then(()=>{e?y(_):S()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?S():v().then(S),a)}}function wbe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ho=wbe(),Sg,OK,Ete=(OK=class{constructor(){xt(this,Sg)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t6(this.gcTime)&&wt(this,Sg,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yg?1/0:300*1e3))}clearGcTimeout(){ie(this,Sg)&&(clearTimeout(ie(this,Sg)),wt(this,Sg,void 0))}},Sg=new WeakMap,OK),$x,zx,Lu,_l,Mw,Cg,Sd,Sf,MK,Nbe=(MK=class extends Ete{constructor(e){super();xt(this,Sd);xt(this,$x);xt(this,zx);xt(this,Lu);xt(this,_l);xt(this,Mw);xt(this,Cg);wt(this,Cg,!1),wt(this,Mw,e.defaultOptions),this.setOptions(e.options),this.observers=[],wt(this,Lu,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,wt(this,$x,jbe(this.options)),this.state=e.state??ie(this,$x),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,_l))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,Mw),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Lu).remove(this)}setData(e,r){const n=n6(this.state.data,e,this.options);return Lt(this,Sd,Sf).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Lt(this,Sd,Sf).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=ie(this,_l))==null?void 0:n.promise;return(i=ie(this,_l))==null||i.cancel(e),r?r.then(Bu).catch(Bu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,$x))}isActive(){return this.observers.some(e=>Dd(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Y8||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Nte(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,_l))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,_l))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,Lu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ie(this,_l)&&(ie(this,Cg)?ie(this,_l).cancel({revert:!0}):ie(this,_l).cancelRetry()),this.scheduleGc()),ie(this,Lu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Sd,Sf).call(this,{type:"invalidate"})}fetch(e,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,_l))return ie(this,_l).continueRetry(),ie(this,_l).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(y=>y.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(wt(this,Cg,!0),n.signal)})},a=()=>{const f=Ste(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),wt(this,Cg,!1),this.options.persister?this.options.persister(f,y,this):f(y)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),wt(this,zx,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Lt(this,Sd,Sf).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=f=>{var y,v,S,w;HA(f)&&f.silent||Lt(this,Sd,Sf).call(this,{type:"error",error:f}),HA(f)||((v=(y=ie(this,Lu).config).onError)==null||v.call(y,f,this),(w=(S=ie(this,Lu).config).onSettled)==null||w.call(S,this.state.data,f,this)),this.scheduleGc()};return wt(this,_l,_te({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var y,v,S,w;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(N){l(N);return}(v=(y=ie(this,Lu).config).onSuccess)==null||v.call(y,f,this),(w=(S=ie(this,Lu).config).onSettled)==null||w.call(S,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,y)=>{Lt(this,Sd,Sf).call(this,{type:"failed",failureCount:f,error:y})},onPause:()=>{Lt(this,Sd,Sf).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Sd,Sf).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ie(this,_l).start()}},$x=new WeakMap,zx=new WeakMap,Lu=new WeakMap,_l=new WeakMap,Mw=new WeakMap,Cg=new WeakMap,Sd=new WeakSet,Sf=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Tte(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return HA(i)&&i.revert&&ie(this,zx)?{...ie(this,zx),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ho.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,Lu).notify({query:this,type:"updated",action:e})})},MK);function Tte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cte(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jbe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sh,RK,Sbe=(RK=class extends iy{constructor(e={}){super();xt(this,Sh);this.config=e,wt(this,Sh,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??G8(i,r);let o=this.get(a);return o||(o=new Nbe({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ie(this,Sh).has(e.queryHash)||(ie(this,Sh).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ie(this,Sh).get(e.queryHash);r&&(e.destroy(),r===e&&ie(this,Sh).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ho.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Sh).get(e)}getAll(){return[...ie(this,Sh).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>DF(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>DF(e,n)):r}notify(e){ho.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ho.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ho.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sh=new WeakMap,RK),Ch,Zl,Ag,Ah,qm,DK,Cbe=(DK=class extends Ete{constructor(e){super();xt(this,Ah);xt(this,Ch);xt(this,Zl);xt(this,Ag);this.mutationId=e.mutationId,wt(this,Zl,e.mutationCache),wt(this,Ch,[]),this.state=e.state||kte(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,Ch).includes(e)||(ie(this,Ch).push(e),this.clearGcTimeout(),ie(this,Zl).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){wt(this,Ch,ie(this,Ch).filter(r=>r!==e)),this.scheduleGc(),ie(this,Zl).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,Ch).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Zl).remove(this))}continue(){var e;return((e=ie(this,Ag))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,u,h,f,y,v,S,w,N,_,E,T,M,O,L,B;wt(this,Ag,_te({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(U,$)=>{Lt(this,Ah,qm).call(this,{type:"failed",failureCount:U,error:$})},onPause:()=>{Lt(this,Ah,qm).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Ah,qm).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Zl).canRun(this)}));const r=this.state.status==="pending",n=!ie(this,Ag).canStart();try{if(!r){Lt(this,Ah,qm).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=ie(this,Zl).config).onMutate)==null?void 0:a.call(i,e,this));const $=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));$!==this.state.context&&Lt(this,Ah,qm).call(this,{type:"pending",context:$,variables:e,isPaused:n})}const U=await ie(this,Ag).start();return await((u=(c=ie(this,Zl).config).onSuccess)==null?void 0:u.call(c,U,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,U,e,this.state.context)),await((v=(y=ie(this,Zl).config).onSettled)==null?void 0:v.call(y,U,null,this.state.variables,this.state.context,this)),await((w=(S=this.options).onSettled)==null?void 0:w.call(S,U,null,e,this.state.context)),Lt(this,Ah,qm).call(this,{type:"success",data:U}),U}catch(U){try{throw await((_=(N=ie(this,Zl).config).onError)==null?void 0:_.call(N,U,e,this.state.context,this)),await((T=(E=this.options).onError)==null?void 0:T.call(E,U,e,this.state.context)),await((O=(M=ie(this,Zl).config).onSettled)==null?void 0:O.call(M,void 0,U,this.state.variables,this.state.context,this)),await((B=(L=this.options).onSettled)==null?void 0:B.call(L,void 0,U,e,this.state.context)),U}finally{Lt(this,Ah,qm).call(this,{type:"error",error:U})}}finally{ie(this,Zl).runNext(this)}}},Ch=new WeakMap,Zl=new WeakMap,Ag=new WeakMap,Ah=new WeakSet,qm=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ho.batch(()=>{ie(this,Ch).forEach(n=>{n.onMutationUpdate(e)}),ie(this,Zl).notify({mutation:this,type:"updated",action:e})})},DK);function kte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xc,Rw,LK,Abe=(LK=class extends iy{constructor(e={}){super();xt(this,Xc);xt(this,Rw);this.config=e,wt(this,Xc,new Map),wt(this,Rw,Date.now())}build(e,r,n){const i=new Cbe({mutationCache:this,mutationId:++AN(this,Rw)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=ON(e),n=ie(this,Xc).get(r)??[];n.push(e),ie(this,Xc).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=ON(e);if(ie(this,Xc).has(r)){const i=(n=ie(this,Xc).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?ie(this,Xc).delete(r):ie(this,Xc).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=ie(this,Xc).get(ON(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=ie(this,Xc).get(ON(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ho.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ie(this,Xc).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>LF(r,n))}findAll(e={}){return this.getAll().filter(r=>LF(e,r))}notify(e){ho.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ho.batch(()=>Promise.all(e.map(r=>r.continue().catch(Bu))))}},Xc=new WeakMap,Rw=new WeakMap,LK);function ON(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function UF(t){return{onFetch:(e,r)=>{var h,f,y,v,S;const n=e.options,i=(y=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:y.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const N=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=Ste(e.options,e.fetchOptions),E=async(T,M,O)=>{if(w)return Promise.reject();if(M==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:M,direction:O?"backward":"forward",meta:e.options.meta};N(L);const B=await _(L),{maxPages:U}=e.options,$=O?xbe:gbe;return{pages:$(T.pages,B,U),pageParams:$(T.pageParams,M,U)}};if(i&&a.length){const T=i==="backward",M=T?_be:$F,O={pages:a,pageParams:o},L=M(n,O);l=await E(O,L,T)}else{const T=t??a.length;do{const M=c===0?o[0]??n.initialPageParam:$F(n,l);if(c>0&&M==null)break;l=await E(l,M),c++}while(c<T)}return l};e.options.persister?e.fetchFn=()=>{var w,N;return(N=(w=e.options).persister)==null?void 0:N.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function $F(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function _be(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ya,Qm,Jm,qx,Vx,ep,Hx,Wx,FK,Ebe=(FK=class{constructor(t={}){xt(this,ya);xt(this,Qm);xt(this,Jm);xt(this,qx);xt(this,Vx);xt(this,ep);xt(this,Hx);xt(this,Wx);wt(this,ya,t.queryCache||new Sbe),wt(this,Qm,t.mutationCache||new Abe),wt(this,Jm,t.defaultOptions||{}),wt(this,qx,new Map),wt(this,Vx,new Map),wt(this,ep,0)}mount(){AN(this,ep)._++,ie(this,ep)===1&&(wt(this,Hx,K8.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,ya).onFocus())})),wt(this,Wx,a5.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,ya).onOnline())})))}unmount(){var t,e;AN(this,ep)._--,ie(this,ep)===0&&((t=ie(this,Hx))==null||t.call(this),wt(this,Hx,void 0),(e=ie(this,Wx))==null||e.call(this),wt(this,Wx,void 0))}isFetching(t){return ie(this,ya).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Qm).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,ya).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=ie(this,ya).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(wx(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return ie(this,ya).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=ie(this,ya).get(n.queryHash),a=i==null?void 0:i.state.data,o=mbe(e,a);if(o!==void 0)return ie(this,ya).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ho.batch(()=>ie(this,ya).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,ya).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ie(this,ya);ho.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ie(this,ya),n={type:"active",...t};return ho.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ho.batch(()=>ie(this,ya).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Bu).catch(Bu)}invalidateQueries(t={},e={}){return ho.batch(()=>{if(ie(this,ya).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ho.batch(()=>ie(this,ya).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Bu)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Bu)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ie(this,ya).build(this,e);return r.isStaleByTime(wx(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bu).catch(Bu)}fetchInfiniteQuery(t){return t.behavior=UF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bu).catch(Bu)}ensureInfiniteQueryData(t){return t.behavior=UF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return a5.isOnline()?ie(this,Qm).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,ya)}getMutationCache(){return ie(this,Qm)}getDefaultOptions(){return ie(this,Jm)}setDefaultOptions(t){wt(this,Jm,t)}setQueryDefaults(t,e){ie(this,qx).set(Kg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,qx).values()];let r={};return e.forEach(n=>{Nb(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){ie(this,Vx).set(Kg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Vx).values()];let r={};return e.forEach(n=>{Nb(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,Jm).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=G8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Y8&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Jm).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,ya).clear(),ie(this,Qm).clear()}},ya=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,qx=new WeakMap,Vx=new WeakMap,ep=new WeakMap,Hx=new WeakMap,Wx=new WeakMap,FK),wc,cs,Dw,Ql,_g,Gx,tp,_h,Lw,Yx,Kx,Eg,Tg,rp,Xx,Vs,Tv,i6,a6,o6,l6,c6,u6,d6,Pte,BK,Tbe=(BK=class extends iy{constructor(e,r){super();xt(this,Vs);xt(this,wc);xt(this,cs);xt(this,Dw);xt(this,Ql);xt(this,_g);xt(this,Gx);xt(this,tp);xt(this,_h);xt(this,Lw);xt(this,Yx);xt(this,Kx);xt(this,Eg);xt(this,Tg);xt(this,rp);xt(this,Xx,new Set);this.options=r,wt(this,wc,e),wt(this,_h,null),wt(this,tp,s6()),this.options.experimental_prefetchInRender||ie(this,tp).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,cs).addObserver(this),zF(ie(this,cs),this.options)?Lt(this,Vs,Tv).call(this):this.updateResult(),Lt(this,Vs,l6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h6(ie(this,cs),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h6(ie(this,cs),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,Vs,c6).call(this),Lt(this,Vs,u6).call(this),ie(this,cs).removeObserver(this)}setOptions(e,r){const n=this.options,i=ie(this,cs);if(this.options=ie(this,wc).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dd(this.options.enabled,ie(this,cs))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,Vs,d6).call(this),ie(this,cs).setOptions(this.options),n._defaulted&&!i5(this.options,n)&&ie(this,wc).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,cs),observer:this});const a=this.hasListeners();a&&qF(ie(this,cs),i,this.options,n)&&Lt(this,Vs,Tv).call(this),this.updateResult(r),a&&(ie(this,cs)!==i||Dd(this.options.enabled,ie(this,cs))!==Dd(n.enabled,ie(this,cs))||wx(this.options.staleTime,ie(this,cs))!==wx(n.staleTime,ie(this,cs)))&&Lt(this,Vs,i6).call(this);const o=Lt(this,Vs,a6).call(this);a&&(ie(this,cs)!==i||Dd(this.options.enabled,ie(this,cs))!==Dd(n.enabled,ie(this,cs))||o!==ie(this,rp))&&Lt(this,Vs,o6).call(this,o)}getOptimisticResult(e){const r=ie(this,wc).getQueryCache().build(ie(this,wc),e),n=this.createResult(r,e);return Pbe(this,n)&&(wt(this,Ql,n),wt(this,Gx,this.options),wt(this,_g,ie(this,cs).state)),n}getCurrentResult(){return ie(this,Ql)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){ie(this,Xx).add(e)}getCurrentQuery(){return ie(this,cs)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=ie(this,wc).defaultQueryOptions(e),n=ie(this,wc).getQueryCache().build(ie(this,wc),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Lt(this,Vs,Tv).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,Ql)))}createResult(e,r){var U;const n=ie(this,cs),i=this.options,a=ie(this,Ql),o=ie(this,_g),l=ie(this,Gx),u=e!==n?e.state:ie(this,Dw),{state:h}=e;let f={...h},y=!1,v;if(r._optimisticResults){const $=this.hasListeners(),K=!$&&zF(e,r),q=$&&qF(e,n,r,i);(K||q)&&(f={...f,...Tte(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:S,errorUpdatedAt:w,status:N}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===ie(this,Lw))v=ie(this,Yx);else try{wt(this,Lw,r.select),v=r.select(f.data),v=n6(a==null?void 0:a.data,v,r),wt(this,Yx,v),wt(this,_h,null)}catch($){wt(this,_h,$)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&N==="pending"){let $;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))$=a.data;else if($=typeof r.placeholderData=="function"?r.placeholderData((U=ie(this,Kx))==null?void 0:U.state.data,ie(this,Kx)):r.placeholderData,r.select&&$!==void 0)try{$=r.select($),wt(this,_h,null)}catch(K){wt(this,_h,K)}$!==void 0&&(N="success",v=n6(a==null?void 0:a.data,$,r),y=!0)}ie(this,_h)&&(S=ie(this,_h),v=ie(this,Yx),w=Date.now(),N="error");const _=f.fetchStatus==="fetching",E=N==="pending",T=N==="error",M=E&&_,O=v!==void 0,B={status:N,fetchStatus:f.fetchStatus,isPending:E,isSuccess:N==="success",isError:T,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:f.dataUpdatedAt,error:S,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:T&&!O,isPaused:f.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&O,isStale:X8(e,r),refetch:this.refetch,promise:ie(this,tp)};if(this.options.experimental_prefetchInRender){const $=H=>{B.status==="error"?H.reject(B.error):B.data!==void 0&&H.resolve(B.data)},K=()=>{const H=wt(this,tp,B.promise=s6());$(H)},q=ie(this,tp);switch(q.status){case"pending":e.queryHash===n.queryHash&&$(q);break;case"fulfilled":(B.status==="error"||B.data!==q.value)&&K();break;case"rejected":(B.status!=="error"||B.error!==q.reason)&&K();break}}return B}updateResult(e){const r=ie(this,Ql),n=this.createResult(ie(this,cs),this.options);if(wt(this,_g,ie(this,cs).state),wt(this,Gx,this.options),ie(this,_g).data!==void 0&&wt(this,Kx,ie(this,cs)),i5(n,r))return;wt(this,Ql,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!ie(this,Xx).size)return!0;const c=new Set(l??ie(this,Xx));return this.options.throwOnError&&c.add("error"),Object.keys(ie(this,Ql)).some(u=>{const h=u;return ie(this,Ql)[h]!==r[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Lt(this,Vs,Pte).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,Vs,l6).call(this)}},wc=new WeakMap,cs=new WeakMap,Dw=new WeakMap,Ql=new WeakMap,_g=new WeakMap,Gx=new WeakMap,tp=new WeakMap,_h=new WeakMap,Lw=new WeakMap,Yx=new WeakMap,Kx=new WeakMap,Eg=new WeakMap,Tg=new WeakMap,rp=new WeakMap,Xx=new WeakMap,Vs=new WeakSet,Tv=function(e){Lt(this,Vs,d6).call(this);let r=ie(this,cs).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Bu)),r},i6=function(){Lt(this,Vs,c6).call(this);const e=wx(this.options.staleTime,ie(this,cs));if(Yg||ie(this,Ql).isStale||!t6(e))return;const n=Nte(ie(this,Ql).dataUpdatedAt,e)+1;wt(this,Eg,setTimeout(()=>{ie(this,Ql).isStale||this.updateResult()},n))},a6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,cs)):this.options.refetchInterval)??!1},o6=function(e){Lt(this,Vs,u6).call(this),wt(this,rp,e),!(Yg||Dd(this.options.enabled,ie(this,cs))===!1||!t6(ie(this,rp))||ie(this,rp)===0)&&wt(this,Tg,setInterval(()=>{(this.options.refetchIntervalInBackground||K8.isFocused())&&Lt(this,Vs,Tv).call(this)},ie(this,rp)))},l6=function(){Lt(this,Vs,i6).call(this),Lt(this,Vs,o6).call(this,Lt(this,Vs,a6).call(this))},c6=function(){ie(this,Eg)&&(clearTimeout(ie(this,Eg)),wt(this,Eg,void 0))},u6=function(){ie(this,Tg)&&(clearInterval(ie(this,Tg)),wt(this,Tg,void 0))},d6=function(){const e=ie(this,wc).getQueryCache().build(ie(this,wc),this.options);if(e===ie(this,cs))return;const r=ie(this,cs);wt(this,cs,e),wt(this,Dw,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Pte=function(e){ho.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(ie(this,Ql))}),ie(this,wc).getQueryCache().notify({query:ie(this,cs),type:"observerResultsUpdated"})})},BK);function kbe(t,e){return Dd(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zF(t,e){return kbe(t,e)||t.state.data!==void 0&&h6(t,e,e.refetchOnMount)}function h6(t,e,r){if(Dd(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&X8(t,e)}return!1}function qF(t,e,r,n){return(t!==e||Dd(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&X8(t,r)}function X8(t,e){return Dd(e.enabled,t)!==!1&&t.isStaleByTime(wx(e.staleTime,t))}function Pbe(t,e){return!i5(t.getCurrentResult(),e)}var np,sp,Nc,kf,Jf,kj,f6,UK,Ibe=(UK=class extends iy{constructor(r,n){super();xt(this,Jf);xt(this,np);xt(this,sp);xt(this,Nc);xt(this,kf);wt(this,np,r),this.setOptions(n),this.bindMethods(),Lt(this,Jf,kj).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=ie(this,np).defaultMutationOptions(r),i5(this.options,n)||ie(this,np).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Nc),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Kg(n.mutationKey)!==Kg(this.options.mutationKey)?this.reset():((i=ie(this,Nc))==null?void 0:i.state.status)==="pending"&&ie(this,Nc).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ie(this,Nc))==null||r.removeObserver(this)}onMutationUpdate(r){Lt(this,Jf,kj).call(this),Lt(this,Jf,f6).call(this,r)}getCurrentResult(){return ie(this,sp)}reset(){var r;(r=ie(this,Nc))==null||r.removeObserver(this),wt(this,Nc,void 0),Lt(this,Jf,kj).call(this),Lt(this,Jf,f6).call(this)}mutate(r,n){var i;return wt(this,kf,n),(i=ie(this,Nc))==null||i.removeObserver(this),wt(this,Nc,ie(this,np).getMutationCache().build(ie(this,np),this.options)),ie(this,Nc).addObserver(this),ie(this,Nc).execute(r)}},np=new WeakMap,sp=new WeakMap,Nc=new WeakMap,kf=new WeakMap,Jf=new WeakSet,kj=function(){var n;const r=((n=ie(this,Nc))==null?void 0:n.state)??kte();wt(this,sp,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},f6=function(r){ho.batch(()=>{var n,i,a,o,l,c,u,h;if(ie(this,kf)&&this.hasListeners()){const f=ie(this,sp).variables,y=ie(this,sp).context;(r==null?void 0:r.type)==="success"?((i=(n=ie(this,kf)).onSuccess)==null||i.call(n,r.data,f,y),(o=(a=ie(this,kf)).onSettled)==null||o.call(a,r.data,null,f,y)):(r==null?void 0:r.type)==="error"&&((c=(l=ie(this,kf)).onError)==null||c.call(l,r.error,f,y),(h=(u=ie(this,kf)).onSettled)==null||h.call(u,void 0,r.error,f,y))}this.listeners.forEach(f=>{f(ie(this,sp))})})},UK),Ite=P.createContext(void 0),ay=t=>{const e=P.useContext(Ite);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Obe=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Ite.Provider,{value:t,children:e})),Ote=P.createContext(!1),Mbe=()=>P.useContext(Ote);Ote.Provider;function Rbe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Dbe=P.createContext(Rbe()),Lbe=()=>P.useContext(Dbe);function Mte(t,e){return typeof t=="function"?t(...e):!!t}function m6(){}var Fbe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Bbe=t=>{P.useEffect(()=>{t.clearReset()},[t])},Ube=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Mte(r,[t.error,n]),$be=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},zbe=(t,e)=>t.isLoading&&t.isFetching&&!e,qbe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,VF=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Vbe(t,e,r){var h,f,y,v,S;const n=ay(),i=Mbe(),a=Lbe(),o=n.defaultQueryOptions(t);(f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",$be(o),Fbe(o,a),Bbe(a);const l=!n.getQueryCache().get(o.queryHash),[c]=P.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(P.useSyncExternalStore(P.useCallback(w=>{const N=i?m6:c.subscribe(ho.batchCalls(w));return c.updateResult(),N},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),qbe(o,u))throw VF(o,c,a);if(Ube({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,o,u),o.experimental_prefetchInRender&&!Yg&&zbe(u,i)){const w=l?VF(o,c,a):(S=n.getQueryCache().get(o.queryHash))==null?void 0:S.promise;w==null||w.catch(m6).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Nr(t,e){return Vbe(t,Tbe)}function Ln(t,e){const r=ay(),[n]=P.useState(()=>new Ibe(r,t));P.useEffect(()=>{n.setOptions(t)},[n,t]);const i=P.useSyncExternalStore(P.useCallback(o=>n.subscribe(ho.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=P.useCallback((o,l)=>{n.mutate(o,l).catch(m6)},[n]);if(i.error&&Mte(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/*! Capacitor: https://capacitorjs.com/ - MIT License */var b1;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(b1||(b1={}));class WA extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const Hbe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Wbe=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:Hbe(t),a=()=>i()!=="web",o=f=>{const y=u.get(f);return!!(y!=null&&y.platforms.has(i())||l(f))},l=f=>{var y;return(y=r.PluginHeaders)===null||y===void 0?void 0:y.find(v=>v.name===f)},c=f=>t.console.error(f),u=new Map,h=(f,y={})=>{const v=u.get(f);if(v)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),v.proxy;const S=i(),w=l(f);let N;const _=async()=>(!N&&S in y?N=typeof y[S]=="function"?N=await y[S]():N=y[S]:e!==null&&!N&&"web"in y&&(N=typeof y.web=="function"?N=await y.web():N=y.web),N),E=(U,$)=>{var K,q;if(w){const H=w==null?void 0:w.methods.find(Q=>$===Q.name);if(H)return H.rtype==="promise"?Q=>r.nativePromise(f,$.toString(),Q):(Q,Z)=>r.nativeCallback(f,$.toString(),Q,Z);if(U)return(K=U[$])===null||K===void 0?void 0:K.bind(U)}else{if(U)return(q=U[$])===null||q===void 0?void 0:q.bind(U);throw new WA(`"${f}" plugin is not implemented on ${S}`,b1.Unimplemented)}},T=U=>{let $;const K=(...q)=>{const H=_().then(Q=>{const Z=E(Q,U);if(Z){const J=Z(...q);return $=J==null?void 0:J.remove,J}else throw new WA(`"${f}.${U}()" is not implemented on ${S}`,b1.Unimplemented)});return U==="addListener"&&(H.remove=async()=>$()),H};return K.toString=()=>`${U.toString()}() { [capacitor code] }`,Object.defineProperty(K,"name",{value:U,writable:!1,configurable:!1}),K},M=T("addListener"),O=T("removeListener"),L=(U,$)=>{const K=M({eventName:U},$),q=async()=>{const Q=await K;O({eventName:U,callbackId:Q},$)},H=new Promise(Q=>K.then(()=>Q({remove:q})));return H.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},H},B=new Proxy({},{get(U,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?L:M;case"removeListener":return O;default:return T($)}}});return n[f]=B,u.set(f,{name:f,proxy:B,platforms:new Set([...Object.keys(y),...w?[S]:[]])}),B};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=i,r.handleError=c,r.isNativePlatform=a,r.isPluginAvailable=o,r.registerPlugin=h,r.Exception=WA,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Gbe=t=>t.Capacitor=Wbe(t),w1=Gbe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Rte=w1.registerPlugin;class Dte{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let a=this.retainedEventArguments[e];a||(a=[]),a.push(r),this.retainedEventArguments[e]=a}return}i.forEach(a=>a(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new w1.Exception(e,b1.Unimplemented)}unavailable(e="not available"){return new w1.Exception(e,b1.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const HF=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),WF=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ybe extends Dte{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=WF(i).trim(),a=WF(a).trim(),r[i]=a}),r}async setCookie(e){try{const r=HF(e.key),n=HF(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${a}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Rte("CapacitorCookies",{web:()=>new Ybe});const Kbe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),Xbe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,a,o)=>(i[a]=t[e[o]],i),{})},Zbe=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[a,o]=i;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${a}=${l}`),`${n}&${c}`},"").substr(1):null,Qbe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Xbe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))a.set(o,l);r.body=a.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(t.data))a.append(l,t.data[l]);r.body=a;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class Jbe extends Dte{async request(e){const r=Qbe(e,e.webFetchExtra),n=Zbe(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,a=await fetch(i,r),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?e:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await a.blob(),c=await Kbe(u);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const h={};return a.headers.forEach((f,y)=>{h[y]=f}),{data:c,headers:h,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Rte("CapacitorHttp",{web:()=>new Jbe});const ewe="https://api.alga.et",twe=w1.isNativePlatform();function Lte(t){return twe?`${ewe}${t}`:t}async function Fte(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function xn(t,e,r){const n=new AbortController,i=setTimeout(()=>n.abort(),3e4),a=Lte(e);try{const o=await fetch(a,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include",signal:n.signal});return clearTimeout(i),await Fte(o),await o.json()}catch(o){throw clearTimeout(i),o.name==="AbortError"?new Error("Request timeout - please try again"):o}}const Z8=({on401:t})=>async({queryKey:e})=>{const r=Lte(e[0]),n=await fetch(r,{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Fte(n),await n.json())},zn=new Ebe({defaultOptions:{queries:{queryFn:Z8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),rwe=1,nwe=1e6;let GA=0;function swe(){return GA=(GA+1)%Number.MAX_SAFE_INTEGER,GA.toString()}const YA=new Map,GF=t=>{if(YA.has(t))return;const e=setTimeout(()=>{YA.delete(t),Kv({type:"REMOVE_TOAST",toastId:t})},nwe);YA.set(t,e)},iwe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rwe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?GF(r):t.toasts.forEach(n=>{GF(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Pj=[];let Ij={toasts:[]};function Kv(t){Ij=iwe(Ij,t),Pj.forEach(e=>{e(Ij)})}function awe({...t}){const e=swe(),r=i=>Kv({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Kv({type:"DISMISS_TOAST",toastId:e});return Kv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Vn(){const[t,e]=P.useState(Ij);return P.useEffect(()=>(Pj.push(e),()=>{const r=Pj.indexOf(e);r>-1&&Pj.splice(r,1)}),[t]),{...t,toast:awe,dismiss:r=>Kv({type:"DISMISS_TOAST",toastId:r})}}function Jt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function YF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function N4(...t){return e=>{let r=!1;const n=t.map(i=>{const a=YF(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():YF(t[i],null)}}}}function Pn(...t){return P.useCallback(N4(...t),t)}function owe(t,e){const r=P.createContext(e),n=a=>{const{children:o,...l}=a,c=P.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=P.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function yo(t,e=[]){let r=[];function n(a,o){const l=P.createContext(o),c=r.length;r=[...r,o];const u=f=>{var _;const{scope:y,children:v,...S}=f,w=((_=y==null?void 0:y[t])==null?void 0:_[c])||l,N=P.useMemo(()=>S,Object.values(S));return s.jsx(w.Provider,{value:N,children:v})};u.displayName=a+"Provider";function h(f,y){var w;const v=((w=y==null?void 0:y[t])==null?void 0:w[c])||l,S=P.useContext(v);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(o=>P.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return P.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,lwe(i,...e)]}function lwe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Xg(t){const e=cwe(t),r=P.forwardRef((n,i)=>{const{children:a,...o}=n,l=P.Children.toArray(a),c=l.find(uwe);if(c){const u=c.props.children,h=l.map(f=>f===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:P.isValidElement(u)?P.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var Bte=Xg("Slot");function cwe(t){const e=P.forwardRef((r,n)=>{const{children:i,...a}=r;if(P.isValidElement(i)){const o=hwe(i),l=dwe(a,i.props);return i.type!==P.Fragment&&(l.ref=n?N4(n,o):o),P.cloneElement(i,l)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ute=Symbol("radix.slottable");function $te(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ute,e}function uwe(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ute}function dwe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function hwe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function h2(t){const e=t+"CollectionProvider",[r,n]=yo(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:N,children:_}=w,E=Le.useRef(null),T=Le.useRef(new Map).current;return s.jsx(i,{scope:N,itemMap:T,collectionRef:E,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=Xg(l),u=Le.forwardRef((w,N)=>{const{scope:_,children:E}=w,T=a(l,_),M=Pn(N,T.collectionRef);return s.jsx(c,{ref:M,children:E})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",y=Xg(h),v=Le.forwardRef((w,N)=>{const{scope:_,children:E,...T}=w,M=Le.useRef(null),O=Pn(N,M),L=a(h,_);return Le.useEffect(()=>(L.itemMap.set(M,{ref:M,...T}),()=>void L.itemMap.delete(M))),s.jsx(y,{[f]:"",ref:O,children:E})});v.displayName=h;function S(w){const N=a(t+"CollectionConsumer",w);return Le.useCallback(()=>{const E=N.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(N.itemMap.values()).sort((L,B)=>T.indexOf(L.ref.current)-T.indexOf(B.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},S,n]}var fwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Tr=fwe.reduce((t,e)=>{const r=Xg(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Q8(t,e){t&&h0.flushSync(()=>t.dispatchEvent(e))}function Gi(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function mwe(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var pwe="DismissableLayer",p6="dismissableLayer.update",gwe="dismissableLayer.pointerDownOutside",xwe="dismissableLayer.focusOutside",KF,zte=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oy=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=P.useContext(zte),[h,f]=P.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=P.useState({}),S=Pn(e,B=>f(B)),w=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(N),E=h?w.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,M=E>=_,O=vwe(B=>{const U=B.target,$=[...u.branches].some(K=>K.contains(U));!M||$||(i==null||i(B),o==null||o(B),B.defaultPrevented||l==null||l())},y),L=bwe(B=>{const U=B.target;[...u.branches].some(K=>K.contains(U))||(a==null||a(B),o==null||o(B),B.defaultPrevented||l==null||l())},y);return mwe(B=>{E===u.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},y),P.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KF=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),XF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=KF)}},[h,y,r,u]),P.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),XF())},[h,u]),P.useEffect(()=>{const B=()=>v({});return document.addEventListener(p6,B),()=>document.removeEventListener(p6,B)},[]),s.jsx(Tr.div,{...c,ref:S,style:{pointerEvents:T?M?"auto":"none":void 0,...t.style},onFocusCapture:Jt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Jt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Jt(t.onPointerDownCapture,O.onPointerDownCapture)})});oy.displayName=pwe;var ywe="DismissableLayerBranch",qte=P.forwardRef((t,e)=>{const r=P.useContext(zte),n=P.useRef(null),i=Pn(e,n);return P.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Tr.div,{...t,ref:i})});qte.displayName=ywe;function vwe(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Vte(gwe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bwe(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t),n=P.useRef(!1);return P.useEffect(()=>{const i=a=>{a.target&&!n.current&&Vte(xwe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XF(){const t=new CustomEvent(p6);document.dispatchEvent(t)}function Vte(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Q8(i,a):i.dispatchEvent(a)}var wwe=oy,Nwe=qte,Ba=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},jwe="Portal",f2=P.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,a]=P.useState(!1);Ba(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gb.createPortal(s.jsx(Tr.div,{...n,ref:e}),o):null});f2.displayName=jwe;function Swe(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var cl=t=>{const{present:e,children:r}=t,n=Cwe(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),a=Pn(n.ref,Awe(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:a}):null};cl.displayName="Presence";function Cwe(t){const[e,r]=P.useState(),n=P.useRef({}),i=P.useRef(t),a=P.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Swe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=MN(n.current);a.current=l==="mounted"?u:"none"},[l]),Ba(()=>{const u=n.current,h=i.current;if(h!==t){const y=a.current,v=MN(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Ba(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const w=MN(n.current).includes(v.animationName);if(v.target===e&&w&&(c("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},y=v=>{v.target===e&&(a.current=MN(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function MN(t){return(t==null?void 0:t.animationName)||"none"}function Awe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function lu({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=_we({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=Gi(r),c=P.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else i(u)},[a,t,i,l]);return[o,c]}function _we({defaultProp:t,onChange:e}){const r=P.useState(t),[n]=r,i=P.useRef(n),a=Gi(e);return P.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Ewe="VisuallyHidden",m2=P.forwardRef((t,e)=>s.jsx(Tr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));m2.displayName=Ewe;var Twe=m2,J8="ToastProvider",[eM,kwe,Pwe]=h2("Toast"),[Hte]=yo("Toast",[Pwe]),[Iwe,j4]=Hte(J8),Wte=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=P.useState(null),[u,h]=P.useState(0),f=P.useRef(!1),y=P.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${J8}\`. Expected non-empty \`string\`.`),s.jsx(eM.Provider,{scope:e,children:s.jsx(Iwe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:P.useCallback(()=>h(v=>v+1),[]),onToastRemove:P.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:y,children:o})})};Wte.displayName=J8;var Gte="ToastViewport",Owe=["F8"],g6="toast.viewportPause",x6="toast.viewportResume",Yte=P.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Owe,label:i="Notifications ({hotkey})",...a}=t,o=j4(Gte,r),l=kwe(r),c=P.useRef(null),u=P.useRef(null),h=P.useRef(null),f=P.useRef(null),y=Pn(e,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;P.useEffect(()=>{const N=_=>{var T;n.length!==0&&n.every(M=>_[M]||_.code===M)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),P.useEffect(()=>{const N=c.current,_=f.current;if(S&&N&&_){const E=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(g6);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(x6);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},M=L=>{!N.contains(L.relatedTarget)&&T()},O=()=>{N.contains(document.activeElement)||T()};return N.addEventListener("focusin",E),N.addEventListener("focusout",M),N.addEventListener("pointermove",E),N.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",T),()=>{N.removeEventListener("focusin",E),N.removeEventListener("focusout",M),N.removeEventListener("pointermove",E),N.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const w=P.useCallback(({tabbingDirection:N})=>{const E=l().map(T=>{const M=T.ref.current,O=[M,...Wwe(M)];return N==="forwards"?O:O.reverse()});return(N==="forwards"?E.reverse():E).flat()},[l]);return P.useEffect(()=>{const N=f.current;if(N){const _=E=>{var O,L,B;const T=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!T){const U=document.activeElement,$=E.shiftKey;if(E.target===N&&$){(O=u.current)==null||O.focus();return}const H=w({tabbingDirection:$?"backwards":"forwards"}),Q=H.findIndex(Z=>Z===U);KA(H.slice(Q+1))?E.preventDefault():$?(L=u.current)==null||L.focus():(B=h.current)==null||B.focus()}};return N.addEventListener("keydown",_),()=>N.removeEventListener("keydown",_)}},[l,w]),s.jsxs(Nwe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&s.jsx(y6,{ref:u,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});KA(N)}}),s.jsx(eM.Slot,{scope:r,children:s.jsx(Tr.ol,{tabIndex:-1,...a,ref:y})}),S&&s.jsx(y6,{ref:h,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});KA(N)}})]})});Yte.displayName=Gte;var Kte="ToastFocusProxy",y6=P.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=j4(Kte,r);return s.jsx(m2,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});y6.displayName=Kte;var S4="Toast",Mwe="toast.swipeStart",Rwe="toast.swipeMove",Dwe="toast.swipeCancel",Lwe="toast.swipeEnd",Xte=P.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=lu({prop:n,defaultProp:i,onChange:a});return s.jsx(cl,{present:r||l,children:s.jsx(Uwe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Gi(t.onPause),onResume:Gi(t.onResume),onSwipeStart:Jt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Jt(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Jt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Jt(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Xte.displayName=S4;var[Fwe,Bwe]=Hte(S4,{onClose(){}}),Uwe=P.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:y,onSwipeEnd:v,...S}=t,w=j4(S4,r),[N,_]=P.useState(null),E=Pn(e,Z=>_(Z)),T=P.useRef(null),M=P.useRef(null),O=i||w.duration,L=P.useRef(0),B=P.useRef(O),U=P.useRef(0),{onToastAdd:$,onToastRemove:K}=w,q=Gi(()=>{var J;(N==null?void 0:N.contains(document.activeElement))&&((J=w.viewport)==null||J.focus()),o()}),H=P.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(U.current),L.current=new Date().getTime(),U.current=window.setTimeout(q,Z))},[q]);P.useEffect(()=>{const Z=w.viewport;if(Z){const J=()=>{H(B.current),u==null||u()},ye=()=>{const ge=new Date().getTime()-L.current;B.current=B.current-ge,window.clearTimeout(U.current),c==null||c()};return Z.addEventListener(g6,ye),Z.addEventListener(x6,J),()=>{Z.removeEventListener(g6,ye),Z.removeEventListener(x6,J)}}},[w.viewport,O,c,u,H]),P.useEffect(()=>{a&&!w.isClosePausedRef.current&&H(O)},[a,O,w.isClosePausedRef,H]),P.useEffect(()=>($(),()=>K()),[$,K]);const Q=P.useMemo(()=>N?nre(N):null,[N]);return w.viewport?s.jsxs(s.Fragment,{children:[Q&&s.jsx($we,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),s.jsx(Fwe,{scope:r,onClose:q,children:h0.createPortal(s.jsx(eM.ItemSlot,{scope:r,children:s.jsx(wwe,{asChild:!0,onEscapeKeyDown:Jt(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||q(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Tr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":w.swipeDirection,...S,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Jt(t.onKeyDown,Z=>{Z.key==="Escape"&&(l==null||l(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Jt(t.onPointerDown,Z=>{Z.button===0&&(T.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:Jt(t.onPointerMove,Z=>{if(!T.current)return;const J=Z.clientX-T.current.x,ye=Z.clientY-T.current.y,ge=!!M.current,oe=["left","right"].includes(w.swipeDirection),re=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,me=oe?re(0,J):0,ne=oe?0:re(0,ye),G=Z.pointerType==="touch"?10:2,se={x:me,y:ne},ue={originalEvent:Z,delta:se};ge?(M.current=se,RN(Rwe,f,ue,{discrete:!1})):ZF(se,w.swipeDirection,G)?(M.current=se,RN(Mwe,h,ue,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(J)>G||Math.abs(ye)>G)&&(T.current=null)}),onPointerUp:Jt(t.onPointerUp,Z=>{const J=M.current,ye=Z.target;if(ye.hasPointerCapture(Z.pointerId)&&ye.releasePointerCapture(Z.pointerId),M.current=null,T.current=null,J){const ge=Z.currentTarget,oe={originalEvent:Z,delta:J};ZF(J,w.swipeDirection,w.swipeThreshold)?RN(Lwe,v,oe,{discrete:!0}):RN(Dwe,y,oe,{discrete:!0}),ge.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),$we=t=>{const{__scopeToast:e,children:r,...n}=t,i=j4(S4,e),[a,o]=P.useState(!1),[l,c]=P.useState(!1);return Vwe(()=>o(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(f2,{asChild:!0,children:s.jsx(m2,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},zwe="ToastTitle",Zte=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Tr.div,{...n,ref:e})});Zte.displayName=zwe;var qwe="ToastDescription",Qte=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Tr.div,{...n,ref:e})});Qte.displayName=qwe;var Jte="ToastAction",ere=P.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(rre,{altText:r,asChild:!0,children:s.jsx(tM,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Jte}\`. Expected non-empty \`string\`.`),null)});ere.displayName=Jte;var tre="ToastClose",tM=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Bwe(tre,r);return s.jsx(rre,{asChild:!0,children:s.jsx(Tr.button,{type:"button",...n,ref:e,onClick:Jt(t.onClick,i.onClose)})})});tM.displayName=tre;var rre=P.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return s.jsx(Tr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function nre(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Hwe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nre(n))}}),e}function RN(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Q8(i,a):i.dispatchEvent(a)}var ZF=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function Vwe(t=()=>{}){const e=Gi(t);Ba(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Hwe(t){return t.nodeType===t.ELEMENT_NODE}function Wwe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function KA(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Gwe=Wte,sre=Yte,ire=Xte,are=Zte,ore=Qte,lre=ere,cre=tM;function ure(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=ure(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gs(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=ure(t))&&(n&&(n+=" "),n+=e);return n}const QF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,JF=gs,ly=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return JF(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const h=r==null?void 0:r[u],f=a==null?void 0:a[u];if(h===null)return null;const y=QF(h)||QF(f);return i[u][y]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,y]=h;return y===void 0||(u[f]=y),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:y,...v}=h;return Object.entries(v).every(S=>{let[w,N]=S;return Array.isArray(N)?N.includes({...a,...l}[w]):{...a,...l}[w]===N})?[...u,f,y]:u},[]);return JF(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ywe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dre=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kwe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xwe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...Kwe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:dre("lucide",i),...l},[...o.map(([u,h])=>P.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(Xwe,{ref:a,iconNode:e,className:dre(`lucide-${Ywe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ft("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=Ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zwe=Ft("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qwe=Ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Ft("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Ft("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Ft("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ft("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Ft("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=Ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jwe=Ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2e=Ft("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Ft("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Ft("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2e=Ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ft("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=Ft("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=Ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2e=Ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=Ft("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2e=Ft("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Ft("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ft("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2e=Ft("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2e=Ft("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ft("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2e=Ft("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ft("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ft("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=Ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2e=Ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Ft("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=Ft("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2e=Ft("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2e=Ft("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2e=Ft("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2e=Ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2e=Ft("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=Ft("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Ft("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2e=Ft("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2e=Ft("Navigation2",[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2e=Ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2e=Ft("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=Ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=Ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=Ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2e=Ft("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ft("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2e=Ft("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Ft("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=Ft("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2e=Ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2e=Ft("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2e=Ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=Ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ft("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2e=Ft("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ft("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2e=Ft("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2e=Ft("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Ft("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2e=Ft("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2e=Ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2e=Ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=Ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2e=Ft("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2e=Ft("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Ft("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2e=Ft("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ft("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Ft("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Ft("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Ft("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),aM="-",O2e=t=>{const e=R2e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(aM);return l[0]===""&&l.length!==1&&l.shift(),Sre(l,e)||M2e(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Sre=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Sre(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(aM);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},n9=/^\[(.+)\]$/,M2e=t=>{if(n9.test(t)){const e=n9.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},R2e=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return L2e(Object.entries(t.classGroups),r).forEach(([a,o])=>{N6(o,n,a,e)}),n},N6=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:s9(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(D2e(i)){N6(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{N6(o,s9(e,a),r,n)})})},s9=(t,e)=>{let r=t;return e.split(aM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},D2e=t=>t.isThemeGetter,L2e=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,F2e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},Cre="!",B2e=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,h=0,f;for(let N=0;N<l.length;N++){let _=l[N];if(u===0){if(_===i&&(n||l.slice(N,N+a)===e)){c.push(l.slice(h,N)),h=N+a;continue}if(_==="/"){f=N;continue}}_==="["?u++:_==="]"&&u--}const y=c.length===0?l:l.substring(h),v=y.startsWith(Cre),S=v?y.substring(1):y,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},U2e=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},$2e=t=>({cache:F2e(t.cacheSize),parseClassName:B2e(t),...O2e(t)}),z2e=/\s+/,q2e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(z2e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:v}=r(u);let S=!!v,w=n(S?y.substring(0,v):y);if(!w){if(!S){l=u+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=u+(l.length>0?" "+l:l);continue}S=!1}const N=U2e(h).join(":"),_=f?N+Cre:N,E=_+w;if(a.includes(E))continue;a.push(E);const T=i(w,S);for(let M=0;M<T.length;++M){const O=T[M];a.push(_+O)}l=u+(l.length>0?" "+l:l)}return l};function V2e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Are(e))&&(n&&(n+=" "),n+=r);return n}const Are=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Are(t[n]))&&(r&&(r+=" "),r+=e);return r};function H2e(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return r=$2e(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=q2e(c,r);return i(c,h),h}return function(){return a(V2e.apply(null,arguments))}}const Fi=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_re=/^\[(?:([a-z-]+):)?(.+)\]$/i,W2e=/^\d+\/\d+$/,G2e=new Set(["px","full","screen"]),Y2e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K2e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X2e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z2e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q2e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=t=>jx(t)||G2e.has(t)||W2e.test(t),Dm=t=>cy(t,"length",aNe),jx=t=>!!t&&!Number.isNaN(Number(t)),JA=t=>cy(t,"number",jx),Zy=t=>!!t&&Number.isInteger(Number(t)),J2e=t=>t.endsWith("%")&&jx(t.slice(0,-1)),Un=t=>_re.test(t),Lm=t=>Y2e.test(t),eNe=new Set(["length","size","percentage"]),tNe=t=>cy(t,eNe,Ere),rNe=t=>cy(t,"position",Ere),nNe=new Set(["image","url"]),sNe=t=>cy(t,nNe,lNe),iNe=t=>cy(t,"",oNe),Qy=()=>!0,cy=(t,e,r)=>{const n=_re.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},aNe=t=>K2e.test(t)&&!X2e.test(t),Ere=()=>!1,oNe=t=>Z2e.test(t),lNe=t=>Q2e.test(t),cNe=()=>{const t=Fi("colors"),e=Fi("spacing"),r=Fi("blur"),n=Fi("brightness"),i=Fi("borderColor"),a=Fi("borderRadius"),o=Fi("borderSpacing"),l=Fi("borderWidth"),c=Fi("contrast"),u=Fi("grayscale"),h=Fi("hueRotate"),f=Fi("invert"),y=Fi("gap"),v=Fi("gradientColorStops"),S=Fi("gradientColorStopPositions"),w=Fi("inset"),N=Fi("margin"),_=Fi("opacity"),E=Fi("padding"),T=Fi("saturate"),M=Fi("scale"),O=Fi("sepia"),L=Fi("skew"),B=Fi("space"),U=Fi("translate"),$=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Un,e],H=()=>[Un,e],Q=()=>["",vf,Dm],Z=()=>["auto",jx,Un],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Un],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[jx,Un];return{cacheSize:500,separator:":",theme:{colors:[Qy],spacing:[vf,Dm],blur:["none","",Lm,Un],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Lm,Un],borderSpacing:H(),borderWidth:Q(),contrast:ne(),grayscale:re(),hueRotate:ne(),invert:re(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[J2e,Dm],inset:q(),margin:q(),opacity:ne(),padding:H(),saturate:ne(),scale:ne(),sepia:re(),skew:ne(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Un]}],container:["container"],columns:[{columns:[Lm]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Un]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zy,Un]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Un]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Zy,Un]}],"grid-cols":[{"grid-cols":[Qy]}],"col-start-end":[{col:["auto",{span:["full",Zy,Un]},Un]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Qy]}],"row-start-end":[{row:["auto",{span:[Zy,Un]},Un]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Un]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...oe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...oe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...oe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Un,e]}],"min-w":[{"min-w":[Un,e,"min","max","fit"]}],"max-w":[{"max-w":[Un,e,"none","full","min","max","fit","prose",{screen:[Lm]},Lm]}],h:[{h:[Un,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Un,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Un,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Un,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lm,Dm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JA]}],"font-family":[{font:[Qy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Un]}],"line-clamp":[{"line-clamp":["none",jx,JA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vf,Un]}],"list-image":[{"list-image":["none",Un]}],"list-style-type":[{list:["none","disc","decimal",Un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vf,Dm]}],"underline-offset":[{"underline-offset":["auto",vf,Un]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),rNe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tNe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sNe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ye()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[vf,Un]}],"outline-w":[{outline:[vf,Dm]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[vf,Dm]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Lm,iNe]}],"shadow-color":[{shadow:[Qy]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Lm,Un]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Un]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Un]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Zy,Un]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Un]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Un]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Un]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vf,Dm,JA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uNe=H2e(cNe);function er(...t){return uNe(gs(t))}const dNe=Gwe,Tre=P.forwardRef(({className:t,...e},r)=>s.jsx(sre,{ref:r,className:er("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Tre.displayName=sre.displayName;const hNe=ly("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kre=P.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(ire,{ref:n,className:er(hNe({variant:e}),t),...r}));kre.displayName=ire.displayName;const fNe=P.forwardRef(({className:t,...e},r)=>s.jsx(lre,{ref:r,className:er("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fNe.displayName=lre.displayName;const Pre=P.forwardRef(({className:t,...e},r)=>s.jsx(cre,{ref:r,className:er("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Cc,{className:"h-4 w-4"})}));Pre.displayName=cre.displayName;const Ire=P.forwardRef(({className:t,...e},r)=>s.jsx(are,{ref:r,className:er("text-sm font-semibold",t),...e}));Ire.displayName=are.displayName;const Ore=P.forwardRef(({className:t,...e},r)=>s.jsx(ore,{ref:r,className:er("text-sm opacity-90",t),...e}));Ore.displayName=ore.displayName;function mNe(){const{toasts:t}=Vn();return s.jsxs(dNe,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return s.jsxs(kre,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Ire,{children:r}),n&&s.jsx(Ore,{children:n})]}),i,s.jsx(Pre,{})]},e)}),s.jsx(Tre,{})]})}var pNe=TJ[" useId ".trim().toString()]||(()=>{}),gNe=0;function su(t){const[e,r]=P.useState(pNe());return Ba(()=>{r(n=>n??String(gNe++))},[t]),e?`radix-${e}`:""}const xNe=["top","right","bottom","left"],vp=Math.min,Jc=Math.max,d5=Math.round,LN=Math.floor,zh=t=>({x:t,y:t}),yNe={left:"right",right:"left",bottom:"top",top:"bottom"},vNe={start:"end",end:"start"};function j6(t,e,r){return Jc(t,vp(e,r))}function rm(t,e){return typeof t=="function"?t(e):t}function nm(t){return t.split("-")[0]}function uy(t){return t.split("-")[1]}function oM(t){return t==="x"?"y":"x"}function lM(t){return t==="y"?"height":"width"}function bp(t){return["top","bottom"].includes(nm(t))?"y":"x"}function cM(t){return oM(bp(t))}function bNe(t,e,r){r===void 0&&(r=!1);const n=uy(t),i=cM(t),a=lM(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=h5(o)),[o,h5(o)]}function wNe(t){const e=h5(t);return[S6(t),e,S6(e)]}function S6(t){return t.replace(/start|end/g,e=>vNe[e])}function NNe(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function jNe(t,e,r,n){const i=uy(t);let a=NNe(nm(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(S6)))),a}function h5(t){return t.replace(/left|right|bottom|top/g,e=>yNe[e])}function SNe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mre(t){return typeof t!="number"?SNe(t):{top:t,right:t,bottom:t,left:t}}function f5(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function i9(t,e,r){let{reference:n,floating:i}=t;const a=bp(e),o=cM(e),l=lM(o),c=nm(e),u=a==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,y=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:h,y:n.y-i.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-i.width,y:f};break;default:v={x:n.x,y:n.y}}switch(uy(e)){case"start":v[o]-=y*(r&&u?-1:1);break;case"end":v[o]+=y*(r&&u?-1:1);break}return v}const CNe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=i9(u,n,c),y=n,v={},S=0;for(let w=0;w<l.length;w++){const{name:N,fn:_}=l[w],{x:E,y:T,data:M,reset:O}=await _({x:h,y:f,initialPlacement:n,placement:y,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=E??h,f=T??f,v={...v,[N]:{...v[N],...M}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:h,y:f}=i9(u,y,c)),w=-1)}return{x:h,y:f,placement:y,strategy:i,middlewareData:v}};async function Eb(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:y=!1,padding:v=0}=rm(e,t),S=Mre(v),N=l[y?f==="floating"?"reference":"floating":f],_=f5(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(N)))==null||r?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),E=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),M=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},O=f5(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:T,strategy:c}):E);return{top:(_.top-O.top+S.top)/M.y,bottom:(O.bottom-_.bottom+S.bottom)/M.y,left:(_.left-O.left+S.left)/M.x,right:(O.right-_.right+S.right)/M.x}}const ANe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=rm(t,e)||{};if(u==null)return{};const f=Mre(h),y={x:r,y:n},v=cM(i),S=lM(v),w=await o.getDimensions(u),N=v==="y",_=N?"top":"left",E=N?"bottom":"right",T=N?"clientHeight":"clientWidth",M=a.reference[S]+a.reference[v]-y[v]-a.floating[S],O=y[v]-a.reference[v],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let B=L?L[T]:0;(!B||!await(o.isElement==null?void 0:o.isElement(L)))&&(B=l.floating[T]||a.floating[S]);const U=M/2-O/2,$=B/2-w[S]/2-1,K=vp(f[_],$),q=vp(f[E],$),H=K,Q=B-w[S]-q,Z=B/2-w[S]/2+U,J=j6(H,Z,Q),ye=!c.arrow&&uy(i)!=null&&Z!==J&&a.reference[S]/2-(Z<H?K:q)-w[S]/2<0,ge=ye?Z<H?Z-H:Z-Q:0;return{[v]:y[v]+ge,data:{[v]:J,centerOffset:Z-J-ge,...ye&&{alignmentOffset:ge}},reset:ye}}}),_Ne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...N}=rm(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const _=nm(i),E=bp(l),T=nm(l)===l,M=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=y||(T||!w?[h5(l)]:wNe(l)),L=S!=="none";!y&&L&&O.push(...jNe(l,w,S,M));const B=[l,...O],U=await Eb(e,N),$=[];let K=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&$.push(U[_]),f){const Z=bNe(i,o,M);$.push(U[Z[0]],U[Z[1]])}if(K=[...K,{placement:i,overflows:$}],!$.every(Z=>Z<=0)){var q,H;const Z=(((q=a.flip)==null?void 0:q.index)||0)+1,J=B[Z];if(J)return{data:{index:Z,overflows:K},reset:{placement:J}};let ye=(H=K.filter(ge=>ge.overflows[0]<=0).sort((ge,oe)=>ge.overflows[1]-oe.overflows[1])[0])==null?void 0:H.placement;if(!ye)switch(v){case"bestFit":{var Q;const ge=(Q=K.filter(oe=>{if(L){const re=bp(oe.placement);return re===E||re==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(re=>re>0).reduce((re,me)=>re+me,0)]).sort((oe,re)=>oe[1]-re[1])[0])==null?void 0:Q[0];ge&&(ye=ge);break}case"initialPlacement":ye=l;break}if(i!==ye)return{reset:{placement:ye}}}return{}}}};function a9(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function o9(t){return xNe.some(e=>t[e]>=0)}const ENe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=rm(t,e);switch(n){case"referenceHidden":{const a=await Eb(e,{...i,elementContext:"reference"}),o=a9(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:o9(o)}}}case"escaped":{const a=await Eb(e,{...i,altBoundary:!0}),o=a9(a,r.floating);return{data:{escapedOffsets:o,escaped:o9(o)}}}default:return{}}}}};async function TNe(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=nm(r),l=uy(r),c=bp(r)==="y",u=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,f=rm(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(v=l==="end"?S*-1:S),c?{x:v*h,y:y*u}:{x:y*u,y:v*h}}const kNe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await TNe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},PNe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:_,y:E}=N;return{x:_,y:E}}},...c}=rm(t,e),u={x:r,y:n},h=await Eb(e,c),f=bp(nm(i)),y=oM(f);let v=u[y],S=u[f];if(a){const N=y==="y"?"top":"left",_=y==="y"?"bottom":"right",E=v+h[N],T=v-h[_];v=j6(E,v,T)}if(o){const N=f==="y"?"top":"left",_=f==="y"?"bottom":"right",E=S+h[N],T=S-h[_];S=j6(E,S,T)}const w=l.fn({...e,[y]:v,[f]:S});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:a,[f]:o}}}}}},INe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=rm(t,e),h={x:r,y:n},f=bp(i),y=oM(f);let v=h[y],S=h[f];const w=rm(l,e),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=y==="y"?"height":"width",M=a.reference[y]-a.floating[T]+N.mainAxis,O=a.reference[y]+a.reference[T]-N.mainAxis;v<M?v=M:v>O&&(v=O)}if(u){var _,E;const T=y==="y"?"width":"height",M=["top","left"].includes(nm(i)),O=a.reference[f]-a.floating[T]+(M&&((_=o.offset)==null?void 0:_[f])||0)+(M?0:N.crossAxis),L=a.reference[f]+a.reference[T]+(M?0:((E=o.offset)==null?void 0:E[f])||0)-(M?N.crossAxis:0);S<O?S=O:S>L&&(S=L)}return{[y]:v,[f]:S}}}},ONe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=rm(t,e),h=await Eb(e,u),f=nm(i),y=uy(i),v=bp(i)==="y",{width:S,height:w}=a.floating;let N,_;f==="top"||f==="bottom"?(N=f,_=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,N=y==="end"?"top":"bottom");const E=w-h.top-h.bottom,T=S-h.left-h.right,M=vp(w-h[N],E),O=vp(S-h[_],T),L=!e.middlewareData.shift;let B=M,U=O;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(U=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=E),L&&!y){const K=Jc(h.left,0),q=Jc(h.right,0),H=Jc(h.top,0),Q=Jc(h.bottom,0);v?U=S-2*(K!==0||q!==0?K+q:Jc(h.left,h.right)):B=w-2*(H!==0||Q!==0?H+Q:Jc(h.top,h.bottom))}await c({...e,availableWidth:U,availableHeight:B});const $=await o.getDimensions(l.floating);return S!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function E4(){return typeof window<"u"}function dy(t){return Rre(t)?(t.nodeName||"").toLowerCase():"#document"}function iu(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ef(t){var e;return(e=(Rre(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Rre(t){return E4()?t instanceof Node||t instanceof iu(t).Node:!1}function Gd(t){return E4()?t instanceof Element||t instanceof iu(t).Element:!1}function Yh(t){return E4()?t instanceof HTMLElement||t instanceof iu(t).HTMLElement:!1}function l9(t){return!E4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof iu(t).ShadowRoot}function g2(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Yd(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function MNe(t){return["table","td","th"].includes(dy(t))}function T4(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function uM(t){const e=dM(),r=Gd(t)?Yd(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function RNe(t){let e=wp(t);for(;Yh(e)&&!j1(e);){if(uM(e))return e;if(T4(e))return null;e=wp(e)}return null}function dM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function j1(t){return["html","body","#document"].includes(dy(t))}function Yd(t){return iu(t).getComputedStyle(t)}function k4(t){return Gd(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wp(t){if(dy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l9(t)&&t.host||ef(t);return l9(e)?e.host:e}function Dre(t){const e=wp(t);return j1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yh(e)&&g2(e)?e:Dre(e)}function Tb(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Dre(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=iu(i);if(a){const l=C6(o);return e.concat(o,o.visualViewport||[],g2(i)?i:[],l&&r?Tb(l):[])}return e.concat(i,Tb(i,[],r))}function C6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lre(t){const e=Yd(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Yh(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=d5(r)!==a||d5(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function hM(t){return Gd(t)?t:t.contextElement}function Sx(t){const e=hM(t);if(!Yh(e))return zh(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=Lre(e);let o=(a?d5(r.width):r.width)/n,l=(a?d5(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const DNe=zh(0);function Fre(t){const e=iu(t);return!dM()||!e.visualViewport?DNe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LNe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==iu(t)?!1:e}function Qg(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=hM(t);let o=zh(1);e&&(n?Gd(n)&&(o=Sx(n)):o=Sx(t));const l=LNe(a,r,n)?Fre(a):zh(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(a){const y=iu(a),v=n&&Gd(n)?iu(n):n;let S=y,w=C6(S);for(;w&&n&&v!==S;){const N=Sx(w),_=w.getBoundingClientRect(),E=Yd(w),T=_.left+(w.clientLeft+parseFloat(E.paddingLeft))*N.x,M=_.top+(w.clientTop+parseFloat(E.paddingTop))*N.y;c*=N.x,u*=N.y,h*=N.x,f*=N.y,c+=T,u+=M,S=iu(w),w=C6(S)}}return f5({width:h,height:f,x:c,y:u})}function fM(t,e){const r=k4(t).scrollLeft;return e?e.left+r:Qg(ef(t)).left+r}function Bre(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:fM(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function FNe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=ef(n),l=e?T4(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=zh(1);const h=zh(0),f=Yh(n);if((f||!f&&!a)&&((dy(n)!=="body"||g2(o))&&(c=k4(n)),Yh(n))){const v=Qg(n);u=Sx(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const y=o&&!f&&!a?Bre(o,c,!0):zh(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+y.x,y:r.y*u.y-c.scrollTop*u.y+h.y+y.y}}function BNe(t){return Array.from(t.getClientRects())}function UNe(t){const e=ef(t),r=k4(t),n=t.ownerDocument.body,i=Jc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Jc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+fM(t);const l=-r.scrollTop;return Yd(n).direction==="rtl"&&(o+=Jc(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function $Ne(t,e){const r=iu(t),n=ef(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=dM();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function zNe(t,e){const r=Qg(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Yh(t)?Sx(t):zh(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function c9(t,e,r){let n;if(e==="viewport")n=$Ne(t,r);else if(e==="document")n=UNe(ef(t));else if(Gd(e))n=zNe(e,r);else{const i=Fre(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return f5(n)}function Ure(t,e){const r=wp(t);return r===e||!Gd(r)||j1(r)?!1:Yd(r).position==="fixed"||Ure(r,e)}function qNe(t,e){const r=e.get(t);if(r)return r;let n=Tb(t,[],!1).filter(l=>Gd(l)&&dy(l)!=="body"),i=null;const a=Yd(t).position==="fixed";let o=a?wp(t):t;for(;Gd(o)&&!j1(o);){const l=Yd(o),c=uM(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||g2(o)&&!c&&Ure(t,o))?n=n.filter(h=>h!==o):i=l,o=wp(o)}return e.set(t,n),n}function VNe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?T4(e)?[]:qNe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,h)=>{const f=c9(e,h,i);return u.top=Jc(f.top,u.top),u.right=vp(f.right,u.right),u.bottom=vp(f.bottom,u.bottom),u.left=Jc(f.left,u.left),u},c9(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HNe(t){const{width:e,height:r}=Lre(t);return{width:e,height:r}}function WNe(t,e,r){const n=Yh(e),i=ef(e),a=r==="fixed",o=Qg(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=zh(0);if(n||!n&&!a)if((dy(e)!=="body"||g2(i))&&(l=k4(e)),n){const y=Qg(e,!0,a,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&(c.x=fM(i));const u=i&&!n&&!a?Bre(i,l):zh(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function e_(t){return Yd(t).position==="static"}function u9(t,e){if(!Yh(t)||Yd(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ef(t)===r&&(r=r.ownerDocument.body),r}function $re(t,e){const r=iu(t);if(T4(t))return r;if(!Yh(t)){let i=wp(t);for(;i&&!j1(i);){if(Gd(i)&&!e_(i))return i;i=wp(i)}return r}let n=u9(t,e);for(;n&&MNe(n)&&e_(n);)n=u9(n,e);return n&&j1(n)&&e_(n)&&!uM(n)?r:n||RNe(t)||r}const GNe=async function(t){const e=this.getOffsetParent||$re,r=this.getDimensions,n=await r(t.floating);return{reference:WNe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YNe(t){return Yd(t).direction==="rtl"}const KNe={convertOffsetParentRelativeRectToViewportRelativeRect:FNe,getDocumentElement:ef,getClippingRect:VNe,getOffsetParent:$re,getElementRects:GNe,getClientRects:BNe,getDimensions:HNe,getScale:Sx,isElement:Gd,isRTL:YNe};function zre(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function XNe(t,e){let r=null,n;const i=ef(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:h,top:f,width:y,height:v}=u;if(l||e(),!y||!v)return;const S=LN(f),w=LN(i.clientWidth-(h+y)),N=LN(i.clientHeight-(f+v)),_=LN(h),T={rootMargin:-S+"px "+-w+"px "+-N+"px "+-_+"px",threshold:Jc(0,vp(1,c))||1};let M=!0;function O(L){const B=L[0].intersectionRatio;if(B!==c){if(!M)return o();B?o(!1,B):n=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!zre(u,t.getBoundingClientRect())&&o(),M=!1}try{r=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(O,T)}r.observe(t)}return o(!0),a}function ZNe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=hM(t),h=i||a?[...u?Tb(u):[],...Tb(e)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),a&&_.addEventListener("resize",r)});const f=u&&l?XNe(u,r):null;let y=-1,v=null;o&&(v=new ResizeObserver(_=>{let[E]=_;E&&E.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let S,w=c?Qg(t):null;c&&N();function N(){const _=Qg(t);w&&!zre(w,_)&&r(),w=_,S=requestAnimationFrame(N)}return r(),()=>{var _;h.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),f==null||f(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(S)}}const QNe=kNe,JNe=PNe,eje=_Ne,tje=ONe,rje=ENe,d9=ANe,nje=INe,sje=(t,e,r)=>{const n=new Map,i={platform:KNe,...r},a={...i.platform,_c:n};return CNe(t,e,{...i,platform:a})};var Oj=typeof document<"u"?P.useLayoutEffect:P.useEffect;function m5(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!m5(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!m5(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function qre(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h9(t,e){const r=qre(t);return Math.round(e*r)/r}function t_(t){const e=P.useRef(t);return Oj(()=>{e.current=t}),e}function ije(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=P.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=P.useState(n);m5(y,n)||v(n);const[S,w]=P.useState(null),[N,_]=P.useState(null),E=P.useCallback(oe=>{oe!==L.current&&(L.current=oe,w(oe))},[]),T=P.useCallback(oe=>{oe!==B.current&&(B.current=oe,_(oe))},[]),M=a||S,O=o||N,L=P.useRef(null),B=P.useRef(null),U=P.useRef(h),$=c!=null,K=t_(c),q=t_(i),H=t_(u),Q=P.useCallback(()=>{if(!L.current||!B.current)return;const oe={placement:e,strategy:r,middleware:y};q.current&&(oe.platform=q.current),sje(L.current,B.current,oe).then(re=>{const me={...re,isPositioned:H.current!==!1};Z.current&&!m5(U.current,me)&&(U.current=me,h0.flushSync(()=>{f(me)}))})},[y,e,r,q,H]);Oj(()=>{u===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,f(oe=>({...oe,isPositioned:!1})))},[u]);const Z=P.useRef(!1);Oj(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Oj(()=>{if(M&&(L.current=M),O&&(B.current=O),M&&O){if(K.current)return K.current(M,O,Q);Q()}},[M,O,Q,K,$]);const J=P.useMemo(()=>({reference:L,floating:B,setReference:E,setFloating:T}),[E,T]),ye=P.useMemo(()=>({reference:M,floating:O}),[M,O]),ge=P.useMemo(()=>{const oe={position:r,left:0,top:0};if(!ye.floating)return oe;const re=h9(ye.floating,h.x),me=h9(ye.floating,h.y);return l?{...oe,transform:"translate("+re+"px, "+me+"px)",...qre(ye.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:me}},[r,l,ye.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:Q,refs:J,elements:ye,floatingStyles:ge}),[h,Q,J,ye,ge])}const aje=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?d9({element:n.current,padding:i}).fn(r):{}:n?d9({element:n,padding:i}).fn(r):{}}}},oje=(t,e)=>({...QNe(t),options:[t,e]}),lje=(t,e)=>({...JNe(t),options:[t,e]}),cje=(t,e)=>({...nje(t),options:[t,e]}),uje=(t,e)=>({...eje(t),options:[t,e]}),dje=(t,e)=>({...tje(t),options:[t,e]}),hje=(t,e)=>({...rje(t),options:[t,e]}),fje=(t,e)=>({...aje(t),options:[t,e]});var mje="Arrow",Vre=P.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Tr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vre.displayName=mje;var pje=Vre;function mM(t){const[e,r]=P.useState(void 0);return Ba(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var pM="Popper",[Hre,hy]=yo(pM),[gje,Wre]=Hre(pM),Gre=t=>{const{__scopePopper:e,children:r}=t,[n,i]=P.useState(null);return s.jsx(gje,{scope:e,anchor:n,onAnchorChange:i,children:r})};Gre.displayName=pM;var Yre="PopperAnchor",Kre=P.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=Wre(Yre,r),o=P.useRef(null),l=Pn(e,o);return P.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Tr.div,{...i,ref:l})});Kre.displayName=Yre;var gM="PopperContent",[xje,yje]=Hre(gM),Xre=P.forwardRef((t,e)=>{var ae,de,pe,Oe,ze,qe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:S,...w}=t,N=Wre(gM,r),[_,E]=P.useState(null),T=Pn(e,$e=>E($e)),[M,O]=P.useState(null),L=mM(M),B=(L==null?void 0:L.width)??0,U=(L==null?void 0:L.height)??0,$=n+(a!=="center"?"-"+a:""),K=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},q=Array.isArray(u)?u:[u],H=q.length>0,Q={padding:K,boundary:q.filter(bje),altBoundary:H},{refs:Z,floatingStyles:J,placement:ye,isPositioned:ge,middlewareData:oe}=ije({strategy:"fixed",placement:$,whileElementsMounted:(...$e)=>ZNe(...$e,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[oje({mainAxis:i+U,alignmentAxis:o}),c&&lje({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?cje():void 0,...Q}),c&&uje({...Q}),dje({...Q,apply:({elements:$e,rects:Ve,availableWidth:Ee,availableHeight:sr})=>{const{width:Zt,height:Gt}=Ve.reference,mt=$e.floating.style;mt.setProperty("--radix-popper-available-width",`${Ee}px`),mt.setProperty("--radix-popper-available-height",`${sr}px`),mt.setProperty("--radix-popper-anchor-width",`${Zt}px`),mt.setProperty("--radix-popper-anchor-height",`${Gt}px`)}}),M&&fje({element:M,padding:l}),wje({arrowWidth:B,arrowHeight:U}),y&&hje({strategy:"referenceHidden",...Q})]}),[re,me]=Jre(ye),ne=Gi(S);Ba(()=>{ge&&(ne==null||ne())},[ge,ne]);const G=(ae=oe.arrow)==null?void 0:ae.x,se=(de=oe.arrow)==null?void 0:de.y,ue=((pe=oe.arrow)==null?void 0:pe.centerOffset)!==0,[je,Ce]=P.useState();return Ba(()=>{_&&Ce(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ge?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(Oe=oe.transformOrigin)==null?void 0:Oe.x,(ze=oe.transformOrigin)==null?void 0:ze.y].join(" "),...((qe=oe.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(xje,{scope:r,placedSide:re,onArrowChange:O,arrowX:G,arrowY:se,shouldHideArrow:ue,children:s.jsx(Tr.div,{"data-side":re,"data-align":me,...w,ref:T,style:{...w.style,animation:ge?void 0:"none"}})})})});Xre.displayName=gM;var Zre="PopperArrow",vje={top:"bottom",right:"left",bottom:"top",left:"right"},Qre=P.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=yje(Zre,n),o=vje[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(pje,{...i,ref:r,style:{...i.style,display:"block"}})})});Qre.displayName=Zre;function bje(t){return t!==null}var wje=t=>({name:"transformOrigin",options:t,fn(e){var N,_,E;const{placement:r,rects:n,middlewareData:i}=e,o=((N=i.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=Jre(r),f={start:"0%",center:"50%",end:"100%"}[h],y=(((_=i.arrow)==null?void 0:_.x)??0)+l/2,v=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let S="",w="";return u==="bottom"?(S=o?f:`${y}px`,w=`${-c}px`):u==="top"?(S=o?f:`${y}px`,w=`${n.floating.height+c}px`):u==="right"?(S=`${-c}px`,w=o?f:`${v}px`):u==="left"&&(S=`${n.floating.width+c}px`,w=o?f:`${v}px`),{data:{x:S,y:w}}}});function Jre(t){const[e,r="center"]=t.split("-");return[e,r]}var xM=Gre,yM=Kre,vM=Xre,bM=Qre,[P4]=yo("Tooltip",[hy]),I4=hy(),ene="TooltipProvider",Nje=700,A6="tooltip.open",[jje,wM]=P4(ene),tne=t=>{const{__scopeTooltip:e,delayDuration:r=Nje,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=P.useRef(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(jje,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};tne.displayName=ene;var O4="Tooltip",[Sje,M4]=P4(O4),rne=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=wM(O4,t.__scopeTooltip),u=I4(e),[h,f]=P.useState(null),y=su(),v=P.useRef(0),S=o??c.disableHoverableContent,w=l??c.delayDuration,N=P.useRef(!1),[_=!1,E]=lu({prop:n,defaultProp:i,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(A6))):c.onClose(),a==null||a(B)}}),T=P.useMemo(()=>_?N.current?"delayed-open":"instant-open":"closed",[_]),M=P.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N.current=!1,E(!0)},[E]),O=P.useCallback(()=>{window.clearTimeout(v.current),v.current=0,E(!1)},[E]),L=P.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{N.current=!0,E(!0),v.current=0},w)},[w,E]);return P.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),s.jsx(xM,{...u,children:s.jsx(Sje,{scope:e,contentId:y,open:_,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?L():M()},[c.isOpenDelayedRef,L,M]),onTriggerLeave:P.useCallback(()=>{S?O():(window.clearTimeout(v.current),v.current=0)},[O,S]),onOpen:M,onClose:O,disableHoverableContent:S,children:r})})};rne.displayName=O4;var _6="TooltipTrigger",nne=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=M4(_6,r),a=wM(_6,r),o=I4(r),l=P.useRef(null),c=Pn(e,l,i.onTriggerChange),u=P.useRef(!1),h=P.useRef(!1),f=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(yM,{asChild:!0,...o,children:s.jsx(Tr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Jt(t.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Jt(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Jt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Jt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Jt(t.onBlur,i.onClose),onClick:Jt(t.onClick,i.onClose)})})});nne.displayName=_6;var Cje="TooltipPortal",[fet,Aje]=P4(Cje,{forceMount:void 0}),S1="TooltipContent",sne=P.forwardRef((t,e)=>{const r=Aje(S1,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=M4(S1,t.__scopeTooltip);return s.jsx(cl,{present:n||o.open,children:o.disableHoverableContent?s.jsx(ine,{side:i,...a,ref:e}):s.jsx(_je,{side:i,...a,ref:e})})}),_je=P.forwardRef((t,e)=>{const r=M4(S1,t.__scopeTooltip),n=wM(S1,t.__scopeTooltip),i=P.useRef(null),a=Pn(e,i),[o,l]=P.useState(null),{trigger:c,onClose:u}=r,h=i.current,{onPointerInTransitChange:f}=n,y=P.useCallback(()=>{l(null),f(!1)},[f]),v=P.useCallback((S,w)=>{const N=S.currentTarget,_={x:S.clientX,y:S.clientY},E=Ije(_,N.getBoundingClientRect()),T=Oje(_,E),M=Mje(w.getBoundingClientRect()),O=Dje([...T,...M]);l(O),f(!0)},[f]);return P.useEffect(()=>()=>y(),[y]),P.useEffect(()=>{if(c&&h){const S=N=>v(N,h),w=N=>v(N,c);return c.addEventListener("pointerleave",S),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",w)}}},[c,h,v,y]),P.useEffect(()=>{if(o){const S=w=>{const N=w.target,_={x:w.clientX,y:w.clientY},E=(c==null?void 0:c.contains(N))||(h==null?void 0:h.contains(N)),T=!Rje(_,o);E?y():T&&(y(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,h,o,u,y]),s.jsx(ine,{...t,ref:a})}),[Eje,Tje]=P4(O4,{isInside:!1}),kje=$te("TooltipContent"),ine=P.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=M4(S1,r),u=I4(r),{onClose:h}=c;return P.useEffect(()=>(document.addEventListener(A6,h),()=>document.removeEventListener(A6,h)),[h]),P.useEffect(()=>{if(c.trigger){const f=y=>{const v=y.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),s.jsx(oy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:s.jsxs(vM,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(kje,{children:n}),s.jsx(Eje,{scope:r,isInside:!0,children:s.jsx(Twe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});sne.displayName=S1;var ane="TooltipArrow",Pje=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=I4(r);return Tje(ane,r).isInside?null:s.jsx(bM,{...i,...n,ref:e})});Pje.displayName=ane;function Ije(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Oje(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Mje(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Rje(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,h=e[o].y;c>n!=h>n&&r<(u-l)*(n-c)/(h-c)+l&&(i=!i)}return i}function Dje(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Lje(e)}function Lje(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Fje=tne,Bje=rne,Uje=nne,one=sne;const $je=Fje,zje=Bje,qje=Uje,lne=P.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(one,{ref:n,sideOffset:e,className:er("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));lne.displayName=one.displayName;const NM=ly("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=P.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?Bte:"button";return s.jsx(o,{className:er(NM({variant:e,size:r,className:t})),ref:a,...i})});Be.displayName="Button";class Vje extends P.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen bg-cream-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ll,{className:"h-16 w-16 text-red-500"})}),s.jsx("h1",{className:"text-2xl font-bold text-eth-brown mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),this.state.error&&s.jsx("p",{className:"text-sm text-gray-500 mb-6 font-mono bg-gray-50 p-3 rounded",children:this.state.error.message}),s.jsxs(Be,{onClick:this.handleReset,className:"bg-eth-brown hover:bg-eth-brown/90","data-testid":"button-refresh",children:[s.jsx(vre,{className:"h-4 w-4 mr-2"}),"Refresh Page"]})]})}):this.props.children}}function ti(){const{data:t,isLoading:e}=Nr({queryKey:["/api/auth/user"],queryFn:Z8({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function Hje(){const{pathname:t}=Ac();P.useEffect(()=>{window.scrollTo(0,0)},[t])}function Wje(t=!0){const e=Ms();P.useEffect(()=>{if(!t)return;const r=[{key:"h",alt:!0,handler:()=>e("/"),description:"Go to home page"},{key:"p",alt:!0,handler:()=>e("/properties"),description:"Browse properties"},{key:"s",alt:!0,handler:()=>e("/services"),description:"Browse services"},{key:"f",alt:!0,handler:()=>e("/favorites"),description:"View favorites"},{key:"b",alt:!0,handler:()=>e("/bookings"),description:"View bookings"},{key:"/",ctrl:!0,handler:()=>{const i=document.querySelector('input[type="search"]');i&&i.focus()},description:"Focus search"}],n=i=>{const a=i.target;(a.tagName==="INPUT"||a.tagName==="TEXTAREA")&&!(i.ctrlKey&&i.key==="/")||r.forEach(o=>{const l=o.ctrl?i.ctrlKey:!i.ctrlKey,c=o.shift?i.shiftKey:!i.shiftKey,u=o.alt?i.altKey:!i.altKey;i.key===o.key&&l&&c&&u&&(i.preventDefault(),o.handler())})};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t,e])}function Gje(){P.useEffect(()=>{if(typeof window>"u")return;const t=i=>{},e=()=>{try{new PerformanceObserver(a=>{const o=a.getEntries(),l=o[o.length-1],c=l.renderTime||l.loadTime||0;t({name:"LCP",value:c,rating:c<2500?"good":c<4e3?"needs-improvement":"poor"})}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}},r=()=>{try{new PerformanceObserver(a=>{a.getEntries().forEach(l=>{const c=l.processingStart-l.startTime;t({name:"FID",value:c,rating:c<100?"good":c<300?"needs-improvement":"poor"})})}).observe({type:"first-input",buffered:!0})}catch{}},n=()=>{try{let i=0;new PerformanceObserver(o=>{for(const l of o.getEntries())l.hadRecentInput||(i+=l.value);t({name:"CLS",value:i,rating:i<.1?"good":i<.25?"needs-improvement":"poor"})}).observe({type:"layout-shift",buffered:!0})}catch{}};e(),r(),n()},[])}function Yje(){const t=Ms();return ti(),P.useEffect(()=>{t("/properties")},[t]),null}const _e=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_e.displayName="Card";const Ge=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("flex flex-col space-y-1.5 p-6",t),...e}));Ge.displayName="CardHeader";const Ye=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ye.displayName="CardTitle";const ar=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("text-sm text-muted-foreground",t),...e}));ar.displayName="CardDescription";const Te=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("p-6 pt-0",t),...e}));Te.displayName="CardContent";const cne=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("flex items-center p-6 pt-0",t),...e}));cne.displayName="CardFooter";var jM="Progress",SM=100,[Kje]=yo(jM),[Xje,Zje]=Kje(jM),une=P.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Qje,...o}=t;(i||i===0)&&!f9(i)&&console.error(Jje(`${i}`,"Progress"));const l=f9(i)?i:SM;n!==null&&!m9(n,l)&&console.error(e5e(`${n}`,"Progress"));const c=m9(n,l)?n:null,u=p5(c)?a(c,l):void 0;return s.jsx(Xje,{scope:r,value:c,max:l,children:s.jsx(Tr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":p5(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":fne(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});une.displayName=jM;var dne="ProgressIndicator",hne=P.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Zje(dne,r);return s.jsx(Tr.div,{"data-state":fne(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});hne.displayName=dne;function Qje(t,e){return`${Math.round(t/e*100)}%`}function fne(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function p5(t){return typeof t=="number"}function f9(t){return p5(t)&&!isNaN(t)&&t>0}function m9(t,e){return p5(t)&&!isNaN(t)&&t<=e&&t>=0}function Jje(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${SM}\`.`}function e5e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${SM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mne=une,t5e=hne;const R4=P.forwardRef(({className:t,value:e,...r},n)=>s.jsx(mne,{ref:n,className:er("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:s.jsx(t5e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));R4.displayName=mne.displayName;const p9={guest:{title:"Welcome Traveler",amharicGreeting:"  ",emoji:"",color:"from-amber-500 to-orange-600",icon:kn,proverb:"Coffee is our bread - hospitality is essential",description:"Discover unique Ethiopian accommodations and immersive cultural experiences",videoUrl:"/videos/guest_welcome.mp4",steps:[{title:"Search & Discover",description:"Browse 50+ verified properties across Ethiopia's beautiful cities",icon:""},{title:"Book Safely",description:"Secure payments with Chapa, Telebirr, and international cards",icon:""},{title:"Experience Ethiopia",description:"Smart lockbox access, verified hosts, and authentic local stays",icon:""}]},host:{title:"Welcome Property Owner",amharicGreeting:"  ",emoji:"",color:"from-brown-600 to-amber-700",icon:ii,proverb:"A single stick may smoke, but it will not burn - together we thrive",description:"Share your unique space and earn income through Alga's trusted platform",videoUrl:"/videos/host_welcome.mp4",steps:[{title:"List Your Property",description:"Upload photos, set prices, and showcase what makes your space special",icon:""},{title:"Earn 92.5%",description:"Keep 92.5% of bookings (5% Dellala, 2.5% platform fee)",icon:""},{title:"Grow Your Business",description:"Access analytics, instant payouts, and marketing support",icon:""}]},dellala:{title:"Welcome Agent ()",amharicGreeting:"  ",emoji:"",color:"from-emerald-500 to-green-600",icon:ua,proverb:"He who learns, teaches - share your knowledge and earn",description:"Earn 5% recurring commissions for 36 months by connecting properties with travelers",videoUrl:"/videos/dellala_welcome.mp4",steps:[{title:"Refer Properties",description:"Connect property owners to Alga and earn instant commissions",icon:""},{title:"Get Paid Instantly",description:"5% commission auto-split on every booking for 36 months",icon:""},{title:"Withdraw Anytime",description:"Cash out to Telebirr or Addispay with minimum 100 ETB",icon:""}]},operator:{title:"Welcome Verification Specialist",amharicGreeting:"  ",emoji:"",color:"from-blue-600 to-indigo-700",icon:ps,proverb:"Milk and honey have different colors, but share the same house peacefully",description:"Ensure platform quality by verifying properties, IDs, and hardware installations",steps:[{title:"Verify Documents",description:"Review ID documents, property deeds, and business licenses",icon:""},{title:"Inspect Hardware",description:"Confirm smart lockboxes and security cameras are installed",icon:""},{title:"Maintain Quality",description:"Approve properties and agents to uphold Alga's standards",icon:""}]},admin:{title:"Welcome Platform Administrator",amharicGreeting:"  ",emoji:"",color:"from-purple-600 to-pink-600",icon:Ki,proverb:"Together we build - Alga is a women-run platform serving Ethiopia",videoUrl:"/videos/admin_welcome.mp4",description:"Manage all operations through the Lemlem Operations Dashboard",steps:[{title:"Oversee 5 Pillars",description:"Agent Governance, Supply, Hardware, Payments, Marketing",icon:""},{title:"AI-Powered Insights",description:"Ask Lemlem Admin Chat for instant operational intelligence",icon:""},{title:"Full Control",description:"Manage users, verify properties, process withdrawals, export reports",icon:""}]}};function r5e({user:t,onComplete:e}){const[r,n]=P.useState(0),[i,a]=P.useState(!1),{toast:o}=Vn(),l=t.role,c=p9[l]||p9.guest,u=c.steps.length+1,h=(r+1)/u*100;P.useEffect(()=>{f("step_welcome",!0)},[]);const f=async(N,_)=>{try{await xn("POST","/api/onboarding/track",{step:N,value:_})}catch(E){console.error("Error tracking onboarding:",E)}},y=()=>{r<c.steps.length?(n(r+1),f("step_tour",!0)):v()},v=async()=>{try{await xn("POST","/api/onboarding/complete",{}),zn.invalidateQueries({queryKey:["/api/auth/user"]}),o({title:"Welcome to Alga! ",description:`You're all set to start your journey as a ${l}.`}),e()}catch(N){console.error("Error completing onboarding:",N),o({title:"Onboarding Complete",description:"Welcome to Alga!",variant:"default"}),e()}},S=async()=>{a(!0);try{await f("skip_count",!0),await xn("POST","/api/onboarding/complete",{}),zn.invalidateQueries({queryKey:["/api/auth/user"]}),zn.invalidateQueries({queryKey:["/api/onboarding/status"]})}catch(N){console.error("Error skipping onboarding:",N)}setTimeout(()=>{e()},500)},w=c.icon;return s.jsx(FP,{mode:"wait",children:s.jsx(Ev.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4","data-testid":"onboarding-overlay",children:s.jsx(Ev.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",duration:.5},className:"w-full max-w-2xl",children:s.jsxs(_e,{className:"relative overflow-hidden border-none shadow-2xl bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:`relative bg-gradient-to-br ${c.color} p-8 text-white overflow-hidden`,children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 border-4 border-white rotate-45"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 border-4 border-white rotate-45"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-4 border-white rounded-full"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("button",{onClick:S,className:"absolute -top-2 -right-2 p-3 bg-white/30 hover:bg-white/50 rounded-full transition-all shadow-lg backdrop-blur-sm","data-testid":"button-skip-onboarding","aria-label":"Close welcome tour",children:s.jsx(Cc,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center text-4xl",children:c.emoji}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:c.title}),s.jsxs("p",{className:"text-white/90 text-xl font-amharic",children:[c.amharicGreeting," ",t.firstName,"!"]})]})]}),s.jsx(R4,{value:h,className:"h-2 bg-white/30"}),s.jsxs("p",{className:"text-sm text-white/80 mt-2",children:["Step ",r+1," of ",u]})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsx(FP,{mode:"wait",children:r===0?s.jsxs(Ev.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6","data-testid":"onboarding-welcome-screen",children:["videoUrl"in c&&c.videoUrl&&s.jsx("div",{className:"relative rounded-xl overflow-hidden bg-black shadow-lg",children:s.jsxs("video",{className:"w-full h-auto max-h-80 object-cover",controls:!0,playsInline:!0,preload:"metadata",poster:`${c.videoUrl.replace(".mp4","")}_poster.jpg`,"data-testid":"onboarding-welcome-video",children:[s.jsx("source",{src:c.videoUrl,type:"video/mp4"}),s.jsx("p",{className:"text-white p-4",children:"Your browser doesn't support video playback."})]})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(w,{className:`w-8 h-8 text-gradient-to-br ${c.color}`}),s.jsx("div",{children:s.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:c.description})})]}),s.jsx("div",{className:"bg-cream-50 dark:bg-gray-800 border-l-4 border-amber-500 p-4 rounded-r-lg",children:s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:[s.jsx("span",{className:"font-semibold",children:"Ethiopian Wisdom:"}),s.jsx("br",{}),'"',c.proverb,'"']})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsx("span",{children:"This quick tour takes less than 30 seconds"})]})]},"welcome"):s.jsx(Ev.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6","data-testid":`onboarding-step-${r}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:c.steps[r-1].icon}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:c.steps[r-1].title}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:c.steps[r-1].description})]})},`step-${r}`)}),s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","data-testid":"button-skip",children:"Skip tour"}),s.jsx(Be,{onClick:y,className:`bg-gradient-to-r ${c.color} text-white shadow-lg hover:shadow-xl transition-shadow`,"data-testid":"button-next",children:r===c.steps.length?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Get Started"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(Sb,{className:"w-4 h-4 ml-2"})]})})]})]})]})})})})}function n5e(){const t=Ms(),{data:e,isLoading:r}=Nr({queryKey:["/api/auth/user"]}),{data:n}=Nr({queryKey:["/api/onboarding/status"],enabled:!!e});if(P.useEffect(()=>{!r&&!e&&t("/")},[e,r,t]),P.useEffect(()=>{n!=null&&n.onboardingCompleted&&t({guest:"/properties",host:"/host-dashboard",dellala:"/dellala/dashboard",operator:"/operator/dashboard",admin:"/admin/dashboard"}[(e==null?void 0:e.role)||"guest"]||"/properties")},[n,e,t]),r||!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cream-50 to-cream-100 dark:from-gray-900 dark:to-gray-800",children:s.jsx(eo,{className:"h-8 w-8 animate-spin text-brown-600"})});const i=()=>{t({guest:"/properties",host:"/host-dashboard",dellala:"/dellala/dashboard",operator:"/operator/dashboard",admin:"/admin/dashboard"}[e.role]||"/properties")};return s.jsx(r5e,{user:e,onComplete:i})}var s5e=P.createContext(void 0);function m0(t){const e=P.useContext(s5e);return t||e||"ltr"}var r_=0;function CM(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??g9()),document.body.insertAdjacentElement("beforeend",t[1]??g9()),r_++,()=>{r_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),r_--}},[])}function g9(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var n_="focusScope.autoFocusOnMount",s_="focusScope.autoFocusOnUnmount",x9={bubbles:!1,cancelable:!0},i5e="FocusScope",D4=P.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=P.useState(null),u=Gi(i),h=Gi(a),f=P.useRef(null),y=Pn(e,w=>c(w)),v=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let w=function(T){if(v.paused||!l)return;const M=T.target;l.contains(M)?f.current=M:Vm(f.current,{select:!0})},N=function(T){if(v.paused||!l)return;const M=T.relatedTarget;M!==null&&(l.contains(M)||Vm(f.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Vm(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const E=new MutationObserver(_);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),E.disconnect()}}},[n,l,v.paused]),P.useEffect(()=>{if(l){v9.add(v);const w=document.activeElement;if(!l.contains(w)){const _=new CustomEvent(n_,x9);l.addEventListener(n_,u),l.dispatchEvent(_),_.defaultPrevented||(a5e(d5e(pne(l)),{select:!0}),document.activeElement===w&&Vm(l))}return()=>{l.removeEventListener(n_,u),setTimeout(()=>{const _=new CustomEvent(s_,x9);l.addEventListener(s_,h),l.dispatchEvent(_),_.defaultPrevented||Vm(w??document.body,{select:!0}),l.removeEventListener(s_,h),v9.remove(v)},0)}}},[l,u,h,v]);const S=P.useCallback(w=>{if(!r&&!n||v.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(N&&_){const E=w.currentTarget,[T,M]=o5e(E);T&&M?!w.shiftKey&&_===M?(w.preventDefault(),r&&Vm(T,{select:!0})):w.shiftKey&&_===T&&(w.preventDefault(),r&&Vm(M,{select:!0})):_===E&&w.preventDefault()}},[r,n,v.paused]);return s.jsx(Tr.div,{tabIndex:-1,...o,ref:y,onKeyDown:S})});D4.displayName=i5e;function a5e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vm(n,{select:e}),document.activeElement!==r)return}function o5e(t){const e=pne(t),r=y9(e,t),n=y9(e.reverse(),t);return[r,n]}function pne(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function y9(t,e){for(const r of t)if(!l5e(r,{upTo:e}))return r}function l5e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c5e(t){return t instanceof HTMLInputElement&&"select"in t}function Vm(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&c5e(t)&&e&&t.select()}}var v9=u5e();function u5e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=b9(t,e),t.unshift(e)},remove(e){var r;t=b9(t,e),(r=t[0])==null||r.resume()}}}function b9(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function d5e(t){return t.filter(e=>e.tagName!=="A")}var i_="rovingFocusGroup.onEntryFocus",h5e={bubbles:!1,cancelable:!0},L4="RovingFocusGroup",[E6,gne,f5e]=h2(L4),[m5e,fy]=yo(L4,[f5e]),[p5e,g5e]=m5e(L4),xne=P.forwardRef((t,e)=>s.jsx(E6.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(E6.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(x5e,{...t,ref:e})})}));xne.displayName=L4;var x5e=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,y=P.useRef(null),v=Pn(e,y),S=m0(a),[w=null,N]=lu({prop:o,defaultProp:l,onChange:c}),[_,E]=P.useState(!1),T=Gi(u),M=gne(r),O=P.useRef(!1),[L,B]=P.useState(0);return P.useEffect(()=>{const U=y.current;if(U)return U.addEventListener(i_,T),()=>U.removeEventListener(i_,T)},[T]),s.jsx(p5e,{scope:r,orientation:n,dir:S,loop:i,currentTabStopId:w,onItemFocus:P.useCallback(U=>N(U),[N]),onItemShiftTab:P.useCallback(()=>E(!0),[]),onFocusableItemAdd:P.useCallback(()=>B(U=>U+1),[]),onFocusableItemRemove:P.useCallback(()=>B(U=>U-1),[]),children:s.jsx(Tr.div,{tabIndex:_||L===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:Jt(t.onMouseDown,()=>{O.current=!0}),onFocus:Jt(t.onFocus,U=>{const $=!O.current;if(U.target===U.currentTarget&&$&&!_){const K=new CustomEvent(i_,h5e);if(U.currentTarget.dispatchEvent(K),!K.defaultPrevented){const q=M().filter(ye=>ye.focusable),H=q.find(ye=>ye.active),Q=q.find(ye=>ye.id===w),J=[H,Q,...q].filter(Boolean).map(ye=>ye.ref.current);bne(J,h)}}O.current=!1}),onBlur:Jt(t.onBlur,()=>E(!1))})})}),yne="RovingFocusGroupItem",vne=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,l=su(),c=a||l,u=g5e(yne,r),h=u.currentTabStopId===c,f=gne(r),{onFocusableItemAdd:y,onFocusableItemRemove:v}=u;return P.useEffect(()=>{if(n)return y(),()=>v()},[n,y,v]),s.jsx(E6.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:s.jsx(Tr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Jt(t.onMouseDown,S=>{n?u.onItemFocus(c):S.preventDefault()}),onFocus:Jt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Jt(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=b5e(S,u.orientation,u.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let _=f().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const E=_.indexOf(S.currentTarget);_=u.loop?w5e(_,E+1):_.slice(E+1)}setTimeout(()=>bne(_))}})})})});vne.displayName=yne;var y5e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v5e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b5e(t,e,r){const n=v5e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return y5e[n]}function bne(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function w5e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var AM=xne,_M=vne,N5e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},q0=new WeakMap,FN=new WeakMap,BN={},a_=0,wne=function(t){return t&&(t.host||wne(t.parentNode))},j5e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=wne(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},S5e=function(t,e,r,n){var i=j5e(e,Array.isArray(t)?t:[t]);BN[r]||(BN[r]=new WeakMap);var a=BN[r],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(y){if(l.has(y))h(y);else try{var v=y.getAttribute(n),S=v!==null&&v!=="false",w=(q0.get(y)||0)+1,N=(a.get(y)||0)+1;q0.set(y,w),a.set(y,N),o.push(y),w===1&&S&&FN.set(y,!0),N===1&&y.setAttribute(r,"true"),S||y.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return h(e),l.clear(),a_++,function(){o.forEach(function(f){var y=q0.get(f)-1,v=a.get(f)-1;q0.set(f,y),a.set(f,v),y||(FN.has(f)||f.removeAttribute(n),FN.delete(f)),v||f.removeAttribute(r)}),a_--,a_||(q0=new WeakMap,q0=new WeakMap,FN=new WeakMap,BN={})}},EM=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=N5e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),S5e(n,i,r,"aria-hidden")):function(){return null}},Oh=function(){return Oh=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oh.apply(this,arguments)};function Nne(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function C5e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Mj="right-scroll-bar-position",Rj="width-before-scroll-bar",A5e="with-scroll-bars-hidden",_5e="--removed-body-scroll-bar-size";function o_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function E5e(t,e){var r=P.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var T5e=typeof window<"u"?P.useLayoutEffect:P.useEffect,w9=new WeakMap;function k5e(t,e){var r=E5e(null,function(n){return t.forEach(function(i){return o_(i,n)})});return T5e(function(){var n=w9.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||o_(l,null)}),a.forEach(function(l){i.has(l)||o_(l,o)})}w9.set(r,t)},[t]),r}function P5e(t){return t}function I5e(t,e){e===void 0&&(e=P5e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var h=o;o=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return i}function O5e(t){t===void 0&&(t={});var e=I5e(null);return e.options=Oh({async:!0,ssr:!1},t),e}var jne=function(t){var e=t.sideCar,r=Nne(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,Oh({},r))};jne.isSideCarExport=!0;function M5e(t,e){return t.useMedium(e),jne}var Sne=O5e(),l_=function(){},F4=P.forwardRef(function(t,e){var r=P.useRef(null),n=P.useState({onScrollCapture:l_,onWheelCapture:l_,onTouchMoveCapture:l_}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,y=t.sideCar,v=t.noIsolation,S=t.inert,w=t.allowPinchZoom,N=t.as,_=N===void 0?"div":N,E=t.gapMode,T=Nne(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,O=k5e([r,e]),L=Oh(Oh({},T),i);return P.createElement(P.Fragment,null,h&&P.createElement(M,{sideCar:Sne,removeScrollBar:u,shards:f,noIsolation:v,inert:S,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:E}),o?P.cloneElement(P.Children.only(l),Oh(Oh({},L),{ref:O})):P.createElement(_,Oh({},L,{className:c,ref:O}),l))});F4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};F4.classNames={fullWidth:Rj,zeroRight:Mj};var R5e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D5e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R5e();return e&&t.setAttribute("nonce",e),t}function L5e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F5e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B5e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=D5e())&&(L5e(e,r),F5e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},U5e=function(){var t=B5e();return function(e,r){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Cne=function(){var t=U5e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},$5e={left:0,top:0,right:0,gap:0},c_=function(t){return parseInt(t||"",10)||0},z5e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[c_(r),c_(n),c_(i)]},q5e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $5e;var e=z5e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},V5e=Cne(),Cx="data-scroll-locked",H5e=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(A5e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cx,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mj," .").concat(Mj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rj," .").concat(Rj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cx,`] {
    `).concat(_5e,": ").concat(l,`px;
  }
`)},N9=function(){var t=parseInt(document.body.getAttribute(Cx)||"0",10);return isFinite(t)?t:0},W5e=function(){P.useEffect(function(){return document.body.setAttribute(Cx,(N9()+1).toString()),function(){var t=N9()-1;t<=0?document.body.removeAttribute(Cx):document.body.setAttribute(Cx,t.toString())}},[])},G5e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;W5e();var a=P.useMemo(function(){return q5e(i)},[i]);return P.createElement(V5e,{styles:H5e(a,!e,i,r?"":"!important")})},T6=!1;if(typeof window<"u")try{var UN=Object.defineProperty({},"passive",{get:function(){return T6=!0,!0}});window.addEventListener("test",UN,UN),window.removeEventListener("test",UN,UN)}catch{T6=!1}var V0=T6?{passive:!1}:!1,Y5e=function(t){return t.tagName==="TEXTAREA"},Ane=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y5e(t)&&r[e]==="visible")},K5e=function(t){return Ane(t,"overflowY")},X5e=function(t){return Ane(t,"overflowX")},j9=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=_ne(t,n);if(i){var a=Ene(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z5e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Q5e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},_ne=function(t,e){return t==="v"?K5e(e):X5e(e)},Ene=function(t,e){return t==="v"?Z5e(e):Q5e(e)},J5e=function(t,e){return t==="h"&&e==="rtl"?-1:1},eSe=function(t,e,r,n,i){var a=J5e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,h=o>0,f=0,y=0;do{var v=Ene(t,l),S=v[0],w=v[1],N=v[2],_=w-N-a*S;(S||_)&&_ne(t,l)&&(f+=_,y+=S),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(y)<1)&&(u=!0),u},$N=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},S9=function(t){return[t.deltaX,t.deltaY]},C9=function(t){return t&&"current"in t?t.current:t},tSe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rSe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nSe=0,H0=[];function sSe(t){var e=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),i=P.useState(nSe++)[0],a=P.useState(Cne)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=C5e([t.lockRef.current],(t.shards||[]).map(C9),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=P.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=$N(w),E=r.current,T="deltaX"in w?w.deltaX:E[0]-_[0],M="deltaY"in w?w.deltaY:E[1]-_[1],O,L=w.target,B=Math.abs(T)>Math.abs(M)?"h":"v";if("touches"in w&&B==="h"&&L.type==="range")return!1;var U=j9(B,L);if(!U)return!0;if(U?O=B:(O=B==="v"?"h":"v",U=j9(B,L)),!U)return!1;if(!n.current&&"changedTouches"in w&&(T||M)&&(n.current=O),!O)return!0;var $=n.current||O;return eSe($,N,w,$==="h"?T:M)},[]),c=P.useCallback(function(w){var N=w;if(!(!H0.length||H0[H0.length-1]!==a)){var _="deltaY"in N?S9(N):$N(N),E=e.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&tSe(O.delta,_)})[0];if(E&&E.should){N.cancelable&&N.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(C9).filter(Boolean).filter(function(O){return O.contains(N.target)}),M=T.length>0?l(N,T[0]):!o.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),u=P.useCallback(function(w,N,_,E){var T={name:w,delta:N,target:_,should:E,shadowParent:iSe(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(M){return M!==T})},1)},[]),h=P.useCallback(function(w){r.current=$N(w),n.current=void 0},[]),f=P.useCallback(function(w){u(w.type,S9(w),w.target,l(w,t.lockRef.current))},[]),y=P.useCallback(function(w){u(w.type,$N(w),w.target,l(w,t.lockRef.current))},[]);P.useEffect(function(){return H0.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:y}),document.addEventListener("wheel",c,V0),document.addEventListener("touchmove",c,V0),document.addEventListener("touchstart",h,V0),function(){H0=H0.filter(function(w){return w!==a}),document.removeEventListener("wheel",c,V0),document.removeEventListener("touchmove",c,V0),document.removeEventListener("touchstart",h,V0)}},[]);var v=t.removeScrollBar,S=t.inert;return P.createElement(P.Fragment,null,S?P.createElement(a,{styles:rSe(i)}):null,v?P.createElement(G5e,{gapMode:t.gapMode}):null)}function iSe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aSe=M5e(Sne,sSe);var B4=P.forwardRef(function(t,e){return P.createElement(F4,Oh({},t,{ref:e,sideCar:aSe}))});B4.classNames=F4.classNames;var k6=["Enter"," "],oSe=["ArrowDown","PageUp","Home"],Tne=["ArrowUp","PageDown","End"],lSe=[...oSe,...Tne],cSe={ltr:[...k6,"ArrowRight"],rtl:[...k6,"ArrowLeft"]},uSe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},x2="Menu",[kb,dSe,hSe]=h2(x2),[p0,kne]=yo(x2,[hSe,hy,fy]),U4=hy(),Pne=fy(),[fSe,g0]=p0(x2),[mSe,y2]=p0(x2),Ine=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=U4(e),[c,u]=P.useState(null),h=P.useRef(!1),f=Gi(a),y=m0(i);return P.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),s.jsx(xM,{...l,children:s.jsx(fSe,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(mSe,{scope:e,onClose:P.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:y,modal:o,children:n})})})};Ine.displayName=x2;var pSe="MenuAnchor",TM=P.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=U4(r);return s.jsx(yM,{...i,...n,ref:e})});TM.displayName=pSe;var kM="MenuPortal",[gSe,One]=p0(kM,{forceMount:void 0}),Mne=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=g0(kM,e);return s.jsx(gSe,{scope:e,forceMount:r,children:s.jsx(cl,{present:r||a.open,children:s.jsx(f2,{asChild:!0,container:i,children:n})})})};Mne.displayName=kM;var Hu="MenuContent",[xSe,PM]=p0(Hu),Rne=P.forwardRef((t,e)=>{const r=One(Hu,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=g0(Hu,t.__scopeMenu),o=y2(Hu,t.__scopeMenu);return s.jsx(kb.Provider,{scope:t.__scopeMenu,children:s.jsx(cl,{present:n||a.open,children:s.jsx(kb.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(ySe,{...i,ref:e}):s.jsx(vSe,{...i,ref:e})})})})}),ySe=P.forwardRef((t,e)=>{const r=g0(Hu,t.__scopeMenu),n=P.useRef(null),i=Pn(e,n);return P.useEffect(()=>{const a=n.current;if(a)return EM(a)},[]),s.jsx(IM,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Jt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),vSe=P.forwardRef((t,e)=>{const r=g0(Hu,t.__scopeMenu);return s.jsx(IM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),bSe=Xg("MenuContent.ScrollLock"),IM=P.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:y,onDismiss:v,disableOutsideScroll:S,...w}=t,N=g0(Hu,r),_=y2(Hu,r),E=U4(r),T=Pne(r),M=dSe(r),[O,L]=P.useState(null),B=P.useRef(null),U=Pn(e,B,N.onContentChange),$=P.useRef(0),K=P.useRef(""),q=P.useRef(0),H=P.useRef(null),Q=P.useRef("right"),Z=P.useRef(0),J=S?B4:P.Fragment,ye=S?{as:bSe,allowPinchZoom:!0}:void 0,ge=re=>{var ae,de;const me=K.current+re,ne=M().filter(pe=>!pe.disabled),G=document.activeElement,se=(ae=ne.find(pe=>pe.ref.current===G))==null?void 0:ae.textValue,ue=ne.map(pe=>pe.textValue),je=ISe(ue,me,se),Ce=(de=ne.find(pe=>pe.textValue===je))==null?void 0:de.ref.current;(function pe(Oe){K.current=Oe,window.clearTimeout($.current),Oe!==""&&($.current=window.setTimeout(()=>pe(""),1e3))})(me),Ce&&setTimeout(()=>Ce.focus())};P.useEffect(()=>()=>window.clearTimeout($.current),[]),CM();const oe=P.useCallback(re=>{var ne,G;return Q.current===((ne=H.current)==null?void 0:ne.side)&&MSe(re,(G=H.current)==null?void 0:G.area)},[]);return s.jsx(xSe,{scope:r,searchRef:K,onItemEnter:P.useCallback(re=>{oe(re)&&re.preventDefault()},[oe]),onItemLeave:P.useCallback(re=>{var me;oe(re)||((me=B.current)==null||me.focus(),L(null))},[oe]),onTriggerLeave:P.useCallback(re=>{oe(re)&&re.preventDefault()},[oe]),pointerGraceTimerRef:q,onPointerGraceIntentChange:P.useCallback(re=>{H.current=re},[]),children:s.jsx(J,{...ye,children:s.jsx(D4,{asChild:!0,trapped:i,onMountAutoFocus:Jt(a,re=>{var me;re.preventDefault(),(me=B.current)==null||me.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(oy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:y,onDismiss:v,children:s.jsx(AM,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:O,onCurrentTabStopIdChange:L,onEntryFocus:Jt(c,re=>{_.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(vM,{role:"menu","aria-orientation":"vertical","data-state":Zne(N.open),"data-radix-menu-content":"",dir:_.dir,...E,...w,ref:U,style:{outline:"none",...w.style},onKeyDown:Jt(w.onKeyDown,re=>{const ne=re.target.closest("[data-radix-menu-content]")===re.currentTarget,G=re.ctrlKey||re.altKey||re.metaKey,se=re.key.length===1;ne&&(re.key==="Tab"&&re.preventDefault(),!G&&se&&ge(re.key));const ue=B.current;if(re.target!==ue||!lSe.includes(re.key))return;re.preventDefault();const Ce=M().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);Tne.includes(re.key)&&Ce.reverse(),kSe(Ce)}),onBlur:Jt(t.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout($.current),K.current="")}),onPointerMove:Jt(t.onPointerMove,Pb(re=>{const me=re.target,ne=Z.current!==re.clientX;if(re.currentTarget.contains(me)&&ne){const G=re.clientX>Z.current?"right":"left";Q.current=G,Z.current=re.clientX}}))})})})})})})});Rne.displayName=Hu;var wSe="MenuGroup",OM=P.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Tr.div,{role:"group",...n,ref:e})});OM.displayName=wSe;var NSe="MenuLabel",Dne=P.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Tr.div,{...n,ref:e})});Dne.displayName=NSe;var g5="MenuItem",A9="menu.itemSelect",$4=P.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=P.useRef(null),o=y2(g5,t.__scopeMenu),l=PM(g5,t.__scopeMenu),c=Pn(e,a),u=P.useRef(!1),h=()=>{const f=a.current;if(!r&&f){const y=new CustomEvent(A9,{bubbles:!0,cancelable:!0});f.addEventListener(A9,v=>n==null?void 0:n(v),{once:!0}),Q8(f,y),y.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Lne,{...i,ref:c,disabled:r,onClick:Jt(t.onClick,h),onPointerDown:f=>{var y;(y=t.onPointerDown)==null||y.call(t,f),u.current=!0},onPointerUp:Jt(t.onPointerUp,f=>{var y;u.current||(y=f.currentTarget)==null||y.click()}),onKeyDown:Jt(t.onKeyDown,f=>{const y=l.searchRef.current!=="";r||y&&f.key===" "||k6.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$4.displayName=g5;var Lne=P.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=PM(g5,r),l=Pne(r),c=P.useRef(null),u=Pn(e,c),[h,f]=P.useState(!1),[y,v]=P.useState("");return P.useEffect(()=>{const S=c.current;S&&v((S.textContent??"").trim())},[a.children]),s.jsx(kb.ItemSlot,{scope:r,disabled:n,textValue:i??y,children:s.jsx(_M,{asChild:!0,...l,focusable:!n,children:s.jsx(Tr.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Jt(t.onPointerMove,Pb(S=>{n?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Jt(t.onPointerLeave,Pb(S=>o.onItemLeave(S))),onFocus:Jt(t.onFocus,()=>f(!0)),onBlur:Jt(t.onBlur,()=>f(!1))})})})}),jSe="MenuCheckboxItem",Fne=P.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return s.jsx(qne,{scope:t.__scopeMenu,checked:r,children:s.jsx($4,{role:"menuitemcheckbox","aria-checked":x5(r)?"mixed":r,...i,ref:e,"data-state":RM(r),onSelect:Jt(i.onSelect,()=>n==null?void 0:n(x5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Fne.displayName=jSe;var Bne="MenuRadioGroup",[SSe,CSe]=p0(Bne,{value:void 0,onValueChange:()=>{}}),Une=P.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Gi(n);return s.jsx(SSe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:s.jsx(OM,{...i,ref:e})})});Une.displayName=Bne;var $ne="MenuRadioItem",zne=P.forwardRef((t,e)=>{const{value:r,...n}=t,i=CSe($ne,t.__scopeMenu),a=r===i.value;return s.jsx(qne,{scope:t.__scopeMenu,checked:a,children:s.jsx($4,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":RM(a),onSelect:Jt(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});zne.displayName=$ne;var MM="MenuItemIndicator",[qne,ASe]=p0(MM,{checked:!1}),Vne=P.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=ASe(MM,r);return s.jsx(cl,{present:n||x5(a.checked)||a.checked===!0,children:s.jsx(Tr.span,{...i,ref:e,"data-state":RM(a.checked)})})});Vne.displayName=MM;var _Se="MenuSeparator",Hne=P.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Tr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Hne.displayName=_Se;var ESe="MenuArrow",Wne=P.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=U4(r);return s.jsx(bM,{...i,...n,ref:e})});Wne.displayName=ESe;var TSe="MenuSub",[met,Gne]=p0(TSe),Pv="MenuSubTrigger",Yne=P.forwardRef((t,e)=>{const r=g0(Pv,t.__scopeMenu),n=y2(Pv,t.__scopeMenu),i=Gne(Pv,t.__scopeMenu),a=PM(Pv,t.__scopeMenu),o=P.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},h=P.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return P.useEffect(()=>h,[h]),P.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(TM,{asChild:!0,...u,children:s.jsx(Lne,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Zne(r.open),...t,ref:N4(e,i.onTriggerChange),onClick:f=>{var y;(y=t.onClick)==null||y.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Jt(t.onPointerMove,Pb(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Jt(t.onPointerLeave,Pb(f=>{var v,S;h();const y=(v=r.content)==null?void 0:v.getBoundingClientRect();if(y){const w=(S=r.content)==null?void 0:S.dataset.side,N=w==="right",_=N?-5:5,E=y[N?"left":"right"],T=y[N?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:E,y:y.top},{x:T,y:y.top},{x:T,y:y.bottom},{x:E,y:y.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Jt(t.onKeyDown,f=>{var v;const y=a.searchRef.current!=="";t.disabled||y&&f.key===" "||cSe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),f.preventDefault())})})})});Yne.displayName=Pv;var Kne="MenuSubContent",Xne=P.forwardRef((t,e)=>{const r=One(Hu,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=g0(Hu,t.__scopeMenu),o=y2(Hu,t.__scopeMenu),l=Gne(Kne,t.__scopeMenu),c=P.useRef(null),u=Pn(e,c);return s.jsx(kb.Provider,{scope:t.__scopeMenu,children:s.jsx(cl,{present:n||a.open,children:s.jsx(kb.Slot,{scope:t.__scopeMenu,children:s.jsx(IM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Jt(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Jt(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Jt(t.onKeyDown,h=>{var v;const f=h.currentTarget.contains(h.target),y=uSe[o.dir].includes(h.key);f&&y&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});Xne.displayName=Kne;function Zne(t){return t?"open":"closed"}function x5(t){return t==="indeterminate"}function RM(t){return x5(t)?"indeterminate":t?"checked":"unchecked"}function kSe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function PSe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ISe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=PSe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function OSe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,h=e[o].y;c>n!=h>n&&r<(u-l)*(n-c)/(h-c)+l&&(i=!i)}return i}function MSe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return OSe(r,e)}function Pb(t){return e=>e.pointerType==="mouse"?t(e):void 0}var RSe=Ine,DSe=TM,LSe=Mne,FSe=Rne,BSe=OM,USe=Dne,$Se=$4,zSe=Fne,qSe=Une,VSe=zne,HSe=Vne,WSe=Hne,GSe=Wne,YSe=Yne,KSe=Xne,DM="DropdownMenu",[XSe]=yo(DM,[kne]),lc=kne(),[ZSe,Qne]=XSe(DM),Jne=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=lc(e),u=P.useRef(null),[h=!1,f]=lu({prop:i,defaultProp:a,onChange:o});return s.jsx(ZSe,{scope:e,triggerId:su(),triggerRef:u,contentId:su(),open:h,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(y=>!y),[f]),modal:l,children:s.jsx(RSe,{...c,open:h,onOpenChange:f,dir:n,modal:l,children:r})})};Jne.displayName=DM;var ese="DropdownMenuTrigger",tse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=Qne(ese,r),o=lc(r);return s.jsx(DSe,{asChild:!0,...o,children:s.jsx(Tr.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:N4(e,a.triggerRef),onPointerDown:Jt(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Jt(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tse.displayName=ese;var QSe="DropdownMenuPortal",rse=t=>{const{__scopeDropdownMenu:e,...r}=t,n=lc(e);return s.jsx(LSe,{...n,...r})};rse.displayName=QSe;var nse="DropdownMenuContent",sse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Qne(nse,r),a=lc(r),o=P.useRef(!1);return s.jsx(FSe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Jt(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Jt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sse.displayName=nse;var JSe="DropdownMenuGroup",e4e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(BSe,{...i,...n,ref:e})});e4e.displayName=JSe;var t4e="DropdownMenuLabel",ise=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(USe,{...i,...n,ref:e})});ise.displayName=t4e;var r4e="DropdownMenuItem",ase=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx($Se,{...i,...n,ref:e})});ase.displayName=r4e;var n4e="DropdownMenuCheckboxItem",ose=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(zSe,{...i,...n,ref:e})});ose.displayName=n4e;var s4e="DropdownMenuRadioGroup",i4e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(qSe,{...i,...n,ref:e})});i4e.displayName=s4e;var a4e="DropdownMenuRadioItem",lse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(VSe,{...i,...n,ref:e})});lse.displayName=a4e;var o4e="DropdownMenuItemIndicator",cse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(HSe,{...i,...n,ref:e})});cse.displayName=o4e;var l4e="DropdownMenuSeparator",use=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(WSe,{...i,...n,ref:e})});use.displayName=l4e;var c4e="DropdownMenuArrow",u4e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(GSe,{...i,...n,ref:e})});u4e.displayName=c4e;var d4e="DropdownMenuSubTrigger",dse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(YSe,{...i,...n,ref:e})});dse.displayName=d4e;var h4e="DropdownMenuSubContent",hse=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lc(r);return s.jsx(KSe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hse.displayName=h4e;var f4e=Jne,m4e=tse,p4e=rse,fse=sse,mse=ise,pse=ase,gse=ose,xse=lse,yse=cse,vse=use,bse=dse,wse=hse;const g4e=f4e,x4e=m4e,y4e=P.forwardRef(({className:t,inset:e,children:r,...n},i)=>s.jsxs(bse,{ref:i,className:er("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,s.jsx(Sb,{className:"ml-auto"})]}));y4e.displayName=bse.displayName;const v4e=P.forwardRef(({className:t,...e},r)=>s.jsx(wse,{ref:r,className:er("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));v4e.displayName=wse.displayName;const Nse=P.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(p4e,{children:s.jsx(fse,{ref:n,sideOffset:e,className:er("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Nse.displayName=fse.displayName;const Dj=P.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(pse,{ref:n,className:er("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));Dj.displayName=pse.displayName;const b4e=P.forwardRef(({className:t,children:e,checked:r,...n},i)=>s.jsxs(gse,{ref:i,className:er("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yse,{children:s.jsx(Mh,{className:"h-4 w-4"})})}),e]}));b4e.displayName=gse.displayName;const w4e=P.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(xse,{ref:n,className:er("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yse,{children:s.jsx(mre,{className:"h-2 w-2 fill-current"})})}),e]}));w4e.displayName=xse.displayName;const N4e=P.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(mse,{ref:n,className:er("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));N4e.displayName=mse.displayName;const P6=P.forwardRef(({className:t,...e},r)=>s.jsx(vse,{ref:r,className:er("-mx-1 my-1 h-px bg-muted",t),...e}));P6.displayName=vse.displayName;var LM="Dialog",[jse,Sse]=yo(LM),[j4e,eh]=jse(LM),Cse=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=P.useRef(null),c=P.useRef(null),[u=!1,h]=lu({prop:n,defaultProp:i,onChange:a});return s.jsx(j4e,{scope:e,triggerRef:l,contentRef:c,contentId:su(),titleId:su(),descriptionId:su(),open:u,onOpenChange:h,onOpenToggle:P.useCallback(()=>h(f=>!f),[h]),modal:o,children:r})};Cse.displayName=LM;var Ase="DialogTrigger",_se=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=eh(Ase,r),a=Pn(e,i.triggerRef);return s.jsx(Tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":UM(i.open),...n,ref:a,onClick:Jt(t.onClick,i.onOpenToggle)})});_se.displayName=Ase;var FM="DialogPortal",[S4e,Ese]=jse(FM,{forceMount:void 0}),Tse=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=eh(FM,e);return s.jsx(S4e,{scope:e,forceMount:r,children:P.Children.map(n,o=>s.jsx(cl,{present:r||a.open,children:s.jsx(f2,{asChild:!0,container:i,children:o})}))})};Tse.displayName=FM;var y5="DialogOverlay",kse=P.forwardRef((t,e)=>{const r=Ese(y5,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=eh(y5,t.__scopeDialog);return a.modal?s.jsx(cl,{present:n||a.open,children:s.jsx(A4e,{...i,ref:e})}):null});kse.displayName=y5;var C4e=Xg("DialogOverlay.RemoveScroll"),A4e=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=eh(y5,r);return s.jsx(B4,{as:C4e,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Tr.div,{"data-state":UM(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Jg="DialogContent",Pse=P.forwardRef((t,e)=>{const r=Ese(Jg,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=eh(Jg,t.__scopeDialog);return s.jsx(cl,{present:n||a.open,children:a.modal?s.jsx(_4e,{...i,ref:e}):s.jsx(E4e,{...i,ref:e})})});Pse.displayName=Jg;var _4e=P.forwardRef((t,e)=>{const r=eh(Jg,t.__scopeDialog),n=P.useRef(null),i=Pn(e,r.contentRef,n);return P.useEffect(()=>{const a=n.current;if(a)return EM(a)},[]),s.jsx(Ise,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Jt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Jt(t.onFocusOutside,a=>a.preventDefault())})}),E4e=P.forwardRef((t,e)=>{const r=eh(Jg,t.__scopeDialog),n=P.useRef(!1),i=P.useRef(!1);return s.jsx(Ise,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ise=P.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=eh(Jg,r),c=P.useRef(null),u=Pn(e,c);return CM(),s.jsxs(s.Fragment,{children:[s.jsx(D4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(oy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":UM(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(k4e,{titleId:l.titleId}),s.jsx(I4e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BM="DialogTitle",Ose=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=eh(BM,r);return s.jsx(Tr.h2,{id:i.titleId,...n,ref:e})});Ose.displayName=BM;var Mse="DialogDescription",Rse=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=eh(Mse,r);return s.jsx(Tr.p,{id:i.descriptionId,...n,ref:e})});Rse.displayName=Mse;var Dse="DialogClose",Lse=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=eh(Dse,r);return s.jsx(Tr.button,{type:"button",...n,ref:e,onClick:Jt(t.onClick,()=>i.onOpenChange(!1))})});Lse.displayName=Dse;function UM(t){return t?"open":"closed"}var Fse="DialogTitleWarning",[T4e,Bse]=owe(Fse,{contentName:Jg,titleName:BM,docsSlug:"dialog"}),k4e=({titleId:t})=>{const e=Bse(Fse),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},P4e="DialogDescriptionWarning",I4e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Bse(P4e).contentName}}.`;return P.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},$M=Cse,zM=_se,qM=Tse,v2=kse,b2=Pse,w2=Ose,N2=Rse,z4=Lse;const O4e=$M,M4e=zM,R4e=qM,Use=P.forwardRef(({className:t,...e},r)=>s.jsx(v2,{className:er("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Use.displayName=v2.displayName;const D4e=ly("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$se=P.forwardRef(({side:t="right",className:e,children:r,...n},i)=>s.jsxs(R4e,{children:[s.jsx(Use,{}),s.jsxs(b2,{ref:i,className:er(D4e({side:t}),e),...n,children:[r,s.jsxs(z4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Cc,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$se.displayName=b2.displayName;const zse=({className:t,...e})=>s.jsx("div",{className:er("flex flex-col space-y-2 text-center sm:text-left",t),...e});zse.displayName="SheetHeader";const qse=P.forwardRef(({className:t,...e},r)=>s.jsx(w2,{ref:r,className:er("text-lg font-semibold text-foreground",t),...e}));qse.displayName=w2.displayName;const L4e=P.forwardRef(({className:t,...e},r)=>s.jsx(N2,{ref:r,className:er("text-sm text-muted-foreground",t),...e}));L4e.displayName=N2.displayName;var VM="Avatar",[F4e]=yo(VM),[B4e,Vse]=F4e(VM),Hse=P.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=P.useState("idle");return s.jsx(B4e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Tr.span,{...n,ref:e})})});Hse.displayName=VM;var Wse="AvatarImage",Gse=P.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=Vse(Wse,r),l=U4e(n,a),c=Gi(u=>{i(u),o.onImageLoadingStatusChange(u)});return Ba(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Tr.img,{...a,ref:e,src:n}):null});Gse.displayName=Wse;var Yse="AvatarFallback",Kse=P.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=Vse(Yse,r),[o,l]=P.useState(n===void 0);return P.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Tr.span,{...i,ref:e}):null});Kse.displayName=Yse;function _9(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U4e(t,{referrerPolicy:e,crossOrigin:r}){const n=z4e(),i=P.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=P.useState(()=>_9(a,t));return Ba(()=>{l(_9(a,t))},[a,t]),Ba(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,r,e]),o}function $4e(){return()=>{}}function z4e(){return P.useSyncExternalStore($4e,()=>!0,()=>!1)}var Xse=Hse,Zse=Gse,Qse=Kse;const j2=P.forwardRef(({className:t,...e},r)=>s.jsx(Xse,{ref:r,className:er("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));j2.displayName=Xse.displayName;const HM=P.forwardRef(({className:t,...e},r)=>s.jsx(Zse,{ref:r,className:er("aspect-square h-full w-full",t),...e}));HM.displayName=Zse.displayName;const S2=P.forwardRef(({className:t,...e},r)=>s.jsx(Qse,{ref:r,className:er("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));S2.displayName=Qse.displayName;var C2=t=>t.type==="checkbox",gg=t=>t instanceof Date,rc=t=>t==null;const Jse=t=>typeof t=="object";var Fa=t=>!rc(t)&&!Array.isArray(t)&&Jse(t)&&!gg(t),eie=t=>Fa(t)&&t.target?C2(t.target)?t.target.checked:t.target.value:t,q4e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tie=(t,e)=>t.has(q4e(e)),V4e=t=>{const e=t.constructor&&t.constructor.prototype;return Fa(e)&&e.hasOwnProperty("isPrototypeOf")},WM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sl(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(WM&&(t instanceof Blob||n))&&(r||Fa(t)))if(e=r?[]:{},!r&&!V4e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=sl(t[i]));else return t;return e}var q4=t=>Array.isArray(t)?t.filter(Boolean):[],Pa=t=>t===void 0,hr=(t,e,r)=>{if(!e||!Fa(t))return r;const n=q4(e.split(/[,[\].]+?/)).reduce((i,a)=>rc(i)?i:i[a],t);return Pa(n)||n===t?Pa(t[e])?r:t[e]:n},Qc=t=>typeof t=="boolean",GM=t=>/^\w*$/.test(t),rie=t=>q4(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zs=(t,e,r)=>{let n=-1;const i=GM(e)?[e]:rie(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=Fa(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const v5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nie=Le.createContext(null),V4=()=>Le.useContext(nie),H4e=t=>{const{children:e,...r}=t;return Le.createElement(nie.Provider,{value:r},e)};var sie=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Fd.all&&(e._proxyFormState[o]=!n||Fd.all),r&&(r[o]=!0),t[o]}});return i};function W4e(t){const e=V4(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[o,l]=Le.useState(r._formState),c=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Le.useRef(i);return u.current=i,Le.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:a,callback:h=>{!n&&l({...r._formState,...h})}}),[r,n,a]),Le.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Le.useMemo(()=>sie(o,r,c.current,!1),[o,r])}var Rh=t=>typeof t=="string",iie=(t,e,r,n,i)=>Rh(t)?(n&&e.watch.add(t),hr(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),hr(r,a))):(n&&(e.watchAll=!0),r);function G4e(t){const e=V4(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:o}=t||{},l=Le.useRef(n),c=Le.useRef(i);l.current=n,Le.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&h(iie(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,a,o]);const[u,h]=Le.useState(r._getWatch(n,i));return Le.useEffect(()=>r._removeUnmounted()),u}function Y4e(t){const e=V4(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,o=tie(i._names.array,r),l=G4e({control:i,name:r,defaultValue:hr(i._formValues,r,hr(i._defaultValues,r,t.defaultValue)),exact:!0}),c=W4e({control:i,name:r,exact:!0}),u=Le.useRef(t),h=Le.useRef(i.register(r,{...t.rules,value:l,...Qc(t.disabled)?{disabled:t.disabled}:{}})),f=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!hr(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!hr(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!hr(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!hr(c.validatingFields,r)},error:{enumerable:!0,get:()=>hr(c.errors,r)}}),[c,r]),y=Le.useCallback(N=>h.current.onChange({target:{value:eie(N),name:r},type:v5.CHANGE}),[r]),v=Le.useCallback(()=>h.current.onBlur({target:{value:hr(i._formValues,r),name:r},type:v5.BLUR}),[r,i._formValues]),S=Le.useCallback(N=>{const _=hr(i._fields,r);_&&N&&(_._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:E=>N.setCustomValidity(E),reportValidity:()=>N.reportValidity()})},[i._fields,r]),w=Le.useMemo(()=>({name:r,value:l,...Qc(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:y,onBlur:v,ref:S}),[r,n,c.disabled,y,v,S,l]);return Le.useEffect(()=>{const N=i._options.shouldUnregister||a;i.register(r,{...u.current.rules,...Qc(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(E,T)=>{const M=hr(i._fields,E);M&&M._f&&(M._f.mount=T)};if(_(r,!0),N){const E=sl(hr(i._options.defaultValues,r));zs(i._defaultValues,r,E),Pa(hr(i._formValues,r))&&zs(i._formValues,r,E)}return!o&&i.register(r),()=>{(o?N&&!i._state.action:N)?i.unregister(r):_(r,!1)}},[r,i,o,a]),Le.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Le.useMemo(()=>({field:w,formState:c,fieldState:f}),[w,c,f])}const K4e=t=>t.render(Y4e(t));var aie=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Jv=t=>Array.isArray(t)?t:[t],E9=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},I6=t=>rc(t)||!Jse(t);function Ym(t,e){if(I6(t)||I6(e))return t===e;if(gg(t)&&gg(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(gg(a)&&gg(o)||Fa(a)&&Fa(o)||Array.isArray(a)&&Array.isArray(o)?!Ym(a,o):a!==o)return!1}}return!0}var ec=t=>Fa(t)&&!Object.keys(t).length,YM=t=>t.type==="file",Bd=t=>typeof t=="function",b5=t=>{if(!WM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},oie=t=>t.type==="select-multiple",KM=t=>t.type==="radio",X4e=t=>KM(t)||C2(t),u_=t=>b5(t)&&t.isConnected;function Z4e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Pa(t)?n++:t[e[n++]];return t}function Q4e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pa(t[e]))return!1;return!0}function co(t,e){const r=Array.isArray(e)?e:GM(e)?[e]:rie(e),n=r.length===1?t:Z4e(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Fa(n)&&ec(n)||Array.isArray(n)&&Q4e(n))&&co(t,r.slice(0,-1)),t}var lie=t=>{for(const e in t)if(Bd(t[e]))return!0;return!1};function w5(t,e={}){const r=Array.isArray(t);if(Fa(t)||r)for(const n in t)Array.isArray(t[n])||Fa(t[n])&&!lie(t[n])?(e[n]=Array.isArray(t[n])?[]:{},w5(t[n],e[n])):rc(t[n])||(e[n]=!0);return e}function cie(t,e,r){const n=Array.isArray(t);if(Fa(t)||n)for(const i in t)Array.isArray(t[i])||Fa(t[i])&&!lie(t[i])?Pa(e)||I6(r[i])?r[i]=Array.isArray(t[i])?w5(t[i],[]):{...w5(t[i])}:cie(t[i],rc(e)?{}:e[i],r[i]):r[i]=!Ym(t[i],e[i]);return r}var Jy=(t,e)=>cie(t,e,w5(e));const T9={value:!1,isValid:!1},k9={value:!0,isValid:!0};var uie=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pa(t[0].attributes.value)?Pa(t[0].value)||t[0].value===""?k9:{value:t[0].value,isValid:!0}:k9:T9}return T9},die=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Pa(t)?t:e?t===""?NaN:t&&+t:r&&Rh(t)?new Date(t):n?n(t):t;const P9={isValid:!1,value:null};var hie=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,P9):P9;function I9(t){const e=t.ref;return YM(e)?e.files:KM(e)?hie(t.refs).value:oie(e)?[...e.selectedOptions].map(({value:r})=>r):C2(e)?uie(t.refs).value:die(Pa(e.value)?t.ref.value:e.value,t)}var J4e=(t,e,r,n)=>{const i={};for(const a of t){const o=hr(e,a);o&&zs(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},N5=t=>t instanceof RegExp,ev=t=>Pa(t)?t:N5(t)?t.source:Fa(t)?N5(t.value)?t.value.source:t.value:t,O9=t=>({isOnSubmit:!t||t===Fd.onSubmit,isOnBlur:t===Fd.onBlur,isOnChange:t===Fd.onChange,isOnAll:t===Fd.all,isOnTouch:t===Fd.onTouched});const M9="AsyncFunction";var eCe=t=>!!t&&!!t.validate&&!!(Bd(t.validate)&&t.validate.constructor.name===M9||Fa(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===M9)),tCe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),R9=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const eb=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=hr(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(eb(l,e))break}else if(Fa(l)&&eb(l,e))break}}};function D9(t,e,r){const n=hr(t,r);if(n||GM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=hr(e,a),l=hr(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:r}}var rCe=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return ec(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Fd.all))},nCe=(t,e,r)=>!t||!e||t===e||Jv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),sCe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,iCe=(t,e)=>!q4(hr(t,e)).length&&co(t,e),aCe=(t,e,r)=>{const n=Jv(hr(t,r));return zs(n,"root",e[r]),zs(t,r,n),t},Lj=t=>Rh(t);function L9(t,e,r="validate"){if(Lj(t)||Array.isArray(t)&&t.every(Lj)||Qc(t)&&!t)return{type:r,message:Lj(t)?t:"",ref:e}}var W0=t=>Fa(t)&&!N5(t)?t:{value:t,message:""},F9=async(t,e,r,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:f,max:y,pattern:v,validate:S,name:w,valueAsNumber:N,mount:_}=t._f,E=hr(r,w);if(!_||e.has(w))return{};const T=l?l[0]:o,M=H=>{i&&T.reportValidity&&(T.setCustomValidity(Qc(H)?"":H||""),T.reportValidity())},O={},L=KM(o),B=C2(o),U=L||B,$=(N||YM(o))&&Pa(o.value)&&Pa(E)||b5(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,K=aie.bind(null,w,n,O),q=(H,Q,Z,J=bf.maxLength,ye=bf.minLength)=>{const ge=H?Q:Z;O[w]={type:H?J:ye,message:ge,ref:o,...K(H?J:ye,ge)}};if(a?!Array.isArray(E)||!E.length:c&&(!U&&($||rc(E))||Qc(E)&&!E||B&&!uie(l).isValid||L&&!hie(l).isValid)){const{value:H,message:Q}=Lj(c)?{value:!!c,message:c}:W0(c);if(H&&(O[w]={type:bf.required,message:Q,ref:T,...K(bf.required,Q)},!n))return M(Q),O}if(!$&&(!rc(f)||!rc(y))){let H,Q;const Z=W0(y),J=W0(f);if(!rc(E)&&!isNaN(E)){const ye=o.valueAsNumber||E&&+E;rc(Z.value)||(H=ye>Z.value),rc(J.value)||(Q=ye<J.value)}else{const ye=o.valueAsDate||new Date(E),ge=me=>new Date(new Date().toDateString()+" "+me),oe=o.type=="time",re=o.type=="week";Rh(Z.value)&&E&&(H=oe?ge(E)>ge(Z.value):re?E>Z.value:ye>new Date(Z.value)),Rh(J.value)&&E&&(Q=oe?ge(E)<ge(J.value):re?E<J.value:ye<new Date(J.value))}if((H||Q)&&(q(!!H,Z.message,J.message,bf.max,bf.min),!n))return M(O[w].message),O}if((u||h)&&!$&&(Rh(E)||a&&Array.isArray(E))){const H=W0(u),Q=W0(h),Z=!rc(H.value)&&E.length>+H.value,J=!rc(Q.value)&&E.length<+Q.value;if((Z||J)&&(q(Z,H.message,Q.message),!n))return M(O[w].message),O}if(v&&!$&&Rh(E)){const{value:H,message:Q}=W0(v);if(N5(H)&&!E.match(H)&&(O[w]={type:bf.pattern,message:Q,ref:o,...K(bf.pattern,Q)},!n))return M(Q),O}if(S){if(Bd(S)){const H=await S(E,r),Q=L9(H,T);if(Q&&(O[w]={...Q,...K(bf.validate,Q.message)},!n))return M(Q.message),O}else if(Fa(S)){let H={};for(const Q in S){if(!ec(H)&&!n)break;const Z=L9(await S[Q](E,r),T,Q);Z&&(H={...Z,...K(Q,Z.message)},M(Z.message),n&&(O[w]=H))}if(!ec(H)&&(O[w]={ref:T,...H},!n))return O}}return M(!0),O};const oCe={mode:Fd.onSubmit,reValidateMode:Fd.onChange,shouldFocusError:!0};function lCe(t={}){let e={...oCe,...t},r={submitCount:0,isDirty:!1,isLoading:Bd(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Fa(e.defaultValues)||Fa(e.values)?sl(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:sl(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const y={array:E9(),state:E9()},v=O9(e.mode),S=O9(e.reValidateMode),w=e.criteriaMode===Fd.all,N=Fe=>Xe=>{clearTimeout(u),u=setTimeout(Fe,Xe)},_=async Fe=>{if(!e.disabled&&(h.isValid||f.isValid||Fe)){const Xe=e.resolver?ec((await $()).errors):await q(n,!0);Xe!==r.isValid&&y.state.next({isValid:Xe})}},E=(Fe,Xe)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((Fe||Array.from(l.mount)).forEach(ot=>{ot&&(Xe?zs(r.validatingFields,ot,Xe):co(r.validatingFields,ot))}),y.state.next({validatingFields:r.validatingFields,isValidating:!ec(r.validatingFields)}))},T=(Fe,Xe=[],ot,Et,vt=!0,Tt=!0)=>{if(Et&&ot&&!e.disabled){if(o.action=!0,Tt&&Array.isArray(hr(n,Fe))){const It=ot(hr(n,Fe),Et.argA,Et.argB);vt&&zs(n,Fe,It)}if(Tt&&Array.isArray(hr(r.errors,Fe))){const It=ot(hr(r.errors,Fe),Et.argA,Et.argB);vt&&zs(r.errors,Fe,It),iCe(r.errors,Fe)}if((h.touchedFields||f.touchedFields)&&Tt&&Array.isArray(hr(r.touchedFields,Fe))){const It=ot(hr(r.touchedFields,Fe),Et.argA,Et.argB);vt&&zs(r.touchedFields,Fe,It)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Jy(i,a)),y.state.next({name:Fe,isDirty:Q(Fe,Xe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else zs(a,Fe,Xe)},M=(Fe,Xe)=>{zs(r.errors,Fe,Xe),y.state.next({errors:r.errors})},O=Fe=>{r.errors=Fe,y.state.next({errors:r.errors,isValid:!1})},L=(Fe,Xe,ot,Et)=>{const vt=hr(n,Fe);if(vt){const Tt=hr(a,Fe,Pa(ot)?hr(i,Fe):ot);Pa(Tt)||Et&&Et.defaultChecked||Xe?zs(a,Fe,Xe?Tt:I9(vt._f)):ye(Fe,Tt),o.mount&&_()}},B=(Fe,Xe,ot,Et,vt)=>{let Tt=!1,It=!1;const $t={name:Fe};if(!e.disabled){if(!ot||Et){(h.isDirty||f.isDirty)&&(It=r.isDirty,r.isDirty=$t.isDirty=Q(),Tt=It!==$t.isDirty);const ur=Ym(hr(i,Fe),Xe);It=!!hr(r.dirtyFields,Fe),ur?co(r.dirtyFields,Fe):zs(r.dirtyFields,Fe,!0),$t.dirtyFields=r.dirtyFields,Tt=Tt||(h.dirtyFields||f.dirtyFields)&&It!==!ur}if(ot){const ur=hr(r.touchedFields,Fe);ur||(zs(r.touchedFields,Fe,ot),$t.touchedFields=r.touchedFields,Tt=Tt||(h.touchedFields||f.touchedFields)&&ur!==ot)}Tt&&vt&&y.state.next($t)}return Tt?$t:{}},U=(Fe,Xe,ot,Et)=>{const vt=hr(r.errors,Fe),Tt=(h.isValid||f.isValid)&&Qc(Xe)&&r.isValid!==Xe;if(e.delayError&&ot?(c=N(()=>M(Fe,ot)),c(e.delayError)):(clearTimeout(u),c=null,ot?zs(r.errors,Fe,ot):co(r.errors,Fe)),(ot?!Ym(vt,ot):vt)||!ec(Et)||Tt){const It={...Et,...Tt&&Qc(Xe)?{isValid:Xe}:{},errors:r.errors,name:Fe};r={...r,...It},y.state.next(It)}},$=async Fe=>{E(Fe,!0);const Xe=await e.resolver(a,e.context,J4e(Fe||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return E(Fe),Xe},K=async Fe=>{const{errors:Xe}=await $(Fe);if(Fe)for(const ot of Fe){const Et=hr(Xe,ot);Et?zs(r.errors,ot,Et):co(r.errors,ot)}else r.errors=Xe;return Xe},q=async(Fe,Xe,ot={valid:!0})=>{for(const Et in Fe){const vt=Fe[Et];if(vt){const{_f:Tt,...It}=vt;if(Tt){const $t=l.array.has(Tt.name),ur=vt._f&&eCe(vt._f);ur&&h.validatingFields&&E([Et],!0);const tr=await F9(vt,l.disabled,a,w,e.shouldUseNativeValidation&&!Xe,$t);if(ur&&h.validatingFields&&E([Et]),tr[Tt.name]&&(ot.valid=!1,Xe))break;!Xe&&(hr(tr,Tt.name)?$t?aCe(r.errors,tr,Tt.name):zs(r.errors,Tt.name,tr[Tt.name]):co(r.errors,Tt.name))}!ec(It)&&await q(It,Xe,ot)}}return ot.valid},H=()=>{for(const Fe of l.unMount){const Xe=hr(n,Fe);Xe&&(Xe._f.refs?Xe._f.refs.every(ot=>!u_(ot)):!u_(Xe._f.ref))&&pe(Fe)}l.unMount=new Set},Q=(Fe,Xe)=>!e.disabled&&(Fe&&Xe&&zs(a,Fe,Xe),!Ym(G(),i)),Z=(Fe,Xe,ot)=>iie(Fe,l,{...o.mount?a:Pa(Xe)?i:Rh(Fe)?{[Fe]:Xe}:Xe},ot,Xe),J=Fe=>q4(hr(o.mount?a:i,Fe,e.shouldUnregister?hr(i,Fe,[]):[])),ye=(Fe,Xe,ot={})=>{const Et=hr(n,Fe);let vt=Xe;if(Et){const Tt=Et._f;Tt&&(!Tt.disabled&&zs(a,Fe,die(Xe,Tt)),vt=b5(Tt.ref)&&rc(Xe)?"":Xe,oie(Tt.ref)?[...Tt.ref.options].forEach(It=>It.selected=vt.includes(It.value)):Tt.refs?C2(Tt.ref)?Tt.refs.length>1?Tt.refs.forEach(It=>(!It.defaultChecked||!It.disabled)&&(It.checked=Array.isArray(vt)?!!vt.find($t=>$t===It.value):vt===It.value)):Tt.refs[0]&&(Tt.refs[0].checked=!!vt):Tt.refs.forEach(It=>It.checked=It.value===vt):YM(Tt.ref)?Tt.ref.value="":(Tt.ref.value=vt,Tt.ref.type||y.state.next({name:Fe,values:sl(a)})))}(ot.shouldDirty||ot.shouldTouch)&&B(Fe,vt,ot.shouldTouch,ot.shouldDirty,!0),ot.shouldValidate&&ne(Fe)},ge=(Fe,Xe,ot)=>{for(const Et in Xe){const vt=Xe[Et],Tt=`${Fe}.${Et}`,It=hr(n,Tt);(l.array.has(Fe)||Fa(vt)||It&&!It._f)&&!gg(vt)?ge(Tt,vt,ot):ye(Tt,vt,ot)}},oe=(Fe,Xe,ot={})=>{const Et=hr(n,Fe),vt=l.array.has(Fe),Tt=sl(Xe);zs(a,Fe,Tt),vt?(y.array.next({name:Fe,values:sl(a)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&ot.shouldDirty&&y.state.next({name:Fe,dirtyFields:Jy(i,a),isDirty:Q(Fe,Tt)})):Et&&!Et._f&&!rc(Tt)?ge(Fe,Tt,ot):ye(Fe,Tt,ot),R9(Fe,l)&&y.state.next({...r}),y.state.next({name:o.mount?Fe:void 0,values:sl(a)})},re=async Fe=>{o.mount=!0;const Xe=Fe.target;let ot=Xe.name,Et=!0;const vt=hr(n,ot),Tt=It=>{Et=Number.isNaN(It)||gg(It)&&isNaN(It.getTime())||Ym(It,hr(a,ot,It))};if(vt){let It,$t;const ur=Xe.type?I9(vt._f):eie(Fe),tr=Fe.type===v5.BLUR||Fe.type===v5.FOCUS_OUT,_s=!tCe(vt._f)&&!e.resolver&&!hr(r.errors,ot)&&!vt._f.deps||sCe(tr,hr(r.touchedFields,ot),r.isSubmitted,S,v),qr=R9(ot,l,tr);zs(a,ot,ur),tr?(vt._f.onBlur&&vt._f.onBlur(Fe),c&&c(0)):vt._f.onChange&&vt._f.onChange(Fe);const pt=B(ot,ur,tr),Ar=!ec(pt)||qr;if(!tr&&y.state.next({name:ot,type:Fe.type,values:sl(a)}),_s)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?tr&&_():tr||_()),Ar&&y.state.next({name:ot,...qr?{}:pt});if(!tr&&qr&&y.state.next({...r}),e.resolver){const{errors:Rr}=await $([ot]);if(Tt(ur),Et){const or=D9(r.errors,n,ot),vn=D9(Rr,n,or.name||ot);It=vn.error,ot=vn.name,$t=ec(Rr)}}else E([ot],!0),It=(await F9(vt,l.disabled,a,w,e.shouldUseNativeValidation))[ot],E([ot]),Tt(ur),Et&&(It?$t=!1:(h.isValid||f.isValid)&&($t=await q(n,!0)));Et&&(vt._f.deps&&ne(vt._f.deps),U(ot,$t,It,pt))}},me=(Fe,Xe)=>{if(hr(r.errors,Xe)&&Fe.focus)return Fe.focus(),1},ne=async(Fe,Xe={})=>{let ot,Et;const vt=Jv(Fe);if(e.resolver){const Tt=await K(Pa(Fe)?Fe:vt);ot=ec(Tt),Et=Fe?!vt.some(It=>hr(Tt,It)):ot}else Fe?(Et=(await Promise.all(vt.map(async Tt=>{const It=hr(n,Tt);return await q(It&&It._f?{[Tt]:It}:It)}))).every(Boolean),!(!Et&&!r.isValid)&&_()):Et=ot=await q(n);return y.state.next({...!Rh(Fe)||(h.isValid||f.isValid)&&ot!==r.isValid?{}:{name:Fe},...e.resolver||!Fe?{isValid:ot}:{},errors:r.errors}),Xe.shouldFocus&&!Et&&eb(n,me,Fe?vt:l.mount),Et},G=Fe=>{const Xe={...o.mount?a:i};return Pa(Fe)?Xe:Rh(Fe)?hr(Xe,Fe):Fe.map(ot=>hr(Xe,ot))},se=(Fe,Xe)=>({invalid:!!hr((Xe||r).errors,Fe),isDirty:!!hr((Xe||r).dirtyFields,Fe),error:hr((Xe||r).errors,Fe),isValidating:!!hr(r.validatingFields,Fe),isTouched:!!hr((Xe||r).touchedFields,Fe)}),ue=Fe=>{Fe&&Jv(Fe).forEach(Xe=>co(r.errors,Xe)),y.state.next({errors:Fe?r.errors:{}})},je=(Fe,Xe,ot)=>{const Et=(hr(n,Fe,{_f:{}})._f||{}).ref,vt=hr(r.errors,Fe)||{},{ref:Tt,message:It,type:$t,...ur}=vt;zs(r.errors,Fe,{...ur,...Xe,ref:Et}),y.state.next({name:Fe,errors:r.errors,isValid:!1}),ot&&ot.shouldFocus&&Et&&Et.focus&&Et.focus()},Ce=(Fe,Xe)=>Bd(Fe)?y.state.subscribe({next:ot=>Fe(Z(void 0,Xe),ot)}):Z(Fe,Xe,!0),ae=Fe=>y.state.subscribe({next:Xe=>{nCe(Fe.name,Xe.name,Fe.exact)&&rCe(Xe,Fe.formState||h,mt,Fe.reRenderRoot)&&Fe.callback({values:{...a},...r,...Xe})}}).unsubscribe,de=Fe=>(o.mount=!0,f={...f,...Fe.formState},ae({...Fe,formState:f})),pe=(Fe,Xe={})=>{for(const ot of Fe?Jv(Fe):l.mount)l.mount.delete(ot),l.array.delete(ot),Xe.keepValue||(co(n,ot),co(a,ot)),!Xe.keepError&&co(r.errors,ot),!Xe.keepDirty&&co(r.dirtyFields,ot),!Xe.keepTouched&&co(r.touchedFields,ot),!Xe.keepIsValidating&&co(r.validatingFields,ot),!e.shouldUnregister&&!Xe.keepDefaultValue&&co(i,ot);y.state.next({values:sl(a)}),y.state.next({...r,...Xe.keepDirty?{isDirty:Q()}:{}}),!Xe.keepIsValid&&_()},Oe=({disabled:Fe,name:Xe})=>{(Qc(Fe)&&o.mount||Fe||l.disabled.has(Xe))&&(Fe?l.disabled.add(Xe):l.disabled.delete(Xe))},ze=(Fe,Xe={})=>{let ot=hr(n,Fe);const Et=Qc(Xe.disabled)||Qc(e.disabled);return zs(n,Fe,{...ot||{},_f:{...ot&&ot._f?ot._f:{ref:{name:Fe}},name:Fe,mount:!0,...Xe}}),l.mount.add(Fe),ot?Oe({disabled:Qc(Xe.disabled)?Xe.disabled:e.disabled,name:Fe}):L(Fe,!0,Xe.value),{...Et?{disabled:Xe.disabled||e.disabled}:{},...e.progressive?{required:!!Xe.required,min:ev(Xe.min),max:ev(Xe.max),minLength:ev(Xe.minLength),maxLength:ev(Xe.maxLength),pattern:ev(Xe.pattern)}:{},name:Fe,onChange:re,onBlur:re,ref:vt=>{if(vt){ze(Fe,Xe),ot=hr(n,Fe);const Tt=Pa(vt.value)&&vt.querySelectorAll&&vt.querySelectorAll("input,select,textarea")[0]||vt,It=X4e(Tt),$t=ot._f.refs||[];if(It?$t.find(ur=>ur===Tt):Tt===ot._f.ref)return;zs(n,Fe,{_f:{...ot._f,...It?{refs:[...$t.filter(u_),Tt,...Array.isArray(hr(i,Fe))?[{}]:[]],ref:{type:Tt.type,name:Fe}}:{ref:Tt}}}),L(Fe,!1,void 0,Tt)}else ot=hr(n,Fe,{}),ot._f&&(ot._f.mount=!1),(e.shouldUnregister||Xe.shouldUnregister)&&!(tie(l.array,Fe)&&o.action)&&l.unMount.add(Fe)}}},qe=()=>e.shouldFocusError&&eb(n,me,l.mount),$e=Fe=>{Qc(Fe)&&(y.state.next({disabled:Fe}),eb(n,(Xe,ot)=>{const Et=hr(n,ot);Et&&(Xe.disabled=Et._f.disabled||Fe,Array.isArray(Et._f.refs)&&Et._f.refs.forEach(vt=>{vt.disabled=Et._f.disabled||Fe}))},0,!1))},Ve=(Fe,Xe)=>async ot=>{let Et;ot&&(ot.preventDefault&&ot.preventDefault(),ot.persist&&ot.persist());let vt=sl(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:Tt,values:It}=await $();r.errors=Tt,vt=It}else await q(n);if(l.disabled.size)for(const Tt of l.disabled)zs(vt,Tt,void 0);if(co(r.errors,"root"),ec(r.errors)){y.state.next({errors:{}});try{await Fe(vt,ot)}catch(Tt){Et=Tt}}else Xe&&await Xe({...r.errors},ot),qe(),setTimeout(qe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ec(r.errors)&&!Et,submitCount:r.submitCount+1,errors:r.errors}),Et)throw Et},Ee=(Fe,Xe={})=>{hr(n,Fe)&&(Pa(Xe.defaultValue)?oe(Fe,sl(hr(i,Fe))):(oe(Fe,Xe.defaultValue),zs(i,Fe,sl(Xe.defaultValue))),Xe.keepTouched||co(r.touchedFields,Fe),Xe.keepDirty||(co(r.dirtyFields,Fe),r.isDirty=Xe.defaultValue?Q(Fe,sl(hr(i,Fe))):Q()),Xe.keepError||(co(r.errors,Fe),h.isValid&&_()),y.state.next({...r}))},sr=(Fe,Xe={})=>{const ot=Fe?sl(Fe):i,Et=sl(ot),vt=ec(Fe),Tt=vt?i:Et;if(Xe.keepDefaultValues||(i=ot),!Xe.keepValues){if(Xe.keepDirtyValues){const It=new Set([...l.mount,...Object.keys(Jy(i,a))]);for(const $t of Array.from(It))hr(r.dirtyFields,$t)?zs(Tt,$t,hr(a,$t)):oe($t,hr(Tt,$t))}else{if(WM&&Pa(Fe))for(const It of l.mount){const $t=hr(n,It);if($t&&$t._f){const ur=Array.isArray($t._f.refs)?$t._f.refs[0]:$t._f.ref;if(b5(ur)){const tr=ur.closest("form");if(tr){tr.reset();break}}}}for(const It of l.mount)oe(It,hr(Tt,It))}a=sl(Tt),y.array.next({values:{...Tt}}),y.state.next({values:{...Tt}})}l={mount:Xe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Xe.keepIsValid||!!Xe.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:Xe.keepSubmitCount?r.submitCount:0,isDirty:vt?!1:Xe.keepDirty?r.isDirty:!!(Xe.keepDefaultValues&&!Ym(Fe,i)),isSubmitted:Xe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:vt?{}:Xe.keepDirtyValues?Xe.keepDefaultValues&&a?Jy(i,a):r.dirtyFields:Xe.keepDefaultValues&&Fe?Jy(i,Fe):Xe.keepDirty?r.dirtyFields:{},touchedFields:Xe.keepTouched?r.touchedFields:{},errors:Xe.keepErrors?r.errors:{},isSubmitSuccessful:Xe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Zt=(Fe,Xe)=>sr(Bd(Fe)?Fe(a):Fe,Xe),Gt=(Fe,Xe={})=>{const ot=hr(n,Fe),Et=ot&&ot._f;if(Et){const vt=Et.refs?Et.refs[0]:Et.ref;vt.focus&&(vt.focus(),Xe.shouldSelect&&Bd(vt.select)&&vt.select())}},mt=Fe=>{r={...r,...Fe}},ht={control:{register:ze,unregister:pe,getFieldState:se,handleSubmit:Ve,setError:je,_subscribe:ae,_runSchema:$,_getWatch:Z,_getDirty:Q,_setValid:_,_setFieldArray:T,_setDisabledField:Oe,_setErrors:O,_getFieldArray:J,_reset:sr,_resetDefaultValues:()=>Bd(e.defaultValues)&&e.defaultValues().then(Fe=>{Zt(Fe,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:$e,_subjects:y,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(Fe){o=Fe},get _defaultValues(){return i},get _names(){return l},set _names(Fe){l=Fe},get _formState(){return r},get _options(){return e},set _options(Fe){e={...e,...Fe}}},subscribe:de,trigger:ne,register:ze,handleSubmit:Ve,watch:Ce,setValue:oe,getValues:G,reset:Zt,resetField:Ee,clearErrors:ue,unregister:pe,setError:je,setFocus:Gt,getFieldState:se};return{...ht,formControl:ht}}function Gf(t={}){const e=Le.useRef(void 0),r=Le.useRef(void 0),[n,i]=Le.useState({isDirty:!1,isValidating:!1,isLoading:Bd(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Bd(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:lCe(t),formState:n},t.formControl&&t.defaultValues&&!Bd(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Le.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),Le.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Le.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Le.useEffect(()=>{t.values&&!Ym(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Le.useEffect(()=>{t.errors&&!ec(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Le.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Le.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=sie(n,a),e.current}const B9=(t,e,r)=>{if(t&&"reportValidity"in t){const n=hr(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},fie=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?B9(n.ref,r,t):n.refs&&n.refs.forEach(i=>B9(i,r,t))}},cCe=(t,e)=>{e.shouldUseNativeValidation&&fie(t,e);const r={};for(const n in t){const i=hr(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(uCe(e.names||Object.keys(t),n)){const o=Object.assign({},hr(r,n));zs(o,"root",a),zs(r,n,o)}else zs(r,n,a)}return r},uCe=(t,e)=>t.some(r=>r.startsWith(e+"."));var dCe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=aie(o,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},Yf=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&fie({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:cCe(dCe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ms;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ms||(ms={}));var O6;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(O6||(O6={}));const wr=ms.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ef=t=>{switch(typeof t){case"undefined":return wr.undefined;case"string":return wr.string;case"number":return isNaN(t)?wr.nan:wr.number;case"boolean":return wr.boolean;case"function":return wr.function;case"bigint":return wr.bigint;case"symbol":return wr.symbol;case"object":return Array.isArray(t)?wr.array:t===null?wr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?wr.promise:typeof Map<"u"&&t instanceof Map?wr.map:typeof Set<"u"&&t instanceof Set?wr.set:typeof Date<"u"&&t instanceof Date?wr.date:wr.object;default:return wr.unknown}},Xt=ms.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hCe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class au extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof au))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ms.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}au.create=t=>new au(t);const C1=(t,e)=>{let r;switch(t.code){case Xt.invalid_type:t.received===wr.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Xt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ms.jsonStringifyReplacer)}`;break;case Xt.unrecognized_keys:r=`Unrecognized key(s) in object: ${ms.joinValues(t.keys,", ")}`;break;case Xt.invalid_union:r="Invalid input";break;case Xt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ms.joinValues(t.options)}`;break;case Xt.invalid_enum_value:r=`Invalid enum value. Expected ${ms.joinValues(t.options)}, received '${t.received}'`;break;case Xt.invalid_arguments:r="Invalid function arguments";break;case Xt.invalid_return_type:r="Invalid function return type";break;case Xt.invalid_date:r="Invalid date";break;case Xt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ms.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Xt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Xt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Xt.custom:r="Invalid input";break;case Xt.invalid_intersection_types:r="Intersection results could not be merged";break;case Xt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Xt.not_finite:r="Number must be finite";break;default:r=e.defaultError,ms.assertNever(t)}return{message:r}};let mie=C1;function fCe(t){mie=t}function j5(){return mie}const S5=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},mCe=[];function mr(t,e){const r=j5(),n=S5({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===C1?void 0:C1].filter(i=>!!i)});t.common.issues.push(n)}class Ll{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return bn;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return Ll.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return bn;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const bn=Object.freeze({status:"aborted"}),fx=t=>({status:"dirty",value:t}),ac=t=>({status:"valid",value:t}),M6=t=>t.status==="aborted",R6=t=>t.status==="dirty",e0=t=>t.status==="valid",Ib=t=>typeof Promise<"u"&&t instanceof Promise;function C5(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function pie(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var zr;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(zr||(zr={}));var Iv,Ov;class Kh{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const U9=(t,e)=>{if(e0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new au(t.common.issues);return this._error=r,this._error}}};function Fn(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,u;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??r)!==null&&u!==void 0?u:l.defaultError}},description:i}}class qn{get description(){return this._def.description}_getType(e){return Ef(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ef(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ll,ctx:{common:e.parent.common,data:e.data,parsedType:Ef(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ib(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ef(e)},a=this._parseSync({data:e,path:i.path,parent:i});return U9(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ef(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return e0(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>e0(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ef(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Ib(i)?i:Promise.resolve(i));return U9(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Xt.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Kd({schema:this,typeName:yn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qh.create(this,this._def)}nullable(){return Cp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hd.create(this)}promise(){return _1.create(this,this._def)}or(e){return Db.create([this,e],this._def)}and(e){return Lb.create(this,e,this._def)}transform(e){return new Kd({...Fn(this._def),schema:this,typeName:yn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new zb({...Fn(this._def),innerType:this,defaultValue:r,typeName:yn.ZodDefault})}brand(){return new XM({typeName:yn.ZodBranded,type:this,...Fn(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new qb({...Fn(this._def),innerType:this,catchValue:r,typeName:yn.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return A2.create(this,e)}readonly(){return Vb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pCe=/^c[^\s-]{8,}$/i,gCe=/^[0-9a-z]+$/,xCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vCe=/^[a-z0-9_-]{21}$/i,bCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let d_;const SCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ACe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_Ce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ECe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gie="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kCe=new RegExp(`^${gie}$`);function xie(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PCe(t){return new RegExp(`^${xie(t)}$`)}function yie(t){let e=`${gie}T${xie(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ICe(t,e){return!!((e==="v4"||!e)&&SCe.test(t)||(e==="v6"||!e)&&ACe.test(t))}function OCe(t,e){if(!bCe.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function MCe(t,e){return!!((e==="v4"||!e)&&CCe.test(t)||(e==="v6"||!e)&&_Ce.test(t))}class zd extends qn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==wr.string){const a=this._getOrReturnCtx(e);return mr(a,{code:Xt.invalid_type,expected:wr.string,received:a.parsedType}),bn}const n=new Ll;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?mr(i,{code:Xt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&mr(i,{code:Xt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")NCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"email",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")d_||(d_=new RegExp(jCe,"u")),d_.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"emoji",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")yCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"uuid",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"nanoid",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")pCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"cuid",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")gCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"cuid2",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")xCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"ulid",code:Xt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mr(i,{validation:"url",code:Xt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"regex",code:Xt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?yie(a).test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?kCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?PCe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?wCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"duration",code:Xt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ICe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"ip",code:Xt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?OCe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"jwt",code:Xt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?MCe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"cidr",code:Xt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ECe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"base64",code:Xt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?TCe.test(e.data)||(i=this._getOrReturnCtx(e,i),mr(i,{validation:"base64url",code:Xt.invalid_string,message:a.message}),n.dirty()):ms.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Xt.invalid_string,...zr.errToObj(n)})}_addCheck(e){return new zd({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...zr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...zr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...zr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...zr.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...zr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...zr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...zr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...zr.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...zr.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...zr.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...zr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...zr.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...zr.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...zr.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...zr.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...zr.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...zr.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...zr.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...zr.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...zr.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...zr.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...zr.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...zr.errToObj(r)})}nonempty(e){return this.min(1,zr.errToObj(e))}trim(){return new zd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zd.create=t=>{var e;return new zd({checks:[],typeName:yn.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Fn(t)})};function RCe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Np extends qn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==wr.number){const a=this._getOrReturnCtx(e);return mr(a,{code:Xt.invalid_type,expected:wr.number,received:a.parsedType}),bn}let n;const i=new Ll;for(const a of this._def.checks)a.kind==="int"?ms.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?RCe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.not_finite,message:a.message}),i.dirty()):ms.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,zr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,zr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,zr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,zr.toString(r))}setLimit(e,r,n,i){return new Np({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:zr.toString(i)}]})}_addCheck(e){return new Np({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:zr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:zr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:zr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:zr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:zr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:zr.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:zr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:zr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:zr.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ms.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Np.create=t=>new Np({checks:[],typeName:yn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Fn(t)});class jp extends qn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==wr.bigint)return this._getInvalidInput(e);let n;const i=new Ll;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),mr(n,{code:Xt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ms.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return mr(r,{code:Xt.invalid_type,expected:wr.bigint,received:r.parsedType}),bn}gte(e,r){return this.setLimit("min",e,!0,zr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,zr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,zr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,zr.toString(r))}setLimit(e,r,n,i){return new jp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:zr.toString(i)}]})}_addCheck(e){return new jp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:zr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:zr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:zr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:zr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:zr.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jp.create=t=>{var e;return new jp({checks:[],typeName:yn.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Fn(t)})};class Ob extends qn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==wr.boolean){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.boolean,received:n.parsedType}),bn}return ac(e.data)}}Ob.create=t=>new Ob({typeName:yn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Fn(t)});class t0 extends qn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==wr.date){const a=this._getOrReturnCtx(e);return mr(a,{code:Xt.invalid_type,expected:wr.date,received:a.parsedType}),bn}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return mr(a,{code:Xt.invalid_date}),bn}const n=new Ll;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),mr(i,{code:Xt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ms.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:zr.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:zr.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}t0.create=t=>new t0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:yn.ZodDate,...Fn(t)});class A5 extends qn{_parse(e){if(this._getType(e)!==wr.symbol){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.symbol,received:n.parsedType}),bn}return ac(e.data)}}A5.create=t=>new A5({typeName:yn.ZodSymbol,...Fn(t)});class Mb extends qn{_parse(e){if(this._getType(e)!==wr.undefined){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.undefined,received:n.parsedType}),bn}return ac(e.data)}}Mb.create=t=>new Mb({typeName:yn.ZodUndefined,...Fn(t)});class Rb extends qn{_parse(e){if(this._getType(e)!==wr.null){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.null,received:n.parsedType}),bn}return ac(e.data)}}Rb.create=t=>new Rb({typeName:yn.ZodNull,...Fn(t)});class A1 extends qn{constructor(){super(...arguments),this._any=!0}_parse(e){return ac(e.data)}}A1.create=t=>new A1({typeName:yn.ZodAny,...Fn(t)});class qg extends qn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ac(e.data)}}qg.create=t=>new qg({typeName:yn.ZodUnknown,...Fn(t)});class sm extends qn{_parse(e){const r=this._getOrReturnCtx(e);return mr(r,{code:Xt.invalid_type,expected:wr.never,received:r.parsedType}),bn}}sm.create=t=>new sm({typeName:yn.ZodNever,...Fn(t)});class _5 extends qn{_parse(e){if(this._getType(e)!==wr.undefined){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.void,received:n.parsedType}),bn}return ac(e.data)}}_5.create=t=>new _5({typeName:yn.ZodVoid,...Fn(t)});class Hd extends qn{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==wr.array)return mr(r,{code:Xt.invalid_type,expected:wr.array,received:r.parsedType}),bn;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(mr(r,{code:o?Xt.too_big:Xt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(mr(r,{code:Xt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(mr(r,{code:Xt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Kh(r,o,r.path,l)))).then(o=>Ll.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new Kh(r,o,r.path,l)));return Ll.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Hd({...this._def,minLength:{value:e,message:zr.toString(r)}})}max(e,r){return new Hd({...this._def,maxLength:{value:e,message:zr.toString(r)}})}length(e,r){return new Hd({...this._def,exactLength:{value:e,message:zr.toString(r)}})}nonempty(e){return this.min(1,e)}}Hd.create=(t,e)=>new Hd({type:t,minLength:null,maxLength:null,exactLength:null,typeName:yn.ZodArray,...Fn(e)});function nx(t){if(t instanceof aa){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=qh.create(nx(n))}return new aa({...t._def,shape:()=>e})}else return t instanceof Hd?new Hd({...t._def,type:nx(t.element)}):t instanceof qh?qh.create(nx(t.unwrap())):t instanceof Cp?Cp.create(nx(t.unwrap())):t instanceof Xh?Xh.create(t.items.map(e=>nx(e))):t}class aa extends qn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ms.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==wr.object){const u=this._getOrReturnCtx(e);return mr(u,{code:Xt.invalid_type,expected:wr.object,received:u.parsedType}),bn}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof sm&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Kh(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof sm){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")l.length>0&&(mr(i,{code:Xt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Kh(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,y=await h.value;u.push({key:f,value:y,alwaysSet:h.alwaysSet})}return u}).then(u=>Ll.mergeObjectSync(n,u)):Ll.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return zr.errToObj,new aa({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=zr.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new aa({...this._def,unknownKeys:"strip"})}passthrough(){return new aa({...this._def,unknownKeys:"passthrough"})}extend(e){return new aa({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new aa({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:yn.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new aa({...this._def,catchall:e})}pick(e){const r={};return ms.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new aa({...this._def,shape:()=>r})}omit(e){const r={};return ms.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new aa({...this._def,shape:()=>r})}deepPartial(){return nx(this)}partial(e){const r={};return ms.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new aa({...this._def,shape:()=>r})}required(e){const r={};return ms.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof qh;)a=a._def.innerType;r[n]=a}}),new aa({...this._def,shape:()=>r})}keyof(){return vie(ms.objectKeys(this.shape))}}aa.create=(t,e)=>new aa({shape:()=>t,unknownKeys:"strip",catchall:sm.create(),typeName:yn.ZodObject,...Fn(e)});aa.strictCreate=(t,e)=>new aa({shape:()=>t,unknownKeys:"strict",catchall:sm.create(),typeName:yn.ZodObject,...Fn(e)});aa.lazycreate=(t,e)=>new aa({shape:t,unknownKeys:"strip",catchall:sm.create(),typeName:yn.ZodObject,...Fn(e)});class Db extends qn{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new au(l.ctx.common.issues));return mr(r,{code:Xt.invalid_union,unionErrors:o}),bn}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new au(c));return mr(r,{code:Xt.invalid_union,unionErrors:l}),bn}}get options(){return this._def.options}}Db.create=(t,e)=>new Db({options:t,typeName:yn.ZodUnion,...Fn(e)});const Af=t=>t instanceof Bb?Af(t.schema):t instanceof Kd?Af(t.innerType()):t instanceof Ub?[t.value]:t instanceof Sp?t.options:t instanceof $b?ms.objectValues(t.enum):t instanceof zb?Af(t._def.innerType):t instanceof Mb?[void 0]:t instanceof Rb?[null]:t instanceof qh?[void 0,...Af(t.unwrap())]:t instanceof Cp?[null,...Af(t.unwrap())]:t instanceof XM||t instanceof Vb?Af(t.unwrap()):t instanceof qb?Af(t._def.innerType):[];class H4 extends qn{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==wr.object)return mr(r,{code:Xt.invalid_type,expected:wr.object,received:r.parsedType}),bn;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(mr(r,{code:Xt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),bn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const o=Af(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new H4({typeName:yn.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Fn(n)})}}function D6(t,e){const r=Ef(t),n=Ef(e);if(t===e)return{valid:!0,data:t};if(r===wr.object&&n===wr.object){const i=ms.objectKeys(e),a=ms.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=D6(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===wr.array&&n===wr.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=D6(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===wr.date&&n===wr.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lb extends qn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(M6(a)||M6(o))return bn;const l=D6(a.value,o.value);return l.valid?((R6(a)||R6(o))&&r.dirty(),{status:r.value,value:l.data}):(mr(n,{code:Xt.invalid_intersection_types}),bn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lb.create=(t,e,r)=>new Lb({left:t,right:e,typeName:yn.ZodIntersection,...Fn(r)});class Xh extends qn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.array)return mr(n,{code:Xt.invalid_type,expected:wr.array,received:n.parsedType}),bn;if(n.data.length<this._def.items.length)return mr(n,{code:Xt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bn;!this._def.rest&&n.data.length>this._def.items.length&&(mr(n,{code:Xt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Kh(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Ll.mergeArray(r,o)):Ll.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Xh({...this._def,rest:e})}}Xh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xh({items:t,typeName:yn.ZodTuple,rest:null,...Fn(e)})};class Fb extends qn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.object)return mr(n,{code:Xt.invalid_type,expected:wr.object,received:n.parsedType}),bn;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new Kh(n,l,n.path,l)),value:o._parse(new Kh(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ll.mergeObjectAsync(r,i):Ll.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof qn?new Fb({keyType:e,valueType:r,typeName:yn.ZodRecord,...Fn(n)}):new Fb({keyType:zd.create(),valueType:e,typeName:yn.ZodRecord,...Fn(r)})}}class E5 extends qn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.map)return mr(n,{code:Xt.invalid_type,expected:wr.map,received:n.parsedType}),bn;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Kh(n,l,n.path,[u,"key"])),value:a._parse(new Kh(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return bn;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return bn;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}}E5.create=(t,e,r)=>new E5({valueType:e,keyType:t,typeName:yn.ZodMap,...Fn(r)});class r0 extends qn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wr.set)return mr(n,{code:Xt.invalid_type,expected:wr.set,received:n.parsedType}),bn;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(mr(n,{code:Xt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(mr(n,{code:Xt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return bn;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Kh(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new r0({...this._def,minSize:{value:e,message:zr.toString(r)}})}max(e,r){return new r0({...this._def,maxSize:{value:e,message:zr.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}r0.create=(t,e)=>new r0({valueType:t,minSize:null,maxSize:null,typeName:yn.ZodSet,...Fn(e)});class Ax extends qn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==wr.function)return mr(r,{code:Xt.invalid_type,expected:wr.function,received:r.parsedType}),bn;function n(l,c){return S5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,j5(),C1].filter(u=>!!u),issueData:{code:Xt.invalid_arguments,argumentsError:c}})}function i(l,c){return S5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,j5(),C1].filter(u=>!!u),issueData:{code:Xt.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof _1){const l=this;return ac(async function(...c){const u=new au([]),h=await l._def.args.parseAsync(c,a).catch(v=>{throw u.addIssue(n(c,v)),u}),f=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(f,a).catch(v=>{throw u.addIssue(i(f,v)),u})})}else{const l=this;return ac(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new au([n(c,u.error)]);const h=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(h,a);if(!f.success)throw new au([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ax({...this._def,args:Xh.create(e).rest(qg.create())})}returns(e){return new Ax({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ax({args:e||Xh.create([]).rest(qg.create()),returns:r||qg.create(),typeName:yn.ZodFunction,...Fn(n)})}}class Bb extends qn{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Bb.create=(t,e)=>new Bb({getter:t,typeName:yn.ZodLazy,...Fn(e)});class Ub extends qn{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return mr(r,{received:r.data,code:Xt.invalid_literal,expected:this._def.value}),bn}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ub.create=(t,e)=>new Ub({value:t,typeName:yn.ZodLiteral,...Fn(e)});function vie(t,e){return new Sp({values:t,typeName:yn.ZodEnum,...Fn(e)})}class Sp extends qn{constructor(){super(...arguments),Iv.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return mr(r,{expected:ms.joinValues(n),received:r.parsedType,code:Xt.invalid_type}),bn}if(C5(this,Iv)||pie(this,Iv,new Set(this._def.values)),!C5(this,Iv).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return mr(r,{received:r.data,code:Xt.invalid_enum_value,options:n}),bn}return ac(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Sp.create(e,{...this._def,...r})}exclude(e,r=this._def){return Sp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Iv=new WeakMap;Sp.create=vie;class $b extends qn{constructor(){super(...arguments),Ov.set(this,void 0)}_parse(e){const r=ms.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==wr.string&&n.parsedType!==wr.number){const i=ms.objectValues(r);return mr(n,{expected:ms.joinValues(i),received:n.parsedType,code:Xt.invalid_type}),bn}if(C5(this,Ov)||pie(this,Ov,new Set(ms.getValidEnumValues(this._def.values))),!C5(this,Ov).has(e.data)){const i=ms.objectValues(r);return mr(n,{received:n.data,code:Xt.invalid_enum_value,options:i}),bn}return ac(e.data)}get enum(){return this._def.values}}Ov=new WeakMap;$b.create=(t,e)=>new $b({values:t,typeName:yn.ZodNativeEnum,...Fn(e)});class _1 extends qn{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==wr.promise&&r.common.async===!1)return mr(r,{code:Xt.invalid_type,expected:wr.promise,received:r.parsedType}),bn;const n=r.parsedType===wr.promise?r.data:Promise.resolve(r.data);return ac(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_1.create=(t,e)=>new _1({type:t,typeName:yn.ZodPromise,...Fn(e)});class Kd extends qn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{mr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return bn;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?bn:c.status==="dirty"||r.value==="dirty"?fx(c.value):c});{if(r.value==="aborted")return bn;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?bn:l.status==="dirty"||r.value==="dirty"?fx(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?bn:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?bn:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!e0(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>e0(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);ms.assertNever(i)}}Kd.create=(t,e,r)=>new Kd({schema:t,typeName:yn.ZodEffects,effect:e,...Fn(r)});Kd.createWithPreprocess=(t,e,r)=>new Kd({schema:e,effect:{type:"preprocess",transform:t},typeName:yn.ZodEffects,...Fn(r)});class qh extends qn{_parse(e){return this._getType(e)===wr.undefined?ac(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qh.create=(t,e)=>new qh({innerType:t,typeName:yn.ZodOptional,...Fn(e)});class Cp extends qn{_parse(e){return this._getType(e)===wr.null?ac(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cp.create=(t,e)=>new Cp({innerType:t,typeName:yn.ZodNullable,...Fn(e)});class zb extends qn{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===wr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}zb.create=(t,e)=>new zb({innerType:t,typeName:yn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Fn(e)});class qb extends qn{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ib(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new au(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new au(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qb.create=(t,e)=>new qb({innerType:t,typeName:yn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Fn(e)});class T5 extends qn{_parse(e){if(this._getType(e)!==wr.nan){const n=this._getOrReturnCtx(e);return mr(n,{code:Xt.invalid_type,expected:wr.nan,received:n.parsedType}),bn}return{status:"valid",value:e.data}}}T5.create=t=>new T5({typeName:yn.ZodNaN,...Fn(t)});const DCe=Symbol("zod_brand");class XM extends qn{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class A2 extends qn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?bn:a.status==="dirty"?(r.dirty(),fx(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?bn:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new A2({in:e,out:r,typeName:yn.ZodPipeline})}}class Vb extends qn{_parse(e){const r=this._def.innerType._parse(e),n=i=>(e0(i)&&(i.value=Object.freeze(i.value)),i);return Ib(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Vb.create=(t,e)=>new Vb({innerType:t,typeName:yn.ZodReadonly,...Fn(e)});function $9(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function bie(t,e={},r){return t?A1.create().superRefine((n,i)=>{var a,o;const l=t(n);if(l instanceof Promise)return l.then(c=>{var u,h;if(!c){const f=$9(e,n),y=(h=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&h!==void 0?h:!0;i.addIssue({code:"custom",...f,fatal:y})}});if(!l){const c=$9(e,n),u=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:u})}}):A1.create()}const LCe={object:aa.lazycreate};var yn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(yn||(yn={}));const FCe=(t,e={message:`Input not instance of ${t.name}`})=>bie(r=>r instanceof t,e),wie=zd.create,Nie=Np.create,BCe=T5.create,UCe=jp.create,jie=Ob.create,$Ce=t0.create,zCe=A5.create,qCe=Mb.create,VCe=Rb.create,HCe=A1.create,WCe=qg.create,GCe=sm.create,YCe=_5.create,KCe=Hd.create,XCe=aa.create,ZCe=aa.strictCreate,QCe=Db.create,JCe=H4.create,eAe=Lb.create,tAe=Xh.create,rAe=Fb.create,nAe=E5.create,sAe=r0.create,iAe=Ax.create,aAe=Bb.create,oAe=Ub.create,lAe=Sp.create,cAe=$b.create,uAe=_1.create,z9=Kd.create,dAe=qh.create,hAe=Cp.create,fAe=Kd.createWithPreprocess,mAe=A2.create,pAe=()=>wie().optional(),gAe=()=>Nie().optional(),xAe=()=>jie().optional(),yAe={string:(t=>zd.create({...t,coerce:!0})),number:(t=>Np.create({...t,coerce:!0})),boolean:(t=>Ob.create({...t,coerce:!0})),bigint:(t=>jp.create({...t,coerce:!0})),date:(t=>t0.create({...t,coerce:!0}))},vAe=bn;var _t=Object.freeze({__proto__:null,defaultErrorMap:C1,setErrorMap:fCe,getErrorMap:j5,makeIssue:S5,EMPTY_PATH:mCe,addIssueToContext:mr,ParseStatus:Ll,INVALID:bn,DIRTY:fx,OK:ac,isAborted:M6,isDirty:R6,isValid:e0,isAsync:Ib,get util(){return ms},get objectUtil(){return O6},ZodParsedType:wr,getParsedType:Ef,ZodType:qn,datetimeRegex:yie,ZodString:zd,ZodNumber:Np,ZodBigInt:jp,ZodBoolean:Ob,ZodDate:t0,ZodSymbol:A5,ZodUndefined:Mb,ZodNull:Rb,ZodAny:A1,ZodUnknown:qg,ZodNever:sm,ZodVoid:_5,ZodArray:Hd,ZodObject:aa,ZodUnion:Db,ZodDiscriminatedUnion:H4,ZodIntersection:Lb,ZodTuple:Xh,ZodRecord:Fb,ZodMap:E5,ZodSet:r0,ZodFunction:Ax,ZodLazy:Bb,ZodLiteral:Ub,ZodEnum:Sp,ZodNativeEnum:$b,ZodPromise:_1,ZodEffects:Kd,ZodTransformer:Kd,ZodOptional:qh,ZodNullable:Cp,ZodDefault:zb,ZodCatch:qb,ZodNaN:T5,BRAND:DCe,ZodBranded:XM,ZodPipeline:A2,ZodReadonly:Vb,custom:bie,Schema:qn,ZodSchema:qn,late:LCe,get ZodFirstPartyTypeKind(){return yn},coerce:yAe,any:HCe,array:KCe,bigint:UCe,boolean:jie,date:$Ce,discriminatedUnion:JCe,effect:z9,enum:lAe,function:iAe,instanceof:FCe,intersection:eAe,lazy:aAe,literal:oAe,map:nAe,nan:BCe,nativeEnum:cAe,never:GCe,null:VCe,nullable:hAe,number:Nie,object:XCe,oboolean:xAe,onumber:gAe,optional:dAe,ostring:pAe,pipeline:mAe,preprocess:fAe,promise:uAe,record:rAe,set:sAe,strictObject:ZCe,string:wie,symbol:zCe,transformer:z9,tuple:tAe,undefined:qCe,union:QCe,unknown:WCe,void:YCe,NEVER:vAe,ZodIssueCode:Xt,quotelessJson:hCe,ZodError:au});function bAe(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var h_={exports:{}},f_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q9;function wAe(){if(q9)return f_;q9=1;var t=h4();function e(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(f,y){var v=y(),S=n({inst:{value:v,getSnapshot:y}}),w=S[0].inst,N=S[1];return a(function(){w.value=v,w.getSnapshot=y,c(w)&&N({inst:w})},[f,v,y]),i(function(){return c(w)&&N({inst:w}),f(function(){c(w)&&N({inst:w})})},[f]),o(v),v}function c(f){var y=f.getSnapshot;f=f.value;try{var v=y();return!r(f,v)}catch{return!0}}function u(f,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return f_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,f_}var V9;function NAe(){return V9||(V9=1,h_.exports=wAe()),h_.exports}var jAe=NAe();const SAe=TJ.useInsertionEffect,CAe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AAe=CAe?P.useLayoutEffect:P.useEffect,_Ae=SAe||AAe,Sie=t=>{const e=P.useRef([t,(...r)=>e[0](...r)]).current;return _Ae(()=>{e[0]=t}),e[1]},EAe="popstate",ZM="pushState",QM="replaceState",TAe="hashchange",H9=[EAe,ZM,QM,TAe],kAe=t=>{for(const e of H9)addEventListener(e,t);return()=>{for(const e of H9)removeEventListener(e,t)}},Cie=(t,e)=>jAe.useSyncExternalStore(kAe,t,e),PAe=()=>location.search,IAe=({ssrSearch:t=""}={})=>Cie(PAe,()=>t),W9=()=>location.pathname,OAe=({ssrPath:t}={})=>Cie(W9,t?()=>t:W9),MAe=(t,{replace:e=!1,state:r=null}={})=>history[e?QM:ZM](r,"",t),RAe=(t={})=>[OAe(t),MAe],G9=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[G9]>"u"){for(const t of[ZM,QM]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,G9,{value:!0})}const DAe=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Aie=(t="")=>t==="/"?"":t,LAe=(t,e)=>t[0]==="~"?t.slice(1):Aie(e)+t,FAe=(t="",e)=>DAe(Y9(Aie(t)),Y9(e)),Y9=t=>{try{return decodeURI(t)}catch{return t}},BAe={hook:RAe,searchHook:IAe,parser:bAe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},UAe=P.createContext(BAe),_ie=()=>P.useContext(UAe),$Ae={};P.createContext($Ae);const Eie=t=>{const[e,r]=t.hook(t);return[FAe(t.base,e),Sie((n,i)=>r(LAe(n,t.base),i))]},th=()=>Eie(_ie()),tb=P.forwardRef((t,e)=>{const r=_ie(),[n,i]=Eie(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:h,replace:f,state:y,...v}=t,S=Sie(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l==null||l(N),N.defaultPrevented||(N.preventDefault(),i(o,t)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&P.isValidElement(u)?P.cloneElement(u,{onClick:S,href:w}):P.createElement("a",{...v,onClick:S,href:w,className:h!=null&&h.call?h(n===o):h,children:u,ref:e})}),Uo=$M,Tie=zM,zAe=qM,kie=P.forwardRef(({className:t,...e},r)=>s.jsx(v2,{ref:r,className:er("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kie.displayName=v2.displayName;const po=P.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(zAe,{children:[s.jsx(kie,{}),s.jsxs(b2,{ref:n,className:er("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(z4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Cc,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));po.displayName=b2.displayName;const go=({className:t,...e})=>s.jsx("div",{className:er("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});go.displayName="DialogHeader";const Wu=({className:t,...e})=>s.jsx("div",{className:er("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Wu.displayName="DialogFooter";const xo=P.forwardRef(({className:t,...e},r)=>s.jsx(w2,{ref:r,className:er("text-lg font-semibold leading-none tracking-tight",t),...e}));xo.displayName=w2.displayName;const Sc=P.forwardRef(({className:t,...e},r)=>s.jsx(N2,{ref:r,className:er("text-sm text-muted-foreground",t),...e}));Sc.displayName=N2.displayName;var qAe="Label",Pie=P.forwardRef((t,e)=>s.jsx(Tr.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Pie.displayName=qAe;var Iie=Pie;const VAe=ly("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yr=P.forwardRef(({className:t,...e},r)=>s.jsx(Iie,{ref:r,className:er(VAe(),t),...e}));yr.displayName=Iie.displayName;const mp=H4e,Oie=P.createContext({}),Xr=({...t})=>s.jsx(Oie.Provider,{value:{name:t.name},children:s.jsx(K4e,{...t})}),W4=()=>{const t=P.useContext(Oie),e=P.useContext(Mie),{getFieldState:r,formState:n}=V4(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Mie=P.createContext({}),Kr=P.forwardRef(({className:t,...e},r)=>{const n=P.useId();return s.jsx(Mie.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:er("space-y-2",t),...e})})});Kr.displayName="FormItem";const an=P.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=W4();return s.jsx(yr,{ref:r,className:er(n&&"text-destructive",t),htmlFor:i,...e})});an.displayName="FormLabel";const on=P.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=W4();return s.jsx(Bte,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});on.displayName="FormControl";const Lf=P.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=W4();return s.jsx("p",{ref:r,id:n,className:er("text-sm text-muted-foreground",t),...e})});Lf.displayName="FormDescription";const dn=P.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=W4(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:n,id:a,className:er("text-sm font-medium text-destructive",t),...r,children:o}):null});dn.displayName="FormMessage";const Or=P.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:er("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Or.displayName="Input";var JM="Tabs",[HAe]=yo(JM,[fy]),Rie=fy(),[WAe,eR]=HAe(JM),Die=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=m0(l),[f,y]=lu({prop:n,onChange:i,defaultProp:a});return s.jsx(WAe,{scope:r,baseId:su(),value:f,onValueChange:y,orientation:o,dir:h,activationMode:c,children:s.jsx(Tr.div,{dir:h,"data-orientation":o,...u,ref:e})})});Die.displayName=JM;var Lie="TabsList",Fie=P.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=eR(Lie,r),o=Rie(r);return s.jsx(AM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Tr.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Fie.displayName=Lie;var Bie="TabsTrigger",Uie=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=eR(Bie,r),l=Rie(r),c=qie(o.baseId,n),u=Vie(o.baseId,n),h=n===o.value;return s.jsx(_M,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Tr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Jt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Jt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Jt(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(n)})})})});Uie.displayName=Bie;var $ie="TabsContent",zie=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=eR($ie,r),c=qie(l.baseId,n),u=Vie(l.baseId,n),h=n===l.value,f=P.useRef(h);return P.useEffect(()=>{const y=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(cl,{present:i||h,children:({present:y})=>s.jsx(Tr.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:y&&a})})});zie.displayName=$ie;function qie(t,e){return`${t}-trigger-${e}`}function Vie(t,e){return`${t}-content-${e}`}var GAe=Die,Hie=Fie,Wie=Uie,Gie=zie;const oc=GAe,Fl=P.forwardRef(({className:t,...e},r)=>s.jsx(Hie,{ref:r,className:er("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fl.displayName=Hie.displayName;const tn=P.forwardRef(({className:t,...e},r)=>s.jsx(Wie,{ref:r,className:er("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));tn.displayName=Wie.displayName;const Tn=P.forwardRef(({className:t,...e},r)=>s.jsx(Gie,{ref:r,className:er("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Tn.displayName=Gie.displayName;const YAe=_t.object({phoneNumber:_t.string().length(10,"Phone number must be exactly 10 digits").regex(/^09[0-9]{8}$/,"Phone must start with 09 and be 10 digits"),firstName:_t.string().optional(),lastName:_t.string().optional()}),KAe=_t.object({email:_t.string().email("Invalid email address"),firstName:_t.string().optional(),lastName:_t.string().optional()}),XAe=_t.object({phoneNumber:_t.string().optional(),email:_t.string().optional(),otp:_t.string().length(4,"OTP must be 4 digits")});function _2({open:t,onOpenChange:e,defaultMode:r="login",redirectAfterAuth:n}){const[i,a]=P.useState(r),[o,l]=P.useState("phone"),[c,u]=P.useState(!1),[h,f]=P.useState(""),[y,v]=P.useState(),[,S]=th(),{toast:w}=Vn(),N=Gf({resolver:Yf(YAe),defaultValues:{phoneNumber:"",firstName:"",lastName:""}}),_=Gf({resolver:Yf(KAe),defaultValues:{email:"",firstName:"",lastName:""}}),E=Gf({resolver:Yf(XAe),defaultValues:{phoneNumber:"",email:"",otp:""}});P.useEffect(()=>{t&&(N.reset(),_.reset(),E.reset(),u(!1),f(""),v(void 0))},[t]);const T=U=>{a(U),u(!1),f(""),v(void 0),N.reset(),_.reset(),E.reset()},M=U=>{const $=U.user||U;let K;n?K=n:$.role==="admin"?K="/admin/dashboard":$.role==="operator"?K="/operator/dashboard":$.role==="host"?K="/host/dashboard":K="/welcome",w({title:i==="login"?"Welcome back! ":"Account created! ",description:i==="login"?`Logged in as ${$.firstName} ${$.lastName}`:`Welcome to Alga, ${$.firstName}!`}),S(K),zn.invalidateQueries({queryKey:["/api/auth/user"]}),e(!1)},O=Ln({mutationFn:async U=>await xn("POST",i==="register"?"/api/auth/request-otp/phone/register":"/api/auth/request-otp/phone/login",U),onSuccess:U=>{f(U.phoneNumber||U.contact),u(!0),v(U.devOtp),E.setValue("phoneNumber",U.phoneNumber||U.contact),w({title:"OTP Sent",description:U.devOtp?`Development OTP: ${U.devOtp}`:"Check your phone for the 4-digit code"})},onError:U=>{w({title:i==="register"?"Registration failed":"Login failed",description:U.message||"Failed to send OTP",variant:"destructive"})}}),L=Ln({mutationFn:async U=>await xn("POST",i==="register"?"/api/auth/request-otp/email/register":"/api/auth/request-otp/email/login",U),onSuccess:U=>{f(U.email||U.contact),u(!0),v(U.devOtp),E.setValue("email",U.email||U.contact),w({title:"OTP Sent",description:U.devOtp?`Development OTP: ${U.devOtp}`:"Check your email for the 4-digit code"})},onError:U=>{w({title:i==="register"?"Registration failed":"Login failed",description:U.message||"Failed to send OTP",variant:"destructive"})}}),B=Ln({mutationFn:async U=>await xn("POST","/api/auth/verify-otp",U),onSuccess:M,onError:U=>{w({title:"Verification failed",description:U.message||"Invalid or expired OTP",variant:"destructive"})}});return s.jsx(Uo,{open:t,onOpenChange:e,children:s.jsxs(po,{className:"sm:max-w-[500px] bg-eth-warm-tan border-eth-brown/20",children:[s.jsxs(go,{children:[s.jsx(xo,{className:"text-2xl font-bold text-eth-brown",children:c?"Verify OTP":i==="login"?"Sign In":"Create Account"}),s.jsx(Sc,{className:"text-eth-brown/70",children:c?`Enter the 4-digit code sent to ${h}`:i==="login"?"Welcome back to Alga":"Join Ethiopia's best rental platform"})]}),c?s.jsx(mp,{...E,children:s.jsxs("form",{onSubmit:E.handleSubmit(U=>B.mutate(U)),className:"space-y-4",children:[s.jsx(Xr,{control:E.control,name:"otp",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"4-Digit OTP"}),s.jsx(on,{children:s.jsx(Or,{...U,placeholder:"1234",maxLength:4,className:"bg-white border-eth-brown/20 text-eth-brown text-center text-2xl tracking-widest","data-testid":"input-otp",autoFocus:!0})}),s.jsx(dn,{})]})}),y&&s.jsx("div",{className:"p-3 bg-yellow-100 border border-yellow-300 rounded-md",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:["Development Mode - OTP: ",s.jsx("strong",{children:y})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>{u(!1),f(""),v(void 0)},className:"flex-1 border-eth-brown text-eth-brown hover:bg-eth-brown hover:text-white","data-testid":"button-back",children:"Back"}),s.jsx(Be,{type:"submit",disabled:B.isPending,className:"flex-1 bg-eth-brown hover:bg-eth-brown/90 text-white","data-testid":"button-verify-otp",children:B.isPending?s.jsx(eo,{className:"h-4 w-4 animate-spin"}):"Verify"})]})]})}):s.jsxs(oc,{value:o,onValueChange:U=>l(U),className:"w-full",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-2 bg-transparent gap-3 p-0",children:[s.jsxs(tn,{value:"phone",className:`
                  relative px-6 py-3 rounded-lg font-medium
                  transition-all duration-200 ease-in-out
                  border-2
                  data-[state=inactive]:bg-gradient-to-br data-[state=inactive]:from-eth-light-tan/30 data-[state=inactive]:to-eth-warm-tan/30
                  data-[state=inactive]:border-eth-brown/20
                  data-[state=inactive]:text-eth-brown/70
                  data-[state=inactive]:hover:border-eth-brown/30
                  data-[state=inactive]:hover:text-eth-brown
                  data-[state=inactive]:hover:shadow-sm
                  data-[state=inactive]:hover:scale-[1.02]
                  data-[state=active]:bg-eth-brown
                  data-[state=active]:border-transparent
                  data-[state=active]:text-white
                  data-[state=active]:shadow-[inset_0_2px_4px_rgba(0,0,0,0.1)]
                  data-[state=active]:shadow-eth-brown/40
                  focus:outline-none focus:ring-2 focus:ring-eth-brown/50 focus:ring-offset-2
                `,"data-testid":"tab-phone",children:[s.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Phone"]}),s.jsxs(tn,{value:"email",className:`
                  relative px-6 py-3 rounded-lg font-medium
                  transition-all duration-200 ease-in-out
                  border-2
                  data-[state=inactive]:bg-gradient-to-br data-[state=inactive]:from-eth-light-tan/30 data-[state=inactive]:to-eth-warm-tan/30
                  data-[state=inactive]:border-eth-brown/20
                  data-[state=inactive]:text-eth-brown/70
                  data-[state=inactive]:hover:border-eth-brown/30
                  data-[state=inactive]:hover:text-eth-brown
                  data-[state=inactive]:hover:shadow-sm
                  data-[state=inactive]:hover:scale-[1.02]
                  data-[state=active]:bg-eth-brown
                  data-[state=active]:border-transparent
                  data-[state=active]:text-white
                  data-[state=active]:shadow-[inset_0_2px_4px_rgba(0,0,0,0.1)]
                  data-[state=active]:shadow-eth-brown/40
                  focus:outline-none focus:ring-2 focus:ring-eth-brown/50 focus:ring-offset-2
                `,"data-testid":"tab-email",children:[s.jsx(kp,{className:"h-4 w-4 mr-2"}),"Email"]})]}),s.jsx(Tn,{value:"phone",className:"mt-6",children:s.jsx(mp,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit(U=>O.mutate(U)),className:"space-y-4",children:[i==="register"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Xr,{control:N.control,name:"firstName",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"First Name"}),s.jsx(on,{children:s.jsx(Or,{...U,placeholder:"Abebe",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-first-name"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"lastName",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"Last Name"}),s.jsx(on,{children:s.jsx(Or,{...U,placeholder:"Kebede",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-last-name"})}),s.jsx(dn,{})]})})]}),s.jsx(Xr,{control:N.control,name:"phoneNumber",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"Phone Number"}),s.jsx(on,{children:s.jsx(Or,{...U,type:"tel",placeholder:"0912345678",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-phone",maxLength:10,onChange:$=>{const K=$.target.value.replace(/[^0-9]/g,"").slice(0,10);U.onChange(K)}})}),s.jsx("p",{className:"text-xs text-eth-brown/60 mt-1",children:"Format: 09XXXXXXXX (exactly 10 digits)"}),s.jsx(dn,{})]})}),s.jsxs(Be,{type:"submit",disabled:O.isPending,className:"w-full bg-eth-brown hover:bg-eth-brown/90 text-white","data-testid":"button-send-otp",children:[O.isPending?s.jsx(eo,{className:"h-4 w-4 animate-spin mr-2"}):null,i==="login"?"Send OTP":"Create Account & Send OTP"]})]})})}),s.jsx(Tn,{value:"email",className:"mt-6",children:s.jsx(mp,{..._,children:s.jsxs("form",{onSubmit:_.handleSubmit(U=>L.mutate(U)),className:"space-y-4",children:[i==="register"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Xr,{control:_.control,name:"firstName",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"First Name"}),s.jsx(on,{children:s.jsx(Or,{...U,placeholder:"Abebe",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-first-name-email"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:_.control,name:"lastName",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"Last Name"}),s.jsx(on,{children:s.jsx(Or,{...U,placeholder:"Kebede",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-last-name-email"})}),s.jsx(dn,{})]})})]}),s.jsx(Xr,{control:_.control,name:"email",render:({field:U})=>s.jsxs(Kr,{children:[s.jsx(an,{className:"text-eth-brown",children:"Email"}),s.jsx(on,{children:s.jsx(Or,{...U,type:"email",placeholder:"abebe@example.com",className:"bg-white border-eth-brown/20 text-eth-brown","data-testid":"input-email"})}),s.jsx(dn,{})]})}),s.jsxs(Be,{type:"submit",disabled:L.isPending,className:"w-full bg-eth-brown hover:bg-eth-brown/90 text-white","data-testid":"button-send-otp-email",children:[L.isPending?s.jsx(eo,{className:"h-4 w-4 animate-spin mr-2"}):null,i==="login"?"Send OTP":"Create Account & Send OTP"]})]})})})]}),!c&&s.jsxs("div",{className:"text-center text-sm mt-4",children:[s.jsx("span",{className:"text-eth-brown/70",children:i==="login"?"Don't have an account? ":"Already have an account? "}),s.jsx("button",{type:"button",onClick:()=>T(i==="login"?"register":"login"),className:"text-eth-brown font-medium hover:underline","data-testid":"button-toggle-mode",children:i==="login"?"Create Account":"Sign In"})]})]})})}const G4=()=>typeof window<"u"&&localStorage.getItem("dev-force-mobile")==="true"?!0:w1.isNativePlatform();function Zr({hideNavigation:t=!1}){var _,E;const{user:e,isAuthenticated:r}=ti(),n=Ac(),i=Ms(),[a,o]=P.useState(!1),[l,c]=P.useState(!1),{toast:u}=Vn(),h=G4(),f=Ln({mutationFn:async()=>await xn("GET","/api/logout"),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/auth/user"]}),i("/"),u({title:"Signed Out",description:"See you soon! "})}});if(h)return null;const y=n.pathname.startsWith("/admin"),v=()=>{if(!e)return"/my-alga";switch(e.role){case"admin":return"/admin/dashboard";case"dellala":return"/dellala/dashboard";case"host":return"/host/dashboard";case"operator":return"/operator-dashboard";case"provider":return"/provider-dashboard";default:return"/my-alga"}},S=[{path:"/",icon:hre,emoji:"",label:"Stay",ariaLabel:"Browse accommodations",testId:"stay"},{path:"/services",icon:w2e,emoji:"",label:"Service",ariaLabel:"Browse add-on services",testId:"service"},{path:"/dellala/dashboard",icon:T2e,emoji:"",label:"Agent ()",ariaLabel:"Dellala agent portal",testId:"agent"}],w=[{path:v(),icon:cu,emoji:"",label:"Me",ariaLabel:"View my dashboard",testId:"me"},{path:"/support",icon:fre,emoji:"",label:"Ask Lemlem ()",ariaLabel:"Ask Lemlem () - your AI agent",testId:"help"}],N=y?w:[...S,...w];return s.jsxs("header",{className:"bg-[#F8F1E7] shadow-sm sticky top-0 z-50 border-b border-[#E5D9C8]",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-18",children:[s.jsxs(Cs,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer","aria-label":"Alga home",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-eth-brown rounded-2xl flex items-center justify-center shadow-md",children:s.jsx(kn,{className:"text-white text-xl","aria-hidden":"true"})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-eth-brown",children:"Alga"})]}),!t&&s.jsxs(s.Fragment,{children:[r?s.jsx(Be,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-signout-mobile",className:"md:hidden text-sm border-eth-brown text-eth-brown hover:bg-eth-brown hover:text-white","aria-label":"Sign out of your account",role:"button",children:f.isPending?"...":"Sign out"}):null,s.jsxs(O4e,{open:l,onOpenChange:c,children:[s.jsx(M4e,{asChild:!0,className:"md:hidden",children:s.jsx(Be,{variant:"ghost",size:"lg",className:"h-14 w-14","data-testid":"button-mobile-menu","aria-label":"Open navigation menu",role:"button",children:s.jsx(d2e,{className:"h-7 w-7","aria-hidden":"true"})})}),s.jsxs($se,{side:"right",className:"w-[320px] sm:w-[380px]",children:[s.jsx(zse,{children:s.jsx(qse,{className:"text-left text-eth-brown text-2xl",children:"Menu"})}),s.jsxs("nav",{className:"flex flex-col space-y-4 mt-8",role:"navigation","aria-label":"Main navigation",children:[N.map(T=>{T.icon;const M=n.pathname===T.path||n.pathname.startsWith(`${T.path}/`);return s.jsxs(Cs,{to:T.path,onClick:()=>c(!1),className:`
                          flex items-center gap-4 text-xl font-medium py-5 px-6 rounded-2xl transition-all
                          ${M?"bg-eth-brown text-white shadow-lg":"hover:bg-cream-100 text-eth-brown"}
                        `,"data-testid":`mobile-link-${T.testId}`,"aria-label":T.ariaLabel,role:"button",children:[s.jsx("span",{className:"text-3xl","aria-hidden":"true",children:T.emoji}),s.jsx("span",{children:T.label})]},T.path)}),s.jsx("div",{className:"border-t border-border my-4"}),r?s.jsxs(s.Fragment,{children:[s.jsx(Cs,{to:"/settings",className:"block w-full",onClick:()=>c(!1),children:s.jsx(Be,{variant:"ghost",size:"lg",className:"w-full justify-start text-xl py-7 font-medium","data-testid":"mobile-link-settings","aria-label":"Open settings",role:"button",children:" Settings"})}),s.jsx(Be,{variant:"outline",size:"lg",className:"w-full justify-start text-xl py-7 font-medium",onClick:()=>{f.mutate(),c(!1)},"data-testid":"mobile-button-logout","aria-label":"Sign out of your account",role:"button",children:"Sign Out"})]}):s.jsx(Be,{size:"lg",className:"w-full text-xl py-7 bg-eth-brown hover:bg-eth-brown/90",onClick:()=>{c(!1),o(!0)},"data-testid":"mobile-button-signin","aria-label":"Sign in to your account",role:"button",children:"Sign In"})]})]})]})]}),!t&&s.jsx("nav",{className:"hidden md:flex items-center gap-6 lg:gap-8",role:"navigation","aria-label":"Main navigation",children:N.map(T=>{T.icon;const M=n.pathname===T.path||n.pathname.startsWith(`${T.path}/`);return s.jsxs(Cs,{to:T.path,className:"group relative flex items-center gap-2 py-2 transition-all","data-testid":`link-${T.testId}`,"aria-label":T.ariaLabel,role:"button",children:[s.jsx("span",{className:"text-xl sm:text-2xl","aria-hidden":"true",children:T.emoji}),s.jsx("span",{className:`
                      text-sm sm:text-base font-medium transition-colors
                      ${M?"text-[#3C2313]":"text-[#5a4a42] group-hover:text-[#3C2313]"}
                    `,children:T.label}),s.jsx("span",{className:`
                      absolute bottom-0 left-0 h-0.5 bg-[#3C2313] transition-all duration-300 ease-out
                      ${M?"w-full":"w-0 group-hover:w-full"}
                    `,"aria-hidden":"true"})]},T.path)})}),s.jsx("div",{className:"hidden md:flex items-center",children:r?s.jsxs(g4e,{children:[s.jsx(x4e,{asChild:!0,children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white rounded-full p-1.5 pr-4 hover:shadow-md transition-all border border-[#E5D9C8] cursor-pointer","aria-label":"Open user menu",role:"button",children:[s.jsxs(j2,{className:"w-9 h-9",children:[s.jsx(HM,{src:(e==null?void 0:e.profileImageUrl)||"",alt:`${e==null?void 0:e.firstName}'s profile`}),s.jsxs(S2,{className:"bg-[#3C2313] text-white font-semibold text-sm",children:[(_=e==null?void 0:e.firstName)==null?void 0:_[0],(E=e==null?void 0:e.lastName)==null?void 0:E[0]]})]}),s.jsx("span",{className:"text-sm font-medium text-[#3C2313] hidden lg:block",children:e==null?void 0:e.firstName})]})}),s.jsxs(Nse,{align:"end",className:"w-64",children:[s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("p",{className:"text-base font-semibold text-eth-brown",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e==null?void 0:e.email})]}),s.jsx(P6,{}),s.jsx(Dj,{asChild:!0,children:s.jsx(Cs,{to:"/my-alga",className:"cursor-pointer text-base py-3",role:"button","aria-label":"Go to my dashboard",children:" My Dashboard"})}),s.jsx(Dj,{asChild:!0,children:s.jsx(Cs,{to:"/settings",className:"cursor-pointer text-base py-3",role:"button","aria-label":"Open settings","data-testid":"link-settings-header",children:" Settings"})}),s.jsx(P6,{}),s.jsx(Dj,{onClick:()=>f.mutate(),"data-testid":"button-logout",className:"text-red-600 cursor-pointer text-base py-3",role:"button","aria-label":"Sign out of your account",children:"Sign Out"})]})]}):s.jsx(Be,{size:"default",onClick:()=>o(!0),"data-testid":"button-signin-header",className:"bg-[#3C2313] hover:bg-[#3C2313]/90 text-white px-6 py-2 text-sm rounded-full font-medium transition-all hover:shadow-md","aria-label":"Sign in to your account",role:"button",children:"Sign In"})})]})}),s.jsx(_2,{open:a,onOpenChange:o,defaultMode:"login"})]})}const ZAe=ly("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rt({className:t,variant:e,...r}){return s.jsx("div",{className:er(ZAe({variant:e}),t),...r})}function QAe({property:t,isFavorite:e=!1}){var w;const[r,n]=P.useState(e),i=Ms(),{isAuthenticated:a}=ti(),{toast:o}=Vn(),l=ay(),c=Ln({mutationFn:async()=>r?xn("DELETE",`/api/favorites/${t.id}`):xn("POST","/api/favorites",{propertyId:t.id}),onSuccess:()=>{n(!r),l.invalidateQueries({queryKey:["/api/favorites"]}),o({title:r?"Removed from favorites":"Added to favorites",description:r?"Property removed from your favorites list":"Property added to your favorites list"})},onError:()=>{o({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}}),u=N=>{if(N.preventDefault(),N.stopPropagation(),!a){window.location.href="/api/login";return}c.mutate()},h=N=>new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:0}).format(parseFloat(N)),f=N=>{switch(N){case"traditional_home":return"Traditional Home";case"eco_lodge":return"Eco Lodge";default:return N.charAt(0).toUpperCase()+N.slice(1)}},y=N=>{const _=N.toLowerCase();return _.includes("wifi")?s.jsx(p2,{className:"h-3.5 w-3.5"}):_.includes("restaurant")||_.includes("breakfast")||_.includes("meals")?s.jsx(P2e,{className:"h-3.5 w-3.5"}):_.includes("parking")||_.includes("shuttle")?s.jsx(v6,{className:"h-3.5 w-3.5"}):null},v=(t.amenities||[]).slice(0,3),S=()=>{i(`/properties/${t.id}`)};return s.jsxs(_e,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300 group cursor-pointer","data-testid":`card-property-${t.id}`,onClick:S,children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((w=t.images)==null?void 0:w[0])||"https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",alt:`${t.title} in ${t.city} - ${t.type} accommodation`,loading:"lazy",className:"w-full h-40 sm:h-56 object-cover group-hover:scale-105 transition-transform duration-300","data-testid":`img-property-${t.id}`}),s.jsx(Be,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-white/80 hover:bg-white h-8 w-8 sm:h-10 sm:w-10",onClick:u,disabled:c.isPending,"data-testid":`button-favorite-${t.id}`,children:s.jsx(Nx,{className:`h-4 w-4 sm:h-5 sm:w-5 ${r?"fill-eth-red text-eth-red":"text-gray-600"}`})})]}),s.jsxs(Te,{className:"p-2.5 sm:p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[s.jsx(Rt,{variant:"secondary",className:"text-[10px] sm:text-xs px-1.5 py-0.5 sm:px-2",children:f(t.type)}),s.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-1",children:[s.jsx(ca,{className:"h-3 w-3 sm:h-4 sm:w-4 fill-eth-yellow text-eth-yellow"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:parseFloat(t.rating||"0").toFixed(1)}),s.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["(",t.reviewCount,")"]})]})]}),s.jsx("h4",{className:"font-semibold text-sm sm:text-lg text-neutral-dark mb-1 sm:mb-2 line-clamp-1","data-testid":`text-title-${t.id}`,children:t.title}),s.jsxs("div",{className:"flex items-center text-gray-600 text-xs sm:text-sm mb-1.5 sm:mb-3",children:[s.jsx(ki,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-0.5 sm:mr-1 flex-shrink-0"}),s.jsxs("span",{className:"line-clamp-1",children:[t.location,", ",t.city]})]}),s.jsxs("div",{className:"flex items-center flex-wrap gap-1.5 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:[s.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[s.jsx(Ki,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-0.5 sm:mr-1 flex-shrink-0"}),s.jsxs("span",{className:"hidden xs:inline",children:[t.maxGuests," guests"]}),s.jsx("span",{className:"xs:hidden",children:t.maxGuests})]}),s.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[s.jsx(C4,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-0.5 sm:mr-1 flex-shrink-0"}),s.jsxs("span",{className:"hidden xs:inline",children:[t.bedrooms," bed"]}),s.jsx("span",{className:"xs:hidden",children:t.bedrooms})]}),s.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[s.jsx(rM,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-0.5 sm:mr-1 flex-shrink-0"}),s.jsxs("span",{className:"hidden xs:inline",children:[t.bathrooms," bath"]}),s.jsx("span",{className:"xs:hidden",children:t.bathrooms})]})]}),v.length>0&&s.jsx("div",{className:"hidden sm:flex items-center gap-2 mb-3 pb-3 border-b border-gray-100",children:v.map((N,_)=>{const E=y(N);return E?s.jsxs("div",{className:"flex items-center gap-1 text-xs text-eth-brown/70",title:N,children:[E,s.jsx("span",{className:"truncate max-w-[80px]",children:N})]},_):null}).filter(Boolean)}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm sm:text-lg font-bold text-neutral-dark","data-testid":`text-price-${t.id}`,children:h(t.pricePerNight)}),s.jsx("span",{className:"text-[10px] sm:text-sm text-gray-500",children:"/night"})]})})]})]})}const Yie=P.memo(QAe);function L6(t,[e,r]){return Math.min(r,Math.max(e,t))}function tR(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JAe=[" ","Enter","ArrowUp","ArrowDown"],e_e=[" ","Enter"],E2="Select",[Y4,K4,t_e]=h2(E2),[my]=yo(E2,[t_e,hy]),X4=hy(),[r_e,Pp]=my(E2),[n_e,s_e]=my(E2),Kie=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:y,required:v,form:S}=t,w=X4(e),[N,_]=P.useState(null),[E,T]=P.useState(null),[M,O]=P.useState(!1),L=m0(u),[B=!1,U]=lu({prop:n,defaultProp:i,onChange:a}),[$,K]=lu({prop:o,defaultProp:l,onChange:c}),q=P.useRef(null),H=N?S||!!N.closest("form"):!0,[Q,Z]=P.useState(new Set),J=Array.from(Q).map(ye=>ye.props.value).join(";");return s.jsx(xM,{...w,children:s.jsxs(r_e,{required:v,scope:e,trigger:N,onTriggerChange:_,valueNode:E,onValueNodeChange:T,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:su(),value:$,onValueChange:K,open:B,onOpenChange:U,dir:L,triggerPointerDownPosRef:q,disabled:y,children:[s.jsx(Y4.Provider,{scope:e,children:s.jsx(n_e,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(ye=>{Z(ge=>new Set(ge).add(ye))},[]),onNativeOptionRemove:P.useCallback(ye=>{Z(ge=>{const oe=new Set(ge);return oe.delete(ye),oe})},[]),children:r})}),H?s.jsxs(bae,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:$,onChange:ye=>K(ye.target.value),disabled:y,form:S,children:[$===void 0?s.jsx("option",{value:""}):null,Array.from(Q)]},J):null]})})};Kie.displayName=E2;var Xie="SelectTrigger",Zie=P.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=X4(r),o=Pp(Xie,r),l=o.disabled||n,c=Pn(e,o.onTriggerChange),u=K4(r),h=P.useRef("touch"),[f,y,v]=wae(w=>{const N=u().filter(T=>!T.disabled),_=N.find(T=>T.value===o.value),E=Nae(N,w,_);E!==void 0&&o.onValueChange(E.value)}),S=w=>{l||(o.onOpenChange(!0),v()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(yM,{asChild:!0,...a,children:s.jsx(Tr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vae(o.value)?"":void 0,...i,ref:c,onClick:Jt(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&S(w)}),onPointerDown:Jt(i.onPointerDown,w=>{h.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:Jt(i.onKeyDown,w=>{const N=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(N&&w.key===" ")&&JAe.includes(w.key)&&(S(),w.preventDefault())})})})});Zie.displayName=Xie;var Qie="SelectValue",Jie=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,c=Pp(Qie,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=Pn(e,c.onValueNodeChange);return Ba(()=>{u(h)},[u,h]),s.jsx(Tr.span,{...l,ref:f,style:{pointerEvents:"none"},children:vae(c.value)?s.jsx(s.Fragment,{children:o}):a})});Jie.displayName=Qie;var i_e="SelectIcon",eae=P.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(Tr.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});eae.displayName=i_e;var a_e="SelectPortal",tae=t=>s.jsx(f2,{asChild:!0,...t});tae.displayName=a_e;var n0="SelectContent",rae=P.forwardRef((t,e)=>{const r=Pp(n0,t.__scopeSelect),[n,i]=P.useState();if(Ba(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?h0.createPortal(s.jsx(nae,{scope:t.__scopeSelect,children:s.jsx(Y4.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(sae,{...t,ref:e})});rae.displayName=n0;var jd=10,[nae,Ip]=my(n0),o_e="SelectContentImpl",l_e=Xg("SelectContent.RemoveScroll"),sae=P.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:y,collisionPadding:v,sticky:S,hideWhenDetached:w,avoidCollisions:N,..._}=t,E=Pp(n0,r),[T,M]=P.useState(null),[O,L]=P.useState(null),B=Pn(e,ae=>M(ae)),[U,$]=P.useState(null),[K,q]=P.useState(null),H=K4(r),[Q,Z]=P.useState(!1),J=P.useRef(!1);P.useEffect(()=>{if(T)return EM(T)},[T]),CM();const ye=P.useCallback(ae=>{const[de,...pe]=H().map(qe=>qe.ref.current),[Oe]=pe.slice(-1),ze=document.activeElement;for(const qe of ae)if(qe===ze||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===de&&O&&(O.scrollTop=0),qe===Oe&&O&&(O.scrollTop=O.scrollHeight),qe==null||qe.focus(),document.activeElement!==ze))return},[H,O]),ge=P.useCallback(()=>ye([U,T]),[ye,U,T]);P.useEffect(()=>{Q&&ge()},[Q,ge]);const{onOpenChange:oe,triggerPointerDownPosRef:re}=E;P.useEffect(()=>{if(T){let ae={x:0,y:0};const de=Oe=>{var ze,qe;ae={x:Math.abs(Math.round(Oe.pageX)-(((ze=re.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((qe=re.current)==null?void 0:qe.y)??0))}},pe=Oe=>{ae.x<=10&&ae.y<=10?Oe.preventDefault():T.contains(Oe.target)||oe(!1),document.removeEventListener("pointermove",de),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",pe,{capture:!0})}}},[T,oe,re]),P.useEffect(()=>{const ae=()=>oe(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[oe]);const[me,ne]=wae(ae=>{const de=H().filter(ze=>!ze.disabled),pe=de.find(ze=>ze.ref.current===document.activeElement),Oe=Nae(de,ae,pe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),G=P.useCallback((ae,de,pe)=>{const Oe=!J.current&&!pe;(E.value!==void 0&&E.value===de||Oe)&&($(ae),Oe&&(J.current=!0))},[E.value]),se=P.useCallback(()=>T==null?void 0:T.focus(),[T]),ue=P.useCallback((ae,de,pe)=>{const Oe=!J.current&&!pe;(E.value!==void 0&&E.value===de||Oe)&&q(ae)},[E.value]),je=n==="popper"?F6:iae,Ce=je===F6?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:y,collisionPadding:v,sticky:S,hideWhenDetached:w,avoidCollisions:N}:{};return s.jsx(nae,{scope:r,content:T,viewport:O,onViewportChange:L,itemRefCallback:G,selectedItem:U,onItemLeave:se,itemTextRefCallback:ue,focusSelectedItem:ge,selectedItemText:K,position:n,isPositioned:Q,searchRef:me,children:s.jsx(B4,{as:l_e,allowPinchZoom:!0,children:s.jsx(D4,{asChild:!0,trapped:E.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Jt(i,ae=>{var de;(de=E.trigger)==null||de.focus({preventScroll:!0}),ae.preventDefault()}),children:s.jsx(oy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(je,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ae=>ae.preventDefault(),..._,...Ce,onPlaced:()=>Z(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Jt(_.onKeyDown,ae=>{const de=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!de&&ae.key.length===1&&ne(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Oe=H().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ze=ae.target,qe=Oe.indexOf(ze);Oe=Oe.slice(qe+1)}setTimeout(()=>ye(Oe)),ae.preventDefault()}})})})})})})});sae.displayName=o_e;var c_e="SelectItemAlignedPosition",iae=P.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Pp(n0,r),o=Ip(n0,r),[l,c]=P.useState(null),[u,h]=P.useState(null),f=Pn(e,B=>h(B)),y=K4(r),v=P.useRef(!1),S=P.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:_,focusSelectedItem:E}=o,T=P.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&w&&N&&_){const B=a.trigger.getBoundingClientRect(),U=u.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),K=_.getBoundingClientRect();if(a.dir!=="rtl"){const ze=K.left-U.left,qe=$.left-ze,$e=B.left-qe,Ve=B.width+$e,Ee=Math.max(Ve,U.width),sr=window.innerWidth-jd,Zt=L6(qe,[jd,Math.max(jd,sr-Ee)]);l.style.minWidth=Ve+"px",l.style.left=Zt+"px"}else{const ze=U.right-K.right,qe=window.innerWidth-$.right-ze,$e=window.innerWidth-B.right-qe,Ve=B.width+$e,Ee=Math.max(Ve,U.width),sr=window.innerWidth-jd,Zt=L6(qe,[jd,Math.max(jd,sr-Ee)]);l.style.minWidth=Ve+"px",l.style.right=Zt+"px"}const q=y(),H=window.innerHeight-jd*2,Q=w.scrollHeight,Z=window.getComputedStyle(u),J=parseInt(Z.borderTopWidth,10),ye=parseInt(Z.paddingTop,10),ge=parseInt(Z.borderBottomWidth,10),oe=parseInt(Z.paddingBottom,10),re=J+ye+Q+oe+ge,me=Math.min(N.offsetHeight*5,re),ne=window.getComputedStyle(w),G=parseInt(ne.paddingTop,10),se=parseInt(ne.paddingBottom,10),ue=B.top+B.height/2-jd,je=H-ue,Ce=N.offsetHeight/2,ae=N.offsetTop+Ce,de=J+ye+ae,pe=re-de;if(de<=ue){const ze=q.length>0&&N===q[q.length-1].ref.current;l.style.bottom="0px";const qe=u.clientHeight-w.offsetTop-w.offsetHeight,$e=Math.max(je,Ce+(ze?se:0)+qe+ge),Ve=de+$e;l.style.height=Ve+"px"}else{const ze=q.length>0&&N===q[0].ref.current;l.style.top="0px";const $e=Math.max(ue,J+w.offsetTop+(ze?G:0)+Ce)+pe;l.style.height=$e+"px",w.scrollTop=de-ue+w.offsetTop}l.style.margin=`${jd}px 0`,l.style.minHeight=me+"px",l.style.maxHeight=H+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[y,a.trigger,a.valueNode,l,u,w,N,_,a.dir,n]);Ba(()=>T(),[T]);const[M,O]=P.useState();Ba(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=P.useCallback(B=>{B&&S.current===!0&&(T(),E==null||E(),S.current=!1)},[T,E]);return s.jsx(d_e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:s.jsx(Tr.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iae.displayName=c_e;var u_e="SelectPopperPosition",F6=P.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=jd,...a}=t,o=X4(r);return s.jsx(vM,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F6.displayName=u_e;var[d_e,rR]=my(n0,{}),B6="SelectViewport",aae=P.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Ip(B6,r),o=rR(B6,r),l=Pn(e,a.onViewportChange),c=P.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Y4.Slot,{scope:r,children:s.jsx(Tr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Jt(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const S=window.innerHeight-jd*2,w=parseFloat(f.style.minHeight),N=parseFloat(f.style.height),_=Math.max(w,N);if(_<S){const E=_+v,T=Math.min(S,E),M=E-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=M>0?M:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});aae.displayName=B6;var oae="SelectGroup",[h_e,f_e]=my(oae),m_e=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=su();return s.jsx(h_e,{scope:r,id:i,children:s.jsx(Tr.div,{role:"group","aria-labelledby":i,...n,ref:e})})});m_e.displayName=oae;var lae="SelectLabel",cae=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=f_e(lae,r);return s.jsx(Tr.div,{id:i.id,...n,ref:e})});cae.displayName=lae;var k5="SelectItem",[p_e,uae]=my(k5),dae=P.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=Pp(k5,r),c=Ip(k5,r),u=l.value===n,[h,f]=P.useState(a??""),[y,v]=P.useState(!1),S=Pn(e,E=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,E,n,i)}),w=su(),N=P.useRef("touch"),_=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(p_e,{scope:r,value:n,disabled:i,textId:w,isSelected:u,onItemTextChange:P.useCallback(E=>{f(T=>T||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(Y4.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:s.jsx(Tr.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:S,onFocus:Jt(o.onFocus,()=>v(!0)),onBlur:Jt(o.onBlur,()=>v(!1)),onClick:Jt(o.onClick,()=>{N.current!=="mouse"&&_()}),onPointerUp:Jt(o.onPointerUp,()=>{N.current==="mouse"&&_()}),onPointerDown:Jt(o.onPointerDown,E=>{N.current=E.pointerType}),onPointerMove:Jt(o.onPointerMove,E=>{var T;N.current=E.pointerType,i?(T=c.onItemLeave)==null||T.call(c):N.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Jt(o.onPointerLeave,E=>{var T;E.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Jt(o.onKeyDown,E=>{var M;((M=c.searchRef)==null?void 0:M.current)!==""&&E.key===" "||(e_e.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});dae.displayName=k5;var Mv="SelectItemText",hae=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Pp(Mv,r),l=Ip(Mv,r),c=uae(Mv,r),u=s_e(Mv,r),[h,f]=P.useState(null),y=Pn(e,_=>f(_),c.onItemTextChange,_=>{var E;return(E=l.itemTextRefCallback)==null?void 0:E.call(l,_,c.value,c.disabled)}),v=h==null?void 0:h.textContent,S=P.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=u;return Ba(()=>(w(S),()=>N(S)),[w,N,S]),s.jsxs(s.Fragment,{children:[s.jsx(Tr.span,{id:c.textId,...a,ref:y}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?h0.createPortal(a.children,o.valueNode):null]})});hae.displayName=Mv;var fae="SelectItemIndicator",mae=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return uae(fae,r).isSelected?s.jsx(Tr.span,{"aria-hidden":!0,...n,ref:e}):null});mae.displayName=fae;var U6="SelectScrollUpButton",pae=P.forwardRef((t,e)=>{const r=Ip(U6,t.__scopeSelect),n=rR(U6,t.__scopeSelect),[i,a]=P.useState(!1),o=Pn(e,n.onScrollButtonChange);return Ba(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(xae,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pae.displayName=U6;var $6="SelectScrollDownButton",gae=P.forwardRef((t,e)=>{const r=Ip($6,t.__scopeSelect),n=rR($6,t.__scopeSelect),[i,a]=P.useState(!1),o=Pn(e,n.onScrollButtonChange);return Ba(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(xae,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});gae.displayName=$6;var xae=P.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Ip("SelectScrollButton",r),o=P.useRef(null),l=K4(r),c=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Ba(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Tr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Jt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Jt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Jt(i.onPointerLeave,()=>{c()})})}),g_e="SelectSeparator",yae=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Tr.div,{"aria-hidden":!0,...n,ref:e})});yae.displayName=g_e;var z6="SelectArrow",x_e=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=X4(r),a=Pp(z6,r),o=Ip(z6,r);return a.open&&o.position==="popper"?s.jsx(bM,{...i,...n,ref:e}):null});x_e.displayName=z6;function vae(t){return t===""||t===void 0}var bae=P.forwardRef((t,e)=>{const{value:r,...n}=t,i=P.useRef(null),a=Pn(e,i),o=tR(r);return P.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(m2,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});bae.displayName="BubbleSelect";function wae(t){const e=Gi(t),r=P.useRef(""),n=P.useRef(0),i=P.useCallback(o=>{const l=r.current+o;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),a=P.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function Nae(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=y_e(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function y_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var v_e=Kie,jae=Zie,b_e=Jie,w_e=eae,N_e=tae,Sae=rae,j_e=aae,Cae=cae,Aae=dae,S_e=hae,C_e=mae,_ae=pae,Eae=gae,Tae=yae;const Jn=v_e,es=b_e,Gn=P.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(jae,{ref:n,className:er("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(w_e,{asChild:!0,children:s.jsx(sM,{className:"h-4 w-4 opacity-50"})})]}));Gn.displayName=jae.displayName;const kae=P.forwardRef(({className:t,...e},r)=>s.jsx(_ae,{ref:r,className:er("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(t2e,{className:"h-4 w-4"})}));kae.displayName=_ae.displayName;const Pae=P.forwardRef(({className:t,...e},r)=>s.jsx(Eae,{ref:r,className:er("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(sM,{className:"h-4 w-4"})}));Pae.displayName=Eae.displayName;const Yn=P.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>s.jsx(N_e,{children:s.jsxs(Sae,{ref:i,className:er("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(kae,{}),s.jsx(j_e,{className:er("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(Pae,{})]})}));Yn.displayName=Sae.displayName;const A_e=P.forwardRef(({className:t,...e},r)=>s.jsx(Cae,{ref:r,className:er("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));A_e.displayName=Cae.displayName;const Vt=P.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Aae,{ref:n,className:er("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(C_e,{children:s.jsx(Mh,{className:"h-4 w-4"})})}),s.jsx(S_e,{children:e})]}));Vt.displayName=Aae.displayName;const __e=P.forwardRef(({className:t,...e},r)=>s.jsx(Tae,{ref:r,className:er("-mx-1 my-1 h-px bg-muted",t),...e}));__e.displayName=Tae.displayName;const T2=["Adama","Addis Ababa","Arba Minch","Axum","Bahir Dar","Bishoftu","Debre Birhan","Dessie","Dire Dawa","Gondar","Hawassa","Hossana","Jijiga","Jimma","Kombolcha","Lalibela","Mekelle","Nekemte","Shashemene","Wolaita Sodo"],Iae=[{value:"hotel",label:"Hotel"},{value:"guesthouse",label:"Guesthouse"},{value:"traditional_home",label:"Traditional Home"},{value:"eco_lodge",label:"Eco Lodge"},{value:"apartment",label:"Apartment"},{value:"villa",label:"Villa"}],E_e=["Addis Ababa","Amhara","Oromia","SNNPR","Tigray","Afar","Somali","Benishangul-Gumuz","Gambela","Harari","Dire Dawa"],T_e=["WiFi","Air Conditioning","Kitchen","Parking","Swimming Pool","Restaurant","Bar","Gym","Spa","Conference Room","Airport Shuttle","Pet Friendly","24/7 Reception","Room Service","Laundry Service","Traditional Coffee Ceremony","Cultural Tours","Mountain View","Lake View","Garden"],k_e=[{id:"alga_pay",name:"Alga Pay",description:"Secure payment - Cards, Mobile Money & Banks",icon:"",recommended:!0,featured:!0},{id:"alga_pay_international",name:"Alga Pay (International)",description:"Global cards (Visa, Mastercard, Alipay)",icon:"",recommended:!0,international:!0},{id:"telebirr",name:"Telebirr",description:"Ethiopian mobile money - Fast & Secure",icon:""}];function P_e({onSearch:t,initialFilters:e}){const[,r]=th(),[n,i]=P.useState({destination:(e==null?void 0:e.destination)||"",checkIn:(e==null?void 0:e.checkIn)||"",checkOut:(e==null?void 0:e.checkOut)||"",guests:(e==null?void 0:e.guests)||"1"}),a=l=>{if(l.preventDefault(),t)t(n);else{const c=new URLSearchParams;n.destination&&c.set("city",n.destination),n.checkIn&&c.set("checkIn",n.checkIn),n.checkOut&&c.set("checkOut",n.checkOut),n.guests&&c.set("guests",n.guests),r(`/properties?${c.toString()}`)}},o=(l,c)=>{i(u=>({...u,[l]:c}))};return s.jsx("section",{className:"bg-gradient-to-b from-[#faf5f0] to-[#f5ece3] text-eth-brown py-10 sm:py-14",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:pl-6 lg:pr-12",children:[s.jsxs("div",{className:"text-center mb-7 sm:mb-9",children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-3 text-[#2d1405] leading-tight",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:["Stay. Discover. Belong.",s.jsx("br",{}),"The Ethiopian Way!"]}),s.jsx("p",{className:"text-base text-[#5a4a42] max-w-3xl mx-auto leading-relaxed mb-2",style:{fontFamily:"'Merriweather', 'Georgia', serif"},children:"Find unique stays and experiences across Ethiopia  from city apartments to countryside lodges. Book safely, pay securely, and feel at home wherever you go."})]}),s.jsx("div",{className:"flex justify-center max-w-7xl mx-auto",children:s.jsx("form",{onSubmit:a,className:"bg-white rounded-2xl shadow-md p-5 w-full lg:max-w-6xl border border-[#e5ddd5]/50 hover:shadow-lg transition-all duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx(yr,{htmlFor:"destination",className:"block text-xs font-semibold text-[#5a4a42] mb-2 uppercase tracking-wide",children:"Destination"}),s.jsxs("div",{className:"relative",children:[s.jsxs(Jn,{value:n.destination,onValueChange:l=>o("destination",l),children:[s.jsx(Gn,{className:"w-full h-12 bg-[#faf8f6] border-[#e5ddd5] hover:border-[#d4c4b8] transition-colors",children:s.jsx(es,{placeholder:"All cities"})}),s.jsx(Yn,{children:T2.map(l=>s.jsx(Vt,{value:l,children:l},l))})]}),s.jsx(ki,{className:"absolute right-3 top-3 h-4 w-4 text-[#8b7766] pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"checkIn",className:"block text-xs font-semibold text-[#5a4a42] mb-2 uppercase tracking-wide",children:"Check-in"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{id:"checkIn",type:"date",value:n.checkIn,onChange:l=>o("checkIn",l.target.value),className:"w-full h-12 pl-10 bg-[#faf8f6] border-[#e5ddd5] hover:border-[#d4c4b8] transition-colors",min:new Date().toISOString().split("T")[0],"data-testid":"input-check-in"}),s.jsx(Pi,{className:"absolute left-3 top-3 h-4 w-4 text-[#8b7766] cursor-pointer",onClick:()=>{var l;return(l=document.getElementById("checkIn"))==null?void 0:l.click()},"data-testid":"icon-check-in-calendar"})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"checkOut",className:"block text-xs font-semibold text-[#5a4a42] mb-2 uppercase tracking-wide",children:"Check-out"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{id:"checkOut",type:"date",value:n.checkOut,onChange:l=>o("checkOut",l.target.value),className:"w-full h-12 pl-10 bg-[#faf8f6] border-[#e5ddd5] hover:border-[#d4c4b8] transition-colors",min:n.checkIn||new Date().toISOString().split("T")[0],"data-testid":"input-check-out"}),s.jsx(Pi,{className:"absolute left-3 top-3 h-4 w-4 text-[#8b7766] cursor-pointer",onClick:()=>{var l;return(l=document.getElementById("checkOut"))==null?void 0:l.click()},"data-testid":"icon-check-out-calendar"})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"guests",className:"block text-xs font-semibold text-[#5a4a42] mb-2 uppercase tracking-wide",children:"Guests"}),s.jsx("div",{className:"relative",children:s.jsxs(Jn,{value:n.guests,onValueChange:l=>o("guests",l),children:[s.jsx(Gn,{className:"w-full h-12 bg-[#faf8f6] border-[#e5ddd5] hover:border-[#d4c4b8] transition-colors",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"1",children:"1 guest"}),s.jsx(Vt,{value:"2",children:"2 guests"}),s.jsx(Vt,{value:"3",children:"3 guests"}),s.jsx(Vt,{value:"4",children:"4 guests"}),s.jsx(Vt,{value:"5",children:"5+ guests"})]})]})})]}),s.jsx("div",{children:s.jsxs(Be,{type:"submit",className:`
                    w-full h-12 bg-[#2d1405] hover:bg-[#3d1f0a] text-white font-semibold rounded-xl
                    transition-all duration-200
                    hover:shadow-lg hover:scale-105
                  `,"aria-label":"Search properties","data-testid":"button-search-properties",children:[s.jsx(Zg,{className:"h-4 w-4 mr-2"}),"Search"]})})]})})})]})})}var Oae={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K9=Le.createContext&&Le.createContext(Oae),I_e=["attr","size","title"];function O_e(t,e){if(t==null)return{};var r=M_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P5(){return P5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P5.apply(this,arguments)}function X9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(r),!0).forEach(function(n){R_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R_e(t,e,r){return e=D_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D_e(t){var e=L_e(t,"string");return typeof e=="symbol"?e:e+""}function L_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mae(t){return t&&t.map((e,r)=>Le.createElement(e.tag,I5({key:r},e.attr),Mae(e.child)))}function nR(t){return e=>Le.createElement(F_e,P5({attr:I5({},t.attr)},e),Mae(t.child))}function F_e(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=O_e(t,I_e),l=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Le.createElement("svg",P5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:I5(I5({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Le.createElement("title",null,a),t.children)};return K9!==void 0?Le.createElement(K9.Consumer,null,r=>e(r)):e(Oae)}function B_e(t){return nR({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"},child:[]}]})(t)}function q6(t){return nR({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(t)}function U_e(t){return nR({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(t)}function Ei(){return s.jsxs("footer",{className:"bg-eth-brown text-white",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:pl-6 lg:pr-12 py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2.5",children:[s.jsx("div",{className:"w-12 h-12 bg-eth-brown rounded-lg flex items-center justify-center",children:s.jsx(kn,{className:"h-6 w-6 text-white"})}),s.jsx("h4",{className:"text-2xl font-bold tracking-tight",style:{fontFamily:"'Playfair Display', serif"},children:"ALGA"})]}),s.jsx("p",{className:"text-white/80 text-sm leading-relaxed pr-4",children:"Authentic Ethiopian stays  connecting travelers and diaspora to local hospitality."}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(ps,{className:"h-4 w-4 text-white/80"}),s.jsx("span",{className:"text-white/90 font-semibold",children:"100% Ethiopian Owned"})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("h5",{className:"font-bold text-white mb-4 text-sm",children:"For Guests"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx(tb,{to:"/properties",className:"text-white/70 hover:text-white transition-colors",children:"Browse Stays"})}),s.jsx("li",{children:s.jsx(tb,{to:"/properties?city=Addis%20Ababa",className:"text-white/70 hover:text-white transition-colors",children:"Popular Destinations"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Travel Guide"})})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("h5",{className:"font-bold text-white mb-4 text-sm",children:"For Hosts"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx(tb,{to:"/become-host",className:"text-white/70 hover:text-white transition-colors",children:"List Your Property"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Host Resources"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Community & Support"})})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("h5",{className:"font-bold text-white mb-4 text-sm",children:"Support"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Safety & Trust"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Cancellations"})})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("h5",{className:"font-bold text-white mb-4 text-sm",children:"Legal"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-white/70 hover:text-white transition-colors",children:"Terms & Conditions"})})]})]})]}),s.jsx("div",{className:"mt-16 pt-12 border-t border-white/20",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-12",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-xl font-bold text-white mb-2",style:{fontFamily:"'Playfair Display', serif"},"data-testid":"heading-contact",children:"Contact Us"}),s.jsx("div",{className:"w-12 h-1 bg-eth-brown/60 rounded-full"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"tel:+251996034044",className:"group flex items-center gap-3 text-white/90 hover:text-white transition-all duration-300","data-testid":"link-phone",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors flex-shrink-0",children:s.jsx(Gh,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Phone"}),s.jsx("p",{className:"text-base font-medium",children:"+251 996 034 044"})]})]}),s.jsxs("a",{href:"mailto:hello@alga.et",className:"group flex items-center gap-3 text-white/90 hover:text-white transition-all duration-300","data-testid":"link-email",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors flex-shrink-0",children:s.jsx(kp,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Email"}),s.jsx("p",{className:"text-base font-medium",children:"hello@alga.et"})]})]})]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-xl font-bold text-white mb-2",style:{fontFamily:"'Playfair Display', serif"},"data-testid":"heading-social",children:"Follow Us"}),s.jsx("div",{className:"w-12 h-1 bg-eth-brown/60 rounded-full"})]}),s.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Stay connected with Alga across platforms:"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsxs("a",{href:"https://instagram.com/algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"Instagram","data-testid":"link-instagram",children:[s.jsx(w6,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"Instagram"})]}),s.jsxs("a",{href:"https://tiktok.com/@algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"TikTok","data-testid":"link-tiktok",children:[s.jsx(q6,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"TikTok"})]}),s.jsxs("a",{href:"https://facebook.com/algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"Facebook","data-testid":"link-facebook",children:[s.jsx(b6,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"Facebook"})]}),s.jsxs("a",{href:"https://youtube.com/@algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"YouTube","data-testid":"link-youtube",children:[s.jsx(U_e,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"YouTube"})]}),s.jsxs("a",{href:"https://linkedin.com/company/algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"LinkedIn","data-testid":"link-linkedin",children:[s.jsx(l2e,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"LinkedIn"})]}),s.jsxs("a",{href:"https://t.me/algaethiopia",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-3 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105",title:"Telegram","data-testid":"link-telegram",children:[s.jsx(B_e,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"text-sm font-medium",children:"Telegram"})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/10",children:s.jsxs("p",{className:"text-white/60 text-sm italic leading-relaxed","data-testid":"text-social-tagline",children:[s.jsx("span",{className:"font-semibold text-white/80",children:"@algaethiopia"}),"  for travel stories, host features, and behind-the-scenes journeys."]})})]})]})})]}),s.jsx("div",{className:"border-t border-white/30",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:pl-6 lg:pr-12 py-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 text-center sm:text-left",children:s.jsxs("div",{className:"text-sm text-white/70",children:[s.jsx("p",{className:"font-medium",children:" 2025 Alga. Built with  in Ethiopia."}),s.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Powered by local innovation and global connection."})]})})})})]})}function tf(){const[,t]=th(),e=()=>{window.history.length>1?window.history.back():t("/")};return s.jsxs(Be,{variant:"ghost",size:"sm",onClick:e,className:"text-eth-brown hover:text-eth-brown/80 hover:bg-eth-brown/10","data-testid":"button-back",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),"Back"]})}function Rae({title:t="Alga  Stay. Discover. Belong  The Ethiopian Way!",description:e="Discover authentic Ethiopian stays with Alga  from city apartments to countryside lodges. Book safely, pay securely, and feel at home wherever you go.",image:r="/og-image.jpg",url:n=typeof window<"u"?window.location.href:""}){return P.useEffect(()=>{document.title=t,[{name:"description",content:e},{property:"og:title",content:t},{property:"og:description",content:e},{property:"og:image",content:r},{property:"og:url",content:n},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:t},{name:"twitter:description",content:e},{name:"twitter:image",content:r}].forEach(({name:a,property:o,content:l})=>{const c=a?`name="${a}"`:`property="${o}"`;let u=document.querySelector(`meta[${c}]`);u||(u=document.createElement("meta"),a&&(u.name=a),o&&u.setAttribute("property",o),document.head.appendChild(u)),u.content=l})},[t,e,r,n]),null}function $_e(){return s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-cream-200 animate-pulse",children:[s.jsx("div",{className:"w-full h-64 bg-gray-200"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-28"})]})]})]})}function z_e({count:t=6}){return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:t}).map((e,r)=>s.jsx($_e,{},r))})}function q_e(){const[t,e]=th(),{data:r=[],isLoading:n}=Nr({queryKey:["/api/properties"]}),i=()=>{if(t==="/properties"){const o=document.querySelector('[data-section="all-properties"]');o&&o.scrollIntoView({behavior:"smooth",block:"start"})}else e("/properties")},a=r.filter(o=>parseFloat(o.rating||"0")>=4.7).sort((o,l)=>parseFloat(l.rating||"0")-parseFloat(o.rating||"0")).slice(0,3);return n||a.length===0?null:s.jsx("div",{className:"hidden md:block bg-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-eth-brown mb-3",style:{fontFamily:"'Playfair Display', serif"},children:"Featured Ethiopian Stays"}),s.jsx("p",{className:"text-eth-brown/70 text-lg",children:"Handpicked accommodations across Ethiopia's most beautiful destinations"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a.map(o=>{var l;return s.jsx(tb,{href:`/properties/${o.id}`,className:"group",children:s.jsxs("div",{className:"bg-cream-50 rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[s.jsxs("div",{className:"relative h-56 overflow-hidden",children:[s.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"/api/placeholder/800/600",alt:o.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),s.jsxs("div",{className:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[s.jsx(ca,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-semibold text-eth-brown",children:o.rating})]})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"font-bold text-xl text-eth-brown mb-2 line-clamp-1",children:o.title}),s.jsxs("div",{className:"flex items-center gap-1.5 text-eth-brown/70 mb-3",children:[s.jsx(ki,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm",children:[o.city,", ",o.region]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-eth-brown/70 mb-4",children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm",children:["Up to ",o.maxGuests," guests"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-cream-200",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-eth-brown",children:new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:0}).format(parseFloat(o.pricePerNight))}),s.jsx("span",{className:"text-eth-brown/60 text-sm ml-1",children:"/night"})]}),s.jsx(Be,{variant:"ghost",size:"sm",className:"text-eth-brown hover:bg-eth-brown hover:text-white","data-testid":`button-view-${o.id}`,children:"View Details"})]})]})]})},o.id)})}),s.jsx("div",{className:"text-center",children:s.jsx(Be,{onClick:i,className:"bg-eth-brown hover:bg-eth-brown/90 text-white px-8 py-6 text-lg cursor-pointer","data-testid":"button-explore-all",children:"Explore All Properties"})})]})})}const V_e=[{name:"Sarah Johnson",location:"London, UK",rating:5,text:"My stay in Lalibela was absolutely magical. The traditional home was beautifully maintained, and the host's knowledge of the local culture made the experience unforgettable.",avatar:"SJ",property:"Lalibela Rock Heritage House"},{name:"Michael Chen",location:"Toronto, Canada",rating:5,text:"Alga made booking so easy! The payment options including Stripe were seamless, and the property verification gave me confidence. The Hawassa villa exceeded all expectations.",avatar:"MC",property:"Hawassa Lakeside Villa"},{name:"Amina Hassan",location:"Dubai, UAE",rating:5,text:"As an Ethiopian abroad, using Alga to find authentic stays back home was perfect. The Telebirr payment option was convenient, and the properties are truly authentic.",avatar:"AH",property:"Addis View Hotel"}];function H_e(){return s.jsx("div",{className:"hidden md:block bg-cream-50 py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-eth-brown mb-3",style:{fontFamily:"'Playfair Display', serif"},children:"What Our Guests Say"}),s.jsx("p",{className:"text-eth-brown/70 text-lg",children:"Real experiences from travelers discovering Ethiopia"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:V_e.map((t,e)=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300","data-testid":`testimonial-${e}`,children:[s.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(t.rating)].map((r,n)=>s.jsx(ca,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},n))}),s.jsxs("p",{className:"text-eth-brown/80 mb-6 leading-relaxed",children:['"',t.text,'"']}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-cream-200",children:[s.jsx(j2,{children:s.jsx(S2,{className:"bg-eth-brown text-white",children:t.avatar})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-eth-brown",children:t.name}),s.jsx("p",{className:"text-sm text-eth-brown/60",children:t.location})]})]}),s.jsxs("div",{className:"mt-3 text-xs text-eth-brown/50 italic",children:["Stayed at ",t.property]})]},e))})]})})}const W_e=[{icon:ps,title:"Verified Properties",description:"All properties are verified by our team before listing"},{icon:Mh,title:"ID Verification",description:"Secure identity verification for all hosts and guests"},{icon:Ro,title:"Secure Payments",description:"Multiple payment options with bank-level security"}];function G_e(){return s.jsx("div",{className:"bg-white py-16 border-t border-b border-cream-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12 md:hidden",children:s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-eth-brown mb-3",style:{fontFamily:"'Playfair Display', serif"},children:"How Alga Works"})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto",children:W_e.map((t,e)=>s.jsxs("div",{className:"text-center","data-testid":`trust-feature-${e}`,children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-eth-brown/10 rounded-full mb-4",children:s.jsx(t.icon,{className:"h-7 w-7 text-eth-brown"})}),s.jsx("h3",{className:"font-bold text-eth-brown mb-2",children:t.title}),s.jsx("p",{className:"text-sm text-eth-brown/70",children:t.description})]},e))})]})})}const Y_e=[{icon:Zg,title:"Search & Discover",description:""},{icon:kn,title:"Book Your Stay",description:""},{icon:Ol,title:"Pay Securely",description:""},{icon:xre,title:"Get Access Code",description:""}];function K_e(){return s.jsx("div",{className:"hidden md:block bg-white py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-eth-brown mb-3",style:{fontFamily:"'Playfair Display', serif"},children:"How Alga Works"}),s.jsx("p",{className:"text-eth-brown/70 text-lg max-w-2xl mx-auto",children:"Booking your Ethiopian stay is simple and secure with our streamlined process"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-8 max-w-4xl mx-auto",children:Y_e.map((t,e)=>s.jsxs("div",{className:"relative text-center","data-testid":`how-it-works-${e}`,children:[s.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-eth-brown rounded-full mb-3 relative",children:[s.jsx(t.icon,{className:"h-7 w-7 text-white"}),s.jsx("div",{className:"absolute -top-2 -right-2 w-7 h-7 bg-cream-100 rounded-full flex items-center justify-center border-2 border-eth-brown",children:s.jsx("span",{className:"font-bold text-eth-brown text-xs",children:e+1})})]}),s.jsx("h3",{className:"font-bold text-lg text-eth-brown",children:t.title})]},e))})]})})}const Z9=["Addis Ababa","Bishoftu","Adama","Hawassa","Bahir Dar"];function Q9(){var M;const t=Ac(),[e,r]=P.useState({}),[n,i]=P.useState(!1),[a,o]=P.useState(!1),[l,c]=P.useState("");P.useEffect(()=>{const O=new URLSearchParams(t.search||""),L={};O.get("destination")&&(L.city=O.get("destination")),O.get("city")&&(L.city=O.get("city")),O.get("type")&&(L.type=O.get("type")),O.get("minPrice")&&(L.minPrice=parseInt(O.get("minPrice"))),O.get("maxPrice")&&(L.maxPrice=parseInt(O.get("maxPrice"))),O.get("guests")&&(L.maxGuests=parseInt(O.get("guests"))),O.get("checkIn")&&(L.checkIn=O.get("checkIn")),O.get("checkOut")&&(L.checkOut=O.get("checkOut")),O.get("q")&&(L.q=O.get("q"),c(O.get("q"))),O.get("sort")&&(L.sort=O.get("sort")),r(L),Object.keys(L).length>0&&o(!0)},[t]);const{data:u=[],isLoading:h}=Nr({queryKey:["/api/properties",e],queryFn:async()=>{const O=new URLSearchParams;Object.entries(e).forEach(([B,U])=>{U!==void 0&&O.append(B,U.toString())});const L=await fetch(`/api/properties?${O}`);if(!L.ok)throw new Error("Failed to fetch properties");return L.json()}}),{data:f}=Nr({queryKey:["/api/favorites"],queryFn:Z8({on401:"returnNull"}),retry:!1}),y=new Set((f||[]).map(O=>O.id)),v=(O,L)=>{r(B=>({...B,[O]:L}))},S=()=>{r({}),c("")},w=O=>{const L={...e};delete L[O],r(L),O==="q"&&c("")},N=()=>{l.trim()?v("q",l.trim()):w("q")},_=Object.values(e).filter(Boolean).length,E=e.city?`${e.city} Stays - Alga`:"Authentic Ethiopian Stays - Alga",T=e.city?`Find unique stays in ${e.city}, Ethiopia. Book traditional homes, modern hotels, and cultural guesthouses. Safe, verified, and authentically Ethiopian.`:"Discover unique Ethiopian accommodations from Addis Ababa to Lalibela. Book traditional homes, modern hotels, and cultural guesthouses. Safe, verified, and authentically Ethiopian.";return s.jsxs("div",{className:"flex min-h-screen bg-eth-warm-tan",children:[s.jsx(Rae,{title:E,description:T}),s.jsx("div",{className:"ethiopian-pattern-sidebar fixed left-0 top-0 hidden lg:block"}),s.jsxs("div",{className:"flex-1 lg:ml-20",children:[s.jsx(Zr,{}),!a&&s.jsx(P_e,{onSearch:O=>{r({city:O.destination,maxGuests:parseInt(O.guests),checkIn:O.checkIn,checkOut:O.checkOut}),o(!0)},initialFilters:{destination:e.city||"",guests:((M=e.maxGuests)==null?void 0:M.toString())||"1",checkIn:e.checkIn||"",checkOut:e.checkOut||""}}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx(tf,{}),a&&s.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>o(!1),className:"border-eth-brown/30 text-eth-brown hover:text-white","data-testid":"button-new-search",children:[s.jsx(Zg,{className:"h-4 w-4 mr-2"}),"New Search"]})]}),a&&s.jsx("div",{children:s.jsxs("div",{className:"mb-4 space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 flex gap-2",children:[s.jsx(Or,{type:"text",placeholder:"Search by name, location, or description...",value:l,onChange:O=>c(O.target.value),onKeyDown:O=>O.key==="Enter"&&N(),className:"flex-1 bg-white border-eth-brown/20","data-testid":"input-keyword-search"}),s.jsx(Be,{onClick:N,className:"bg-eth-brown hover:bg-eth-brown/90","data-testid":"button-keyword-search",children:s.jsx(Zg,{className:"h-4 w-4"})})]}),s.jsxs(Jn,{value:e.sort||"recommended",onValueChange:O=>v("sort",O),children:[s.jsx(Gn,{className:"w-full sm:w-[200px] bg-white border-eth-brown/20",children:s.jsx(es,{placeholder:"Sort by"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"recommended",children:"Recommended"}),s.jsx(Vt,{value:"price_asc",children:"Price: Low to High"}),s.jsx(Vt,{value:"price_desc",children:"Price: High to Low"}),s.jsx(Vt,{value:"rating_desc",children:"Highest Rated"})]})]}),s.jsxs(Be,{variant:"outline",onClick:()=>i(!n),className:"border-eth-brown/30 text-eth-brown hover:bg-eth-brown hover:text-white","data-testid":"button-toggle-filters",children:[s.jsx(N2e,{className:"h-4 w-4 mr-2"}),"Filters ",_>0&&`(${_})`]})]}),n&&s.jsx(_e,{className:"border-eth-brown/20",children:s.jsxs(Te,{className:"pt-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(yr,{className:"text-xs font-semibold text-eth-brown mb-2 block",children:"Quick filters:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z9.map(O=>s.jsx(Be,{variant:e.city===O?"default":"outline",size:"sm",onClick:()=>v("city",e.city===O?void 0:O),className:`text-xs ${e.city===O?"bg-eth-brown hover:bg-eth-brown/90 text-white":"border-eth-brown/30 text-eth-brown hover:bg-eth-brown/10"}`,"data-testid":`button-quick-city-${O.toLowerCase().replace(/\s+/g,"-")}`,children:O},O))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(yr,{className:"text-xs font-semibold text-eth-brown mb-2 block",children:"City"}),s.jsxs(Jn,{value:e.city||"all",onValueChange:O=>v("city",O==="all"?void 0:O),children:[s.jsx(Gn,{className:"bg-white",children:s.jsx(es,{placeholder:"All cities"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All cities"}),T2.map(O=>s.jsx(Vt,{value:O,children:O},O))]})]})]}),s.jsxs("div",{children:[s.jsx(yr,{className:"text-xs font-semibold text-eth-brown mb-2 block",children:"Property Type"}),s.jsxs(Jn,{value:e.type||"all",onValueChange:O=>v("type",O==="all"?void 0:O),children:[s.jsx(Gn,{className:"bg-white",children:s.jsx(es,{placeholder:"All types"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All types"}),Iae.map(O=>s.jsx(Vt,{value:O.value,children:O.label},O.value))]})]})]}),s.jsxs("div",{children:[s.jsx(yr,{className:"text-xs font-semibold text-eth-brown mb-2 block",children:"Min Price (ETB)"}),s.jsx(Or,{type:"number",placeholder:"Any",value:e.minPrice||"",onChange:O=>v("minPrice",O.target.value?parseFloat(O.target.value):void 0),className:"bg-white","data-testid":"input-min-price"})]}),s.jsxs("div",{children:[s.jsx(yr,{className:"text-xs font-semibold text-eth-brown mb-2 block",children:"Max Price (ETB)"}),s.jsx(Or,{type:"number",placeholder:"Any",value:e.maxPrice||"",onChange:O=>v("maxPrice",O.target.value?parseFloat(O.target.value):void 0),className:"bg-white","data-testid":"input-max-price"})]})]})]})}),_>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsx("span",{className:"text-xs text-eth-brown/60",children:"Active filters:"}),e.city&&s.jsxs(Rt,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-city",children:["City: ",e.city,s.jsx("button",{onClick:()=>w("city"),className:"ml-1 hover:text-destructive",children:""})]}),e.type&&s.jsxs(Rt,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-type",children:["Type: ",e.type,s.jsx("button",{onClick:()=>w("type"),className:"ml-1 hover:text-destructive",children:""})]}),e.minPrice&&s.jsxs(Rt,{variant:"secondary",className:"gap-1",children:["Min: ",e.minPrice," ETB",s.jsx("button",{onClick:()=>w("minPrice"),className:"ml-1 hover:text-destructive",children:""})]}),e.maxPrice&&s.jsxs(Rt,{variant:"secondary",className:"gap-1",children:["Max: ",e.maxPrice," ETB",s.jsx("button",{onClick:()=>w("maxPrice"),className:"ml-1 hover:text-destructive",children:""})]}),e.maxGuests&&s.jsxs(Rt,{variant:"secondary",className:"gap-1",children:["Guests: ",e.maxGuests,"+",s.jsx("button",{onClick:()=>w("maxGuests"),className:"ml-1 hover:text-destructive",children:""})]}),e.q&&s.jsxs(Rt,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-keyword",children:['"',e.q,'"',s.jsx("button",{onClick:()=>w("q"),className:"ml-1 hover:text-destructive",children:""})]}),s.jsx(Be,{variant:"ghost",size:"sm",onClick:S,className:"h-6 text-xs text-eth-brown hover:text-eth-brown/70","data-testid":"button-clear-filters",children:"Clear all"})]})]})}),s.jsx("div",{className:"flex items-center justify-between mb-4","data-section":"all-properties",children:h?s.jsxs("div",{className:"flex items-center gap-2 text-eth-brown",children:[s.jsx(eo,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"text-lg font-semibold",children:"Searching properties..."})]}):s.jsxs("h2",{className:"text-lg font-semibold text-eth-brown",style:{fontSize:"87%"},children:[" ",u.length," ",u.length===1?"Stay":"Stays"," Available"]})}),h?s.jsx(z_e,{count:12}):u.length===0?s.jsx(_e,{className:"mt-8 border-eth-brown/20",children:s.jsx(Te,{className:"py-12 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"mb-4 text-6xl",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-eth-brown mb-2",children:"No properties found"}),s.jsx("p",{className:"text-eth-brown/60 mb-6",children:"We couldn't find any properties matching your search criteria."}),s.jsxs("div",{className:"space-y-4",children:[_>0&&s.jsx(Be,{onClick:S,className:"bg-eth-brown hover:bg-eth-brown/90","data-testid":"button-clear-filters-empty",children:"Clear All Filters"}),s.jsxs("div",{className:"pt-4 border-t border-eth-brown/10",children:[s.jsx("p",{className:"text-sm text-eth-brown/60 mb-3",children:"Try searching in popular cities:"}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Z9.map(O=>s.jsx(Be,{variant:"outline",size:"sm",onClick:()=>{S(),v("city",O)},className:"border-eth-brown/30 text-eth-brown hover:bg-eth-brown/10","data-testid":`button-suggest-city-${O.toLowerCase().replace(/\s+/g,"-")}`,children:O},O))})]})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:u.map((O,L)=>s.jsx("div",{className:"animate-fade-in hover:scale-105 transition-all",style:{animationDelay:`${L*50}ms`,opacity:0,animation:"fadeIn 300ms ease-out forwards"},children:s.jsx(Yie,{property:O,isFavorite:y.has(O.id)})},O.id))}),s.jsx("p",{className:"text-center text-sm text-eth-brown/40 mt-12 italic",children:"Verified Ethiopian stays curated by Alga"})]})]}),s.jsxs("div",{children:[!a&&s.jsxs(s.Fragment,{children:[s.jsx(q_e,{}),s.jsx(K_e,{}),s.jsx(G_e,{}),s.jsx(H_e,{})]}),s.jsx(Ei,{})]})]})]})}function X_e({property:t}){return P.useEffect(()=>{var i;const e={"@context":"https://schema.org","@type":"LodgingBusiness",name:t.title,description:t.description,image:((i=t.images)==null?void 0:i[0])||"",address:{"@type":"PostalAddress",addressLocality:t.city,addressCountry:"ET",streetAddress:t.address||""},geo:t.latitude&&t.longitude?{"@type":"GeoCoordinates",latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude)}:void 0,priceRange:`ETB ${t.pricePerNight}`,aggregateRating:t.rating&&t.reviewCount?{"@type":"AggregateRating",ratingValue:parseFloat(t.rating),reviewCount:t.reviewCount}:void 0},r=document.createElement("script");r.type="application/ld+json",r.text=JSON.stringify(e),r.id="property-structured-data";const n=document.getElementById("property-structured-data");return n&&n.remove(),document.head.appendChild(r),()=>{const a=document.getElementById("property-structured-data");a&&a.remove()}},[t]),null}const _i=P.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:er("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));_i.displayName="Textarea";var Z_e="Separator",J9="horizontal",Q_e=["horizontal","vertical"],Dae=P.forwardRef((t,e)=>{const{decorative:r,orientation:n=J9,...i}=t,a=J_e(n)?n:J9,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Tr.div,{"data-orientation":a,...l,...i,ref:e})});Dae.displayName=Z_e;function J_e(t){return Q_e.includes(t)}var Lae=Dae;const Ud=P.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>s.jsx(Lae,{ref:i,decorative:r,orientation:e,className:er("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ud.displayName=Lae.displayName;var e3e="clover",Fae="https://js.stripe.com",t3e="".concat(Fae,"/").concat(e3e,"/stripe.js"),r3e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,n3e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var s3e=function(e){return r3e.test(e)||n3e.test(e)},i3e=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Fae,'"]')),r=0;r<e.length;r++){var n=e[r];if(s3e(n.src))return n}return null},eB=function(e){var r="",n=document.createElement("script");n.src="".concat(t3e).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},tv=null,zN=null,qN=null,a3e=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},o3e=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},l3e=function(e){return tv!==null?tv:(tv=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=i3e();if(!(i&&e)){if(!i)i=eB(e);else if(i&&qN!==null&&zN!==null){var a;i.removeEventListener("load",qN),i.removeEventListener("error",zN),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=eB(e)}}qN=o3e(r,n),zN=a3e(n),i.addEventListener("load",qN),i.addEventListener("error",zN)}catch(o){n(o);return}}),tv.catch(function(r){return tv=null,Promise.reject(r)}))},rv,c3e=function(){return rv||(rv=l3e(null).catch(function(e){return rv=null,Promise.reject(e)}),rv)};Promise.resolve().then(function(){return c3e()}).catch(function(t){console.warn(t)});var m_={exports:{}},p_,tB;function u3e(){if(tB)return p_;tB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return p_=t,p_}var g_,rB;function d3e(){if(rB)return g_;rB=1;var t=u3e();function e(){}function r(){}return r.resetWarningCache=e,g_=function(){function n(o,l,c,u,h,f){if(f!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},g_}var nB;function h3e(){return nB||(nB=1,m_.exports=d3e()()),m_.exports}var f3e=h3e();const Bt=as(f3e);function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){Bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fj(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fj=function(e){return typeof e}:Fj=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(t)}function Bae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function p3e(t,e){if(t==null)return{};var r=m3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g3e(t,e){return x3e(t)||y3e(t,e)||v3e(t,e)||b3e()}function x3e(t){if(Array.isArray(t))return t}function y3e(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],i=!0,a=!1,o,l;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function v3e(t,e){if(t){if(typeof t=="string")return aB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(t,e)}}function aB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yl=function(e,r,n){var i=!!n,a=Le.useRef(n);Le.useEffect(function(){a.current=n},[n]),Le.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,o),function(){e.off(r,o)}},[i,r,e,a])},w3e=function(e){var r=Le.useRef(e);return Le.useEffect(function(){r.current=e},[e]),r.current},O5=function(e){return e!==null&&Fj(e)==="object"},oB="[object Object]",N3e=function t(e,r){if(!O5(e)||!O5(r))return e===r;var n=Array.isArray(e),i=Array.isArray(r);if(n!==i)return!1;var a=Object.prototype.toString.call(e)===oB,o=Object.prototype.toString.call(r)===oB;if(a!==o)return!1;if(!a&&!n)return e===r;var l=Object.keys(e),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},h=0;h<l.length;h+=1)u[l[h]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var y=Object.keys(u);if(y.length!==l.length)return!1;var v=e,S=r,w=function(_){return t(v[_],S[_])};return y.every(w)},j3e=function(e,r,n){return O5(e)?Object.keys(e).reduce(function(i,a){var o=!O5(r)||!N3e(e[a],r[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?iB(iB({},i||{}),{},Bae({},a,e[a])):i},null):null},Uae=Le.createContext(null);Uae.displayName="ElementsContext";var S3e=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e};Bt.any,Bt.object;Bt.func.isRequired;var $ae=Le.createContext(null);$ae.displayName="CheckoutContext";Bt.any,Bt.shape({clientSecret:Bt.oneOfType([Bt.string,Bt.instanceOf(Promise)]).isRequired,elementsOptions:Bt.object}).isRequired;var lB=function(e){var r=Le.useContext($ae),n=Le.useContext(Uae);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r}else return S3e(n,e)},C3e=["mode"],A3e=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_c=function(e,r){var n="".concat(A3e(e),"Element"),i=function(c){var u=c.id,h=c.className,f=c.options,y=f===void 0?{}:f,v=c.onBlur,S=c.onFocus,w=c.onReady,N=c.onChange,_=c.onEscape,E=c.onClick,T=c.onLoadError,M=c.onLoaderStart,O=c.onNetworksChange,L=c.onConfirm,B=c.onCancel,U=c.onShippingAddressChange,$=c.onShippingRateChange,K=c.onSavedPaymentMethodRemove,q=c.onSavedPaymentMethodUpdate,H=lB("mounts <".concat(n,">")),Q="elements"in H?H.elements:null,Z="checkoutState"in H?H.checkoutState:null,J=(Z==null?void 0:Z.type)==="success"||(Z==null?void 0:Z.type)==="loading"?Z.sdk:null,ye=Le.useState(null),ge=g3e(ye,2),oe=ge[0],re=ge[1],me=Le.useRef(null),ne=Le.useRef(null);Yl(oe,"blur",v),Yl(oe,"focus",S),Yl(oe,"escape",_),Yl(oe,"click",E),Yl(oe,"loaderror",T),Yl(oe,"loaderstart",M),Yl(oe,"networkschange",O),Yl(oe,"confirm",L),Yl(oe,"cancel",B),Yl(oe,"shippingaddresschange",U),Yl(oe,"shippingratechange",$),Yl(oe,"savedpaymentmethodremove",K),Yl(oe,"savedpaymentmethodupdate",q),Yl(oe,"change",N);var G;w&&(e==="expressCheckout"?G=w:G=function(){w(oe)}),Yl(oe,"ready",G),Le.useLayoutEffect(function(){if(me.current===null&&ne.current!==null&&(Q||J)){var ue=null;if(J)switch(e){case"payment":ue=J.createPaymentElement(y);break;case"address":if("mode"in y){var je=y.mode,Ce=p3e(y,C3e);if(je==="shipping")ue=J.createShippingAddressElement(Ce);else if(je==="billing")ue=J.createBillingAddressElement(Ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ue=J.createExpressCheckoutElement(y);break;case"currencySelector":ue=J.createCurrencySelectorElement();break;case"taxId":ue=J.createTaxIdElement(y);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Q&&(ue=Q.create(e,y));me.current=ue,re(ue),ue&&ue.mount(ne.current)}},[Q,J,y]);var se=w3e(y);return Le.useEffect(function(){if(me.current){var ue=j3e(y,se,["paymentRequest"]);ue&&"update"in me.current&&me.current.update(ue)}},[y,se]),Le.useLayoutEffect(function(){return function(){if(me.current&&typeof me.current.destroy=="function")try{me.current.destroy(),me.current=null}catch{}}},[]),Le.createElement("div",{id:u,className:h,ref:ne})},a=function(c){lB("mounts <".concat(n,">"));var u=c.id,h=c.className;return Le.createElement("div",{id:u,className:h})},o=r?a:i;return o.propTypes={id:Bt.string,className:Bt.string,onChange:Bt.func,onBlur:Bt.func,onFocus:Bt.func,onReady:Bt.func,onEscape:Bt.func,onClick:Bt.func,onLoadError:Bt.func,onLoaderStart:Bt.func,onNetworksChange:Bt.func,onConfirm:Bt.func,onCancel:Bt.func,onShippingAddressChange:Bt.func,onShippingRateChange:Bt.func,onSavedPaymentMethodRemove:Bt.func,onSavedPaymentMethodUpdate:Bt.func,options:Bt.object},o.displayName=n,o.__elementType=e,o},Ec=typeof window>"u",_3e=Le.createContext(null);_3e.displayName="EmbeddedCheckoutProviderContext";_c("auBankAccount",Ec);_c("card",Ec);_c("cardNumber",Ec);_c("cardExpiry",Ec);_c("cardCvc",Ec);_c("iban",Ec);_c("payment",Ec);_c("expressCheckout",Ec);_c("paymentRequestButton",Ec);_c("linkAuthentication",Ec);_c("address",Ec);_c("shippingAddress",Ec);_c("paymentMethodMessaging",Ec);_c("taxId",Ec);function E3e({amount:t,currency:e,bookingId:r,onSuccess:n,onError:i,onCancel:a}){const[o,l]=P.useState(null),[c,u]=P.useState(!0);P.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await(await fetch("/api/payment/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:r,amount:t,currency:e})})).json();y.success&&y.clientSecret?l(y.clientSecret):i(y.message||"Failed to initialize payment")}catch(f){i(f.message||"Payment initialization failed")}finally{u(!1)}};return s.jsxs(_e,{className:"w-full max-w-md mx-auto",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-eth-brown",children:"Payment Configuration Required"})}),s.jsx(Te,{children:s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Stripe payment integration requires configuration."}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Add ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"VITE_STRIPE_PUBLIC_KEY"})," to your environment secrets."]}),s.jsx(Be,{variant:"outline",onClick:a,children:"Go Back"})]})})]})}function T3e({amount:t,currency:e="ETB",bookingId:r,onSuccess:n,onError:i,onCancel:a}){const[o,l]=P.useState(!0),[c,u]=P.useState(null),[h,f]=P.useState(null),[y,v]=P.useState(!1),[S,w]=P.useState(!1),N=P.useRef(null),_=P.useRef(null);P.useEffect(()=>(T(),window.addEventListener("message",E),()=>{window.removeEventListener("message",E),_.current&&clearInterval(_.current)}),[]);const E=B=>{B.origin.includes("chapa.co")&&(console.log("[Chapa] Received message from iframe:",B.data),B.data.status==="success"?L():B.data.status==="failed"&&i("Payment was not completed"))},T=async()=>{try{l(!0);const B=await xn("POST","/api/payment/chapa/initiate",{bookingId:r,amount:t,currency:e});if(B.success&&B.checkout_url)u(B.checkout_url),f(B.tx_ref),M(B.tx_ref);else throw new Error(B.message||"Failed to initialize Chapa payment")}catch(B){console.error("[Chapa] Initialization error:",B),i(B.message||"Failed to initialize payment")}finally{l(!1)}},M=B=>{_.current=setInterval(async()=>{await O(B)},3e3)},O=async B=>{try{const U=await xn("GET",`/api/payment/chapa/verify/${B}`);U.success&&U.status==="paid"&&L()}catch(U){console.error("[Chapa] Verification error:",U)}},L=()=>{S||(w(!0),v(!1),_.current&&clearInterval(_.current),setTimeout(()=>{n()},2e3))};return o?s.jsx(_e,{className:"border-eth-brown/20",children:s.jsxs(Te,{className:"p-8 flex flex-col items-center justify-center",children:[s.jsx(eo,{className:"h-12 w-12 animate-spin text-eth-brown mb-4"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Initializing Chapa payment..."})]})}):S?s.jsx(_e,{className:"border-green-200 bg-green-50",children:s.jsxs(Te,{className:"p-8 flex flex-col items-center justify-center",children:[s.jsx(Vd,{className:"h-16 w-16 text-green-600 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-2",children:"Payment Successful!"}),s.jsx("p",{className:"text-sm text-green-700",children:"Your booking has been confirmed."})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-eth-brown",children:"Complete Your Payment"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Secure payment powered by Chapa"}),s.jsx("div",{className:"mt-2 p-3 bg-eth-cream/50 rounded-lg border border-eth-brown/20",children:s.jsxs("p",{className:"text-2xl font-bold text-eth-brown",children:[t.toLocaleString()," ",e]})})]}),c&&s.jsx(_e,{className:"border-eth-brown/20 overflow-hidden",children:s.jsx("div",{className:"relative",style:{paddingBottom:"75%",minHeight:"500px"},children:s.jsx("iframe",{ref:N,src:c,className:"absolute top-0 left-0 w-full h-full border-0",title:"Chapa Payment",allow:"payment",sandbox:"allow-same-origin allow-scripts allow-forms allow-top-navigation","data-testid":"iframe-chapa-checkout"})})}),y&&s.jsxs("div",{className:"flex items-center justify-center p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(eo,{className:"h-5 w-5 animate-spin text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm text-blue-900",children:"Verifying payment..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Be,{onClick:a,variant:"outline",className:"flex-1 border-eth-brown/20 hover:bg-eth-brown/5","data-testid":"button-cancel-payment",children:[s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Cancel Payment"]}),s.jsx(Be,{onClick:async()=>{h&&(v(!0),await O(h),v(!1))},className:"flex-1 bg-eth-brown hover:bg-eth-brown/90",disabled:y,"data-testid":"button-verify-payment",children:y?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vd,{className:"mr-2 h-4 w-4"}),"I've Completed Payment"]})})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-900",children:[" ",s.jsx("strong",{children:"Tip:"}),` After completing payment in the window above, click "I've Completed Payment" to verify your transaction.`]})})]})}const V6="alga_user_location",k3e=1440*60*1e3,H6=()=>{try{const t=localStorage.getItem(V6);if(!t)return null;const e=JSON.parse(t);return Date.now()-e.timestamp<k3e?e:(localStorage.removeItem(V6),null)}catch{return null}},P3e=t=>{try{localStorage.setItem(V6,JSON.stringify(t))}catch{}},I3e=async(t,e)=>({area:"Your Area",city:"Addis Ababa"}),O3e=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(t,e,{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})}),M3e=(t,e,r,n)=>{const a=(r-t)*(Math.PI/180),o=(n-e)*(Math.PI/180),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*(Math.PI/180))*Math.cos(r*(Math.PI/180))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))};function R3e({latitude:t,longitude:e,address:r,city:n,title:i}){const[a,o]=P.useState(null),[l,c]=P.useState(null);if(P.useEffect(()=>{const f=H6();if(f&&(o(f),t&&e)){const y=parseFloat(t),v=parseFloat(e);if(!isNaN(y)&&!isNaN(v)){const S=M3e(f.latitude,f.longitude,y,v);c(S)}}},[t,e]),!t||!e)return s.jsx(_e,{className:"border-[#e5d9ce]","data-testid":"mini-map-no-location",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-[#5a4a42]",children:[s.jsx(ki,{className:"w-5 h-5",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:n}),r&&s.jsx("p",{className:"text-sm",children:r})]})]})})});const u=parseFloat(t),h=parseFloat(e);return s.jsx(_e,{className:"border-[#e5d9ce] overflow-hidden","data-testid":"mini-map",children:s.jsxs(Te,{className:"p-0",children:[s.jsx("div",{className:"h-[200px] flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx(ki,{className:"w-12 h-12 mx-auto mb-2",style:{color:"#2d1405",opacity:.3}}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Map preview unavailable"})]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ki,{className:"w-4 h-4",style:{color:"#F49F0A"}}),s.jsxs("p",{className:"font-semibold",style:{color:"#2d1405"},children:["Near ",n]})]}),r&&s.jsx("p",{className:"text-sm ml-6",style:{color:"#5a4a42"},children:r})]}),l!==null&&a&&s.jsxs("div",{className:"shrink-0",children:[s.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",style:{background:"#FFF6EA",color:"#2d1405"},"data-testid":"distance-badge",children:[s.jsx(m2e,{className:"w-3.5 h-3.5",style:{color:"#F49F0A"}}),l<1?`${Math.round(l*1e3)}m away`:`${l.toFixed(1)} km away`]}),s.jsxs("p",{className:"text-xs mt-1 text-right",style:{color:"#5a4a42"},children:["from ",a.area]})]})]}),s.jsx("a",{href:`https://www.google.com/maps?q=${u},${h}`,target:"_blank",rel:"noopener noreferrer",className:"block",children:s.jsxs(Be,{variant:"outline",className:"w-full",style:{borderColor:"#e5d9ce",color:"#2d1405"},"data-testid":"button-open-maps",children:[s.jsx(ki,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]})})]})]})})}function D3e(){var H,Q;const{id:t}=m4(),e=Ms(),[r]=WJ(),{user:n,isAuthenticated:i}=ti(),{toast:a}=Vn();ay();const o=parseInt(t||"0"),l=r.get("book")==="true",c=r.get("checkIn")||"",u=r.get("checkOut")||"",h=parseInt(r.get("guests")||"1");P.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]);const[f,y]=P.useState({checkIn:c,checkOut:u,guests:h,specialRequests:"",paymentMethod:""}),[v,S]=P.useState(!1),[w,N]=P.useState(!1),[_,E]=P.useState(!1),[T,M]=P.useState(null),{data:O,isLoading:L}=Nr({queryKey:[`/api/properties/${o}`],enabled:!!o});P.useEffect(()=>{l&&i&&O&&S(!0)},[l,i,O]);const{data:B=[]}=Nr({queryKey:[`/api/properties/${o}/reviews`],enabled:!!o}),U=Ln({mutationFn:async Z=>await xn("POST","/api/bookings",Z),onSuccess:async Z=>{if(S(!1),M(Z),f.paymentMethod==="chapa"){E(!0);return}if(f.paymentMethod==="stripe"){N(!0);return}if(f.paymentMethod==="telebirr")try{const J=await xn("POST","/api/payment/telebirr",{bookingId:Z.id,amount:parseFloat(Z.totalPrice),customerPhone:(n==null?void 0:n.phoneNumber)||"+251912345678"});J.success&&J.redirectUrl?window.location.href=J.redirectUrl:(a({title:"Payment initiation failed",description:J.message||"Unable to start Telebirr payment. Please try another method.",variant:"destructive"}),e(`/bookings/${Z.id}`))}catch{a({title:"Payment error",description:"Unable to process Telebirr payment.",variant:"destructive"}),e(`/bookings/${Z.id}`)}else if(f.paymentMethod==="paypal")try{const J=await xn("POST","/api/payment/paypal",{bookingId:Z.id,amount:parseFloat(Z.totalPrice)/50});J.success&&J.approvalUrl?window.location.href=J.approvalUrl:(a({title:"Payment initiation failed",description:"Unable to start PayPal payment. Please try another method.",variant:"destructive"}),e(`/bookings/${Z.id}`))}catch{a({title:"Payment error",description:"Unable to process PayPal payment.",variant:"destructive"}),e(`/bookings/${Z.id}`)}else a({title:"Booking created successfully!",description:"Your booking request has been submitted. You'll receive a confirmation email soon."}),e(`/bookings/${Z.id}`)},onError:()=>{a({title:"Booking failed",description:"Unable to create booking. Please try again.",variant:"destructive"})}}),$=()=>{if(!i){window.location.href="/api/login";return}if(!f.checkIn||!f.checkOut||!f.paymentMethod){a({title:"Missing information",description:"Please fill in all required booking details.",variant:"destructive"});return}const Z=Math.ceil((new Date(f.checkOut).getTime()-new Date(f.checkIn).getTime())/(1e3*60*60*24));if(Z<=0){a({title:"Invalid dates",description:"Check-out date must be after check-in date.",variant:"destructive"});return}const J=parseFloat(O.pricePerNight)*Z;U.mutate({propertyId:o,checkIn:f.checkIn,checkOut:f.checkOut,guests:f.guests,totalPrice:J,currency:"ETB",paymentMethod:f.paymentMethod,specialRequests:f.specialRequests})};if(L)return s.jsxs("div",{className:"flex min-h-screen bg-eth-warm-tan",children:[s.jsx("div",{className:"ethiopian-pattern-sidebar fixed left-0 top-0 hidden lg:block"}),s.jsxs("div",{className:"flex-1 lg:ml-20",children:[s.jsx(Zr,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-xl mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}),s.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})})]})]});if(!O)return s.jsxs("div",{className:"flex min-h-screen bg-eth-warm-tan",children:[s.jsx("div",{className:"ethiopian-pattern-sidebar fixed left-0 top-0 hidden lg:block"}),s.jsxs("div",{className:"flex-1 lg:ml-20",children:[s.jsx(Zr,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(_e,{children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property not found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),s.jsx(Be,{onClick:()=>e("/properties"),children:"Browse All Properties"})]})})})]})]});const K=Z=>new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:0}).format(parseFloat(Z)),q=Z=>{switch(Z){case"traditional_home":return"Traditional Home";case"eco_lodge":return"Eco Lodge";default:return Z.charAt(0).toUpperCase()+Z.slice(1)}};return s.jsxs("div",{className:"flex min-h-screen bg-eth-warm-tan",children:[s.jsx(Rae,{title:`${O.title} - ${O.city} | Alga`,description:`${O.description.substring(0,155)}... Book this ${q(O.type)} in ${O.city}, Ethiopia. From ${K(O.pricePerNight)}/night.`}),s.jsx(X_e,{property:O}),s.jsx("div",{className:"ethiopian-pattern-sidebar fixed left-0 top-0 hidden lg:block"}),s.jsxs("div",{className:"flex-1 lg:ml-20",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx(tf,{})}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("div",{className:"mb-3 sm:mb-4",children:s.jsx("img",{src:((H=O.images)==null?void 0:H[0])||"https://images.unsplash.com/photo-1571896349842-33c89424de2d",alt:O.title,className:"w-full h-64 sm:h-96 lg:h-[500px] object-cover rounded-lg sm:rounded-xl",loading:"lazy","data-testid":"img-property-main"})}),O.images&&O.images.length>1&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-neutral-dark mb-3",children:["All Photos (",O.images.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:O.images.map((Z,J)=>s.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg border-2 border-gray-200 hover:border-eth-brown transition-colors",onClick:()=>window.open(Z,"_blank"),children:[s.jsx("img",{src:Z,alt:`${O.title} ${J+1}`,className:"w-full h-32 sm:h-40 object-cover",loading:"lazy","data-testid":`img-property-${J}`}),J===0&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(Rt,{className:"bg-eth-brown text-white text-xs",children:"Main"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity flex items-center justify-center",children:s.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 text-sm font-medium",children:"View Full Size"})})]},J))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neutral-dark mb-1 sm:mb-2","data-testid":"text-property-title",children:O.title}),s.jsxs("div",{className:"flex items-center text-gray-600 text-sm sm:text-base mb-3 sm:mb-4",children:[s.jsx(ki,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),s.jsxs("span",{children:[O.location,", ",O.city]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10","data-testid":"button-share",children:s.jsx(v2e,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10","data-testid":"button-favorite",children:s.jsx(Nx,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsx(Rt,{variant:"secondary",className:"text-xs sm:text-sm",children:q(O.type)}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ca,{className:"h-3 w-3 sm:h-4 sm:w-4 fill-eth-yellow text-eth-yellow"}),s.jsx("span",{className:"text-sm sm:text-base font-medium","data-testid":"text-rating",children:parseFloat(O.rating||"0").toFixed(1)}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["(",O.reviewCount," reviews)"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ki,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 text-gray-600 flex-shrink-0"}),s.jsxs("span",{className:"text-sm sm:text-base",children:[O.maxGuests," guests"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(C4,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 text-gray-600 flex-shrink-0"}),s.jsxs("span",{className:"text-sm sm:text-base",children:[O.bedrooms," bedrooms"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(rM,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 text-gray-600 flex-shrink-0"}),s.jsxs("span",{className:"text-sm sm:text-base",children:[O.bathrooms," bathrooms"]})]})]})]}),s.jsx(Ud,{className:"my-4 sm:my-6"}),s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"About this place"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:O.description})]}),s.jsx(Ud,{className:"my-4 sm:my-6"}),s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-3 sm:gap-4",children:(Q=O.amenities)==null?void 0:Q.map(Z=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(p2,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2 text-gray-600 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:Z})]},Z))})]}),s.jsx(Ud,{className:"my-4 sm:my-6"}),s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Location"}),s.jsx(R3e,{latitude:O.latitude,longitude:O.longitude,address:O.address,city:O.city,title:O.title})]}),s.jsx(Ud,{className:"my-4 sm:my-6"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:["Reviews (",B.length,")"]}),B.length===0?s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"No reviews yet. Be the first to review!"}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:B.slice(0,3).map(Z=>s.jsxs("div",{className:"border-b pb-3 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(j2,{className:"h-7 w-7 sm:h-8 sm:w-8 mr-2 sm:mr-3",children:s.jsx(S2,{children:Z.reviewerId.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Guest"}),s.jsx("div",{className:"flex",children:[...Array(5)].map((J,ye)=>s.jsx(ca,{className:`h-2.5 w-2.5 sm:h-3 sm:w-3 ${ye<Z.rating?"fill-eth-yellow text-eth-yellow":"text-gray-300"}`},ye))})]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:new Date(Z.createdAt).toLocaleDateString()})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:Z.comment})]},Z.id))})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(_e,{className:"lg:sticky lg:top-24",children:[s.jsx(Ge,{className:"p-4 sm:p-6",children:s.jsxs(Ye,{className:"text-xl sm:text-2xl",children:[K(O.pricePerNight),s.jsx("span",{className:"text-sm sm:text-base font-normal text-gray-600",children:"/night"})]})}),s.jsx(Te,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"checkIn",className:"text-xs sm:text-sm",children:"Check-in"}),s.jsx(Or,{id:"checkIn",type:"date",value:f.checkIn,onChange:Z=>y(J=>({...J,checkIn:Z.target.value})),min:new Date().toISOString().split("T")[0],className:"text-xs sm:text-sm h-9 sm:h-10","data-testid":"input-checkin"})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"checkOut",className:"text-xs sm:text-sm",children:"Check-out"}),s.jsx(Or,{id:"checkOut",type:"date",value:f.checkOut,onChange:Z=>y(J=>({...J,checkOut:Z.target.value})),min:f.checkIn||new Date().toISOString().split("T")[0],className:"text-xs sm:text-sm h-9 sm:h-10","data-testid":"input-checkout"})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"guests",className:"text-xs sm:text-sm",children:"Guests"}),s.jsxs(Jn,{value:f.guests.toString(),onValueChange:Z=>y(J=>({...J,guests:parseInt(Z)})),children:[s.jsx(Gn,{className:"text-xs sm:text-sm h-9 sm:h-10","data-testid":"select-guests",children:s.jsx(es,{})}),s.jsx(Yn,{children:[...Array(O.maxGuests)].map((Z,J)=>s.jsxs(Vt,{value:(J+1).toString(),children:[J+1," guest",J+1>1?"s":""]},J+1))})]})]}),f.checkIn&&f.checkOut&&s.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2 text-xs sm:text-sm",children:[s.jsxs("span",{children:[K(O.pricePerNight)," x"," ",Math.ceil((new Date(f.checkOut).getTime()-new Date(f.checkIn).getTime())/(1e3*60*60*24))," nights"]}),s.jsx("span",{children:K((parseFloat(O.pricePerNight)*Math.ceil((new Date(f.checkOut).getTime()-new Date(f.checkIn).getTime())/(1e3*60*60*24))).toString())})]}),s.jsx(Ud,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between items-center font-semibold text-sm sm:text-base",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{"data-testid":"text-total-price",children:K((parseFloat(O.pricePerNight)*Math.ceil((new Date(f.checkOut).getTime()-new Date(f.checkIn).getTime())/(1e3*60*60*24))).toString())})]})]}),s.jsxs(Uo,{open:v,onOpenChange:S,children:[s.jsx(Tie,{asChild:!0,children:s.jsxs(Be,{className:"w-full bg-eth-red hover:bg-red-700 h-10 sm:h-11 text-sm sm:text-base",disabled:!f.checkIn||!f.checkOut,"data-testid":"button-reserve",children:[s.jsx(Pi,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Reserve"]})}),s.jsxs(po,{className:"max-w-md",children:[s.jsx(go,{children:s.jsx(xo,{children:"Complete Your Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(Jn,{value:f.paymentMethod,onValueChange:Z=>y(J=>({...J,paymentMethod:Z})),children:[s.jsx(Gn,{children:s.jsx(es,{placeholder:"Choose payment method..."})}),s.jsx(Yn,{children:k_e.map(Z=>s.jsx(Vt,{value:Z.id,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:Z.icon}),Z.name]})},Z.id))})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"specialRequests",children:"Special Requests (Optional)"}),s.jsx(_i,{id:"specialRequests",placeholder:"Any special requests or requirements...",value:f.specialRequests,onChange:Z=>y(J=>({...J,specialRequests:Z.target.value}))})]}),s.jsxs(Be,{onClick:$,className:"w-full bg-eth-green hover:bg-green-700",disabled:U.isPending,children:[s.jsx(Ol,{className:"mr-2 h-4 w-4"}),U.isPending?"Processing...":"Confirm Booking"]})]})]})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You won't be charged yet"})]})})]})})]})]}),s.jsx(Ei,{}),s.jsx(Uo,{open:w,onOpenChange:N,children:s.jsxs(po,{className:"sm:max-w-md",children:[s.jsx(go,{children:s.jsx(xo,{className:"text-eth-brown",children:"Secure Payment"})}),T&&s.jsx(E3e,{amount:parseFloat(T.totalPrice),currency:"usd",bookingId:T.id,onSuccess:()=>{N(!1),a({title:"Payment successful!",description:"Your booking has been confirmed."}),e(`/booking/success?bookingId=${T.id}`)},onError:Z=>{a({title:"Payment failed",description:Z,variant:"destructive"})},onCancel:()=>{N(!1),a({title:"Payment cancelled",description:"You can retry payment from your bookings page."}),e(`/bookings/${T.id}`)}})]})}),s.jsx(Uo,{open:_,onOpenChange:E,children:s.jsxs(po,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(go,{children:s.jsx(xo,{className:"text-eth-brown",children:"Chapa Payment"})}),T&&s.jsx(T3e,{amount:parseFloat(T.totalPrice),currency:"ETB",bookingId:T.id,onSuccess:()=>{E(!1),a({title:"Payment successful!",description:"Your booking has been confirmed."}),e(`/booking/success?bookingId=${T.id}`)},onError:Z=>{a({title:"Payment failed",description:Z,variant:"destructive"})},onCancel:()=>{E(!1),a({title:"Payment cancelled",description:"You can retry payment from your bookings page."}),e(`/bookings/${T.id}`)}})]})})]})]})}function L3e(){const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,l]=P.useState(""),[c,u]=P.useState("recommended"),[h,f]=P.useState(""),[y,v]=P.useState([]),[S,w]=P.useState(!1);async function N(){w(!0);try{const _=new URLSearchParams;t&&_.append("city",t),r&&r!=="all"&&_.append("type",r),i&&_.append("minPrice",i),o&&_.append("maxPrice",o),c&&_.append("sort",c),h&&_.append("q",h);const T=await(await fetch(`/api/properties/search?${_.toString()}`)).json();v(T)}catch(_){console.error("Search failed:",_),v([])}finally{w(!1)}}return P.useEffect(()=>{N()},[t,r,i,o,c,h]),s.jsxs("div",{className:"min-h-screen flex flex-col bg-eth-warm-tan",children:[s.jsx(Zr,{}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-eth-brown mb-2",children:"Find Your Perfect Ethiopian Stay "}),s.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Search from ",y.length," properties across Ethiopia"]})]}),s.jsx(_e,{className:"mb-6 sm:mb-8 bg-white",children:s.jsx(Te,{className:"pt-4 sm:pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"xl:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"Keyword Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Or,{type:"text",placeholder:"Traditional house, eco lodge...",className:"pl-10",value:h,onChange:_=>f(_.target.value),"data-testid":"input-search-keyword"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Or,{type:"text",placeholder:"Addis Ababa, Lalibela...",className:"pl-10",value:t,onChange:_=>e(_.target.value),"data-testid":"input-search-city"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"Property Type"}),s.jsxs(Jn,{value:r,onValueChange:n,children:[s.jsx(Gn,{"data-testid":"select-property-type",children:s.jsx(es,{placeholder:"All Types"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Types"}),s.jsx(Vt,{value:"hotel",children:"Hotel"}),s.jsx(Vt,{value:"guesthouse",children:"Guesthouse"}),s.jsx(Vt,{value:"traditional_home",children:"Traditional Home"}),s.jsx(Vt,{value:"eco_lodge",children:"Eco Lodge"})]})]})]}),s.jsxs("div",{className:"flex gap-2 xl:col-span-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"Min Price (ETB)"}),s.jsx(Or,{type:"number",placeholder:"0",value:i,onChange:_=>a(_.target.value),"data-testid":"input-min-price"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"Max Price (ETB)"}),s.jsx(Or,{type:"number",placeholder:"No limit",value:o,onChange:_=>l(_.target.value),"data-testid":"input-max-price"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-eth-brown mb-1",children:"Sort By"}),s.jsxs(Jn,{value:c,onValueChange:u,children:[s.jsx(Gn,{"data-testid":"select-sort",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"recommended",children:"Recommended"}),s.jsx(Vt,{value:"price_asc",children:"Lowest Price"}),s.jsx(Vt,{value:"price_desc",children:"Highest Price"}),s.jsx(Vt,{value:"rating_desc",children:"Top Rated"})]})]})]})]})})}),S?s.jsxs("div",{className:"flex items-center justify-center py-20",children:[s.jsx(eo,{className:"h-8 w-8 animate-spin text-eth-orange"}),s.jsx("span",{className:"ml-3 text-eth-brown",children:"Loading properties..."})]}):y.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(kn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No properties found."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your search filters"})]}):s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:y.map(_=>{var E;return s.jsx(Cs,{to:`/property/${_.id}`,children:s.jsxs(_e,{className:"overflow-hidden hover:shadow-lg transition-all cursor-pointer group","data-testid":`card-property-${_.id}`,children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:((E=_.images)==null?void 0:E[0])||"/placeholder.jpg",alt:_.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsxs("div",{className:"absolute top-3 right-3 bg-eth-orange text-white px-3 py-1 rounded-full text-sm font-semibold",children:[" ",Number(_.rating||0).toFixed(1)]})]}),s.jsxs(Te,{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-eth-brown mb-1 line-clamp-1",children:_.title}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center mb-2",children:[s.jsx(ki,{className:"h-3 w-3 mr-1"}),_.city,", ",_.region]}),s.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-eth-orange",children:Number(_.pricePerNight).toLocaleString()}),s.jsx("span",{className:"text-sm text-gray-600",children:" ETB"}),s.jsx("p",{className:"text-xs text-gray-500",children:"per night"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-semibold",children:_.maxGuests})," guests"]})]})]})]})},_.id)})})]}),s.jsx(Ei,{})]})}var x_={exports:{}},cB;function F3e(){return cB||(cB=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,f,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,f||c,y),S=r?r+u:u;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],v]:c._events[S].push(v):(c._events[S]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,v=f.length,S=new Array(v);y<v;y++)S[y]=f[y].fn;return S},l.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,h,f,y,v,S){var w=r?r+u:u;if(!this._events[w])return!1;var N=this._events[w],_=arguments.length,E,T;if(N.fn){switch(N.once&&this.removeListener(u,N.fn,void 0,!0),_){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,f),!0;case 4:return N.fn.call(N.context,h,f,y),!0;case 5:return N.fn.call(N.context,h,f,y,v),!0;case 6:return N.fn.call(N.context,h,f,y,v,S),!0}for(T=1,E=new Array(_-1);T<_;T++)E[T-1]=arguments[T];N.fn.apply(N.context,E)}else{var M=N.length,O;for(T=0;T<M;T++)switch(N[T].once&&this.removeListener(u,N[T].fn,void 0,!0),_){case 1:N[T].fn.call(N[T].context);break;case 2:N[T].fn.call(N[T].context,h);break;case 3:N[T].fn.call(N[T].context,h,f);break;case 4:N[T].fn.call(N[T].context,h,f,y);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];N[T].fn.apply(N[T].context,E)}}return!0},l.prototype.on=function(u,h,f){return a(this,u,h,f,!1)},l.prototype.once=function(u,h,f){return a(this,u,h,f,!0)},l.prototype.removeListener=function(u,h,f,y){var v=r?r+u:u;if(!this._events[v])return this;if(!h)return o(this,v),this;var S=this._events[v];if(S.fn)S.fn===h&&(!y||S.once)&&(!f||S.context===f)&&o(this,v);else{for(var w=0,N=[],_=S.length;w<_;w++)(S[w].fn!==h||y&&!S[w].once||f&&S[w].context!==f)&&N.push(S[w]);N.length?this._events[v]=N.length===1?N[0]:N:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(x_)),x_.exports}var B3e=F3e();const zae=as(B3e);function U3e(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,[])).next())})}function $3e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y_,uB;function z3e(){return uB||(uB=1,y_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),y_}var q3e=z3e(),V3e=$3e(q3e);const dB="__googleMapsScriptId";var mx;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(mx||(mx={}));class dg{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:a=dB,language:o,libraries:l=[],mapIds:c,nonce:u,region:h,retries:f=3,url:y="https://maps.googleapis.com/maps/api/js",version:v}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=a||dB,this.language=o,this.libraries=l,this.mapIds=c,this.nonce=u,this.region=h,this.retries=f,this.url=y,this.version=v,dg.instance){if(!V3e(this.options,dg.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(dg.instance.options)}`);return dg.instance}dg.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?mx.FAILURE:this.done?mx.SUCCESS:this.loading?mx.LOADING:mx.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(a=>!n[a]&&delete n[a]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(a=>{let o,l,c,u="The Google Maps JavaScript API",h="google",f="importLibrary",y="__ib__",v=document,S=window;S=S[h]||(S[h]={});const w=S.maps||(S.maps={}),N=new Set,_=new URLSearchParams,E=()=>o||(o=new Promise((T,M)=>U3e(this,void 0,void 0,function*(){var O;yield l=v.createElement("script"),l.id=this.id,_.set("libraries",[...N]+"");for(c in a)_.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),a[c]);_.set("callback",h+".maps."+y),l.src=this.url+"?"+_,w[y]=T,l.onerror=()=>o=M(Error(u+" could not load.")),l.nonce=this.nonce||((O=v.querySelector("script[nonce]"))===null||O===void 0?void 0:O.nonce)||"",v.head.append(l)})));w[f]?console.warn(u+" only loads once. Ignoring:",a):w[f]=(T,...M)=>N.add(T)&&E().then(()=>w[f](T,...M))})(n);const i=this.libraries.map(a=>this.importLibrary(a));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),a=>{const o=new ErrorEvent("error",{error:a});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var v_,hB;function H3e(){if(hB)return v_;hB=1,v_=t;function t(e,r){this.x=e,this.y=r}return t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,r){return this.clone()._rotateAround(e,r)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var r=e.x-this.x,n=e.y-this.y;return r*r+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,r){return Math.atan2(this.x*r-this.y*e,this.x*e+this.y*r)},_matMult:function(e){var r=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=r,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var r=Math.cos(e),n=Math.sin(e),i=r*this.x-n*this.y,a=n*this.x+r*this.y;return this.x=i,this.y=a,this},_rotateAround:function(e,r){var n=Math.cos(e),i=Math.sin(e),a=r.x+n*(this.x-r.x)-i*(this.y-r.y),o=r.y+i*(this.x-r.x)+n*(this.y-r.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e},v_}var W3e=H3e();const xg=as(W3e);function b_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Io(){return(Io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(null,arguments)}function Z4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(function(r,n){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i})(r,n)})(t,e)}function G3e(t){var e=(function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,"string");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)})(t);return typeof e=="symbol"?e:e+""}var Y3e={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},K3e=(function(t){function e(){return t.apply(this,arguments)||this}Z4(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(){return!1},r.render=function(){return Le.createElement("div",{ref:this.props.registerChild,style:Y3e})},e})(P.Component),fB=(function(t){function e(n){var i;return(i=t.call(this)||this).gmapInstance=n,i}Z4(e,t);var r=e.prototype;return r.getChildren=function(){return this.gmapInstance.props.children},r.getMousePosition=function(){return this.gmapInstance.mouse_},r.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},r.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},e})(zae),rb=function(t,e){for(var r=Io({},((function(a){if(a==null)throw new TypeError("Cannot destructure "+a)})(t),t)),n=0;n<e.length;n++){var i=e[n];i in r&&delete r[i]}return r},X3e=Object.prototype.hasOwnProperty;function mB(t,e){return t===e?t!==0||e!==0||1/t==1/e:t!=t&&e!=e}function Uu(t,e){if(mB(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!X3e.call(e,r[i])||!mB(t[r[i]],e[r[i]]))return!1;return!0}var Z3e={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},Q3e={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},M5=(function(t){function e(n){var i;return(i=t.call(this,n)||this)._getState=function(){return{children:i.props.dispatcher.getChildren(),updateCounter:i.props.dispatcher.getUpdateCounter()}},i._onChangeHandler=function(){if(i.dimensionsCache_){var a=(i.state.children||[]).length,o=i._getState();i.setState(o,function(){return(o.children||[]).length!==a&&i._onMouseChangeHandler()})}},i._onChildClick=function(){i.props.onChildClick&&i.hoverChildProps_&&i.props.onChildClick(i.hoverKey_,i.hoverChildProps_)},i._onChildMouseDown=function(){i.props.onChildMouseDown&&i.hoverChildProps_&&i.props.onChildMouseDown(i.hoverKey_,i.hoverChildProps_)},i._onChildMouseEnter=function(a,o){i.dimensionsCache_&&(i.props.onChildMouseEnter&&i.props.onChildMouseEnter(a,o),i.hoverChildProps_=o,i.hoverKey_=a,i.setState({hoverKey:a}))},i._onChildMouseLeave=function(){if(i.dimensionsCache_){var a=i.hoverKey_;a!=null&&(i.props.onChildMouseLeave&&i.props.onChildMouseLeave(a,i.hoverChildProps_),i.hoverKey_=null,i.hoverChildProps_=null,i.setState({hoverKey:null}))}},i._onMouseAllow=function(a){a||i._onChildMouseLeave(),i.allowMouse_=a},i._onMouseChangeHandler=function(){i.allowMouse_&&i._onMouseChangeHandlerRaf()},i._onMouseChangeHandlerRaf=function(){if(i.dimensionsCache_){var a=i.props.dispatcher.getMousePosition();if(a){var o=[],l=i.props.getHoverDistance();if(Le.Children.forEach(i.state.children,function(h,f){if(h&&(h.props.latLng!==void 0||h.props.lat!==void 0||h.props.lng!==void 0)){var y=h.key!=null?h.key:f,v=i.props.distanceToMouse(i.dimensionsCache_[y],a,h.props);v<l&&o.push({key:y,dist:v,props:h.props})}}),o.length){o.sort(function(h,f){return h.dist-f.dist});var c=o[0].key,u=o[0].props;i.hoverKey_!==c&&(i._onChildMouseLeave(),i._onChildMouseEnter(c,u))}else i._onChildMouseLeave()}else i._onChildMouseLeave()}},i._getDimensions=function(a){return i.dimensionsCache_[a]},i.dimensionsCache_={},i.hoverKey_=null,i.hoverChildProps_=null,i.allowMouse_=!0,i.state=Io({},i._getState(),{hoverKey:null}),i}Z4(e,t);var r=e.prototype;return r.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},r.shouldComponentUpdate=function(n,i){return this.props.experimental===!0?!Uu(this.props,n)||!Uu(rb(this.state,["hoverKey"]),rb(i,["hoverKey"])):!Uu(this.props,n)||!Uu(this.state,i)},r.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_={}},r.render=function(){var n=this,i=this.props.style||Z3e;this.dimensionsCache_={};var a=Le.Children.map(this.state.children,function(o,l){if(o){if(o.props.latLng===void 0&&o.props.lat===void 0&&o.props.lng===void 0)return Le.cloneElement(o,{$geoService:n.props.geoService,$onMouseAllow:n._onMouseAllow,$prerender:n.props.prerender});var c=o.props.latLng!==void 0?o.props.latLng:{lat:o.props.lat,lng:o.props.lng},u=n.props.insideMapPanes?n.props.geoService.fromLatLngToDivPixel(c):n.props.geoService.fromLatLngToCenterPixel(c),h={left:u.x,top:u.y};if(o.props.seLatLng!==void 0||o.props.seLat!==void 0&&o.props.seLng!==void 0){var f=o.props.seLatLng!==void 0?o.props.seLatLng:{lat:o.props.seLat,lng:o.props.seLng},y=n.props.insideMapPanes?n.props.geoService.fromLatLngToDivPixel(f):n.props.geoService.fromLatLngToCenterPixel(f);h.width=y.x-u.x,h.height=y.y-u.y}var v=n.props.geoService.fromLatLngToContainerPixel(c),S=o.key!=null?o.key:l;return n.dimensionsCache_[S]=Io({x:v.x,y:v.y},c),Le.createElement("div",{key:S,style:Io({},Q3e,h),className:o.props.$markerHolderClassName},Le.cloneElement(o,{$hover:S===n.state.hoverKey,$getDimensions:n._getDimensions,$dimensionKey:S,$geoService:n.props.geoService,$onMouseAllow:n._onMouseAllow,$prerender:n.props.prerender}))}});return Le.createElement("div",{style:i},a)},e})(P.Component);M5.propTypes={geoService:Bt.any,style:Bt.any,distanceToMouse:Bt.func,dispatcher:Bt.any,onChildClick:Bt.func,onChildMouseDown:Bt.func,onChildMouseLeave:Bt.func,onChildMouseEnter:Bt.func,getHoverDistance:Bt.func,insideMapPanes:Bt.bool,prerender:Bt.bool},M5.defaultProps={insideMapPanes:!1,prerender:!1};var J3e={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function eEe(t){return Le.createElement("div",{style:J3e},Le.createElement(M5,Io({},t,{prerender:!0})))}var w_,nv,W6,tEe=["key"],rEe=new Promise(function(t){W6=t}),pB=function(t,e){if(!t)return rEe;if(nv)return nv;t.libraries||(t.libraries=[]);var r=[].concat(t.libraries);if(e&&(r.length!==0&&r.includes("visualization")||r.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),typeof window>"u")throw new Error("google map cannot be loaded outside browser env");var n=t.key,i=(function(a,o){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(o.indexOf(c)!==-1)continue;l[c]=a[c]}return l})(t,tEe);return w_||(w_=new dg(Io({apiKey:n||""},i,{libraries:r}))),nv=w_.load().then(function(){return W6(window.google.maps),window.google.maps}),W6(nv),nv};function qae(t,e,r){var n=r-e;return t===r?t:((t-e)%n+n)%n+e}var cp=(function(){function t(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r}return t.prototype.wrap=function(){return new t(this.lat,qae(this.lng,-180,180))},t})();cp.convert=function(t){return t instanceof cp?t:Array.isArray(t)?new cp(t[0],t[1]):"lng"in t&&"lat"in t?new cp(t.lat,t.lng):t};var nEe=(function(){function t(i,a,o){this.tileSize=i||512,this._minZoom=a||0,this._maxZoom=o||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new cp(0,0),this.angle=0}var e,r,n=t.prototype;return n.zoomScale=function(i){return Math.pow(2,i)},n.scaleZoom=function(i){return Math.log(i)/Math.LN2},n.project=function(i,a){return new xg(this.lngX(i.lng,a),this.latY(i.lat,a))},n.unproject=function(i,a){return new cp(this.yLat(i.y,a),this.xLng(i.x,a))},n.lngX=function(i,a){return(180+i)*(a||this.worldSize)/360},n.latY=function(i,a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))*(a||this.worldSize)/360},n.xLng=function(i,a){return 360*i/(a||this.worldSize)-180},n.yLat=function(i,a){return 360/Math.PI*Math.atan(Math.exp((180-360*i/(a||this.worldSize))*Math.PI/180))-90},n.locationPoint=function(i){var a=this.project(i);return this.centerPoint._sub(this.point._sub(a)._rotate(this.angle))},n.pointLocation=function(i){var a=this.centerPoint._sub(i)._rotate(-this.angle);return this.unproject(this.point.sub(a))},e=t,(r=[{key:"minZoom",get:function(){return this._minZoom},set:function(i){this._minZoom=i,this.zoom=Math.max(this.zoom,i)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(i){this._maxZoom=i,this.zoom=Math.min(this.zoom,i)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new xg(0,0)}},{key:"size",get:function(){return new xg(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(i){this.angle=-qae(i,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(i){var a=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new xg(this.x,this.y)}}])&&(function(i,a){for(var o=0;o<a.length;o++){var l=a[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,G3e(l.key),l)}})(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t})(),sEe=(function(){function t(r){this.hasSize_=!1,this.hasView_=!1,this.transform_=new nEe(r||512)}var e=t.prototype;return e.setView=function(r,n,i){this.transform_.center=cp.convert(r),this.transform_.zoom=+n,this.transform_.bearing=+i,this.hasView_=!0},e.setViewSize=function(r,n){this.transform_.width=r,this.transform_.height=n,this.hasSize_=!0},e.setMapCanvasProjection=function(r,n){this.maps_=r,this.mapCanvasProjection_=n},e.canProject=function(){return this.hasSize_&&this.hasView_},e.hasSize=function(){return this.hasSize_},e.fromLatLngToCenterPixel=function(r){return this.transform_.locationPoint(cp.convert(r))},e.fromLatLngToDivPixel=function(r){if(this.mapCanvasProjection_){var n=new this.maps_.LatLng(r.lat,r.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(n)}return this.fromLatLngToCenterPixel(r)},e.fromLatLngToContainerPixel=function(r){if(this.mapCanvasProjection_){var n=new this.maps_.LatLng(r.lat,r.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(n)}var i=this.fromLatLngToCenterPixel(r);return i.x-=this.transform_.worldSize*Math.round(i.x/this.transform_.worldSize),i.x+=this.transform_.width/2,i.y+=this.transform_.height/2,i},e.fromContainerPixelToLatLng=function(r){if(this.mapCanvasProjection_){var n=this.mapCanvasProjection_.fromContainerPixelToLatLng(r);return{lat:n.lat(),lng:n.lng()}}var i=Io({},r);i.x-=this.transform_.width/2,i.y-=this.transform_.height/2;var a=this.transform_.pointLocation(xg.convert(i));return a.lng-=360*Math.round(a.lng/360),a},e.getWidth=function(){return this.transform_.width},e.getHeight=function(){return this.transform_.height},e.getZoom=function(){return this.transform_.zoom},e.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},e.getBounds=function(r,n){var i=r&&r[0]||0,a=r&&r[1]||0,o=r&&r[2]||0,l=r&&r[3]||0;if(this.getWidth()-a-l>0&&this.getHeight()-i-o>0){var c=this.transform_.pointLocation(xg.convert({x:l-this.getWidth()/2,y:i-this.getHeight()/2})),u=this.transform_.pointLocation(xg.convert({x:this.getWidth()/2-a,y:this.getHeight()/2-o})),h=[c.lat,c.lng,u.lat,u.lng,u.lat,c.lng,c.lat,u.lng];return n&&(h=h.map(function(f){return Math.round(f*n)/n})),h}return[0,0,0,0]},t})();function gB(t){if(window.requestAnimationFrame)return window.requestAnimationFrame(t);var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?e(t):window.setTimeout(t,1e3/60)}var iEe=Math.log2?Math.log2:function(t){return Math.log(t)/Math.LN2};function xB(t,e){return Object.keys(t).reduce(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{})}var rg=function(t){if(t!==null&&typeof t=="object"){if(Object.keys(t).length===0)return!0}else if(t==null||t==="")return!0;return!1},aEe=Object.prototype.toString;function VN(t){return typeof t=="number"||(function(e){return!!e&&typeof e=="object"})(t)&&aEe.call(t)==="[object Number]"}var HN=null;function yB(){if(HN)return HN;if(typeof navigator<"u"){var t=navigator.userAgent.indexOf("MSIE")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=navigator.userAgent.toLowerCase().indexOf("op")>-1,n=navigator.userAgent.indexOf("Chrome")>-1,i=navigator.userAgent.indexOf("Safari")>-1;return n&&i&&(i=!1),n&&r&&(n=!1),HN={isExplorer:t,isFirefox:e,isOpera:r,isChrome:n,isSafari:i}}return HN={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var vB=function(t){return Function.prototype.toString.call(t)};function Rv(t){if(!t||typeof t!="object")return!1;var e=typeof t.constructor=="function"?Object.getPrototypeOf(t):Object.prototype;if(e===null)return!0;var r=e.constructor;return typeof r=="function"&&r instanceof r&&vB(r)===vB(Object)}function sv(t,e,r,n){t.addEventListener(e,r,(function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch{i=!1}return i})()?{capture:n,passive:!0}:n)}var _f,G6=!(typeof window>"u"||!window.document||!window.document.createElement);_f=G6?window:typeof self<"u"?self:void 0;var bB,Y6=typeof document<"u"&&document.attachEvent,wB=!1;if(G6&&!Y6){var oEe=(function(){var t=_f.requestAnimationFrame||_f.mozRequestAnimationFrame||_f.webkitRequestAnimationFrame||function(e){return _f.setTimeout(e,20)};return function(e){return t(e)}})(),lEe=(bB=_f.cancelAnimationFrame||_f.mozCancelAnimationFrame||_f.webkitCancelAnimationFrame||_f.clearTimeout,function(t){return bB(t)}),K6=function(t){var e=t.__resizeTriggers__,r=e.firstElementChild,n=e.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},NB=function(t){var e=this;K6(this),this.__resizeRAF__&&lEe(this.__resizeRAF__),this.__resizeRAF__=oEe(function(){(function(r){return r.offsetWidth!=r.__resizeLast__.width||r.offsetHeight!=r.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(r){r.call(e,t)}))})},N_=!1,j_="",X6="animationstart",S_="Webkit Moz O ms".split(" "),cEe="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(G6){var jB=document.createElement("fakeelement");if(jB.style.animationName!==void 0&&(N_=!0),N_===!1){for(var iv=0;iv<S_.length;iv++)if(jB.style[S_[iv]+"AnimationName"]!==void 0){j_="-"+S_[iv].toLowerCase()+"-",X6=cEe[iv],N_=!0;break}}}var Z6="resizeanim",uEe="@"+j_+"keyframes "+Z6+" { from { opacity: 0; } to { opacity: 0; } } ",dEe=j_+"animation: 1ms "+Z6+"; "}var Bj=gb.createPortal!==void 0,SB=Bj?gb.createPortal:gb.unstable_renderSubtreeIntoContainer,WN=function(t){return Rv(t)?t:{lat:t[0],lng:t[1]}},CB=function(t,e){return e<t?t:e},C_=(function(t){function e(n){var i;if((i=t.call(this,n)||this)._getMinZoom=function(){if(i.geoService_.getWidth()>0||i.geoService_.getHeight()>0){var o=Math.ceil(i.geoService_.getWidth()/256)+2,l=Math.ceil(i.geoService_.getHeight()/256)+2,c=Math.max(o,l);return Math.ceil(iEe(c))}return 3},i._computeMinZoom=function(o){return rg(o)?i._getMinZoom():o},i._mapDomResizeCallback=function(){if(i.resetSizeOnIdle_=!0,i.maps_){var o=i.props.center||i.props.defaultCenter,l=i.map_.getCenter();i.maps_.event.trigger(i.map_,"resize"),i.map_.setCenter(i.props.resetBoundsOnResize?o:l)}},i._setLayers=function(o){o.forEach(function(l){i.layers_[l]=new i.maps_[l],i.layers_[l].setMap(i.map_)})},i._renderPortal=function(){return Le.createElement(M5,{experimental:i.props.experimental,onChildClick:i._onChildClick,onChildMouseDown:i._onChildMouseDown,onChildMouseEnter:i._onChildMouseEnter,onChildMouseLeave:i._onChildMouseLeave,geoService:i.geoService_,insideMapPanes:!0,distanceToMouse:i.props.distanceToMouse,getHoverDistance:i._getHoverDistance,dispatcher:i.markersDispatcher_})},i._initMap=function(){if(!i.initialized_){i.initialized_=!0;var o=WN(i.props.center||i.props.defaultCenter);i.geoService_.setView(o,i.props.zoom||i.props.defaultZoom,0),i._onBoundsChanged();var l=Io({},i.props.apiKey&&{key:i.props.apiKey},i.props.bootstrapURLKeys);i.props.googleMapLoader(l,i.props.heatmapLibrary).then(function(c){if(i.mounted_){var u,h,f=i.geoService_.getCenter(),y={zoom:i.props.zoom||i.props.defaultZoom,center:new c.LatLng(f.lat,f.lng)};i.props.heatmap.positions&&(Object.assign(b_(i),{heatmap:(u=c,h=i.props.heatmap,new u.visualization.HeatmapLayer({data:h.positions.reduce(function(U,$){var K=$.weight,q=K===void 0?1:K;return U.push({location:new u.LatLng($.lat,$.lng),weight:q}),U},[])}))}),(function(U,$){var K=$.options,q=K===void 0?{}:K;Object.keys(q).map(function(H){return U.set(H,q[H])})})(i.heatmap,i.props.heatmap));var v=xB(c,Rv),S=typeof i.props.options=="function"?i.props.options(v):i.props.options,w=!rg(i.props.draggable)&&{draggable:i.props.draggable},N=i._computeMinZoom(S.minZoom);i.minZoom_=N;var _=Io({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:N},S,y);i.defaultDraggableOption_=rg(_.draggable)?i.defaultDraggableOption_:_.draggable;var E=Io({},_,w);E.minZoom=CB(E.minZoom,N);var T=new c.Map(i.googleMapDom_,E);i.map_=T,i.maps_=c,i._setLayers(i.props.layerTypes);var M=c.version.match(/^3\.(\d+)\./),O=M&&Number(M[1]),L=b_(i),B=Object.assign(new c.OverlayView,{onAdd:function(){var U=typeof screen<"u"?screen.width+"px":"2000px",$=typeof screen<"u"?screen.height+"px":"2000px",K=document.createElement("div");if(K.style.backgroundColor="transparent",K.style.position="absolute",K.style.left="0px",K.style.top="0px",K.style.width=U,K.style.height=$,L.props.overlayViewDivStyle){var q=L.props.overlayViewDivStyle;typeof q=="object"&&Object.keys(q).forEach(function(H){K.style[H]=q[H]})}this.getPanes().overlayMouseTarget.appendChild(K),L.geoService_.setMapCanvasProjection(c,B.getProjection()),Bj?L.setState({overlay:K}):SB(L,L._renderPortal(),K,function(){return L.setState({overlay:K})})},onRemove:function(){var U=L.state.overlay;U&&!Bj&&gb.unmountComponentAtNode(U),L.setState({overlay:null})},draw:function(){if(L.updateCounter_++,L._onBoundsChanged(T,c,!L.props.debounced),L.googleApiLoadedCalled_||(L._onGoogleApiLoaded({map:T,maps:c,ref:L.googleMapDom_}),L.googleApiLoadedCalled_=!0),L.mouse_){var U=L.geoService_.fromContainerPixelToLatLng(L.mouse_);L.mouse_.lat=U.lat,L.mouse_.lng=U.lng}L._onChildMouseMove(),L.markersDispatcher_&&(h0.flushSync(function(){L.markersDispatcher_.emit("kON_CHANGE")}),L.fireMouseEventOnIdle_&&L.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});i.overlay_=B,B.setMap(T),i.props.heatmap.positions&&i.heatmap.setMap(T),i.props.onTilesLoaded&&c.event.addListener(T,"tilesloaded",function(){L._onTilesLoaded()}),c.event.addListener(T,"zoom_changed",function(){L.geoService_.getZoom()!==T.getZoom()&&(L.zoomAnimationInProgress_||(L.zoomAnimationInProgress_=!0,L._onZoomAnimationStart(T.zoom)),O<32)&&(new Date().getTime()-i.zoomControlClickTime_<300?gB(function(){return gB(function(){L.updateCounter_++,L._onBoundsChanged(T,c)})}):(L.updateCounter_++,L._onBoundsChanged(T,c)))}),c.event.addListener(T,"idle",function(){if(i.resetSizeOnIdle_){i._setViewSize();var U=i._computeMinZoom(S.minZoom);U!==i.minZoom_&&(i.minZoom_=U,T.setOptions({minZoom:U})),i.resetSizeOnIdle_=!1}L.zoomAnimationInProgress_&&(L.zoomAnimationInProgress_=!1,L._onZoomAnimationEnd(T.zoom)),L.updateCounter_++,L._onBoundsChanged(T,c),L.dragTime_=0,L.markersDispatcher_&&L.markersDispatcher_.emit("kON_CHANGE")}),c.event.addListener(T,"mouseover",function(){L.mouseInMap_=!0}),c.event.addListener(T,"click",function(){L.mouseInMap_=!0}),c.event.addListener(T,"mouseout",function(){L.mouseInMap_=!1,L.mouse_=null,L.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")}),c.event.addListener(T,"drag",function(){L.dragTime_=new Date().getTime(),L._onDrag(T)}),c.event.addListener(T,"dragend",function(){var U=c.event.addListener(T,"idle",function(){c.event.removeListener(U),L._onDragEnd(T)})}),c.event.addListener(T,"maptypeid_changed",function(){L._onMapTypeIdChange(T.getMapTypeId())})}}).catch(function(c){throw i._onGoogleApiLoaded({map:null,maps:null,ref:i.googleMapDom_}),console.error(c),c})}},i._onGoogleApiLoaded=function(){var o;i.props.onGoogleApiLoaded&&(o=i.props).onGoogleApiLoaded.apply(o,arguments)},i._getHoverDistance=function(){return i.props.hoverDistance},i._onDrag=function(){var o;return i.props.onDrag&&(o=i.props).onDrag.apply(o,arguments)},i._onDragEnd=function(){var o;return i.props.onDragEnd&&(o=i.props).onDragEnd.apply(o,arguments)},i._onMapTypeIdChange=function(){var o;return i.props.onMapTypeIdChange&&(o=i.props).onMapTypeIdChange.apply(o,arguments)},i._onZoomAnimationStart=function(){var o;return i.props.onZoomAnimationStart&&(o=i.props).onZoomAnimationStart.apply(o,arguments)},i._onZoomAnimationEnd=function(){var o;return i.props.onZoomAnimationEnd&&(o=i.props).onZoomAnimationEnd.apply(o,arguments)},i._onTilesLoaded=function(){return i.props.onTilesLoaded&&i.props.onTilesLoaded()},i._onChildClick=function(){var o;if(i.props.onChildClick)return(o=i.props).onChildClick.apply(o,arguments)},i._onChildMouseDown=function(o,l){i.childMouseDownArgs_=[o,l],i.props.onChildMouseDown&&i.props.onChildMouseDown(o,l,Io({},i.mouse_))},i._onChildMouseUp=function(){var o;i.childMouseDownArgs_&&(i.props.onChildMouseUp&&(o=i.props).onChildMouseUp.apply(o,i.childMouseDownArgs_.concat([Io({},i.mouse_)])),i.childMouseDownArgs_=null,i.childMouseUpTime_=new Date().getTime())},i._onChildMouseMove=function(){var o;i.childMouseDownArgs_&&i.props.onChildMouseMove&&(o=i.props).onChildMouseMove.apply(o,i.childMouseDownArgs_.concat([Io({},i.mouse_)]))},i._onChildMouseEnter=function(){var o;if(i.props.onChildMouseEnter)return(o=i.props).onChildMouseEnter.apply(o,arguments)},i._onChildMouseLeave=function(){var o;if(i.props.onChildMouseLeave)return(o=i.props).onChildMouseLeave.apply(o,arguments)},i._setViewSize=function(){if(i.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)i.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var o=i.googleMapDom_;i.geoService_.setViewSize(o.clientWidth,o.clientHeight)}i._onBoundsChanged()}},i._onWindowResize=function(){i.resetSizeOnIdle_=!0},i._onMapMouseMove=function(o){if(i.mouseInMap_){var l=new Date().getTime();l-i.mouseMoveTime_>50&&(i.boundingRect_=o.currentTarget.getBoundingClientRect()),i.mouseMoveTime_=l;var c=o.clientX-i.boundingRect_.left,u=o.clientY-i.boundingRect_.top;i.mouse_||(i.mouse_={x:0,y:0,lat:0,lng:0}),i.mouse_.x=c,i.mouse_.y=u;var h=i.geoService_.fromContainerPixelToLatLng(i.mouse_);i.mouse_.lat=h.lat,i.mouse_.lng=h.lng,i._onChildMouseMove(),l-i.dragTime_<100?i.fireMouseEventOnIdle_=!0:(i.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),i.fireMouseEventOnIdle_=!1)}},i._onClick=function(){var o;return i.props.onClick&&!i.childMouseDownArgs_&&new Date().getTime()-i.childMouseUpTime_>300&&i.dragTime_===0&&(o=i.props).onClick.apply(o,arguments)},i._onMapClick=function(o){i.markersDispatcher_&&(i._onMapMouseMove(o),new Date().getTime()-i.dragTime_>100&&(i.mouse_&&i._onClick(Io({},i.mouse_,{event:o})),i.markersDispatcher_.emit("kON_CLICK",o)))},i._onMapMouseDownNative=function(o){i.mouseInMap_&&i._onMapMouseDown(o)},i._onMapMouseDown=function(o){i.markersDispatcher_&&new Date().getTime()-i.dragTime_>100&&(i._onMapMouseMove(o),i.markersDispatcher_.emit("kON_MDOWN",o))},i._onMapMouseDownCapture=function(){yB().isChrome&&(i.zoomControlClickTime_=new Date().getTime())},i._onKeyDownCapture=function(){yB().isChrome&&(i.zoomControlClickTime_=new Date().getTime())},i._isCenterDefined=function(o){return o&&(Rv(o)&&VN(o.lat)&&VN(o.lng)||o.length===2&&VN(o[0])&&VN(o[1]))},i._onBoundsChanged=function(o,l,c){if(o){var u=o.getCenter();i.geoService_.setView([u.lat(),u.lng()],o.getZoom(),0)}if((i.props.onChange||i.props.onBoundsChange)&&i.geoService_.canProject()){var h=i.geoService_.getZoom(),f=i.geoService_.getBounds(),y=i.geoService_.getCenter();if(!(function(S,w,N){if(S&&w){for(var _=0;_!==S.length;++_)if(Math.abs(S[_]-w[_])>1e-5)return!1;return!0}return!1})(f,i.prevBounds_)&&c!==!1){var v=i.geoService_.getBounds(i.props.margin);i.props.onBoundsChange&&i.props.onBoundsChange(i.centerIsObject_?Io({},y):[y.lat,y.lng],h,f,v),i.props.onChange&&i.props.onChange({center:Io({},y),zoom:h,bounds:{nw:{lat:f[0],lng:f[1]},se:{lat:f[2],lng:f[3]},sw:{lat:f[4],lng:f[5]},ne:{lat:f[6],lng:f[7]}},marginBounds:{nw:{lat:v[0],lng:v[1]},se:{lat:v[2],lng:v[3]},sw:{lat:v[4],lng:v[5]},ne:{lat:v[6],lng:v[7]}},size:i.geoService_.hasSize()?{width:i.geoService_.getWidth(),height:i.geoService_.getHeight()}:{width:0,height:0}}),i.prevBounds_=f}}},i._registerChild=function(o){i.googleMapDom_=o},i.mounted_=!1,i.initialized_=!1,i.googleApiLoadedCalled_=!1,i.map_=null,i.maps_=null,i.prevBounds_=null,i.heatmap=null,i.layers_={},i.mouse_=null,i.mouseMoveTime_=0,i.boundingRect_=null,i.mouseInMap_=!0,i.dragTime_=0,i.fireMouseEventOnIdle_=!1,i.updateCounter_=0,i.markersDispatcher_=new fB(b_(i)),i.geoService_=new sEe(256),i.centerIsObject_=Rv(i.props.center),i.minZoom_=3,i.defaultDraggableOption_=!0,i.zoomControlClickTime_=0,i.childMouseDownArgs_=null,i.childMouseUpTime_=0,i.googleMapDom_=null,i._isCenterDefined(i.props.center||i.props.defaultCenter)){var a=WN(i.props.center||i.props.defaultCenter);i.geoService_.setView(a,i.props.zoom||i.props.defaultZoom,0)}return i.zoomAnimationInProgress_=!1,i.state={overlay:null},i}Z4(e,t);var r=e.prototype;return r.componentDidMount=function(){var n=this;this.mounted_=!0,this.markersDispatcher_=new fB(this),sv(window,"resize",this._onWindowResize,!1),sv(window,"keydown",this._onKeyDownCapture,!0);var i=this.googleMapDom_;i&&sv(i,"mousedown",this._onMapMouseDownNative,!0),sv(window,"mouseup",this._onChildMouseUp,!1);var a=Io({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(a,this.props.heatmapLibrary),setTimeout(function(){n._setViewSize(),n._isCenterDefined(n.props.center||n.props.defaultCenter)&&n._initMap()},0,this),this.props.resetBoundsOnResize&&(function(o,l){if(o.parentNode===void 0){var c=document.createElement("div");o.parentNode=c}o=o.parentNode,Y6?o.attachEvent("onresize",l):(o.__resizeTriggers__||(getComputedStyle(o).position=="static"&&(o.style.position="relative"),(function(){if(!wB){var u=(uEe||"")+".resize-triggers { "+(dEe||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',h=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=u:f.appendChild(document.createTextNode(u)),h.appendChild(f),wB=!0}})(),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=document.createElement("div")).className="resize-triggers",o.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',o.appendChild(o.__resizeTriggers__),K6(o),sv(o,"scroll",NB,!0),X6&&o.__resizeTriggers__.addEventListener(X6,function(u){u.animationName==Z6&&K6(o)})),o.__resizeListeners__.push(l))})(i,this._mapDomResizeCallback)},r.shouldComponentUpdate=function(n,i){return!Uu(rb(this.props,["draggable"]),rb(n,["draggable"]))||!Uu(this.state,i)},r.componentDidUpdate=function(n){var i=this;if(!this._isCenterDefined(n.center)&&this._isCenterDefined(this.props.center)&&setTimeout(function(){return i._initMap()},0),this.map_){var a=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var o=WN(this.props.center),l=this._isCenterDefined(n.center)?WN(n.center):null;(!l||Math.abs(o.lat-l.lat)+Math.abs(o.lng-l.lng)>1e-5)&&Math.abs(o.lat-a.lat)+Math.abs(o.lng-a.lng)>1e-5&&this.map_.panTo({lat:o.lat,lng:o.lng})}if(rg(this.props.zoom)||Math.abs(this.props.zoom-n.zoom)>0&&this.map_.setZoom(this.props.zoom),!rg(n.draggable)&&rg(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):Uu(n.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!rg(this.props.options)&&!Uu(n.options,this.props.options)){var c=xB(this.maps_,Rv),u=typeof this.props.options=="function"?this.props.options(c):this.props.options;if("minZoom"in(u=rb(u,["zoom","center","draggable"]))){var h=this._computeMinZoom(u.minZoom);u.minZoom=CB(u.minZoom,h)}this.map_.setOptions(u)}Uu(this.props.layerTypes,n.layerTypes)||(Object.keys(this.layers_).forEach(function(f){i.layers_[f].setMap(null),delete i.layers_[f]}),this._setLayers(this.props.layerTypes)),this.heatmap&&!Uu(this.props.heatmap.positions,n.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map(function(f){return{location:new i.maps_.LatLng(f.lat,f.lng),weight:f.weight}})),this.heatmap&&!Uu(this.props.heatmap.options,n.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach(function(f){i.heatmap.set(f,i.props.heatmap.options[f])})}this.markersDispatcher_.emit("kON_CHANGE"),Uu(this.props.hoverDistance,n.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},r.componentWillUnmount=function(){this.mounted_=!1;var n,i,a=this.googleMapDom_;a&&a.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(i=this._mapDomResizeCallback,n=(n=a).parentNode,Y6?n.detachEvent("onresize",i):(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(i),1),n.__resizeListeners__.length||(n.removeEventListener("scroll",NB),n.__resizeTriggers__=!n.removeChild(n.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},r.render=function(){var n=this.state.overlay,i=n?null:Le.createElement(eEe,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return Le.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},Le.createElement(K3e,{registerChild:this._registerChild}),Bj&&n&&SB(this._renderPortal(),n),i)},e})(P.Component);C_.propTypes={apiKey:Bt.string,bootstrapURLKeys:Bt.any,defaultCenter:Bt.oneOfType([Bt.array,Bt.shape({lat:Bt.number,lng:Bt.number})]),center:Bt.oneOfType([Bt.array,Bt.shape({lat:Bt.number,lng:Bt.number})]),defaultZoom:Bt.number,zoom:Bt.number,onBoundsChange:Bt.func,onChange:Bt.func,onClick:Bt.func,onChildClick:Bt.func,onChildMouseDown:Bt.func,onChildMouseUp:Bt.func,onChildMouseMove:Bt.func,onChildMouseEnter:Bt.func,onChildMouseLeave:Bt.func,onZoomAnimationStart:Bt.func,onZoomAnimationEnd:Bt.func,onDrag:Bt.func,onDragEnd:Bt.func,onMapTypeIdChange:Bt.func,onTilesLoaded:Bt.func,options:Bt.any,distanceToMouse:Bt.func,hoverDistance:Bt.number,debounced:Bt.bool,margin:Bt.array,googleMapLoader:Bt.any,onGoogleApiLoaded:Bt.func,yesIWantToUseGoogleMapApiInternals:Bt.bool,draggable:Bt.bool,style:Bt.any,resetBoundsOnResize:Bt.bool,layerTypes:Bt.arrayOf(Bt.string),shouldUnregisterMapOnUnmount:Bt.bool},C_.defaultProps={distanceToMouse:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:pB,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},C_.googleMapLoader=pB;function hEe(){const[t,e]=P.useState(null),[r,n]=P.useState([]),[i,a]=P.useState([]),[o,l]=P.useState([]),[c,u]=P.useState(null),[h,f]=P.useState({lat:9.0108,lng:38.7613}),[y,v]=P.useState(12);async function S(){if(t)try{const w=new URLSearchParams({north:t.ne.lat.toString(),south:t.sw.lat.toString(),east:t.ne.lng.toString(),west:t.sw.lng.toString(),city:"Addis Ababa"}),_=await(await fetch(`/api/properties/discover?${w.toString()}`)).json();n(_.mapResults||[]),a(_.recommendations||[]),l(_.amenities||[])}catch(w){console.error("Discovery fetch failed:",w)}}return P.useEffect(()=>{t&&S()},[t]),s.jsxs("div",{className:"min-h-screen flex flex-col bg-eth-warm-tan",children:[s.jsx(Zr,{}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx(_e,{className:"max-w-2xl mx-auto",children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(ki,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-eth-brown mb-4",children:"Google Maps Setup Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"To use the map-based discovery feature, you need to add a Google Maps API key."}),s.jsxs("div",{className:"bg-gray-100 p-4 rounded-md text-left",children:[s.jsx("p",{className:"text-sm font-mono text-gray-800 mb-2",children:"Add to your environment:"}),s.jsx("code",{className:"text-xs bg-white px-3 py-2 rounded block",children:"VITE_GOOGLE_MAPS_KEY=your_api_key_here"})]}),s.jsx(Cs,{to:"/search",children:s.jsx("button",{className:"mt-6 bg-eth-orange text-white px-6 py-2 rounded-md hover:bg-eth-orange/90",children:"Use Search Instead"})})]})})}),s.jsx(Ei,{})]})}function fEe(){const{user:t}=ti(),[e,r]=P.useState(!1),n=Ms(),{toast:i}=Vn();P.useEffect(()=>{t&&!t.idVerified&&!e?setTimeout(()=>{i({title:"ID Verification Required",description:"Please verify your identity to complete your host application."}),n("/scan-id")},1e3):t&&t.idVerified&&t.role==="guest"&&setTimeout(()=>{i({title:"Application Submitted! ",description:"An admin will review your application and upgrade your account to host status soon.",duration:6e3})},500)},[t,n,i,e]);const a=()=>{t?t.idVerified?t.role==="guest"?i({title:"Application Submitted! ",description:"An admin will review your application and upgrade your account to host status soon.",duration:6e3}):t.role==="host"&&(i({title:"You're Already a Host!",description:"You can manage your properties from your host dashboard."}),n("/host/dashboard")):(i({title:"ID Verification Required",description:"Please verify your identity to complete your host application."}),n("/scan-id")):(r(!0),window.scrollTo({top:0,behavior:"smooth"}))};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#f9e9d8] to-[#f6d8c2]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"pt-24 pb-16",children:[s.jsx("section",{className:"py-16 bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:pl-6 lg:pr-12",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-eth-brown mb-6 leading-tight",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},"data-testid":"heading-why-host",children:"Why Host with Alga?"}),s.jsx("p",{className:"text-xl text-eth-brown leading-relaxed",children:"Join a growing community of guesthouse owners across Ethiopia earning income by sharing authentic local stays."})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-eth-orange rounded-lg flex items-center justify-center mb-4",children:s.jsx(ii,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-bold text-lg text-eth-brown mb-2",children:"Earn Extra Income"}),s.jsx("p",{className:"text-eth-brown/80 text-sm",children:"List your property and start earning from day one."})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-eth-orange rounded-lg flex items-center justify-center mb-4",children:s.jsx(zg,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-bold text-lg text-eth-brown mb-2",children:"Verified Guests"}),s.jsx("p",{className:"text-eth-brown/80 text-sm",children:"Every guest is verified with a valid ID or passport  Ethiopian or international."})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-eth-orange rounded-lg flex items-center justify-center mb-4",children:s.jsx(Ol,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-bold text-lg text-eth-brown mb-2",children:"Secure Payments"}),s.jsx("p",{className:"text-eth-brown/80 text-sm",children:"Receive safe payments through Ethiopian banks and mobile money services like Telebirr and CBE Birr."})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-eth-orange rounded-lg flex items-center justify-center mb-4",children:s.jsx(a2e,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-bold text-lg text-eth-brown mb-2",children:"24/7 Local Support"}),s.jsx("p",{className:"text-eth-brown/80 text-sm",children:"Our bilingual team is always ready to assist you  in Amharic or English."})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-eth-orange/10 to-eth-orange/5 rounded-2xl p-8 border-2 border-eth-orange/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-eth-brown mb-3",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"Ready to Get Started?"}),s.jsx("p",{className:"text-eth-brown mb-6",children:"Apply to become a host and welcome travelers from across Ethiopia and around the globe."}),s.jsx(Be,{onClick:a,size:"lg",className:"bg-eth-orange hover:opacity-90 text-white rounded-xl px-10 py-4 font-bold text-lg border-0","data-testid":"button-apply-host",children:"Apply to Become a Host"}),t&&t.role==="guest"&&s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," You're currently logged in as a guest. To start hosting, an admin will need to upgrade your account to a host account."]})})]})]}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"bg-gradient-to-br from-eth-orange/20 to-eth-orange/10 rounded-3xl p-8 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 opacity-5 rounded-3xl",style:{backgroundImage:`repeating-linear-gradient(45deg, transparent, transparent 35px, #3d1f0a 35px, #3d1f0a 70px),
                                     repeating-linear-gradient(-45deg, transparent, transparent 35px, #3d1f0a 35px, #3d1f0a 70px)`}}),s.jsxs("div",{className:"relative space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] rounded-2xl p-6 shadow-lg border-2 border-eth-orange/10",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-eth-orange rounded-full flex items-center justify-center",children:s.jsx(kn,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-eth-brown",children:"Your Property"}),s.jsx("p",{className:"text-sm text-eth-brown/70",children:"Traditional Ethiopian Home"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{className:"bg-white/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-2xl font-bold text-eth-orange",children:"12"}),s.jsx("p",{className:"text-xs text-eth-brown",children:"Bookings"})]}),s.jsxs("div",{className:"bg-white/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-2xl font-bold text-eth-orange",children:"4.9"}),s.jsx("p",{className:"text-xs text-eth-brown",children:"Rating"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] rounded-2xl p-6 shadow-lg border-2 border-eth-orange/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-eth-brown font-medium",children:"Monthly Earnings"}),s.jsx(l5,{className:"h-5 w-5 text-eth-orange"})]}),s.jsx("p",{className:"text-3xl font-bold text-eth-brown mb-1",children:"18,500 ETB/month"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Up 23% from last month"})]})]})]})})]})})}),s.jsx("section",{className:"py-16 bg-eth-warm-tan",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:pl-6 lg:pr-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-eth-brown mb-4",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},"data-testid":"heading-how-it-works",children:"How It Works"}),s.jsx("p",{className:"text-lg text-eth-brown max-w-2xl mx-auto",children:"Start hosting in three simple steps:"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg h-full cursor-pointer hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:a,"data-testid":"card-step-1",children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-eth-orange rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold",children:"1"}),s.jsx("div",{className:"w-16 h-16 bg-eth-orange/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Qv,{className:"h-8 w-8 text-eth-orange"})}),s.jsx("h3",{className:"text-xl font-bold text-eth-brown mb-3",children:"Create Your Account"}),s.jsx("p",{className:"text-eth-brown/80",children:"Sign up with your phone or email and verify your identity."})]})}),s.jsx("div",{className:"hidden md:block absolute top-1/2 -right-4 w-8 h-0.5 bg-eth-orange/30"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg h-full cursor-pointer hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:a,"data-testid":"card-step-2",children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-eth-orange rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold",children:"2"}),s.jsx("div",{className:"w-16 h-16 bg-eth-orange/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(qu,{className:"h-8 w-8 text-eth-orange"})}),s.jsx("h3",{className:"text-xl font-bold text-eth-brown mb-3",children:"List Your Property"}),s.jsx("p",{className:"text-eth-brown/80",children:"Add photos, descriptions, and pricing."})]})}),s.jsx("div",{className:"hidden md:block absolute top-1/2 -right-4 w-8 h-0.5 bg-eth-orange/30"})]}),s.jsx("div",{children:s.jsx(_e,{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-eth-orange/20 shadow-lg h-full cursor-pointer hover:shadow-2xl hover:scale-105 transition-all duration-300",onClick:a,"data-testid":"card-step-3",children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-eth-orange rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold",children:"3"}),s.jsx("div",{className:"w-16 h-16 bg-eth-orange/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(ii,{className:"h-8 w-8 text-eth-orange"})}),s.jsx("h3",{className:"text-xl font-bold text-eth-brown mb-3",children:"Start Earning"}),s.jsx("p",{className:"text-eth-brown/80",children:"Welcome verified guests and receive payments directly to your bank or wallet."})]})})})]}),s.jsxs("div",{className:"text-center mt-12",children:[s.jsx("p",{className:"text-lg text-eth-brown mb-6",children:"Get Started Today  turn your space into opportunity with Alga."}),s.jsx(Be,{onClick:a,size:"lg",className:"bg-eth-orange hover:opacity-90 text-white rounded-xl px-10 py-4 font-bold text-lg border-0","data-testid":"button-apply-host-bottom",children:"Apply to Become a Host"})]})]})})]}),s.jsx(Ei,{}),s.jsx(_2,{open:e,onOpenChange:r,defaultMode:"register"})]})}function Vae(t,e){return Object.hasOwn(t,e)}const{AbortController:A_}=globalThis,Hae=(t="Aborted",e)=>{const r=new DOMException(t,"AbortError");return e!=null&&Vae(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r},mEe=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function pEe(t,e,r){const n=mEe.exec(t),i=e.mimeType??(n==null?void 0:n[1])??"plain/text";let a;if((n==null?void 0:n[2])!=null){const o=atob(decodeURIComponent(n[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(n==null?void 0:n[3])!=null&&(a=[decodeURIComponent(n[3])]);return new Blob(a,{type:i})}class gEe extends Error{constructor(r,n){super(r);Ne(this,"isNetworkError");Ne(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&Vae(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function AB(t,e,r,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/r)}const Wae=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class xEe extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");Ne(this,"cause");Ne(this,"isNetworkError");Ne(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function yEe(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new xEe(e)})}function vEe(t){const e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function bEe(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}function Gae(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function _B(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&Gae(t)?[t]:null}function wEe(t,e=document){return typeof t=="string"?e.querySelector(t):Gae(t)?t:null}function Yae(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const EB={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Kae(t){var r;if(t.type)return t.type;const e=t.name?(r=Yae(t.name).extension)==null?void 0:r.toLowerCase():null;return e&&e in EB?EB[e]:"application/octet-stream"}function NEe(t){return t.charCodeAt(0).toString(32)}function TB(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${NEe(r)}`,"/"))+e}function jEe(t,e){var n;let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${TB(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${TB(t.meta.relativePath.toLowerCase())}`),((n=t.data)==null?void 0:n.size)!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function SEe(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function CEe(t,e){if(SEe(t))return t.id;const r=Kae(t);return jEe({...t,type:r},e)}function kB(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const nb=Array.from;function AEe(t){const e=nb(t.files);return Promise.resolve(e)}function Xae(t,e,r,{onSuccess:n}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{Xae(t,a,r,{onSuccess:n})}):n(a)},i=>{r(i),n(e)})}function Zae(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(i=>{Xae(r,[],e,{onSuccess:a=>i(a.map(o=>Zae(o,e)))})})},isSameEntry:void 0}}async function*Qae(t,e,r=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):r!=null&&(yield r)}else if(t.kind==="directory")for await(const i of t.values())yield*Qae(i,e?n():t.name);else r!=null&&(yield r)}async function*_Ee(t,e){const r=await Promise.all(Array.from(t.items,async n=>{let i;return i??(i=Zae(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:i}of r)if(i!=null)try{yield*Qae(i,"",n)}catch(a){n!=null?yield n:e(a)}else n!=null&&(yield n)}async function EEe(t,e){const r=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const i of _Ee(t,r))n.push(i);return n}catch{return AEe(t)}}function TEe(t){var i;const r=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}function kEe(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function __(t){return t<10?`0${t}`:t.toString()}function Uj(){const t=new Date,e=__(t.getHours()),r=__(t.getMinutes()),n=__(t.getSeconds());return`${e}:${r}:${n}`}function PEe(){if(typeof window>"u")return!1;const t=document.body;return!(t==null||window==null||!("draggable"in t)||!("ondragstart"in t)||!("ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function PB(t){return t.startsWith("blob:")}function IB(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function IEe(t){const e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function OEe(t){const e=IEe(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}function MEe(t){return new Error("Cancelled",{cause:t})}function OB(t){var e;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Pf,Eh,If,Zx,Th,Qx,kg,Rl,Q6,Dv,Jae,eoe,toe,ZS,Jx;class REe{constructor(e){xt(this,Rl);xt(this,Pf,0);xt(this,Eh,[]);xt(this,If,!1);xt(this,Zx);xt(this,Th,1);xt(this,Qx);xt(this,kg);Ne(this,"limit");xt(this,ZS,()=>this.resume());xt(this,Jx,()=>{if(ie(this,If)){wt(this,kg,setTimeout(ie(this,Jx),0));return}wt(this,Th,this.limit),this.limit=Math.ceil((ie(this,Qx)+ie(this,Th))/2);for(let e=ie(this,Th);e<=this.limit;e++)Lt(this,Rl,Dv).call(this);ie(this,Qx)-ie(this,Th)>3?wt(this,kg,setTimeout(ie(this,Jx),2e3)):wt(this,Th,Math.floor(ie(this,Th)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!ie(this,If)&&ie(this,Pf)<this.limit?Lt(this,Rl,Q6).call(this,e):Lt(this,Rl,eoe).call(this,e,r)}wrapSyncFunction(e,r){return(...n)=>{const i=this.run(()=>(e(...n),queueMicrotask(()=>i.done()),()=>{}),r);return{abortOn:OB,abort(){i.abort()}}}}wrapPromiseFunction(e,r){return(...n)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,u;try{u=Promise.resolve(e(...n))}catch(h){u=Promise.reject(h)}return u.then(h=>{c?l(c):(i.done(),o(h))},h=>{c?l(c):(i.done(),l(h))}),h=>{c=MEe(h)}},r)});return a.abort=o=>{i.abort(o)},a.abortOn=OB,a}}resume(){wt(this,If,!1),clearTimeout(ie(this,Zx));for(let e=0;e<this.limit;e++)Lt(this,Rl,Dv).call(this)}pause(e=null){wt(this,If,!0),clearTimeout(ie(this,Zx)),e!=null&&wt(this,Zx,setTimeout(ie(this,ZS),e))}rateLimit(e){clearTimeout(ie(this,kg)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(wt(this,Qx,this.limit-1),this.limit=ie(this,Th),wt(this,kg,setTimeout(ie(this,Jx),e)))}get isPaused(){return ie(this,If)}}Pf=new WeakMap,Eh=new WeakMap,If=new WeakMap,Zx=new WeakMap,Th=new WeakMap,Qx=new WeakMap,kg=new WeakMap,Rl=new WeakSet,Q6=function(e){wt(this,Pf,ie(this,Pf)+1);let r=!1,n;try{n=e()}catch(i){throw wt(this,Pf,ie(this,Pf)-1),i}return{abort:i=>{r||(r=!0,wt(this,Pf,ie(this,Pf)-1),n==null||n(i),Lt(this,Rl,Dv).call(this))},done:()=>{r||(r=!0,wt(this,Pf,ie(this,Pf)-1),Lt(this,Rl,Dv).call(this))}}},Dv=function(){queueMicrotask(()=>Lt(this,Rl,Jae).call(this))},Jae=function(){if(ie(this,If)||ie(this,Pf)>=this.limit||ie(this,Eh).length===0)return;const e=ie(this,Eh).shift();if(e==null)throw new Error("Invariant violation: next is null");const r=Lt(this,Rl,Q6).call(this,e.fn);e.abort=r.abort,e.done=r.done},eoe=function(e,r){const n={fn:e,priority:(r==null?void 0:r.priority)||0,abort:()=>{Lt(this,Rl,toe).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=ie(this,Eh).findIndex(a=>n.priority>a.priority);return i===-1?ie(this,Eh).push(n):ie(this,Eh).splice(i,0,n),n},toe=function(e){const r=ie(this,Eh).indexOf(e);r!==-1&&ie(this,Eh).splice(r,1)},ZS=new WeakMap,Jx=new WeakMap;function DEe(t,e,r){const n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&n.push(a),o<l.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function MB(t,e){const r=/\$/g,n="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=r[Symbol.replace](o,n)),i=DEe(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const LEe=t=>{throw new Error(`missing string: ${t}`)};var Fw,Bw,J6;class roe{constructor(e,{onMissingKey:r=LEe}={}){xt(this,Bw);Ne(this,"locale");xt(this,Fw);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(Lt(this,Bw,J6),this):Lt(this,Bw,J6).call(this,e),wt(this,Fw,r)}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(ie(this,Fw).call(this,e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const a=this.locale.pluralize(r.smart_count);return MB(n[a],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return MB(n,r)}}Fw=new WeakMap,Bw=new WeakSet,J6=function(e){if(!(e!=null&&e.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...e.strings},pluralize:e.pluralize||r.pluralize})};const E_="...";function noe(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=E_.length+1)return`${t.slice(0,e-1)}`;const r=e-E_.length,n=Math.ceil(r/2),i=Math.floor(r/2);return t.slice(0,n)+E_+t.slice(-i)}class FEe extends Error{constructor(){super(...arguments);Ne(this,"name","UserFacingApiError")}}var k2,fi,soe,hg,RB,ioe,aoe,ooe,sR,eI,tI,Hb={},loe=[],BEe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,P2=Array.isArray;function Dh(t,e){for(var r in e)t[r]=e[r];return t}function iR(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function aR(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?k2.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return sb(t,o,n,i,null)}function sb(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++soe,__i:-1,__u:0};return i==null&&fi.vnode!=null&&fi.vnode(a),a}function UEe(){return{current:null}}function Ff(t){return t.children}function Vh(t,e){this.props=t,this.context=e}function E1(t,e){if(e==null)return t.__?E1(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?E1(t):null}function coe(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return coe(t)}}function DB(t){(!t.__d&&(t.__d=!0)&&hg.push(t)&&!R5.__r++||RB!=fi.debounceRendering)&&((RB=fi.debounceRendering)||ioe)(R5)}function R5(){for(var t,e,r,n,i,a,o,l=1;hg.length;)hg.length>l&&hg.sort(aoe),t=hg.shift(),l=hg.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,a=[],o=[],e.__P&&((r=Dh({},n)).__v=n.__v+1,fi.vnode&&fi.vnode(r),oR(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,a,i??E1(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,hoe(a,r,o),n.__e=n.__=null,r.__e!=i&&coe(r)));R5.__r=0}function uoe(t,e,r,n,i,a,o,l,c,u,h){var f,y,v,S,w,N,_,E=n&&n.__k||loe,T=e.length;for(c=$Ee(r,e,E,c,T),f=0;f<T;f++)(v=r.__k[f])!=null&&(y=v.__i==-1?Hb:E[v.__i]||Hb,v.__i=f,N=oR(t,v,y,i,a,o,l,c,u,h),S=v.__e,v.ref&&y.ref!=v.ref&&(y.ref&&lR(y.ref,null,v),h.push(v.ref,v.__c||S,v)),w==null&&S!=null&&(w=S),(_=!!(4&v.__u))||y.__k===v.__k?c=doe(v,c,t,_):typeof v.type=="function"&&N!==void 0?c=N:S&&(c=S.nextSibling),v.__u&=-7);return r.__e=w,c}function $Ee(t,e,r,n,i){var a,o,l,c,u,h=r.length,f=h,y=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+y,(o=t.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?sb(null,o,null,null,null):P2(o)?sb(Ff,{children:o},null,null,null):o.constructor==null&&o.__b>0?sb(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(u=o.__i=zEe(o,r,c,f))!=-1&&(f--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(i>h?y--:i<h&&y++),typeof o.type!="function"&&(o.__u|=4)):u!=c&&(u==c-1?y--:u==c+1?y++:(u>c?y--:y++,o.__u|=4))):t.__k[a]=null;if(f)for(a=0;a<h;a++)(l=r[a])!=null&&(2&l.__u)==0&&(l.__e==n&&(n=E1(l)),moe(l,l));return n}function doe(t,e,r,n){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=doe(i[a],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=E1(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Wm(t,e){return e=e||[],t==null||typeof t=="boolean"||(P2(t)?t.some(function(r){Wm(r,e)}):e.push(t)),e}function zEe(t,e,r,n){var i,a,o,l=t.key,c=t.type,u=e[r],h=u!=null&&(2&u.__u)==0;if(u===null&&t.key==null||h&&l==u.key&&c==u.type)return r;if(n>(h?1:0)){for(i=r-1,a=r+1;i>=0||a<e.length;)if((u=e[o=i>=0?i--:a++])!=null&&(2&u.__u)==0&&l==u.key&&c==u.type)return o}return-1}function LB(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||BEe.test(e)?r:r+"px"}function GN(t,e,r,n,i){var a,o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||LB(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||LB(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(ooe,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n?r.u=n.u:(r.u=sR,t.addEventListener(e,a?tI:eI,a)):t.removeEventListener(e,a?tI:eI,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function FB(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=sR++;else if(e.t<r.u)return;return r(fi.event?fi.event(e):e)}}}function oR(t,e,r,n,i,a,o,l,c,u){var h,f,y,v,S,w,N,_,E,T,M,O,L,B,U,$,K,q=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[l=e.__e=r.__e]),(h=fi.__b)&&h(e);e:if(typeof q=="function")try{if(_=e.props,E="prototype"in q&&q.prototype.render,T=(h=q.contextType)&&n[h.__c],M=h?T?T.props.value:h.__:n,r.__c?N=(f=e.__c=r.__c).__=f.__E:(E?e.__c=f=new q(_,M):(e.__c=f=new Vh(_,M),f.constructor=q,f.render=VEe),T&&T.sub(f),f.props=_,f.state||(f.state={}),f.context=M,f.__n=n,y=f.__d=!0,f.__h=[],f._sb=[]),E&&f.__s==null&&(f.__s=f.state),E&&q.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Dh({},f.__s)),Dh(f.__s,q.getDerivedStateFromProps(_,f.__s))),v=f.props,S=f.state,f.__v=e,y)E&&q.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),E&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(E&&q.getDerivedStateFromProps==null&&_!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(_,M),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(_,f.__s,M)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(f.props=_,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(H){H&&(H.__=e)}),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(_,f.__s,M),E&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,S,w)})}if(f.context=M,f.props=_,f.__P=t,f.__e=!1,L=fi.__r,B=0,E){for(f.state=f.__s,f.__d=!1,L&&L(e),h=f.render(f.props,f.state,f.context),U=0;U<f._sb.length;U++)f.__h.push(f._sb[U]);f._sb=[]}else do f.__d=!1,L&&L(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++B<25);f.state=f.__s,f.getChildContext!=null&&(n=Dh(Dh({},n),f.getChildContext())),E&&!y&&f.getSnapshotBeforeUpdate!=null&&(w=f.getSnapshotBeforeUpdate(v,S)),$=h,h!=null&&h.type===Ff&&h.key==null&&($=foe(h.props.children)),l=uoe(t,P2($)?$:[$],e,r,n,i,a,o,l,c,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),N&&(f.__E=f.__=null)}catch(H){if(e.__v=null,c||a!=null)if(H.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(K=a.length;K--;)iR(a[K]);rI(e)}else e.__e=r.__e,e.__k=r.__k,H.then||rI(e);fi.__e(H,e,r)}else a==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=qEe(r.__e,e,r,n,i,a,o,c,u);return(h=fi.diffed)&&h(e),128&e.__u?void 0:l}function rI(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(rI)}function hoe(t,e,r){for(var n=0;n<r.length;n++)lR(r[n],r[++n],r[++n]);fi.__c&&fi.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){fi.__e(a,i.__v)}})}function foe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:P2(t)?t.map(foe):Dh({},t)}function qEe(t,e,r,n,i,a,o,l,c){var u,h,f,y,v,S,w,N=r.props,_=e.props,E=e.type;if(E=="svg"?i="http://www.w3.org/2000/svg":E=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((v=a[u])&&"setAttribute"in v==!!E&&(E?v.localName==E:v.nodeType==3)){t=v,a[u]=null;break}}if(t==null){if(E==null)return document.createTextNode(_);t=document.createElementNS(i,E,_.is&&_),l&&(fi.__m&&fi.__m(e,a),l=!1),a=null}if(E==null)N===_||l&&t.data==_||(t.data=_);else{if(a=a&&k2.call(t.childNodes),N=r.props||Hb,!l&&a!=null)for(N={},u=0;u<t.attributes.length;u++)N[(v=t.attributes[u]).name]=v.value;for(u in N)if(v=N[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=v;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;GN(t,u,null,v,i)}}for(u in _)v=_[u],u=="children"?y=v:u=="dangerouslySetInnerHTML"?h=v:u=="value"?S=v:u=="checked"?w=v:l&&typeof v!="function"||N[u]===v||GN(t,u,v,N[u],i);if(h)l||f&&(h.__html==f.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),uoe(e.type=="template"?t.content:t,P2(y)?y:[y],e,r,n,E=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:r.__k&&E1(r,0),l,c),a!=null)for(u=a.length;u--;)iR(a[u]);l||(u="value",E=="progress"&&S==null?t.removeAttribute("value"):S!=null&&(S!==t[u]||E=="progress"&&!S||E=="option"&&S!=N[u])&&GN(t,u,S,N[u],i),u="checked",w!=null&&w!=t[u]&&GN(t,u,w,N[u],i))}return t}function lR(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){fi.__e(i,r)}}function moe(t,e,r){var n,i;if(fi.unmount&&fi.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||lR(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){fi.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&moe(n[i],e,r||typeof t.type!="function");r||iR(t.__e),t.__c=t.__=t.__e=void 0}function VEe(t,e,r){return this.constructor(t,r)}function BB(t,e,r){var n,i,a,o;e==document&&(e=document.documentElement),fi.__&&fi.__(t,e),i=(n=!1)?null:e.__k,a=[],o=[],oR(e,t=e.__k=aR(Ff,null,[t]),i||Hb,Hb,e.namespaceURI,i?null:e.firstChild?k2.call(e.childNodes):null,a,i?i.__e:e.firstChild,n,o),hoe(a,t,o)}function poe(t,e,r){var n,i,a,o,l=Dh({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?k2.call(arguments,2):r),sb(t.type,l,n||t.key,i||t.ref,null)}k2=loe.slice,fi={__e:function(t,e,r,n){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},soe=0,Vh.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Dh({},this.state),typeof t=="function"&&(t=t(Dh({},r),this.props)),t&&Dh(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),DB(this))},Vh.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),DB(this))},Vh.prototype.render=Ff,hg=[],ioe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,aoe=function(t,e){return t.__v.__b-e.__v.__b},R5.__r=0,ooe=/(PointerCapture)$|Capture$/i,sR=0,eI=FB(!1),tI=FB(!0);var HEe=0;function Ie(t,e,r,n,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var u={type:t,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--HEe,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return fi.vnode&&fi.vnode(u),u}var Wb,Ia,T_,UB,Gb=0,goe=[],Ja=fi,$B=Ja.__b,zB=Ja.__r,qB=Ja.diffed,VB=Ja.__c,HB=Ja.unmount,WB=Ja.__;function cR(t,e){Ja.__h&&Ja.__h(Ia,t,Gb||e),Gb=0;var r=Ia.__H||(Ia.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function T1(t){return Gb=1,WEe(yoe,t)}function WEe(t,e,r){var n=cR(Wb++,2);if(n.t=t,!n.__c&&(n.__=[yoe(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,l);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Ia,!Ia.__f)){var i=function(l,c,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(y){return!!y.__c});if(h.every(function(y){return!y.__N}))return!a||a.call(this,l,c,u);var f=n.__c.props!==l;return h.forEach(function(y){if(y.__N){var v=y.__[0];y.__=y.__N,y.__N=void 0,v!==y.__[0]&&(f=!0)}}),a&&a.call(this,l,c,u)||f};Ia.__f=!0;var a=Ia.shouldComponentUpdate,o=Ia.componentWillUpdate;Ia.componentWillUpdate=function(l,c,u){if(this.__e){var h=a;a=void 0,i(l,c,u),a=h}o&&o.call(this,l,c,u)},Ia.shouldComponentUpdate=i}return n.__N||n.__}function D5(t,e){var r=cR(Wb++,3);!Ja.__s&&xoe(r.__H,e)&&(r.__=t,r.u=e,Ia.__H.__h.push(r))}function ib(t){return Gb=5,uR(function(){return{current:t}},[])}function uR(t,e){var r=cR(Wb++,7);return xoe(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function L5(t,e){return Gb=8,uR(function(){return t},e)}function GEe(){for(var t;t=goe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach($j),t.__H.__h.forEach(nI),t.__H.__h=[]}catch(e){t.__H.__h=[],Ja.__e(e,t.__v)}}Ja.__b=function(t){Ia=null,$B&&$B(t)},Ja.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),WB&&WB(t,e)},Ja.__r=function(t){zB&&zB(t),Wb=0;var e=(Ia=t.__c).__H;e&&(T_===Ia?(e.__h=[],Ia.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach($j),e.__h.forEach(nI),e.__h=[],Wb=0)),T_=Ia},Ja.diffed=function(t){qB&&qB(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(goe.push(e)!==1&&UB===Ja.requestAnimationFrame||((UB=Ja.requestAnimationFrame)||YEe)(GEe)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),T_=Ia=null},Ja.__c=function(t,e){e.some(function(r){try{r.__h.forEach($j),r.__h=r.__h.filter(function(n){return!n.__||nI(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ja.__e(n,r.__v)}}),VB&&VB(t,e)},Ja.unmount=function(t){HB&&HB(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{$j(n)}catch(i){e=i}}),r.__H=void 0,e&&Ja.__e(e,r.__v))};var GB=typeof requestAnimationFrame=="function";function YEe(t){var e,r=function(){clearTimeout(n),GB&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);GB&&(e=requestAnimationFrame(r))}function $j(t){var e=Ia,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Ia=e}function nI(t){var e=Ia;t.__c=t.__(),Ia=e}function xoe(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function yoe(t,e){return typeof e=="function"?e(t):e}const KEe={position:"relative",width:"100%",minHeight:"100%"},XEe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function ZEe({data:t,rowHeight:e,renderRow:r,overscanCount:n=10,padding:i=4,...a}){const o=ib(null),[l,c]=T1(0),[u,h]=T1(0);D5(()=>{function E(){o.current!=null&&u!==o.current.offsetHeight&&h(o.current.offsetHeight)}return E(),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[u]);const f=L5(()=>{o.current&&c(o.current.scrollTop)},[]);let y=Math.floor(l/e),v=Math.floor(u/e);n&&(y=Math.max(0,y-y%n),v+=n);const S=y+v+i,w=t.slice(y,S),N={...KEe,height:t.length*e},_={...XEe,top:y*e};return Ie("div",{onScroll:f,ref:o,...a,children:Ie("div",{role:"presentation",style:N,children:Ie("div",{role:"presentation",style:_,children:w.map(r)})})})}class voe{constructor(e,r){Ne(this,"uppy");Ne(this,"opts");Ne(this,"id");Ne(this,"defaultLocale");Ne(this,"i18n");Ne(this,"i18nArray");Ne(this,"type");Ne(this,"VERSION");this.uppy=e,this.opts=r??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new roe([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var kh,Uw;class QEe{constructor(e){xt(this,kh);xt(this,Uw,[]);wt(this,kh,e)}on(e,r){return ie(this,Uw).push([e,r]),ie(this,kh).on(e,r)}remove(){for(const[e,r]of ie(this,Uw).splice(0))ie(this,kh).off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onRetry(e,r){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{ie(this,kh).getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{ie(this,kh).getFile(e)&&r()})}onCancelAll(e,r){this.on("cancel-all",(...n)=>{ie(this,kh).getFile(e)&&r(...n)})}onResumeAll(e,r){this.on("resume-all",()=>{ie(this,kh).getFile(e)&&r()})}}kh=new WeakMap,Uw=new WeakMap;const JEe={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Uj()}]`,...t)},eTe={debug:(...t)=>console.debug(`[Uppy] [${Uj()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Uj()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Uj()}]`,...t)};var k_,YB;function tTe(){return YB||(YB=1,k_=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const r=e<0;let n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),o=Number(n/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`}),k_}var rTe=tTe();const yg=as(rTe);var P_,KB;function nTe(){if(KB)return P_;KB=1;function t(e,r){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=r,this.parts=e.split(r)}return t.prototype.match=function(e){var r=!0,n=this.parts,i,a=n.length,o;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)r=!1;else{for(o=(e||"").split(this.separator),i=0;r&&i<a;i++)n[i]!=="*"&&(i<o.length?r=n[i]===o[i]:r=!1);r=r&&o}else if(typeof e.splice=="function")for(r=[],i=e.length;i--;)this.match(e[i])&&(r[r.length]=e[i]);else if(typeof e=="object"){r={};for(var l in e)this.match(l)&&(r[l]=e[l])}return r},P_=function(e,r,n){var i=new t(e,n||/[\/\.]/);return typeof r<"u"?i.match(r):i},P_}var I_,XB;function sTe(){if(XB)return I_;XB=1;var t=nTe(),e=/[\/\+\.]/;return I_=function(r,n){function i(a){var o=t(a,r,e);return o&&o.length>=2}return n?i(n.split(";")[0]):i},I_}var iTe=sTe();const aTe=as(iTe),oTe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Pd extends Error{constructor(r,n){super(r);Ne(this,"isUserFacing");Ne(this,"file");Ne(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class lTe{constructor(e,r){Ne(this,"getI18n");Ne(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var i;const n=e();if(((i=n.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,r){const{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+r.length>i)throw new Pd(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){const a=[...e,...r].reduce((o,l)=>o+(l.size??0),0);if(a>n)throw new Pd(this.getI18n()("aggregateExceedsSize",{sizeAllowed:yg(n),size:yg(a)}))}}validateSingleFile(e){const{maxFileSize:r,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?aTe(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Pd(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new Pd(this.getI18n()("exceedsSize",{size:yg(r),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new Pd(this.getI18n()("inferiorSize",{size:yg(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new Pd(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){const r=new Pd(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,i=[];for(const a of n)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:r}}}function cTe(t){let e=null,r;return(...n)=>(r=n,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e)}var $w;const QS=class QS extends voe{constructor(){super(...arguments);xt(this,$w);Ne(this,"isTargetDOMEl");Ne(this,"el");Ne(this,"parent");Ne(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof QS||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:QS}}));else if(typeof r=="function"){const i=r;this.uppy.iteratePlugins(a=>{a instanceof i&&(n=a)})}return n}mount(r,n){const i=n.id,a=wEe(r);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),wt(this,$w,cTe(u=>{this.uppy.getPlugin(this.id)&&(BB(this.render(u,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),BB(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||kEe(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(r);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof r=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=ie(this,$w))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};$w=new WeakMap;let F5=QS;const uTe="5.0.0",dTe={version:uTe};var e1,JS,woe;class boe{constructor(){xt(this,JS);Ne(this,"state",{});xt(this,e1,new Set)}getState(){return this.state}setState(e){const r={...this.state},n={...this.state,...e};this.state=n,Lt(this,JS,woe).call(this,r,n,e)}subscribe(e){return ie(this,e1).add(e),()=>{ie(this,e1).delete(e)}}}e1=new WeakMap,JS=new WeakSet,woe=function(...e){ie(this,e1).forEach(r=>{r(...e)})},Ne(boe,"VERSION",dTe.version);var O_,ZB;function Op(){if(ZB)return O_;ZB=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return O_=t,O_}var M_,QB;function Noe(){if(QB)return M_;QB=1;var t=typeof op=="object"&&op&&op.Object===Object&&op;return M_=t,M_}var R_,JB;function rf(){if(JB)return R_;JB=1;var t=Noe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return R_=r,R_}var D_,eU;function hTe(){if(eU)return D_;eU=1;var t=rf(),e=function(){return t.Date.now()};return D_=e,D_}var L_,tU;function fTe(){if(tU)return L_;tU=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return L_=e,L_}var F_,rU;function mTe(){if(rU)return F_;rU=1;var t=fTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return F_=r,F_}var B_,nU;function I2(){if(nU)return B_;nU=1;var t=rf(),e=t.Symbol;return B_=e,B_}var U_,sU;function pTe(){if(sU)return U_;sU=1;var t=I2(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var h=n.call(o);return u&&(l?o[i]=c:delete o[i]),h}return U_=a,U_}var $_,iU;function gTe(){if(iU)return $_;iU=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return $_=r,$_}var z_,aU;function dm(){if(aU)return z_;aU=1;var t=I2(),e=pTe(),r=gTe(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return z_=o,z_}var q_,oU;function hm(){if(oU)return q_;oU=1;function t(e){return e!=null&&typeof e=="object"}return q_=t,q_}var V_,lU;function py(){if(lU)return V_;lU=1;var t=dm(),e=hm(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return V_=n,V_}var H_,cU;function joe(){if(cU)return H_;cU=1;var t=mTe(),e=Op(),r=py(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):i.test(u)?n:+u}return H_=c,H_}var W_,uU;function Soe(){if(uU)return W_;uU=1;var t=Op(),e=hTe(),r=joe(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,u){var h,f,y,v,S,w,N=0,_=!1,E=!1,T=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(_=!!u.leading,E="maxWait"in u,y=E?i(r(u.maxWait)||0,c):y,T="trailing"in u?!!u.trailing:T);function M(Q){var Z=h,J=f;return h=f=void 0,N=Q,v=l.apply(J,Z),v}function O(Q){return N=Q,S=setTimeout(U,c),_?M(Q):v}function L(Q){var Z=Q-w,J=Q-N,ye=c-Z;return E?a(ye,y-J):ye}function B(Q){var Z=Q-w,J=Q-N;return w===void 0||Z>=c||Z<0||E&&J>=y}function U(){var Q=e();if(B(Q))return $(Q);S=setTimeout(U,L(Q))}function $(Q){return S=void 0,T&&h?M(Q):(h=f=void 0,v)}function K(){S!==void 0&&clearTimeout(S),N=0,h=w=f=S=void 0}function q(){return S===void 0?v:$(e())}function H(){var Q=e(),Z=B(Q);if(h=arguments,f=this,w=Q,Z){if(S===void 0)return O(w);if(E)return clearTimeout(S),S=setTimeout(U,c),M(w)}return S===void 0&&(S=setTimeout(U,c)),v}return H.cancel=K,H.flush=q,H}return W_=o,W_}var G_,dU;function xTe(){if(dU)return G_;dU=1;var t=Soe(),e=Op(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return G_=n,G_}var yTe=xTe();const dR=as(yTe);var Y_,hU;function vTe(){return hU||(hU=1,Y_=function(){var e={},r=e._fns={};e.emit=function(o,l,c,u,h,f,y){var v=n(o);v.length&&i(o,v,[l,c,u,h,f,y])},e.on=function(o,l){r[o]||(r[o]=[]),r[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var u=this._fns[o],h=0,f=u?u.length:0;for(h;h<f;h++)u[h]!==l&&c.push(u[h])}c.length?this._fns[o]=c:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],u=Object.keys(r),h=0,f=u.length;for(h;h<f;h++){var y=u[h];if(y==="*"&&(o=o.concat(r[y])),c.length===2&&c[0]===y){o=o.concat(r[y]);break}}return o}function i(a,o,l){var c=0,u=o.length;for(c;c<u&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e}),Y_}var bTe=vTe();const wTe=as(bTe);let NTe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",jTe=(t=21)=>{let e="",r=t|0;for(;r--;)e+=NTe[Math.random()*64|0];return e};const STe="5.1.1",CTe={version:STe};function ATe(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const _Te={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function ETe(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),i=parseInt(n[0],10),a=parseInt(n[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const YN={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Cd,Ad,zw,Pg,t1,r1,Ig,ln,ag,iI,Coe,Aoe,_oe,aI,oI,lI,cI,e4,uI,Og,Eoe,Toe,ip,qw,Lv,koe,dI,Fv;const t4=class t4{constructor(e){xt(this,ln);xt(this,Cd,Object.create(null));xt(this,Ad);xt(this,zw);xt(this,Pg,wTe());xt(this,t1,new Set);xt(this,r1,new Set);xt(this,Ig,new Set);Ne(this,"defaultLocale");Ne(this,"locale");Ne(this,"opts");Ne(this,"store");Ne(this,"i18n");Ne(this,"i18nArray");Ne(this,"scheduledAutoProceed",null);Ne(this,"wasOffline",!1);xt(this,e4,(e,r)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...i,bytesUploaded:r.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...i}}),ie(this,Og).call(this)});xt(this,Og,dR(()=>Lt(this,ln,uI).call(this),500,{leading:!0,trailing:!0}));xt(this,ip,this.updateOnlineStatus.bind(this));xt(this,qw,new Map);this.defaultLocale=_Te;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:oTe,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new boe,logger:JEe,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=eTe),this.log(`Using Core v${t4.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...YN,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:ETe(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),wt(this,Ad,new lTe(()=>this.opts,()=>this.i18n)),wt(this,zw,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),Lt(this,ln,Toe).call(this)}emit(e,...r){ie(this,Pg).emit(e,...r)}on(e,r){return ie(this,Pg).on(e,r),this}once(e,r){return ie(this,Pg).once(e,r),this}off(e,r){return ie(this,Pg).off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(([n,i])=>[n,{...r[n],...i}]))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new roe([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(i=>{n[i]={...r[i],progress:{...r[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...YN})}clear(){const{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...YN,files:{}})}addPreProcessor(e){ie(this,t1).add(e)}removePreProcessor(e){return ie(this,t1).delete(e)}addPostProcessor(e){ie(this,Ig).add(e)}removePostProcessor(e){return ie(this,Ig).delete(e)}addUploader(e){ie(this,r1).add(e)}removeUploader(e){return ie(this,r1).delete(e)}setMeta(e){const r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...n[e].meta,...r};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:e,totalProgress:r,error:n}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],u=[],h=[],f=[],y=[],v=[];for(const S of i){const{progress:w}=S;!w.uploadComplete&&w.uploadStarted&&(a.push(S),S.isPaused||y.push(S)),w.uploadStarted||o.push(S),(w.uploadStarted||w.preprocess||w.postprocess)&&l.push(S),w.uploadStarted&&c.push(S),S.isPaused&&u.push(S),w.uploadComplete&&h.push(S),S.error&&f.push(S),(w.preprocess||w.postprocess)&&v.push(S)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:u,completeFiles:h,erroredFiles:f,inProgressFiles:a,inProgressNotPausedFiles:y,processingFiles:v,isUploadStarted:c.length>0,isAllComplete:r===100&&h.length===i.length&&v.length===0,isAllErrored:!!n&&f.length===i.length,isAllPaused:a.length!==0&&u.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(S=>S.isGhost)}}validateRestrictions(e,r=this.getFiles()){try{ie(this,Ad).validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{ie(this,Ad).validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){const r=this.getFiles();try{ie(this,Ad).validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){const{nextFilesState:r,validFilesToAdd:n,errors:i}=Lt(this,ln,oI).call(this,[e]),a=i.filter(l=>l.isRestriction);if(Lt(this,ln,ag).call(this,a),i.length>0)throw i[0];this.setState({files:r});const[o]=n;return this.emit("file-added",o),this.emit("files-added",n),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),Lt(this,ln,aI).call(this),o.id}addFiles(e){const{nextFilesState:r,validFilesToAdd:n,errors:i}=Lt(this,ln,oI).call(this,e),a=i.filter(l=>l.isRestriction);Lt(this,ln,ag).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:r}),n.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),n.length>0&&Lt(this,ln,aI).call(this)}removeFiles(e){const{files:r,currentUploads:n}=this.getState(),i={...r},a={...n},o=Object.create(null);e.forEach(h=>{r[h]&&(o[h]=r[h],delete i[h])});function l(h){return o[h]===void 0}Object.keys(a).forEach(h=>{const f=n[h].fileIDs.filter(l);if(f.length===0){delete a[h];return}const{capabilities:y}=this.getState();if(f.length!==n[h].fileIDs.length&&!y.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[h]={...n[h],fileIDs:f}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),ie(this,Og).call(this);const u=Object.keys(o);u.forEach(h=>{this.emit("file-removed",o[h])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=this.getFile(e),i=!(r.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",r,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await Lt(this,ln,cI).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(YN)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const r=Lt(this,ln,Lv).call(this,[e],{forceAllowNewUpload:!0});return Lt(this,ln,Fv).call(this,r)}logout(){this.iteratePlugins(e=>{var r,n;(n=(r=e.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return Lt(this,ln,uI).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...r){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const n=new e(this,...r),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),n.type in ie(this,Cd)?ie(this,Cd)[n.type].push(n):ie(this,Cd)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const r of Object.values(ie(this,Cd))){const n=r.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return ie(this,Cd)[e]}iteratePlugins(e){Object.values(ie(this,Cd)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const r=ie(this,Cd)[e.type],n=r.findIndex(o=>o.id===e.id);n!==-1&&r.splice(n,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),ie(this,zw).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",ie(this,ip)),window.removeEventListener("offline",ie(this,ip)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r="info",n=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){const{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){ie(this,qw).set(e,r)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const r=ie(this,qw).get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}async restore(e){this.log(`Core: Running restored upload "${e}"`);const r=await Lt(this,ln,Fv).call(this,e);return this.emit("complete",r),r}[Symbol.for("uppy test: createUpload")](...e){return Lt(this,ln,Lv).call(this,...e)}addResultData(e,r){if(!Lt(this,ln,koe).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:i}})}async upload(){var i;(i=ie(this,Cd).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(Lt(this,ln,lI).call(this).length>0){const a=await Lt(this,ln,cI).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);if(n===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");n&&typeof n=="object"&&(e=n,this.setState({files:e}));try{if(ie(this,Ad).validateMinNumberOfFiles(e),!Lt(this,ln,Coe).call(this,e))throw new Pd(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(h=>h.fileIDs),l=Object.keys(e).filter(h=>{const f=this.getFile(h);return f&&!f.progress.uploadStarted&&!o.includes(h)}),c=Lt(this,ln,Lv).call(this,l),u=await Lt(this,ln,Fv).call(this,c);return this.emit("complete",u),u}catch(a){throw Lt(this,ln,ag).call(this,[a]),a}}};Cd=new WeakMap,Ad=new WeakMap,zw=new WeakMap,Pg=new WeakMap,t1=new WeakMap,r1=new WeakMap,Ig=new WeakMap,ln=new WeakSet,ag=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const r=e.filter(o=>o.isUserFacing),n=4,i=r.slice(0,n),a=r.slice(n);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},iI=function(e){const{missingFields:r,error:n}=ie(this,Ad).getMissingRequiredMetaFields(e);return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r,error:n.message}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(r.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},Coe=function(e){let r=!0;for(const n of Object.values(e))Lt(this,ln,iI).call(this,n)||(r=!1);return r},Aoe=function(e){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new Pd(this.i18n("noMoreFilesAllowed"),{file:e});throw Lt(this,ln,ag).call(this,[n]),n}},_oe=function(e){const r=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,n=Kae(r),i=ATe(n,r),a=Yae(i).extension,o=CEe(r,this.getID()),l={...r.meta,name:i,type:n},c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:n,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...r.isRemote?{isRemote:!0,remote:r.remote,data:r.data}:{isRemote:!1,data:r.data},preview:r.preview}},aI=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},oI=function(e){let{files:r}=this.getState(),n={...r};const i=[],a=[];for(const o of e)try{let l=Lt(this,ln,_oe).call(this,o);Lt(this,ln,Aoe).call(this,l);const c=r[l.id],u=c==null?void 0:c.isGhost;if(u&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const h=this.opts.onBeforeFileAdded(l,n);if(r=this.getState().files,n={...r,...n},!h&&this.checkIfFileAlreadyExists(l.id))throw new Pd(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!u)throw new Pd("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(l=h),ie(this,Ad).validateSingleFile(l),n[l.id]=l,i.push(l)}catch(l){a.push(l)}try{ie(this,Ad).validateAggregateRestrictions(Object.values(r),i)}catch(o){return a.push(o),{nextFilesState:r,validFilesToAdd:[],errors:a}}return{nextFilesState:n,validFilesToAdd:i,errors:a}},lI=function(){const{files:e}=this.getState();return Object.keys(e).filter(r=>{const n=e[r];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},cI=async function(){const e=Lt(this,ln,lI).call(this),r={...this.getState().files};if(e.forEach(i=>{r[i]={...r[i],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=Lt(this,ln,Lv).call(this,e,{forceAllowNewUpload:!0});return Lt(this,ln,Fv).call(this,n)},e4=new WeakMap,uI=function(){const e=Lt(this,ln,Eoe).call(this);let r=null;e!=null&&(r=Math.round(e*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},Og=new WeakMap,Eoe=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=r.filter(n),a=r.filter(c=>!n(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,u)=>c+(u.progress.bytesTotal??0),0),l=i.reduce((c,u)=>c+(u.progress.bytesUploaded||0),0);return o===0?0:l/o},Toe=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),Lt(this,ln,ag).call(this,[l])}else Lt(this,ln,ag).call(this,[a])});let r=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");r||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",n),this.on("upload-progress",ie(this,e4)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress,l=ie(this,Ig).size>0;this.setFileState(i.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),ie(this,Og).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{const a=i&&this.getFile(i.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{ie(this,Og).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&Lt(this,ln,iI).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",ie(this,ip)),window.addEventListener("offline",ie(this,ip)),setTimeout(ie(this,ip),3e3))},ip=new WeakMap,qw=new WeakMap,Lv=function(e,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!n)throw new Error("Cannot create a new upload: already uploading.");const o=jTe();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},koe=function(e){const{currentUploads:r}=this.getState();return r[e]},dI=function(e){const{[e]:r,...n}=this.getState().currentUploads;this.setState({currentUploads:n})},Fv=async function(e){const r=()=>{const{currentUploads:o}=this.getState();return o[e]};let n=r();if(!n)throw new Error("Nonexistent upload");const i=[...ie(this,t1),...ie(this,r1),...ie(this,Ig)];try{for(let o=n.step||0;o<i.length&&n;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:o}}});const c=n.fileIDs.filter(u=>!this.getFile(u).progress.uploadComplete);await l(c,e),n=r()}}catch(o){throw Lt(this,ln,dI).call(this,e),o}if(n){n.fileIDs.forEach(u=>{const h=this.getFile(u);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const o=n.fileIDs.map(u=>this.getFile(u)),l=o.filter(u=>!u.error),c=o.filter(u=>u.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),n=r()}let a;return n&&(a=n.result,Lt(this,ln,dI).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},Ne(t4,"VERSION",CTe.version);let sI=t4;var K_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fU;function TTe(){return fU||(fU=1,(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(K_)),K_.exports}var kTe=TTe();const Xd=as(kTe);var PTe=Soe();const ITe=as(PTe);function OTe(){return Ie("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:Ie("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function qs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Poe=typeof self<"u"?self:global;const Yb=typeof navigator<"u",MTe=Yb&&typeof HTMLImageElement>"u",mU=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Ioe=Poe.Buffer,Ooe=!!Ioe,RTe=t=>t!==void 0;function Moe(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(RTe).length===0)}function $o(t){let e=new Error(t);throw delete e.stack,e}function pU(t){let e=(function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048})(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const X_=t=>String.fromCharCode.apply(null,t),gU=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let Kb=class sx{static from(e,r){return e instanceof this&&e.le===r?e:new sx(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof sx){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&$o("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else $o("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=sx){return e instanceof DataView||e instanceof sx?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||$o("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new sx(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return i=this.getUint8Array(e,r),gU?gU.decode(i):Ooe?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(X_(i)));var i}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return X_(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return X_(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function hI(t,e){$o(`${t} '${e}' was not loaded, try using full build of exifr.`)}let hR=class extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||hI(this.kind,e),r&&(e in r||(function(n,i){$o(`Unknown ${n} '${i}'.`)})(this.kind,e),r[e].enabled||hI(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var Roe=new hR("file parser"),Id=new hR("segment parser"),fR=new hR("file reader");let DTe=Poe.fetch;function xU(t,e){return(r=t).startsWith("data:")||r.length>1e4?mI(t,e,"base64"):mU&&t.includes("://")?fI(t,e,"url",yU):mU?mI(t,e,"fs"):Yb?fI(t,e,"url",yU):void $o("Invalid input argument");var r}async function fI(t,e,r,n){return fR.has(r)?mI(t,e,r):n?(async function(i,a){let o=await a(i);return new Kb(o)})(t,n):void $o(`Parser ${r} is not loaded`)}async function mI(t,e,r){let n=new(fR.get(r))(t,e);return await n.read(),n}const yU=t=>DTe(t).then((e=>e.arrayBuffer())),pI=t=>new Promise(((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)})),mR=new Map,LTe=new Map,FTe=new Map,KN=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Doe=["jfif","xmp","icc","iptc","ihdr"],gI=["tiff",...Doe],Po=["ifd0","ifd1","exif","gps","interop"],XN=[...gI,...Po],ZN=["makerNote","userComment"],Loe=["translateKeys","translateValues","reviveValues","multiSegment"],QN=[...Loe,"sanitize","mergeOutput","silentErrors"];let Foe=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},av=class extends Foe{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),qs(this,"enabled",!1),qs(this,"skip",new Set),qs(this,"pick",new Set),qs(this,"deps",new Set),qs(this,"translateKeys",!1),qs(this,"translateValues",!1),qs(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Po.includes(e),this.canBeFiltered&&(this.dict=mR.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:$o(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of Loe)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:a,tagValues:o}=this.dict;for(n of e)typeof n=="string"?(i=o.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,B5(this.pick,this.deps)):this.enabled&&this.pick.size>0&&B5(this.pick,this.deps)}};var Xl={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},vU=new Map;let pR=class extends Foe{static useCached(e){let r=vU.get(e);return r!==void 0||(r=new this(e),vU.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):$o(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Yb?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of KN)this[e]=Xl[e];for(e of QN)this[e]=Xl[e];for(e of ZN)this[e]=Xl[e];for(e of XN)this[e]=new av(e,Xl[e],void 0,this)}setupFromTrue(){let e;for(e of KN)this[e]=Xl[e];for(e of QN)this[e]=Xl[e];for(e of ZN)this[e]=!0;for(e of XN)this[e]=new av(e,!0,void 0,this)}setupFromArray(e){let r;for(r of KN)this[r]=Xl[r];for(r of QN)this[r]=Xl[r];for(r of ZN)this[r]=Xl[r];for(r of XN)this[r]=new av(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,Po)}setupFromObject(e){let r;for(r of(Po.ifd0=Po.ifd0||Po.image,Po.ifd1=Po.ifd1||Po.thumbnail,Object.assign(this,e),KN))this[r]=Z_(e[r],Xl[r]);for(r of QN)this[r]=Z_(e[r],Xl[r]);for(r of ZN)this[r]=Z_(e[r],Xl[r]);for(r of gI)this[r]=new av(r,Xl[r],e[r],this);for(r of Po)this[r]=new av(r,Xl[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Po,XN),e.tiff===!0?this.batchEnableWithBool(Po,!0):e.tiff===!1?this.batchEnableWithUserValue(Po,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Po):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Po)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=bU(e,n);for(let[o,l]of a)B5(this[o].pick,l),this[o].enabled=!0}else if(r&&r.length){let a=bU(r,n);for(let[o,l]of a)B5(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=Po.some((a=>this[a].enabled===!0))||this.makerNote||this.userComment;for(let a of Po)this[a].finalizeFilters()}get onlyTiff(){return!Doe.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of gI)this[e].enabled&&!Id.has(e)&&hI("segment parser",e)}};function bU(t,e){let r,n,i,a,o=[];for(i of e){for(a of(r=mR.get(i),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&o.push([i,n])}return o}function Z_(t,e){return t!==void 0?t:e!==void 0?e:void 0}function B5(t,e){for(let r of e)t.add(r)}qs(pR,"default",Xl);let BTe=class{constructor(e){qs(this,"parsers",{}),qs(this,"output",{}),qs(this,"errors",[]),qs(this,"pushToErrors",(r=>this.errors.push(r))),this.options=pR.useCached(e)}async read(e){this.file=await(function(r,n){return typeof r=="string"?xU(r,n):Yb&&!MTe&&r instanceof HTMLImageElement?xU(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Kb(r):Yb&&r instanceof Blob?fI(r,n,"blob",pI):void $o("Invalid input argument")})(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of Roe)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),$o("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),Moe(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map((async n=>{let i=await n.parse();n.assignToOutput(e,i)}));this.options.silentErrors&&(r=r.map((n=>n.catch(this.pushToErrors)))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=Id.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new n(a,e,r),l=await o.extractThumbnail();return r.close&&r.close(),l}},px=class{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+i,o=n-i;return{offset:r,length:n,headerLength:i,start:a,size:o,end:a+o}}static parse(e,r={}){return new this(e,new pR({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof Kb?e:new Kb(e)}constructor(e,r={},n){qs(this,"errors",[]),qs(this,"raw",new Map),qs(this,"handleError",(i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=FTe.get(r),i=LTe.get(r),a=mR.get(r),o=this.options[r],l=o.reviveValues&&!!n,c=o.translateValues&&!!i,u=o.translateKeys&&!!a,h={};for(let[f,y]of e)l&&n.has(f)?y=n.get(f)(y):c&&i.has(f)&&(y=this.translateValue(y,i.get(f))),u&&a.has(f)&&(f=a.get(f)||f),h[f]=y;return h}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}};qs(px,"headerLength",4),qs(px,"type",void 0),qs(px,"multiSegment",!1),qs(px,"canHandle",(()=>!1));function UTe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function $Te(t){return t>=224&&t<=239}function zTe(t,e,r){for(let[n,i]of Id)if(i.canHandle(t,e,r))return n}let wU=class extends class{constructor(e,r,n){qs(this,"errors",[]),qs(this,"ensureSegmentChunk",(async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){$o(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):$o("Segment unreachable: "+JSON.stringify(i));return i.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(Id.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let o=this.parsers[n];o&&o.append||o||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...e){super(...e),qs(this,"appSegments",[]),qs(this,"jpegSegments",[]),qs(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Id.keyList())):(e=e===void 0?Id.keyList().filter((r=>this.options[r].enabled)):e.filter((r=>this.options[r].enabled&&Id.has(r))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some((l=>{let c=Id.get(l),u=this.options[l];return c.multiSegment&&u.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;o.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,u=this.appSegments.some((h=>!this.file.available(h.offset||h.start,h.length||h.size)));if(l=e>c&&!u?!await n.readNextChunk(e):!await n.readNextChunk(c),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,a,o,l,c,{file:u,findAll:h,wanted:f,remaining:y,options:v}=this;for(;e<r;e++)if(u.getUint8(e)===255){if(n=u.getUint8(e+1),$Te(n)){if(i=u.getUint16(e+2),a=zTe(u,e,i),a&&f.has(a)&&(o=Id.get(a),l=o.findPosition(u,e),c=v[a],l.type=a,this.appSegments.push(l),!h&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||y.delete(a)):y.delete(a),y.size===0)))break;v.recordUnknownSegments&&(l=px.findPosition(u,e),l.marker=n,this.unknownSegments.push(l)),e+=i+1}else if(UTe(n)){if(i=u.getUint16(e+2),n===218&&v.stopAfterSos!==!1)return;v.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((r=>r.multiSegment)))return;let e=(function(r,n){let i,a,o,l=new Map;for(let c=0;c<r.length;c++)i=r[c],a=i[n],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)})(this.appSegments,"type");this.mergedAppSegments=e.map((([r,n])=>{let i=Id.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]}))}getSegment(e){return this.appSegments.find((r=>r.type===e))}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}};qs(wU,"type","jpeg"),Roe.set("jpeg",wU);const qTe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];let VTe=class extends px{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let u=0;u<c;u++){let h=this.chunk.getUint16(e);if(o){if(i.has(h)&&(n.set(h,this.parseTag(e,h,r)),i.delete(h),i.size===0))break}else!l&&a.has(h)||n.set(h,this.parseTag(e,h,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=qTe[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&$o(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&$o(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=(function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u})(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let u=new((function(f){switch(f){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(a))(o),h=l;for(let f=0;f<o;f++)u[f]=this.parseTagValue(a,e),e+=h;return u}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:$o(`Invalid tiff type ${e}`)}}},Q_=class extends VTe{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&$o("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&$o(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,pU(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,pU(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",NU(...e.get(2),e.get(1))),e.set("longitude",NU(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of Po)if(e=this[r],!Moe(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}};function NU(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}qs(Q_,"type","tiff"),qs(Q_,"headerLength",10),Id.set("tiff",Q_);const gR={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},gR,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},gR,{tiff:!1,ifd1:!0,mergeOutput:!1});const HTe=Object.assign({},gR,{firstChunkSize:4e4,ifd0:[274]});async function WTe(t){let e=new BTe(HTe);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const GTe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Bv=!0,Uv=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Bv=Number(r)+.1*Number(n)<13.4,Uv=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Bv=Uv=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Bv=Uv=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Bv=Uv=Number(e)<77}}async function YTe(t){let e=await WTe(t);return Object.assign({canvas:Bv,css:Uv},GTe[e])}let KTe=class extends Kb{constructor(...e){super(...e),qs(this,"ranges",new XTe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let r;r=Ooe?Ioe.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}},XTe=class{constructor(){qs(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,a=this.list.filter((o=>jU(e,o.offset,i)||jU(e,o.end,i)));if(a.length>0){e=Math.min(e,...a.map((l=>l.offset))),i=Math.max(i,...a.map((l=>l.end))),r=i-e;let o=a.shift();o.offset=e,o.length=r,o.end=i,this.list=this.list.filter((l=>!a.includes(l)))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some((i=>i.offset<=e&&n<=i.end))}};function jU(t,e,r){return t<=e&&e<=r}class ZTe extends KTe{constructor(e,r){super(0),qs(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}fR.set("blob",class extends ZTe{async readWhole(){this.chunked=!1;let t=await pI(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await pI(n);return this.set(i,t,!0)}});const QTe="5.0.2",JTe={version:QTe},eke={strings:{generatingThumbnails:"Generating thumbnails..."}};function tke(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>pEe(t.toDataURL(e,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function rke(t,e){let r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);const i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");return a.translate(r/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function nke(t){const e=t.width/t.height,r=5e6,n=4096;let i=Math.floor(Math.sqrt(r*e)),a=Math.floor(r/Math.sqrt(r*e));if(i>n&&(i=n,a=Math.round(i/e)),a>n&&(a=n,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const ske={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Boe extends F5{constructor(r,n){super(r,{...ske,...n});Ne(this,"queue");Ne(this,"queueProcessing");Ne(this,"defaultThumbnailDimension");Ne(this,"thumbnailType");Ne(this,"onFileAdded",r=>{!r.preview&&r.data&&IB(r.type)&&!r.isRemote&&this.addToQueue(r.id)});Ne(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});Ne(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&PB(r.preview)&&URL.revokeObjectURL(r.preview)});Ne(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||PB(n.preview))&&this.addToQueue(n.id)})});Ne(this,"onAllFilesRemoved",()=>{this.queue=[]});Ne(this,"waitUntilAllProcessed",r=>{r.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),i()}):(n(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=eke,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,i){if(r.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(r.data),o=new Promise((c,u)=>{const h=new Image;h.src=a,h.addEventListener("load",()=>{URL.revokeObjectURL(a),c(h)}),h.addEventListener("error",f=>{URL.revokeObjectURL(a),u(f.error||new Error("Could not create thumbnail"))})}),l=YTe(r.data).catch(()=>1);return Promise.all([o,l]).then(([c,u])=>{const h=this.getProportionalDimensions(c,n,i,u.deg),f=rke(c,u),y=this.resizeImage(f,h.width,h.height);return tke(y,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,n,i,a){let o=r.width/r.height;if((a===90||a===270)&&(o=r.height/r.width),n!=null){let l=n;return r.width<n&&(l=r.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return r.height<i&&(l=r.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(r,n,i){let a=nke(r),o=Math.ceil(Math.log2(a.width/n));o<1&&(o=1);let l=n*2**(o-1),c=i*2**(o-1);const u=2;for(;o--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(a,0,0,l,c),a=h,l=Math.round(l/u),c=Math.round(c/u)}return a}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return IB(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Ne(Boe,"VERSION",JTe.version);let ike="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Uoe=(t=21)=>{let e="",r=t|0;for(;r--;)e+=ike[Math.random()*64|0];return e};const ake="5.0.3",oke={version:ake};class $oe extends Vh{constructor(){super(...arguments);Ne(this,"fileInput",null);Ne(this,"folderInput",null);Ne(this,"mobilePhotoFileInput",null);Ne(this,"mobileVideoFileInput",null);Ne(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});Ne(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});Ne(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});Ne(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});Ne(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});Ne(this,"renderHiddenInput",(r,n)=>{var i;return Ie("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:n})});Ne(this,"renderHiddenCameraInput",(r,n,i)=>{const o={photo:"image/*",video:"video/*"}[r];return Ie("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:o,ref:i})});Ne(this,"renderMyDeviceAcquirer",()=>Ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[Ie("div",{className:"uppy-DashboardTab-inner",children:Ie("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:Ie("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),Ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));Ne(this,"renderPhotoCamera",()=>Ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[Ie("div",{className:"uppy-DashboardTab-inner",children:Ie("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:Ie("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),Ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));Ne(this,"renderVideoCamera",()=>Ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[Ie("div",{className:"uppy-DashboardTab-inner",children:Ie("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:Ie("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),Ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));Ne(this,"renderBrowseButton",(r,n)=>{const i=this.props.acquirers.length;return Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":i===0,children:r})});Ne(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return Ie("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:n,browseFolders:i,browse:n}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:n,browseFolders:i,browse:n})})});Ne(this,"renderAcquirer",r=>{var n;return Ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[Ie("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),Ie("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});Ne(this,"renderAcquirers",r=>{const n=[...r],i=n.splice(r.length-2,r.length);return Ie(Ff,{children:[n.map(a=>this.renderAcquirer(a)),Ie("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});Ne(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";n||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...r.map(f=>({key:f.id,elements:this.renderAcquirer(f)}))),o.length===1&&o[0].key===l&&(o=[]);const u=[...o],h=u.splice(o.length-2,o.length);return Ie(Ff,{children:[this.renderDropPasteBrowseTagline(o.length),Ie("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[u.map(({key:f,elements:y})=>Ie(Ff,{children:y},f)),Ie("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:f,elements:y})=>Ie(Ff,{children:y},f))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=Ie("span",{children:[Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:Ie("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),Ie("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=r("poweredBy",{uppy:n});return Ie("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:i}=this.props;return Ie("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),r&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),n&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),Ie("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&Ie("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const lke=t=>Ie("div",{className:Xd("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[Ie("div",{className:"uppy-DashboardContent-bar",children:[Ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),Ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),Ie($oe,{...t})]});function cke(t){const e=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return Ie("div",{className:Xd("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[Ie("div",{className:"uppy-DashboardContent-bar",children:[Ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:Ie("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),Ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),Ie("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),Ie("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function uke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("g",{fill:"#686DE0",fillRule:"evenodd",children:[Ie("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),Ie("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),Ie("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function dke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function hke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function fke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function mke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function pke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[Ie("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),Ie("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function gke(){return Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:Ie("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function xR(t){const e={color:"#838999",icon:pke()};if(!t)return e;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:gke()}:r==="image"?{color:"#686de0",icon:uke()}:r==="audio"?{color:"#068dbb",icon:dke()}:r==="video"?{color:"#19af67",icon:hke()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:fke()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:mke()}:e}function up(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function zoe(t){const{file:e}=t;if(e.preview)return Ie("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:r,icon:n}=xR(e.type);return Ie("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[Ie("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:Ie("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function xke(t){const{computedMetaFields:e,requiredMetaFields:r,updateMeta:n,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,u=r.includes(l.id);return Ie("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[Ie("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:h=>n(h,l.id),fieldCSSClasses:o,required:u,form:i.id},aR):Ie("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:u,value:a[l.id],placeholder:l.placeholder,onInput:h=>n(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function yke(t){const{files:e,fileCardFor:r,toggleFileCard:n,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:u,className:h,canEditFile:f}=t,y=()=>typeof a=="function"?a(e[r]):a,v=e[r],S=y()??[],w=f(v),N={};S.forEach(B=>{N[B.id]=v.meta[B.id]??""});const[_,E]=T1(N),T=L5(B=>{B.preventDefault(),i(_,r)},[i,_,r]),M=(B,U)=>{E({..._,[U]:B})},O=()=>{n(!1)},[L]=T1(()=>{const B=document.createElement("form");return B.setAttribute("tabindex","-1"),B.id=Uoe(),B});return D5(()=>(document.body.appendChild(L),L.addEventListener("submit",T),()=>{L.removeEventListener("submit",T),L.parentNode&&document.body.removeChild(L)}),[L,T]),Ie("div",{className:Xd("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:up,onDragLeave:up,onDrop:up,onPaste:up,children:[Ie("div",{className:"uppy-DashboardContent-bar",children:[Ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:u("editing",{file:Ie("span",{className:"uppy-DashboardContent-titleFile",children:v.meta?v.meta.name:v.name})})}),Ie("button",{className:"uppy-DashboardContent-back",type:"button",form:L.id,title:c("finishEditingFile"),onClick:O,children:c("cancel")})]}),Ie("div",{className:"uppy-Dashboard-FileCard-inner",children:[Ie("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:xR(v.type).color},children:[Ie(zoe,{file:v}),w&&Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:B=>{T(B),l(v)},children:c("editImage")})]}),Ie("div",{className:"uppy-Dashboard-FileCard-info",children:Ie(xke,{computedMetaFields:S,requiredMetaFields:o,updateMeta:M,form:L,formState:_})}),Ie("div",{className:"uppy-Dashboard-FileCard-actions",children:[Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:L.id,children:c("saveChanges")}),Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:O,form:L.id,children:c("cancel")})]})]})]})}function vke(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let a=0;a<i;a++){const o=r[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function bke(t,e="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(e,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):i()}catch{return document.body.removeChild(n),i()}})}function wke({file:t,uploadInProgressOrComplete:e,metaFields:r,canEditFile:n,i18n:i,onClick:a}){return!e&&r&&r.length>0||!e&&n(t)?Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:Ie("g",{fillRule:"evenodd",children:[Ie("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),Ie("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),Ie("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function Nke({i18n:t,onClick:e,file:r}){return Ie("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>e(),children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[Ie("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),Ie("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function jke({file:t,uppy:e,i18n:r}){const n=i=>{bke(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return Ie("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:i=>n(i),children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:Ie("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Ske(t){const{uppy:e,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:u,openFileEditor:h}=t;return Ie("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[Ie(wke,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?u(!0,r.id):h(r)}}),o&&r.uploadURL?Ie(jke,{file:r,uppy:e,i18n:c}):null,l?Ie(Nke,{i18n:c,file:r,onClick:()=>e.removeFile(r.id)}):null]})}const Cke=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function qoe(t){const{file:e,toggleFileCard:r,i18n:n,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>Cke(l,i)).join(", ");return Ie("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",Ie("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,e.id),children:n("editFile")})]})}const Ake=t=>{const{author:e,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return Ie("div",{className:"uppy-Dashboard-Item-name",title:r,children:noe(r,n())})},_ke=t=>{var i;const{author:e}=t.file.meta,r="remote"in t.file?(i=t.file.remote)==null?void 0:i.providerName:void 0,n="";return e?Ie("div",{className:"uppy-Dashboard-Item-author",children:[Ie("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:noe(e.name,13)}),r?Ie(Ff,{children:[` ${n} `,r,` ${n} `]}):null]}):null},Eke=t=>t.file.size&&Ie("div",{className:"uppy-Dashboard-Item-statusSize",children:yg(t.file.size)}),Tke=t=>t.file.isGhost&&Ie("span",{children:["  ",Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),kke=({file:t,onClick:e})=>t.error?Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Pke(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return Ie("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[Ie("div",{className:"uppy-Dashboard-Item-fileName",children:[Ake({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),Ie(kke,{file:e,onClick:()=>alert(e.error)})]}),Ie("div",{className:"uppy-Dashboard-Item-status",children:[_ke({file:e}),Eke({file:e}),Tke({file:e,toggleAddFilesPanel:a,i18n:r})]}),Ie(qoe,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function Ike(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":xR(e.type).color;return Ie("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&Ie("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:Ie("span",{hidden:!0,children:e.meta.name})}),Ie(zoe,{file:e}),Ie(qoe,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function Oke(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function SU(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function J_(t){return Ie("div",{className:"uppy-Dashboard-Item-progress",children:Ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":SU(t),title:SU(t),onClick:()=>Oke(t),children:t.children})})}function JN({children:t}){return Ie("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function e3({progress:t}){const e=2*Math.PI*15;return Ie("g",{children:[Ie("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),Ie("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function Mke(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?Ie("div",{className:"uppy-Dashboard-Item-progress",children:Ie("div",{className:"uppy-Dashboard-Item-progressIndicator",children:Ie(JN,{children:[Ie("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),Ie("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?Ie(J_,{...t,children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[Ie("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),Ie("path",{d:"M7.9 3H10v2H7.9z"}),Ie("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),Ie("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?Ie(J_,{...t,children:Ie(JN,{children:[Ie(e3,{progress:t.file.progress.percentage}),t.file.isPaused?Ie("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):Ie("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[Ie("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Ie("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?Ie(J_,{...t,children:Ie(JN,{children:[Ie(e3,{progress:t.file.progress.percentage}),Ie("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):Ie("div",{className:"uppy-Dashboard-Item-progress",children:Ie("div",{className:"uppy-Dashboard-Item-progressIndicator",children:Ie(JN,{children:Ie(e3,{progress:t.file.progress.percentage})})})})}class Rke extends Vh{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!vke(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,r=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!r&&!e.error,i=!!e.progress.uploadStarted||!!r,a=e.progress.uploadStarted&&!e.progress.uploadComplete||r,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const u=Xd({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return Ie("div",{className:u,id:`uppy_${e.id}`,role:this.props.role,children:[Ie("div",{className:"uppy-Dashboard-Item-preview",children:[Ie(Ike,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),Ie(Mke,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),Ie("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[Ie(Pke,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),Ie(Ske,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Dke(t,e){const r=[];let n=[];return t.forEach(i=>{n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}function Lke({id:t,i18n:e,uppy:r,files:n,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:h,isSingleFile:f,toggleFileCard:y,handleRequestThumbnail:v,handleCancelThumbnail:S,recoveredState:w,individualCancellation:N,itemsPerRow:_,openFileEditor:E,canEditFile:T,toggleAddFilesPanel:M,containerWidth:O,containerHeight:L}){const B=_===1?71:200,U=uR(()=>{const K=(H,Q)=>Number(n[Q].isGhost)-Number(n[H].isGhost),q=Object.keys(n);return w&&q.sort(K),Dke(q,_)},[n,_,w]),$=K=>Ie("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:K.map(q=>Ie(Rke,{uppy:r,id:t,i18n:e,resumableUploads:i,individualCancellation:N,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:h,recoveredState:w,isSingleFile:f,containerWidth:O,containerHeight:L,toggleFileCard:y,handleRequestThumbnail:v,handleCancelThumbnail:S,role:"listitem",openFileEditor:E,canEditFile:T,toggleAddFilesPanel:M,file:n[q]},q))},K[0]);return f?Ie("div",{class:"uppy-Dashboard-files",children:$(U[0])}):Ie(ZEe,{class:"uppy-Dashboard-files",role:"list",data:U,renderRow:$,rowHeight:B})}const CU=300;class Fke extends Vh{constructor(){super(...arguments);Ne(this,"ref",UEe())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,CU)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,CU)}render(){const{children:r}=this.props;return Ie("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function Bke(t,e){return Object.assign(t,e)}function Uke(t,e){return(t==null?void 0:t.key)??e}function $ke(t,e){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=n=>{t.refs[e]=n})}function ov(t){const e={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=Uke(t[r],r.toString(36));e[n]=t[r]}return e}function zke(t,e){t=t||{},e=e||{};const r=o=>Object.hasOwn(e,o)?e[o]:t[o],n={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(n[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(n,o))for(let l=0;l<n[o].length;l++){const c=n[o][l];a[n[o][l]]=r(c)}a[o]=r(o)}for(let o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}const qke=t=>t;class Voe extends Vh{constructor(e,r){super(e,r),this.refs={},this.state={children:ov(Wm(Wm(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const r in e)e[r]&&this.performAppear(r)}componentWillReceiveProps(e){const r=ov(Wm(e.children)||[]),n=this.state.children;this.setState(a=>({children:zke(a.children,r)}));let i;for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(e){const r=this.keysToAbortLeave.indexOf(e);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const r=this.refs[e];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=ov(Wm(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const r=this.refs[e];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=ov(Wm(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=ov(Wm(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=Bke({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:r,transitionName:n,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:u,...h},{children:f}){const y=Object.entries(f).map(([v,S])=>{if(!S)return;const w=$ke(this,v);return poe(e(S),{ref:w,key:v})}).filter(Boolean);return aR(u,h,y)}}Voe.defaultProps={component:"span",childFactory:qke};class AU extends Vh{render(){const{info:e}=this.props.uppy.getState();return Ie("div",{className:"uppy uppy-Informer",children:Ie(Voe,{children:e.map(r=>Ie(Fke,{children:Ie("p",{role:"alert",children:[r.message," ",r.details&&Ie("span",{"aria-label":r.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${r.message} 

 ${r.details}`),children:"?"})]})},r.message))})})}}function Vke({activePickerPanel:t,className:e,hideAllPanels:r,i18n:n,state:i,uppy:a}){const o=ib(null);return Ie("div",{className:Xd("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:up,onDragLeave:up,onDrop:up,onPaste:up,children:[Ie("div",{className:"uppy-DashboardContent-bar",children:[Ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),Ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),Ie("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const gh={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Hke(t,e,r,n={}){if(t)return gh.STATE_ERROR;if(e)return gh.STATE_COMPLETE;if(r)return gh.STATE_PAUSED;let i=gh.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return gh.STATE_UPLOADING;l.preprocess&&i!==gh.STATE_UPLOADING&&(i=gh.STATE_PREPROCESSING),l.postprocess&&i!==gh.STATE_UPLOADING&&i!==gh.STATE_PREPROCESSING&&(i=gh.STATE_POSTPROCESSING)}return i}function Wke({files:t,i18n:e,isAllComplete:r,isAllErrored:n,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Hke(n,r,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function Gke(t){const{i18n:e,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),Ie("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?Ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):Ie("div",{}),Ie("div",{className:"uppy-DashboardContent-title",children:Ie(Wke,{...t})}),l?Ie("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:Ie("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),Ie("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):Ie("div",{})]})}const G0="uppy-transition-slideDownUp",_U=250;function ej({children:t}){const[e,r]=T1(null),[n,i]=T1(""),a=ib(),o=ib(),l=ib(),c=L5(()=>{i(`${G0}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${G0}-enter ${G0}-enter-active`),a.current=setTimeout(()=>{i("")},_U)})},[]),u=L5(()=>{i(`${G0}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${G0}-leave ${G0}-leave-active`),o.current=setTimeout(()=>{r(null),i("")},_U)})},[]);return D5(()=>{const h=Wm(t)[0];e!==h&&(h&&!e?c():e&&!h&&!o.current&&u(),r(h))},[t,e,c,u]),D5(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?poe(e,{className:Xd(n,e.props.className)}):null}const wh={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Yke="",EU=()=>` ${Yke} `;function Kke(t){const{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=Xd("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===wh.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return Ie("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:u})}function Xke(t){const{i18n:e,uppy:r}=t;return Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:Ie("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function Zke(t){const{i18n:e,uppy:r}=t;return Ie("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:Ie("g",{fill:"none",fillRule:"evenodd",children:[Ie("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),Ie("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Qke(t){const{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:i,uppy:a}=t,o=r(e?"resume":"pause");function l(){if(!n){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return Ie("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:Ie("g",{fill:"none",fillRule:"evenodd",children:[Ie("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),Ie("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Jke(t){const{i18n:e,doneButtonHandler:r}=t;return Ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:e("done")})}function Hoe(){return Ie("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:Ie("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function ePe(t){const{progress:e}=t,{value:r,mode:n,message:i}=e;return Ie("div",{className:"uppy-StatusBar-content",children:[Ie(Hoe,{}),n==="determinate"?`${Math.round(r*100)}%  `:"",i]})}function tPe(t){const{numUploads:e,complete:r,totalUploadedSize:n,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=yg(n);return Ie("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),Ie("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&EU(),i!=null?o("dataUploadedOfTotal",{complete:c,total:yg(i)}):o("dataUploadedOfUnknown",{complete:c}),EU(),a!=null&&o("xTimeLeft",{time:OEe(a)})]})]})}function Woe(t){const{i18n:e,complete:r,numUploads:n}=t;return Ie("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:r,smart_count:n})})}function rPe(t){const{i18n:e,newFiles:r,startUpload:n}=t,i=Xd("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return Ie("div",{className:"uppy-StatusBar-statusSecondary",children:[Ie("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:r})}),Ie("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n,children:e("upload")})]})}function nPe(t){const{i18n:e,supportsUploadProgress:r,totalProgress:n,hideProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:u,complete:h,totalUploadedSize:f,totalSize:y,totalETA:v,startUpload:S}=t,w=c&&a;if(!a||o)return null;const N=e(l?"paused":"uploading");function _(){return!l&&!w&&!i?r?Ie(tPe,{numUploads:u,complete:h,totalUploadedSize:f,totalSize:y,totalETA:v,i18n:e}):Ie(Woe,{i18n:e,complete:h,numUploads:u}):null}return Ie("div",{className:"uppy-StatusBar-content",title:N,children:[l?null:Ie(Hoe,{}),Ie("div",{className:"uppy-StatusBar-status",children:[Ie("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${N}: ${n}%`:N}),_(),w?Ie(rPe,{i18n:e,newFiles:c,startUpload:S}):null]})]})}function sPe(t){const{i18n:e}=t;return Ie("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:Ie("div",{className:"uppy-StatusBar-status",children:Ie("div",{className:"uppy-StatusBar-statusPrimary",children:[Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:Ie("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function iPe(t){const{error:e,i18n:r,complete:n,numUploads:i}=t;function a(){const o=`${r("uploadFailed")} 

 ${e}`;alert(o)}return Ie("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[Ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:Ie("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),Ie("div",{className:"uppy-StatusBar-status",children:[Ie("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),Ie("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),Ie(Woe,{i18n:r,complete:n,numUploads:i})]})]})}function t3(t){const e=[];let r="indeterminate",n;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;n==null&&(o||l)&&({mode:r,message:n}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:r,message:n,value:i}}const{STATE_ERROR:TU,STATE_WAITING:aPe,STATE_PREPROCESSING:r3,STATE_UPLOADING:tj,STATE_POSTPROCESSING:n3,STATE_COMPLETE:rj}=wh;function oPe({newFiles:t,allowNewUpload:e,isUploadInProgress:r,isAllPaused:n,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:u=!1,recoveredState:h,uploadState:f,totalProgress:y,files:v,supportsUploadProgress:S,hideAfterFinish:w=!1,isSomeGhost:N,doneButtonHandler:_=void 0,isUploadStarted:E,i18n:T,startUpload:M,uppy:O,isAllComplete:L,hideProgressDetails:B=void 0,numUploads:U,complete:$,totalSize:K,totalETA:q,totalUploadedSize:H}){function Q(){switch(f){case n3:case r3:{const de=t3(v);return de.mode==="determinate"?de.value*100:y}case TU:return null;case tj:return S?y:null;default:return y}}function Z(){switch(f){case n3:case r3:{const{mode:de}=t3(v);return de==="indeterminate"}case tj:return!S;default:return!1}}const J=Q(),ye=J??100,ge=!a&&t&&(!r&&!n||h)&&e&&!o,oe=!c&&f!==aPe&&f!==rj,re=i&&!l&&f===tj,me=a&&!L&&!u,ne=_&&f===rj,G=Xd("uppy-StatusBar-progress",{"is-indeterminate":Z()}),se=Xd("uppy-StatusBar",`is-${f}`,{"has-ghosts":N}),ue=(()=>{switch(f){case r3:case n3:return Ie(ePe,{progress:t3(v)});case rj:return Ie(sPe,{i18n:T});case TU:return Ie(iPe,{error:a,i18n:T,numUploads:U,complete:$});case tj:return Ie(nPe,{i18n:T,supportsUploadProgress:S,totalProgress:y,hideProgressDetails:B,isUploadStarted:E,isAllComplete:L,isAllPaused:n,newFiles:t,numUploads:U,complete:$,totalUploadedSize:H,totalSize:K,totalETA:q,startUpload:M});default:return null}})();return!(ge||me||re||oe||ne)&&!ue||f===rj&&w?null:Ie("div",{className:se,children:[Ie("div",{className:G,style:{width:`${ye}%`},role:"progressbar","aria-label":`${ye}%`,"aria-valuetext":`${ye}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":J}),ue,Ie("div",{className:"uppy-StatusBar-actions",children:[ge?Ie(Kke,{newFiles:t,isUploadStarted:E,recoveredState:h,i18n:T,isSomeGhost:N,startUpload:M,uploadState:f}):null,me?Ie(Xke,{i18n:T,uppy:O}):null,re?Ie(Qke,{isAllPaused:n,i18n:T,isAllComplete:L,resumableUploads:i,uppy:O}):null,oe?Ie(Zke,{i18n:T,uppy:O}):null,ne?Ie(Jke,{i18n:T,doneButtonHandler:_}):null]})]})}const lPe=2e3,cPe=2e3;function uPe(t,e,r,n){if(t)return wh.STATE_ERROR;if(e)return wh.STATE_COMPLETE;if(r)return wh.STATE_WAITING;let i=wh.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return wh.STATE_UPLOADING;l.preprocess&&(i=wh.STATE_PREPROCESSING),l.postprocess&&i!==wh.STATE_PREPROCESSING&&(i=wh.STATE_POSTPROCESSING)}return i}var ap,Ph,Mg,Of,Vw,r4,Goe;class dPe extends Vh{constructor(){super(...arguments);xt(this,r4);xt(this,ap);xt(this,Ph);xt(this,Mg);xt(this,Of);xt(this,Vw,()=>{const{recoveredState:r}=this.props.uppy.getState();if(wt(this,Mg,null),wt(this,Of,null),r){wt(this,Ph,Object.values(r.files).reduce((n,{progress:i})=>n+(i.bytesUploaded||0),0));return}wt(this,ap,performance.now()),wt(this,Ph,0)});Ne(this,"startUpload",()=>{const{recoveredState:r}=this.props.uppy.getState();r?this.props.uppy.emit("restore-confirmed"):this.props.uppy.upload().catch((()=>{}))})}componentDidMount(){wt(this,ap,performance.now()),wt(this,Ph,this.props.uppy.getFiles().reduce((r,n)=>r+(n.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",ie(this,Vw))}componentWillUnmount(){this.props.uppy.off("upload",ie(this,Vw))}render(){const{capabilities:r,files:n,allowNewUpload:i,totalProgress:a,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:u,completeFiles:h,isUploadStarted:f,isAllComplete:y,isAllPaused:v,isUploadInProgress:S,isSomeGhost:w}=this.props.uppy.getObjectOfFilesPerState(),N=l?Object.values(n):c,_=!!r.resumableUploads,E=r.uploadProgress!==!1;let T=null,M=0;u.every(L=>L.progress.bytesTotal!=null&&L.progress.bytesTotal!==0)?(T=0,u.forEach(L=>{T+=L.progress.bytesTotal||0,M+=L.progress.bytesUploaded||0})):u.forEach(L=>{M+=L.progress.bytesUploaded||0});const O=Lt(this,r4,Goe).call(this,{uploaded:M,total:T});return Ie(oPe,{error:o,uploadState:uPe(o,y,l,n||{}),allowNewUpload:i,totalProgress:a,totalSize:T,totalUploadedSize:M,isAllComplete:y,isAllPaused:v,isUploadStarted:f,isUploadInProgress:S,isSomeGhost:w,recoveredState:l,complete:h.length,newFiles:N.length,numUploads:u.length,totalETA:O,files:n,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:_,supportsUploadProgress:E,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}ap=new WeakMap,Ph=new WeakMap,Mg=new WeakMap,Of=new WeakMap,Vw=new WeakMap,r4=new WeakSet,Goe=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;ie(this,ap)??wt(this,ap,performance.now());const i=performance.now()-ie(this,ap);if(i===0)return Math.round((ie(this,Of)??0)/100)/10;if(ie(this,Ph)==null)return wt(this,Ph,r.uploaded),null;const a=r.uploaded-ie(this,Ph);if(wt(this,Ph,r.uploaded),a<=0)return Math.round((ie(this,Of)??0)/100)/10;const o=a/i;if(!Number.isFinite(o)||o<=0)return null;const l=ie(this,Mg)==null?o:AB(o,ie(this,Mg),lPe,i);if(!Number.isFinite(l)||l<=0)return null;wt(this,Mg,l);const c=n/l;if(!Number.isFinite(c)||c<0)return null;const u=Math.max((ie(this,Of)??0)-i,0),h=ie(this,Of)==null?c:AB(c,u,cPe,i);return!Number.isFinite(h)||h<0?null:(wt(this,Of,h),wt(this,ap,performance.now()),Math.round(h/100)/10)};const kU=900,PU=700,s3=576,IU=330;function hPe(t){const e=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>s3,i=t.containerHeight>IU,a=Xd({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>s3,"uppy-size--lg":t.containerWidth>PU,"uppy-size--xl":t.containerWidth>kU,"uppy-size--height-md":t.containerHeight>IU,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&i});let o=1;t.containerWidth>kU?o=5:t.containerWidth>PU?o=4:t.containerWidth>s3&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,u=t.files?Object.keys(t.files).filter(y=>t.files[y].isGhost).length:0,h=()=>u>0?t.i18n("recoveredXFiles",{smart_count:u}):t.i18n("recoveredAllFiles");return Ie("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&PEe(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[Ie("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),Ie("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:Ie("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:Ie("span",{"aria-hidden":"true",children:""})}),Ie("div",{className:"uppy-Dashboard-innerWrap",children:[Ie("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&Ie(Gke,{...t}),c&&Ie("div",{className:"uppy-Dashboard-serviceMsg",children:[Ie("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:Ie("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[Ie("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),Ie("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),Ie("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),Ie("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),Ie("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?Ie(Lke,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):Ie($oe,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),Ie(ej,{children:t.showAddFilesPanel?Ie(lke,{...t,isSizeMD:n},"AddFiles"):null}),Ie(ej,{children:t.fileCardFor?Ie(yke,{...t},"FileCard"):null}),Ie(ej,{children:t.activePickerPanel?Ie(Vke,{...t},"Picker"):null}),Ie(ej,{children:t.showFileEditor?Ie(cke,{...t},"Editor"):null}),Ie("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&Ie(AU,{uppy:t.uppy}),!t.disableStatusBar&&Ie(dPe,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&Ie(AU,{uppy:t.uppy}),t.progressindicators.map(y=>t.uppy.getPlugin(y.id).render(t.state))]})]})]})]})}const fPe={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Yoe(t,e){if(e){const r=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(r)return r}return t}function mPe(){let t=!1;return ITe((r,n)=>{const i=Yoe(r,n),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(Wae);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function OU(t,e){const r=e[0];r&&(r.focus(),t.preventDefault())}function pPe(t,e){const r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function gPe(t){return t.contains(document.activeElement)}function Koe(t,e,r){const n=Yoe(r,e),i=nb(n.querySelectorAll(Wae)),a=i.indexOf(document.activeElement);gPe(n)?t.shiftKey&&a===0?pPe(t,i):!t.shiftKey&&a===i.length-1&&OU(t,i):OU(t,i)}function xPe(t,e,r){e===null||Koe(t,e,r)}const MU=9,yPe=27;function RU(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const vPe={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:OTe,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var n1,Rg,Hw,s1,n4,s4,i4,Dg,a4,o4,i1,_p,xI,yI;class Xoe extends F5{constructor(r,n){var a;const i=(n==null?void 0:n.autoOpen)??null;super(r,{...vPe,...n,autoOpen:i});xt(this,_p);xt(this,n1);Ne(this,"modalName",`uppy-Dashboard-${Uoe()}`);Ne(this,"superFocus",mPe());Ne(this,"ifFocusedOnUppyRecently",!1);Ne(this,"dashboardIsDisabled");Ne(this,"savedScrollPosition");Ne(this,"savedActiveElement");Ne(this,"resizeObserver");Ne(this,"darkModeMediaQuery");Ne(this,"makeDashboardInsidesVisibleAnywayTimeout");Ne(this,"removeTarget",r=>{const i=this.getPluginState().targets.filter(a=>a.id!==r.id);this.setPluginState({targets:i})});Ne(this,"addTarget",r=>{const n=r.id||r.constructor.name,i=r.title||n,a=r.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:n,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});Ne(this,"hideAllPanels",()=>{var i;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(i=r.activePickerPanel)==null?void 0:i.id))});Ne(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),i=n.find(a=>a.type==="acquirer"&&a.id===r);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});Ne(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return ie(this,Dg).call(this,n).some(a=>this.uppy.getPlugin(a.id).canEditFile(r))});Ne(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),i=ie(this,Dg).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(r)})});Ne(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});Ne(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();ie(this,Dg).call(this,r).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});Ne(this,"openModal",()=>{const{promise:r,resolve:n}=RU();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),n()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});Ne(this,"closeModal",r=>{var c;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=RU();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const u=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",u,!1),l()};this.el.addEventListener("animationend",u,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});Ne(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);Ne(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());Ne(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});Ne(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});Ne(this,"toggleFileCard",(r,n)=>{const i=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});Ne(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});Ne(this,"addFiles",r=>{const n=r.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(i){this.uppy.log(i)}});Ne(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:i,height:a}=n.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});Ne(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});Ne(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});Ne(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=ie(this,n1)??nb(this.el.querySelectorAll(n)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",r):a.disabled=r;r?wt(this,n1,i):wt(this,n1,null),this.dashboardIsDisabled=r});Ne(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});Ne(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});Ne(this,"handleKeyDownInModal",r=>{r.keyCode===yPe&&this.requestCloseModal(),r.keyCode===MU&&Koe(r,this.getPluginState().activeOverlayType,this.el)});Ne(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});Ne(this,"handlePaste",r=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,r))});const n=nb(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});Ne(this,"handleInputChange",r=>{r.preventDefault();const n=nb(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});Ne(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var u;(u=c.canHandleRootDrop)!=null&&u.call(c,r)&&(l=!0)}),l},i=()=>{const{types:l}=r.dataTransfer;return l.some(c=>c==="Files")},a=n(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});Ne(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});Ne(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,r))});let n=!1;const i=o=>{this.uppy.log(o,"error"),n||(this.uppy.info(o.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await EEe(r.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(r)});Ne(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});Ne(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});Ne(this,"handleKeyDownInInline",r=>{r.keyCode===MU&&xPe(r,this.getPluginState().activeOverlayType,this.el)});Ne(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});Ne(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});xt(this,Rg,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:r});const a={...n[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});xt(this,Hw,r=>{const n=r[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(n);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});Ne(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=_B(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",ie(this,i1)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",ie(this,Rg)),this.uppy.on("file-removed",ie(this,Rg)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",ie(this,Hw))});Ne(this,"removeEvents",()=>{const r=_B(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",ie(this,i1)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",ie(this,Rg)),this.uppy.off("file-removed",ie(this,Rg)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",ie(this,Hw))});Ne(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});Ne(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});Ne(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});xt(this,s1,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});xt(this,n4,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});xt(this,s4,r=>r.filter(n=>n.type==="acquirer"&&ie(this,n4).call(this,n)).map(ie(this,s1)));xt(this,i4,r=>r.filter(n=>n.type==="progressindicator").map(ie(this,s1)));xt(this,Dg,r=>r.filter(n=>n.type==="editor").map(ie(this,s1)));Ne(this,"render",r=>{const n=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=r,{newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:h,inProgressFiles:f,inProgressNotPausedFiles:y,processingFiles:v,isUploadStarted:S,isAllComplete:w,isAllPaused:N}=this.uppy.getObjectOfFilesPerState(),_=ie(this,s4).call(this,n.targets),E=ie(this,i4).call(this,n.targets),T=ie(this,Dg).call(this,n.targets);let M;return this.opts.theme==="auto"?M=a.darkMode?"dark":"light":M=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),hPe({state:r,isHidden:n.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:h,inProgressFiles:f,inProgressNotPausedFiles:y,processingFiles:v,isUploadStarted:S,isAllComplete:w,isAllPaused:N,totalFileCount:Object.keys(i).length,totalProgress:r.totalProgress,allowNewUpload:o,acquirers:_,theme:M,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:E,editors:T,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});xt(this,a4,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const i=this.uppy.getPlugin(n);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});xt(this,o4,()=>{this.uppy.iteratePlugins(ie(this,i1))});xt(this,i1,r=>{var i;const n=["acquirer","editor"];r&&!((i=r.opts)!=null&&i.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(o=>r.id===o.id)||r.mount(this,r))});Ne(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(Boe,{id:Lt(this,_p,yI).call(this),...Lt(this,_p,xI).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),ie(this,a4).call(this),ie(this,o4).call(this),this.initEvents()});Ne(this,"uninstall",()=>{var n;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:r}=this.opts;r.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=fPe,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n;super.setOptions(r),(n=this.uppy.getPlugin(Lt(this,_p,yI).call(this)))==null||n.setOptions(Lt(this,_p,xI).call(this))}}n1=new WeakMap,Rg=new WeakMap,Hw=new WeakMap,s1=new WeakMap,n4=new WeakMap,s4=new WeakMap,i4=new WeakMap,Dg=new WeakMap,a4=new WeakMap,o4=new WeakMap,i1=new WeakMap,_p=new WeakSet,xI=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},yI=function(){return`${this.id}:ThumbnailGenerator`},Ne(Xoe,"VERSION",oke.version);const bPe=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wPe=/^(aria-|data-)/,Zoe=t=>Object.fromEntries(Object.entries(t).filter(([e])=>wPe.test(e)||bPe.includes(e)));function NPe(t,e){const r=Zoe(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==e[n])}class Qoe extends P.Component{constructor(){super(...arguments);Ne(this,"container");Ne(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:i,onRequestClose:a}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(NPe(this.props,r)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}r.open&&!i?this.plugin.closeModal():!r.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:r,open:n,onRequestCloseModal:i};a.use(Xoe,l),this.plugin=a.getPlugin(l.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return P.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...Zoe(this.props)})}}Ne(Qoe,"defaultProps",{open:void 0,onRequestClose:void 0});var i3={},a3,DU;function jPe(){if(DU)return a3;DU=1;function t(e,r){typeof r=="boolean"&&(r={forever:r}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=r||{},this._maxRetryTime=r&&r.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return a3=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var r=new Date().getTime();if(e&&r-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,r){this._fn=e,r&&(r.timeout&&(this._operationTimeout=r.timeout),r.cb&&(this._operationTimeoutCb=r.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},r=null,n=0,i=0;i<this._errors.length;i++){var a=this._errors[i],o=a.message,l=(e[o]||0)+1;e[o]=l,l>=n&&(r=a,n=l)}return r},a3}var LU;function SPe(){return LU||(LU=1,(function(t){var e=jPe();t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=r[l];r[l]=(function(h){var f=t.operation(n),y=Array.prototype.slice.call(arguments,1),v=y.pop();y.push(function(S){f.retry(S)||(S&&(arguments[0]=f.mainError()),v.apply(this,arguments))}),f.attempt(function(){h.apply(r,y)})}).bind(r,c),r[l].options=n}}})(i3)),i3}var o3,FU;function CPe(){return FU||(FU=1,o3=SPe()),o3}var APe=CPe();const _Pe=as(APe),EPe=Object.prototype.toString,TPe=t=>EPe.call(t)==="[object Error]",kPe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function PPe(t){if(!(t&&TPe(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:r,stack:n}=t;return r==="Load failed"?n===void 0||"__sentry_captured__"in t:r.startsWith("error sending request for url")?!0:kPe.has(r)}class vI extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const BU=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function UU(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=_Pe.operation(e),a=()=>{var l;i.stop(),n((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof vI)throw c.originalError;if(c instanceof TypeError&&!PPe(c))throw c;if(BU(c,l,e),await e.shouldRetry(c)||(i.stop(),n(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(u){BU(u,l,e),o(),n(u)}}})})}const IPe="5.1.1",OPe={version:IPe};class MPe extends Error{constructor(){super("Authorization required");Ne(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function RPe(t){return t.replace(/\/$/,"")}const $U=10,DPe=300*1e3,LPe=401;class FPe extends Error{constructor({statusCode:r,message:n}){super(n);Ne(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function BPe(t){if(t.status===LPe)throw new MPe;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new FEe(r.message):new FPe({statusCode:t.status,message:e})}function UPe(t,e,r){const{progress:n,bytesUploaded:i,bytesTotal:a}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var Lg,Ep,bI,l4,wI;class Joe{constructor(e,r){xt(this,Ep);xt(this,Lg);Ne(this,"uppy");Ne(this,"opts");xt(this,l4,async({file:e,postBody:r,signal:n})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...r},{signal:n})).token});this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),wt(this,Lg,r.companionHeaders)}setCompanionHeaders(e){wt(this,Lg,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return ie(this,Lg)}get hostname(){const{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return RPe(e!=null&&e[r]?e[r]:r)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...ie(this,Lg)}}onReceiveResponse(e){const{headers:r}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:r.get("i-am")}})}async request({path:e,method:r="GET",data:n,skipPostResponse:i,signal:a}){try{const o=await this.headers(!n),l=await yEe(Lt(this,Ep,bI).call(this,e),{method:r,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return i||this.onReceiveResponse(l),await BPe(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new gEe(`Could not ${r} ${Lt(this,Ep,bI).call(this,e)}`,{cause:o})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){try{const{signal:i,getQueue:a}=n||{};return await UU(async()=>{var u;const o=(u=this.uppy.getFile(e.id))==null?void 0:u.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),Lt(this,Ep,wI).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...h)=>{try{return await ie(this,l4).call(this,...h)}catch(f){if(f.isAuthError)throw new vI(f);if(f.cause==null)throw f;const y=f.cause,v=()=>[408,409,429,418,423].includes(y.statusCode)||y.statusCode>=500&&y.statusCode<=599&&![501,505].includes(y.statusCode);throw y.name==="HttpError"&&!v()?new vI(y):y}},{priority:-1})({file:e,postBody:r,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),Lt(this,Ep,wI).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:$U,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}Lg=new WeakMap,Ep=new WeakSet,bI=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},l4=new WeakMap,wI=async function({file:e,queue:r,signal:n}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,u=TEe(e.remote.companionUrl);let h,f,y,{isPaused:v}=e;const S=(B,U)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${B}" to socket ${e.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:B,payload:U??{}}))};function w(){a.resumableUploads&&S(v?"pause":"resume")}const N=async()=>{f&&f.abort(),f=new AbortController;const B=$=>{var K;this.uppy.setFileState(e.id,{serverToken:null}),(K=f==null?void 0:f.abort)==null||K.call(f),l($)};function U(){clearTimeout(y),!v&&(y=setTimeout(()=>B(new Error("Timeout waiting for message from Companion socket")),DPe))}try{await r.wrapPromiseFunction(async()=>{await UU(async()=>new Promise((K,q)=>{h=new WebSocket(`${u}/api/${c}`),U(),h.addEventListener("close",()=>{h=void 0,q(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",Q=>{this.uppy.log(`Companion socket error ${JSON.stringify(Q)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{w()}),h.addEventListener("message",Q=>{var Z,J,ye;U();try{const{action:ge,payload:oe}=JSON.parse(Q.data);switch(ge){case"progress":{UPe(this,oe,this.uppy.getFile(e.id));break}case"success":{const re=(Z=oe.response)==null?void 0:Z.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:oe.url,status:((J=oe.response)==null?void 0:J.status)??200,body:re?JSON.parse(re):void 0}),(ye=f==null?void 0:f.abort)==null||ye.call(f),o();break}case"error":{const{message:re}=oe.error;throw Object.assign(new Error(re),{cause:oe.error})}default:this.uppy.log(`Companion socket unknown action ${ge}`,"warning")}}catch(ge){B(ge)}});const H=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(y),h&&h.close(),h=void 0};f.signal.addEventListener("abort",()=>{H()})}),{retries:$U,signal:f.signal,onFailedAttempt:()=>{f.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(f.signal)}catch($){if(f.signal.aborted)return;B($)}},_=B=>{a.resumableUploads&&(v=B,h&&w())},E=B=>{var U;a.individualCancellation&&B.id===e.id&&(S("cancel"),(U=f==null?void 0:f.abort)==null||U.call(f),this.uppy.log(`upload ${e.id} was removed`),o())},T=()=>{var B;S("cancel"),(B=f==null?void 0:f.abort)==null||B.call(f),this.uppy.log(`upload ${e.id} was canceled`),o()},M=(B,U)=>{(B==null?void 0:B.id)===e.id&&_(U)},O=()=>_(!0),L=()=>_(!1);this.uppy.on("file-removed",E),this.uppy.on("cancel-all",T),this.uppy.on("upload-pause",M),this.uppy.on("pause-all",O),this.uppy.on("resume-all",L),i=()=>{this.uppy.off("file-removed",E),this.uppy.off("cancel-all",T),this.uppy.off("upload-pause",M),this.uppy.off("pause-all",O),this.uppy.off("resume-all",L)},n.addEventListener("abort",()=>{f==null||f.abort()}),N()})}finally{i==null||i()}},Ne(Joe,"VERSION",OPe.version);const $Pe="5.0.2",zPe={version:$Pe};function qPe({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:i}){const a=Object.keys(n).map(o=>o.toLowerCase()).sort();return[t,e,r,...a.map(o=>`${o}:${n[o]}`),"",a.join(";"),i].join(`
`)}const yR=new TextEncoder,vR={name:"HMAC",hash:"SHA-256"};async function VPe(t){const{subtle:e}=globalThis.crypto;return e.digest(vR.hash,yR.encode(t))}async function HPe(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?yR.encode(t):t,vR,!1,["sign"])}function zU(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function lv(t,e){const{subtle:r}=globalThis.crypto;return r.sign(vR,await HPe(t),yR.encode(e))}async function WPe({accountKey:t,accountSecret:e,sessionToken:r,bucketName:n,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const h=`s3.${a}.amazonaws.com`,f=`/${n}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,$=>`%${$.charCodeAt(0).toString(16).toUpperCase()}`)}`,y="UNSIGNED-PAYLOAD",v=new Date().toISOString().replace(/[-:]|\.\d+/g,""),S=v.slice(0,8),w=`${S}/${a}/s3/aws4_request`,N=new URL(`https://${h}${f}`);N.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),N.searchParams.set("X-Amz-Content-Sha256",y),N.searchParams.set("X-Amz-Credential",`${t}/${w}`),N.searchParams.set("X-Amz-Date",v),N.searchParams.set("X-Amz-Expires",o),N.searchParams.set("X-Amz-Security-Token",r),N.searchParams.set("X-Amz-SignedHeaders","host"),c&&N.searchParams.set("partNumber",c),l&&N.searchParams.set("uploadId",l),N.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const _=qPe({CanonicalUri:f,CanonicalQueryString:N.search.slice(1),SignedHeaders:{host:h},HashedPayload:y}),E=zU(await VPe(_)),T=["AWS4-HMAC-SHA256",v,w,E].join(`
`),M=await lv(`AWS4${e}`,S),O=await lv(M,a),L=await lv(O,"s3"),B=await lv(L,"aws4_request"),U=zU(await lv(B,T));return N.searchParams.set("X-Amz-Signature",U),N}const GPe=1024*1024,qU={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function YPe(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const zj=Symbol("pausing upload, not an actual error");var _d,Fu,Ih,Mf,Rf,Ww,Gw,a1,Fg,o1,Yw,l1,Kw,Jd,ele,tle,NI,Xw,Zw,rle;class KPe{constructor(e,r){xt(this,Jd);Ne(this,"options");xt(this,_d,new A_);xt(this,Fu,[]);xt(this,Ih,[]);xt(this,Mf);xt(this,Rf);xt(this,Ww,!1);xt(this,Gw);xt(this,a1);xt(this,Fg);xt(this,o1);xt(this,Yw,e=>(e==null?void 0:e.cause)===zj?null:ie(this,Gw).call(this,e));xt(this,l1,1e4);xt(this,Kw,5*GPe);xt(this,Xw,e=>r=>{if(!r.lengthComputable)return;ie(this,Ih)[e].uploaded=YPe(r.loaded);const n=ie(this,Ih).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(n,ie(this,Mf).size)});xt(this,Zw,e=>r=>{ie(this,Fu)[e]=null,ie(this,Ih)[e].etag=r,ie(this,Ih)[e].done=!0;const n={PartNumber:e+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={...qU,...r},(n=this.options).getChunkSize??(n.getChunkSize=qU.getChunkSize),wt(this,Mf,e),wt(this,Rf,r.file),wt(this,a1,this.options.onSuccess),wt(this,Gw,this.options.onError),wt(this,Fg,this.options.shouldUseMultipart),wt(this,o1,r.uploadId&&r.key),Lt(this,Jd,ele).call(this)}start(){ie(this,Ww)?(ie(this,_d).signal.aborted||ie(this,_d).abort(zj),wt(this,_d,new A_),Lt(this,Jd,NI).call(this)):ie(this,o1)?(this.options.companionComm.restoreUploadFile(ie(this,Rf),{uploadId:this.options.uploadId,key:this.options.key}),Lt(this,Jd,NI).call(this)):Lt(this,Jd,tle).call(this)}pause(){ie(this,_d).abort(zj),wt(this,_d,new A_)}abort(e){e!=null&&e.really?Lt(this,Jd,rle).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return ie(this,Ih)}}_d=new WeakMap,Fu=new WeakMap,Ih=new WeakMap,Mf=new WeakMap,Rf=new WeakMap,Ww=new WeakMap,Gw=new WeakMap,a1=new WeakMap,Fg=new WeakMap,o1=new WeakMap,Yw=new WeakMap,l1=new WeakMap,Kw=new WeakMap,Jd=new WeakSet,ele=function(){const e=ie(this,Mf).size,r=typeof ie(this,Fg)=="function"?ie(this,Fg).call(this,ie(this,Rf)):!!ie(this,Fg);if(r&&e>ie(this,Kw)){let n=Math.max(this.options.getChunkSize(ie(this,Mf)),ie(this,Kw)),i=Math.floor(e/n);i>ie(this,l1)&&(i=ie(this,l1),n=e/ie(this,l1)),wt(this,Fu,Array(i));for(let a=0,o=0;a<e;a+=n,o++){const l=Math.min(e,a+n),c=()=>{const u=a;return ie(this,Mf).slice(u,l)};if(ie(this,Fu)[o]={getData:c,onProgress:ie(this,Xw).call(this,o),onComplete:ie(this,Zw).call(this,o),shouldUseMultipart:r},ie(this,o1)){const u=a+n>e?e-a:n;ie(this,Fu)[o].setAsUploaded=()=>{ie(this,Fu)[o]=null,ie(this,Ih)[o].uploaded=u}}}}else wt(this,Fu,[{getData:()=>ie(this,Mf),onProgress:ie(this,Xw).call(this,0),onComplete:ie(this,Zw).call(this,0),shouldUseMultipart:r}]);wt(this,Ih,ie(this,Fu).map(()=>({uploaded:0})))},tle=function(){this.options.companionComm.uploadFile(ie(this,Rf),ie(this,Fu),ie(this,_d).signal).then(ie(this,a1),ie(this,Yw)),wt(this,Ww,!0)},NI=function(){this.options.companionComm.resumeUploadFile(ie(this,Rf),ie(this,Fu),ie(this,_d).signal).then(ie(this,a1),ie(this,Yw))},Xw=new WeakMap,Zw=new WeakMap,rle=function(){ie(this,_d).abort(),this.options.companionComm.abortFileUpload(ie(this,Rf)).catch(e=>this.options.log(e))};function Tl(t){if(t!=null&&t.aborted)throw Hae("The operation was aborted",{cause:t.reason})}function XPe(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Qw,Ed,Jw,e2,t2,r2,c1,u1,d1,h1,Bg,f1,Td,d0,nle,jI;class ZPe{constructor(e,r,n,i){xt(this,d0);xt(this,Qw);xt(this,Ed,new WeakMap);xt(this,Jw);xt(this,e2);xt(this,t2);xt(this,r2);xt(this,c1);xt(this,u1);xt(this,d1);xt(this,h1);xt(this,Bg);xt(this,f1);xt(this,Td);wt(this,u1,e),wt(this,Bg,n),wt(this,Td,i),this.setOptions(r)}setOptions(e){const r=ie(this,u1);"abortMultipartUpload"in e&&wt(this,Qw,r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&wt(this,Jw,r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&wt(this,e2,r.wrapPromiseFunction(e.signPart)),"listParts"in e&&wt(this,r2,r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&wt(this,h1,r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&wt(this,d1,e.retryDelays??[]),"uploadPartBytes"in e&&wt(this,f1,r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&wt(this,t2,r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;;){if(e.data==null)throw new Error("File data is empty");if(n=ie(this,Ed).get(e.data),n==null)break;try{return await n}catch{}}const i=ie(this,Jw).call(this,ie(this,Td).call(this,e),r),a=()=>{if(e.data==null)throw new Error("File data is empty");i.abort(r.reason),ie(this,Ed).delete(e.data)};return r.addEventListener("abort",a,{once:!0}),ie(this,Ed).set(e.data,i),i.then(async o=>{if(r.removeEventListener("abort",a),ie(this,Bg).call(this,e,o),e.data==null)throw new Error("File data is empty");ie(this,Ed).set(e.data,o)},()=>{if(r.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");ie(this,Ed).delete(e.data)}),i}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const r=ie(this,Ed).get(e.data);if(r==null)return;ie(this,Ed).delete(e.data),ie(this,Bg).call(this,e,Object.create(null));let n;try{n=await r}catch{return}await ie(this,Qw).call(this,ie(this,Td).call(this,e),n)}async uploadFile(e,r,n){if(Tl(n),r.length===1&&!r[0].shouldUseMultipart)return Lt(this,d0,jI).call(this,e,r[0],n);const{uploadId:i,key:a}=await this.getUploadId(e,n);Tl(n);try{const o=await Promise.all(r.map((l,c)=>this.uploadChunk(e,c+1,l,n)));return Tl(n),await ie(this,h1).call(this,ie(this,Td).call(this,e),{key:a,uploadId:i,parts:o,signal:n},n).abortOn(n)}catch(o){throw(o==null?void 0:o.cause)!==zj&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,r){if(e.data==null)throw new Error("File data is empty");ie(this,Ed).set(e.data,r)}async resumeUploadFile(e,r,n){if(Tl(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return Lt(this,d0,jI).call(this,e,r[0],n);const{uploadId:i,key:a}=await this.getUploadId(e,n);Tl(n);const o=await ie(this,r2).call(this,ie(this,Td).call(this,e),{uploadId:i,key:a,signal:n},n).abortOn(n);Tl(n);const l=await Promise.all(r.map((c,u)=>{var y;const h=u+1,f=o.find(({PartNumber:v})=>v===h);return f==null?this.uploadChunk(e,h,c,n):((y=c==null?void 0:c.setAsUploaded)==null||y.call(c),{PartNumber:h,ETag:f.ETag})}));return Tl(n),ie(this,h1).call(this,ie(this,Td).call(this,e),{key:a,uploadId:i,parts:l,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,i){Tl(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=ie(this,d1).values(),c=ie(this,d1).values(),u=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){Tl(i);const h=n.getData(),{onProgress:f,onComplete:y}=n;let v;try{v=await ie(this,e2).call(this,ie(this,Td).call(this,e),{uploadId:a,key:o,partNumber:r,body:h,signal:i}).abortOn(i)}catch(S){const w=u();if(w==null||i.aborted)throw S;await new Promise(N=>setTimeout(N,w));continue}Tl(i);try{return{PartNumber:r,...await ie(this,f1).call(this,{signature:v,body:h,size:h.size,onProgress:f,onComplete:y,signal:i}).abortOn(i)}}catch(S){if(!await Lt(this,d0,nle).call(this,S,c))throw S}}}}Qw=new WeakMap,Ed=new WeakMap,Jw=new WeakMap,e2=new WeakMap,t2=new WeakMap,r2=new WeakMap,c1=new WeakMap,u1=new WeakMap,d1=new WeakMap,h1=new WeakMap,Bg=new WeakMap,f1=new WeakMap,Td=new WeakMap,d0=new WeakSet,nle=async function(e,r){var a;const n=ie(this,u1),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||ie(this,c1)==null){const o=r.next();if(o==null||o.done)return!1;wt(this,c1,o.value)}n.rateLimit(0),await new Promise(o=>setTimeout(o,ie(this,c1)))}}else if(i===429){if(!n.isPaused){const o=r.next();if(o==null||o.done)return!1;n.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const o=r.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},jI=async function(e,r,n){const{method:i="POST",url:a,fields:o,headers:l}=await ie(this,t2).call(this,ie(this,Td).call(this,e),{signal:n}).abortOn(n);let c;const u=r.getData();if(i.toUpperCase()==="POST"){const S=new FormData;Object.entries(o).forEach(([w,N])=>S.set(w,N)),S.set("file",u),c=S}else c=u;const{onProgress:h,onComplete:f}=r,y=await ie(this,f1).call(this,{signature:{url:a,headers:l,method:i},body:c,size:u.size,onProgress:h,onComplete:f,signal:n}).abortOn(n),v=o==null?void 0:o.key;return ie(this,Bg).call(this,e,{key:v}),{...y,location:y.location??XPe(a),bucket:o==null?void 0:o.bucket,key:v}};function Y0(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function VU(t){const e=t.Expiration;if(e){const r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function HU({meta:t,allowedMetaFields:e,querify:r=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(i=>t[i]!=null).map(i=>{const a=r?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const QPe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:(t=>(t.size||0)>100*1024*1024),retryDelays:[0,1e3,3e3,5e3]};var m1,Jl,uo,CI,Hm,kd,sle,c4,p1,ile,ale,n2,g1,Ug,s2;const u4=class u4 extends voe{constructor(r,n){super(r,{...QPe,uploadPartBytes:u4.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});xt(this,uo);xt(this,m1);xt(this,Jl);Ne(this,"requests");Ne(this,"uploaderEvents");Ne(this,"uploaders");xt(this,kd);xt(this,c4,(r,{key:n,uploadId:i})=>{const a=this.uppy.getFile(r.id);a!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...a.s3Multipart,key:n,uploadId:i}})});xt(this,p1,r=>this.uppy.getFile(r.id)||r);xt(this,n2,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),i=vEe(n),a=bEe(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const u=()=>this.requests;ie(this,Ug).call(this,!1);const h=new AbortController,f=v=>{v.id===c.id&&h.abort()};this.uppy.on("file-removed",f);const y=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,Lt(this,uo,ale).call(this,c),{signal:h.signal,getQueue:u});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",f)},{priority:-1})(),y}return Lt(this,uo,ile).call(this,c)}),l=await Promise.allSettled(o);return ie(this,Ug).call(this,!0),l});xt(this,g1,()=>{var r;(r=ie(this,Jl))==null||r.setCompanionHeaders(this.opts.headers)});xt(this,Ug,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});xt(this,s2,()=>{ie(this,Ug).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",Lt(this,uo,CI).call(this,n);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new REe(this.opts.limit),wt(this,m1,new ZPe(this.requests,this.opts,ie(this,c4),ie(this,p1))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return ie(this,Jl)}setOptions(r){ie(this,m1).setOptions(r),super.setOptions(r),Lt(this,uo,CI).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){Lt(this,uo,Hm).call(this,"createMultipartUpload"),Tl(n);const i=kB(this.opts.allowedMetaFields,r.meta),a=HU({meta:r.meta,allowedMetaFields:i});return ie(this,Jl).post("s3/multipart",{filename:r.name,type:r.type,metadata:a},{signal:n}).then(Y0)}listParts(r,{key:n,uploadId:i,signal:a},o){a??(a=o),Lt(this,uo,Hm).call(this,"listParts"),Tl(a);const l=encodeURIComponent(n);return ie(this,Jl).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Y0)}completeMultipartUpload(r,{key:n,uploadId:i,parts:a,signal:o},l){o??(o=l),Lt(this,uo,Hm).call(this,"completeMultipartUpload"),Tl(o);const c=encodeURIComponent(n),u=encodeURIComponent(i);return ie(this,Jl).post(`s3/multipart/${u}/complete?key=${c}`,{parts:a.map(({ETag:h,PartNumber:f})=>({ETag:h,PartNumber:f}))},{signal:o}).then(Y0)}async createSignedURL(r,n){const i=await Lt(this,uo,sle).call(this,n),a=VU(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=n;return{method:"PUT",expires:a,fields:{},url:`${await WPe({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${r.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:i,partNumber:a,signal:o}){if(Lt(this,uo,Hm).call(this,"signPart"),Tl(o),n==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return ie(this,Jl).get(`s3/multipart/${encodeURIComponent(n)}/${a}?key=${l}`,{signal:o}).then(Y0)}abortMultipartUpload(r,{key:n,uploadId:i,signal:a}){Lt(this,uo,Hm).call(this,"abortMultipartUpload");const o=encodeURIComponent(n),l=encodeURIComponent(i);return ie(this,Jl).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Y0)}getUploadParameters(r,n){Lt(this,uo,Hm).call(this,"getUploadParameters");const{meta:i}=r,{type:a,name:o}=i,l=kB(this.opts.allowedMetaFields,r.meta),c=HU({meta:i,allowedMetaFields:l,querify:!0}),u=new URLSearchParams({filename:o,type:a,...c});return ie(this,Jl).get(`s3/params?${u}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:u,signal:h}){if(Tl(h),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((f,y)=>{const v=new XMLHttpRequest;v.open(a,r,!0),i&&Object.keys(i).forEach(N=>{v.setRequestHeader(N,i[N])}),v.responseType="text",typeof n=="number"&&(v.timeout=n*1e3);function S(){v.abort()}function w(){h==null||h.removeEventListener("abort",S)}h==null||h.addEventListener("abort",S),v.upload.addEventListener("progress",N=>{c(N)}),v.addEventListener("abort",()=>{w(),y(Hae())}),v.addEventListener("timeout",()=>{w();const N=new Error("Request has expired");N.source={status:403},y(N)}),v.addEventListener("load",()=>{if(w(),v.status===403&&v.responseText.includes("<Message>Request has expired</Message>")){const M=new Error("Request has expired");M.source=v,y(M);return}if(v.status<200||v.status>=300){const M=new Error("Non 2xx");M.source=v,y(M);return}c==null||c({loaded:l,lengthComputable:!0});const N=v.getAllResponseHeaders().trim().split(/[\r\n]+/),_={__proto__:null};for(const M of N){const O=M.split(": "),L=O.shift(),B=O.join(": ");_[L]=B}const{etag:E,location:T}=_;if(a.toUpperCase()==="POST"&&T==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),E==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u==null||u(E),f({..._,ETag:E})}),v.addEventListener("error",N=>{w();const _=new Error("Unknown error");_.source=N.target,y(_)}),v.send(o)})}install(){ie(this,Ug).call(this,!0),this.uppy.addPreProcessor(ie(this,g1)),this.uppy.addUploader(ie(this,n2)),this.uppy.on("cancel-all",ie(this,s2))}uninstall(){this.uppy.removePreProcessor(ie(this,g1)),this.uppy.removeUploader(ie(this,n2)),this.uppy.off("cancel-all",ie(this,s2))}};m1=new WeakMap,Jl=new WeakMap,uo=new WeakSet,CI=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?wt(this,Jl,new Joe(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&ie(this,g1).call(this),"cookiesRule"in r&&(ie(this,Jl).opts.companionCookiesRule=r.cookiesRule)))},Hm=function(r){if(!ie(this,Jl))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},kd=new WeakMap,sle=async function(r){if(Tl(r==null?void 0:r.signal),ie(this,kd)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(Lt(this,uo,Hm).call(this,"getTemporarySecurityCredentials"),wt(this,kd,ie(this,Jl).get("s3/sts",r).then(Y0))):wt(this,kd,n(r)),wt(this,kd,await ie(this,kd)),setTimeout(()=>{wt(this,kd,null)},(VU(ie(this,kd).credentials)||0)*500)}return ie(this,kd)},c4=new WeakMap,p1=new WeakMap,ile=function(r){return new Promise((n,i)=>{const a=(h,f)=>{const y=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",y,{uploadStarted:y.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:f})},o=h=>{this.uppy.log(h),this.uppy.emit("upload-error",r,h),this.resetUploaderReferences(r.id),i(h)},l=h=>{const f={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",ie(this,p1).call(this,r),f),h.location&&this.uppy.log(`Download ${r.name} from ${h.location}`),n(void 0)};if(r.data==null)throw new Error("File data is empty");const c=new KPe(r.data,{companionComm:ie(this,m1),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",ie(this,p1).call(this,r),h)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const u=new QEe(this.uppy);this.uploaderEvents[r.id]=u,u.onFileRemove(r.id,h=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${h} was removed`)}),u.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),u.onFilePause(r.id,h=>{h?c.pause():c.start()}),u.onPauseAll(r.id,()=>{c.pause()}),u.onResumeAll(r.id,()=>{c.start()}),c.start()})},ale=function(r){var n;return{..."remote"in r&&((n=r.remote)==null?void 0:n.body),protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},n2=new WeakMap,g1=new WeakMap,Ug=new WeakMap,s2=new WeakMap,Ne(u4,"VERSION",zPe.version);let SI=u4;function JPe({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:r,onComplete:n,buttonClassName:i,children:a}){const[o,l]=P.useState(!1),[c]=P.useState(()=>new sI({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(SI,{shouldUseMultipart:!1,getUploadParameters:r}).on("complete",u=>{n==null||n(u)}));return s.jsxs("div",{children:[s.jsx(Be,{type:"button",onClick:()=>l(!0),className:i,"data-testid":"button-upload-images",children:a}),s.jsx(Qoe,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}const l3=[{id:"cleaning",name:"Cleaning",icon:"",description:"Professional home and property cleaning"},{id:"laundry",name:"Laundry",icon:"",description:"Laundry and garment care services"},{id:"transport",name:"Drivers & Transport",icon:"",description:"Airport pickup, tours, and daily drivers"},{id:"electrical",name:"Electrical",icon:"",description:"Electrical repairs and installations"},{id:"plumbing",name:"Plumbing",icon:"",description:"Plumbing fixes and maintenance"},{id:"carpentry",name:"Carpentry",icon:"",description:"Furniture and woodwork services"},{id:"meal_support",name:"Meal Support",icon:"",description:"Meal prep and catering services"},{id:"guest_support",name:"Guest Support",icon:"",description:"Welcome packs and concierge services"},{id:"self_care",name:"Self Care",icon:"",description:"Hair, makeup, and nail services"}];function e6e(){const{user:t}=ti(),[e,r]=P.useState(!1),[n,i]=P.useState(!1),a=Ms(),[o]=WJ(),{toast:l}=Vn(),c=P.useRef(null),u=o.get("category"),h=l3.find(M=>M.id===u),[f,y]=P.useState({businessName:"",serviceType:u||"",city:"",description:"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",portfolioImages:[]});P.useEffect(()=>{u&&t&&(y(M=>({...M,serviceType:u})),i(!0),setTimeout(()=>{if(c.current){const O=c.current.getBoundingClientRect().top+window.pageYOffset+-450;window.scrollTo({top:O,behavior:"smooth"})}},300))},[u,t]),P.useEffect(()=>{t!=null&&t.phoneNumber&&y(M=>({...M,phoneNumber:t.phoneNumber||""}))},[t]);const v=Ln({mutationFn:async M=>await xn("POST","/api/service-provider-applications",M),onSuccess:()=>{l({title:" Application Received!",description:"Our team will review and get back within 24 hours.",duration:5e3}),i(!1),y({businessName:"",serviceType:"",city:"",description:"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",portfolioImages:[]}),setTimeout(()=>{a("/my-services")},3e3)},onError:()=>{l({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}}),S=()=>{t?(i(!0),setTimeout(()=>{if(c.current){const O=c.current.getBoundingClientRect().top+window.pageYOffset+-450;window.scrollTo({top:O,behavior:"smooth"})}},200)):(r(!0),window.scrollTo({top:0,behavior:"smooth"}))},w=M=>{t?a(`/become-provider?category=${M}`):(r(!0),window.scrollTo({top:0,behavior:"smooth"}))},N=M=>{if(M.preventDefault(),!f.businessName||!f.serviceType||!f.city){l({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!f.phoneNumber||f.phoneNumber.length!==10){l({title:"Invalid Phone Number",description:"Phone number must be exactly 10 digits.",variant:"destructive"});return}if(!f.phoneNumber.startsWith("09")){l({title:"Invalid Phone Number",description:"Phone number must start with 09.",variant:"destructive"});return}v.mutate(f)},_=async()=>{try{const M=await fetch("/api/objects/upload",{method:"POST",credentials:"include"});if(!M.ok)throw new Error("Failed to get upload URL");const{uploadURL:O}=await M.json();return{method:"PUT",url:O}}catch(M){throw l({title:"Upload Error",description:"Failed to prepare image upload. Please try again.",variant:"destructive"}),M}},E=M=>{if(!M.successful)return;const O=M.successful.map(L=>L.uploadURL);y(L=>({...L,portfolioImages:[...L.portfolioImages,...O]})),l({title:"Images Uploaded",description:`Successfully uploaded ${O.length} image(s).`})},T=M=>{y(O=>({...O,portfolioImages:O.portfolioImages.filter((L,B)=>B!==M)}))};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#faf8f6] via-[#f5ece3] to-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx(_2,{open:e,onOpenChange:r}),s.jsxs("div",{className:"pb-20",children:[s.jsx("section",{className:"py-20 px-6",style:{background:"linear-gradient(to bottom, #f5ece3, #faf5f0)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("div",{className:"inline-block mb-6",children:s.jsx(ua,{className:"h-12 w-12 text-eth-orange mx-auto mb-4"})}),s.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-eth-brown mb-6 leading-tight",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},"data-testid":"heading-become-provider",children:["Earn. Connect. Grow",s.jsx("br",{}),"with Alga Services."]}),s.jsx("p",{className:"text-xl md:text-2xl text-eth-brown/70 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Join Ethiopia's trusted network of verified local professionals."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-8 mb-16 max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-eth-orange to-eth-brown rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(ii,{className:"h-7 w-7 text-white",strokeWidth:2.5})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-eth-brown text-base",children:"Earn More"}),s.jsx("p",{className:"text-sm text-eth-brown/60",children:"85% payout"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-eth-orange to-eth-brown rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(zg,{className:"h-7 w-7 text-white",strokeWidth:2.5})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-eth-brown text-base",children:"Verified Badge"}),s.jsx("p",{className:"text-sm text-eth-brown/60",children:"Build trust"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-eth-orange to-eth-brown rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(_4,{className:"h-7 w-7 text-white",strokeWidth:2.5})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-eth-brown text-base",children:"Fast Payments"}),s.jsx("p",{className:"text-sm text-eth-brown/60",children:"Within 24 hours"})]})]})]}),!n&&s.jsxs(Be,{onClick:S,size:"lg",className:"bg-eth-brown hover:bg-eth-brown/90 text-white rounded-full px-12 py-6 font-bold text-lg shadow-xl hover:shadow-2xl transition-all hover:scale-105","data-testid":"button-start-application",children:["Start Application",s.jsx(o5,{className:"ml-2 h-5 w-5"})]})]})}),s.jsx("section",{className:"py-16 px-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-eth-brown text-center mb-12",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"Choose Your Service Category"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:l3.map(M=>s.jsx(_e,{onClick:()=>w(M.id),className:"bg-white hover:shadow-lg transition-all duration-200 border-0 hover:scale-105 cursor-pointer","data-testid":`card-service-${M.id}`,children:s.jsxs(Te,{className:"p-4 sm:p-8 text-center",children:[s.jsx("div",{className:"text-4xl sm:text-5xl mb-3 sm:mb-4",children:M.icon}),s.jsx("h3",{className:"font-bold text-sm sm:text-lg text-eth-brown mb-1 sm:mb-2",children:M.name}),s.jsx("p",{className:"text-xs sm:text-sm text-eth-brown/60 hidden sm:block",children:M.description})]})},M.id))})]})}),n&&s.jsx("section",{ref:c,className:"py-16 px-6 animate-in slide-in-from-bottom duration-500",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(_e,{className:"bg-white shadow-2xl border-0",children:s.jsxs(Te,{className:"p-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[h&&s.jsx("div",{className:"text-5xl mb-4",children:h.icon}),!h&&s.jsx(Mr,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-eth-brown mb-2",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:h?`Apply to offer ${h.name} Services`:"Service Provider Application"}),s.jsx("p",{className:"text-eth-brown/70",children:"Tell us about your business"}),h&&s.jsxs("button",{type:"button",onClick:()=>a("/become-provider"),className:"inline-flex items-center gap-1 text-sm text-eth-brown/70 hover:text-eth-brown mt-3 transition-colors","data-testid":"link-choose-different-service",children:[s.jsx(ul,{className:"h-3 w-3"}),"Choose a different service"]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"businessName",className:"text-eth-brown font-medium",children:"Business Name *"}),s.jsx(Or,{id:"businessName",value:f.businessName,onChange:M=>y({...f,businessName:M.target.value}),placeholder:"e.g., Addis Professional Cleaning",className:"mt-2","data-testid":"input-business-name",required:!0})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"serviceType",className:"text-eth-brown font-medium",children:"Service Category *"}),h?s.jsx("div",{className:"mt-2 flex h-10 w-full items-center rounded-md border border-input bg-muted px-3 py-2 text-sm","data-testid":"text-locked-service-type",children:s.jsxs("span",{className:"text-eth-brown font-medium",children:[h.icon," ",h.name]})}):s.jsxs(Jn,{value:f.serviceType,onValueChange:M=>y({...f,serviceType:M}),required:!0,children:[s.jsx(Gn,{className:"mt-2","data-testid":"select-service-type",children:s.jsx(es,{placeholder:"Select a service category"})}),s.jsx(Yn,{children:l3.map(M=>s.jsxs(Vt,{value:M.id,children:[M.icon," ",M.name]},M.id))})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"city",className:"text-eth-brown font-medium",children:"Service City *"}),s.jsxs(Jn,{value:f.city,onValueChange:M=>y({...f,city:M}),required:!0,children:[s.jsx(Gn,{className:"mt-2","data-testid":"select-city",children:s.jsx(es,{placeholder:"Select your city"})}),s.jsx(Yn,{children:T2.map(M=>s.jsx(Vt,{value:M,children:M},M))})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"phoneNumber",className:"text-eth-brown font-medium",children:"Phone Number *"}),s.jsx(Or,{id:"phoneNumber",type:"tel",value:f.phoneNumber,maxLength:10,onChange:M=>{const O=M.target.value.replace(/[^0-9]/g,"").slice(0,10);y({...f,phoneNumber:O})},placeholder:"09XX XXX XXX",className:"mt-2","data-testid":"input-phone",required:!0})]}),s.jsxs("div",{children:[s.jsxs(yr,{htmlFor:"description",className:"text-eth-brown font-medium",children:["About Your Service ",s.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),s.jsx(_i,{id:"description",value:f.description,onChange:M=>y({...f,description:M.target.value}),placeholder:"Describe your experience, specialties, and what makes your service unique...",className:"mt-2 min-h-32","data-testid":"textarea-description"})]}),f.serviceType==="self_care"&&s.jsxs("div",{children:[s.jsx(yr,{className:"text-eth-brown font-medium",children:"Insert Image of Your Work"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 mb-3",children:"Upload photos of your previous work (hair, makeup, or nail services)"}),s.jsx("div",{className:"mt-2",children:s.jsx(JPe,{maxNumberOfFiles:5,maxFileSize:10485760,onGetUploadParameters:_,onComplete:E,buttonClassName:"w-full bg-eth-brown hover:bg-eth-brown/90 text-white",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(lp,{className:"h-4 w-4"}),s.jsx("span",{children:"Upload Images (Max 5)"})]})})}),f.portfolioImages.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3",children:f.portfolioImages.map((M,O)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:M,alt:`Portfolio ${O+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200","data-testid":`image-portfolio-${O}`}),s.jsx("button",{type:"button",onClick:()=>T(O),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","data-testid":`button-remove-image-${O}`,children:s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},O))})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1","data-testid":"button-cancel",children:"Cancel"}),s.jsx(Be,{type:"submit",disabled:v.isPending,className:"flex-1 bg-eth-brown hover:bg-eth-brown/90 text-white","data-testid":"button-submit-application",children:v.isPending?"Submitting...":"Submit Application"})]})]})]})})})}),!n&&s.jsx("section",{className:"py-20 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-eth-brown text-center mb-16",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"How It Works"}),s.jsx("div",{className:"space-y-8",children:[{step:"1",title:"Apply & Verify",description:"Submit your application and verify your ID. We'll review within 24 hours."},{step:"2",title:"Set Your Prices",description:"Create your profile with rates, availability, and service area."},{step:"3",title:"Get Bookings",description:"Receive requests from guests staying at Alga properties."},{step:"4",title:"Deliver & Get Paid",description:"Complete service, get reviewed, receive payment within 24 hours."}].map(M=>s.jsxs("div",{className:"flex items-start gap-6 bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-eth-orange to-eth-brown rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-bold text-xl",children:M.step})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-eth-brown mb-2",children:M.title}),s.jsx("p",{className:"text-eth-brown/70 text-lg",children:M.description})]})]},M.step))})]})})]}),s.jsx(Ei,{})]})}const t6e="modulepreload",r6e=function(t){return"/"+t},WU={},ab=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(u=>{if(u=r6e(u),u in WU)return;WU[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":t6e,h||(y.as="script"),y.crossOrigin="",y.href=u,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},n6e=_t.object({fullName:_t.string().min(2,"Full name is required"),phoneNumber:_t.string().min(10,"Valid phone number is required"),paymentMethod:_t.string().min(1,"Payment method is required"),paymentAccount:_t.string().min(10,"Payment account is required"),idNumber:_t.string().optional(),businessName:_t.string().optional(),city:_t.string().min(1,"City is required"),subCity:_t.string().optional()});function s6e(){th();const{toast:t}=Vn(),[e,r]=P.useState(!1),[n,i]=P.useState(!1),[a,o]=P.useState(null),l=Gf({resolver:Yf(n6e),defaultValues:{fullName:"",phoneNumber:"",paymentMethod:"",paymentAccount:"",idNumber:"",businessName:"",city:"",subCity:""}}),c=async f=>{r(!0);try{const y=await fetch("/api/agent/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!y.ok){const v=await y.json();throw new Error(v.message||"Registration failed")}window.location.href="/agent/success"}catch(y){t({title:" Registration Failed",description:y.message||"Failed to submit application. Please try again.",variant:"destructive"}),r(!1)}},u=async()=>{i(!0);try{const{Html5Qrcode:f}=await ab(async()=>{const{Html5Qrcode:S}=await Promise.resolve().then(()=>EQe);return{Html5Qrcode:S}},[]),y=new f("qr-reader"),v={fps:10,qrbox:{width:250,height:250}};await y.start({facingMode:"environment"},v,S=>{o(S),l.setValue("idNumber",S),t({title:" Fayda ID Scanned",description:"Your ID has been verified successfully!"}),y.stop(),i(!1)},S=>{})}catch{t({title:" Camera Error",description:"Unable to access camera. Please enter ID manually.",variant:"destructive"}),i(!1)}},h=["Addis Ababa","Dire Dawa","Mekelle","Gondar","Bahir Dar","Hawassa","Jimma","Adama","Harar","Dessie","Arba Minch","Axum","Lalibela"];return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-dark-brown dark:text-cream mb-4",children:" Become a Delala Agent"}),s.jsx("p",{className:"text-lg text-medium-brown dark:text-cream/80 mb-6",children:"List properties once, earn commissions for 3 years. Join Ethiopia's property revolution!"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-benefit-recurring",children:[s.jsxs(Ge,{className:"pb-3",children:[s.jsx(mo,{className:"h-8 w-8 text-medium-brown dark:text-cream mb-2"}),s.jsx(Ye,{className:"text-lg",children:"Recurring Income"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/80",children:"Earn 5% from every booking for 36 months from first rental"})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-benefit-passive",children:[s.jsxs(Ge,{className:"pb-3",children:[s.jsx(ei,{className:"h-8 w-8 text-medium-brown dark:text-cream mb-2"}),s.jsx(Ye,{className:"text-lg",children:"Passive Earnings"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/80",children:"List once, earn many times. No ongoing work required!"})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-benefit-payouts",children:[s.jsxs(Ge,{className:"pb-3",children:[s.jsx(l5,{className:"h-8 w-8 text-medium-brown dark:text-cream mb-2"}),s.jsx(Ye,{className:"text-lg",children:"Flexible Payouts"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/80",children:"Get paid via TeleBirr, CBE Birr, M-Pesa, or HelloCash"})})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{className:"text-2xl",children:"Agent Registration"}),s.jsx(ar,{children:"Complete this form to start earning commissions from property listings"})]}),s.jsx(Te,{children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"fullName",children:"Full Name *"}),s.jsx(Or,{id:"fullName","data-testid":"input-fullName",...l.register("fullName"),placeholder:"Abebe Kebede"}),l.formState.errors.fullName&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.formState.errors.fullName.message})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"phoneNumber",children:"Phone Number *"}),s.jsx(Or,{id:"phoneNumber","data-testid":"input-phoneNumber",...l.register("phoneNumber"),placeholder:"+251911234567"}),l.formState.errors.phoneNumber&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.formState.errors.phoneNumber.message})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"paymentMethod",children:"Payment Method *"}),s.jsxs(Jn,{onValueChange:f=>l.setValue("paymentMethod",f),children:[s.jsx(Gn,{"data-testid":"select-paymentMethod",children:s.jsx(es,{placeholder:"Select payment method"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"telebirr",children:"TeleBirr"}),s.jsx(Vt,{value:"cbebirr",children:"CBE Birr"}),s.jsx(Vt,{value:"mpesa",children:"M-Pesa"}),s.jsx(Vt,{value:"awash",children:"Awash Birr"}),s.jsx(Vt,{value:"helloCash",children:"HelloCash"})]})]}),l.formState.errors.paymentMethod&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.formState.errors.paymentMethod.message})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"paymentAccount",children:"Payment Account *"}),s.jsx(Or,{id:"paymentAccount","data-testid":"input-paymentAccount",...l.register("paymentAccount"),placeholder:"+251911234567"}),l.formState.errors.paymentAccount&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.formState.errors.paymentAccount.message})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"idNumber",children:"Fayda ID Number (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Or,{id:"idNumber","data-testid":"input-idNumber",...l.register("idNumber"),placeholder:"ID or Passport Number",value:a||l.watch("idNumber")||"",onChange:f=>l.setValue("idNumber",f.target.value)})}),s.jsxs(Be,{type:"button",onClick:u,disabled:n,variant:"outline",className:"border-medium-brown text-medium-brown hover:bg-medium-brown/10","data-testid":"button-scan-fayda",children:[n?s.jsx(eo,{className:"h-4 w-4 animate-spin"}):a?s.jsx(Mr,{className:"h-4 w-4 text-green-600"}):s.jsx(x2e,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:n?"Scanning...":a?"Verified":"Scan Fayda"})]})]}),n&&s.jsx("div",{id:"qr-reader",className:"mt-2 max-w-sm mx-auto"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"city",children:"City *"}),s.jsxs(Jn,{onValueChange:f=>l.setValue("city",f),children:[s.jsx(Gn,{"data-testid":"select-city",children:s.jsx(es,{placeholder:"Select city"})}),s.jsx(Yn,{children:h.map(f=>s.jsx(Vt,{value:f,children:f},f))})]}),l.formState.errors.city&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.formState.errors.city.message})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"subCity",children:"Sub-City (Optional)"}),s.jsx(Or,{id:"subCity","data-testid":"input-subCity",...l.register("subCity"),placeholder:"e.g., Bole, Kirkos"})]})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"businessName",children:"Business Name (Optional)"}),s.jsx(Or,{id:"businessName","data-testid":"input-businessName",...l.register("businessName"),placeholder:"Your real estate business name"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-dark-brown dark:text-cream mb-2",children:" How It Works"}),s.jsxs("ol",{className:"space-y-1 text-sm text-medium-brown dark:text-cream/80",children:[s.jsx("li",{children:"1. Submit this application (instant approval for verified users)"}),s.jsx("li",{children:"2. Verify your identity with Fayda ID (optional)"}),s.jsx("li",{children:"3. List properties you know about or own"}),s.jsx("li",{children:"4. Earn 5% from every booking for 36 months from first rental"}),s.jsx("li",{children:"5. Get paid automatically to your chosen mobile money account"})]})]}),s.jsx(Be,{type:"submit",className:"w-full bg-medium-brown hover:bg-dark-brown dark:bg-cream dark:hover:bg-cream/90 dark:text-dark-brown",disabled:e,"data-testid":"button-submit",children:e?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):" Submit Application"})]})})]})]})})]})}var ole="AlertDialog",[i6e]=yo(ole,[Sse]),fm=Sse(),lle=t=>{const{__scopeAlertDialog:e,...r}=t,n=fm(e);return s.jsx($M,{...n,...r,modal:!0})};lle.displayName=ole;var a6e="AlertDialogTrigger",cle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fm(r);return s.jsx(zM,{...i,...n,ref:e})});cle.displayName=a6e;var o6e="AlertDialogPortal",ule=t=>{const{__scopeAlertDialog:e,...r}=t,n=fm(e);return s.jsx(qM,{...n,...r})};ule.displayName=o6e;var l6e="AlertDialogOverlay",dle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fm(r);return s.jsx(v2,{...i,...n,ref:e})});dle.displayName=l6e;var _x="AlertDialogContent",[c6e,u6e]=i6e(_x),d6e=$te("AlertDialogContent"),hle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=fm(r),o=P.useRef(null),l=Pn(e,o),c=P.useRef(null);return s.jsx(T4e,{contentName:_x,titleName:fle,docsSlug:"alert-dialog",children:s.jsx(c6e,{scope:r,cancelRef:c,children:s.jsxs(b2,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Jt(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(d6e,{children:n}),s.jsx(f6e,{contentRef:o})]})})})});hle.displayName=_x;var fle="AlertDialogTitle",mle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fm(r);return s.jsx(w2,{...i,...n,ref:e})});mle.displayName=fle;var ple="AlertDialogDescription",gle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fm(r);return s.jsx(N2,{...i,...n,ref:e})});gle.displayName=ple;var h6e="AlertDialogAction",xle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fm(r);return s.jsx(z4,{...i,...n,ref:e})});xle.displayName=h6e;var yle="AlertDialogCancel",vle=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=u6e(yle,r),a=fm(r),o=Pn(e,i);return s.jsx(z4,{...a,...n,ref:o})});vle.displayName=yle;var f6e=({contentRef:t})=>{const e=`\`${_x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_x}\` by passing a \`${ple}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return P.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},m6e=lle,p6e=cle,g6e=ule,ble=dle,wle=hle,Nle=xle,jle=vle,Sle=mle,Cle=gle;const Ale=m6e,_le=p6e,x6e=g6e,Ele=P.forwardRef(({className:t,...e},r)=>s.jsx(ble,{className:er("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Ele.displayName=ble.displayName;const bR=P.forwardRef(({className:t,...e},r)=>s.jsxs(x6e,{children:[s.jsx(Ele,{}),s.jsx(wle,{ref:r,className:er("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));bR.displayName=wle.displayName;const wR=({className:t,...e})=>s.jsx("div",{className:er("flex flex-col space-y-2 text-center sm:text-left",t),...e});wR.displayName="AlertDialogHeader";const NR=({className:t,...e})=>s.jsx("div",{className:er("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});NR.displayName="AlertDialogFooter";const jR=P.forwardRef(({className:t,...e},r)=>s.jsx(Sle,{ref:r,className:er("text-lg font-semibold",t),...e}));jR.displayName=Sle.displayName;const SR=P.forwardRef(({className:t,...e},r)=>s.jsx(Cle,{ref:r,className:er("text-sm text-muted-foreground",t),...e}));SR.displayName=Cle.displayName;const CR=P.forwardRef(({className:t,...e},r)=>s.jsx(Nle,{ref:r,className:er(NM(),t),...e}));CR.displayName=Nle.displayName;const AR=P.forwardRef(({className:t,...e},r)=>s.jsx(jle,{ref:r,className:er(NM({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));AR.displayName=jle.displayName;const Lo=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:er("w-full caption-bottom text-sm",t),...e})}));Lo.displayName="Table";const Fo=P.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:er("[&_tr]:border-b",t),...e}));Fo.displayName="TableHeader";const Bo=P.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:er("[&_tr:last-child]:border-0",t),...e}));Bo.displayName="TableBody";const y6e=P.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:er("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));y6e.displayName="TableFooter";const Mn=P.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:er("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Mn.displayName="TableRow";const zt=P.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:er("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));zt.displayName="TableHead";const Ot=P.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:er("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ot.displayName="TableCell";const v6e=P.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:er("mt-4 text-sm text-muted-foreground",t),...e}));v6e.displayName="TableCaption";const b6e=ly("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gu=P.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:er(b6e({variant:e}),t),...r}));Gu.displayName="Alert";const k1=P.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:er("mb-1 font-medium leading-none tracking-tight",t),...e}));k1.displayName="AlertTitle";const Yu=P.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:er("text-sm [&_p]:leading-relaxed",t),...e}));Yu.displayName="AlertDescription";function w6e(){const{data:t,isLoading:e}=Nr({queryKey:["/api/host/earnings"]}),r=n=>new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:0,maximumFractionDigits:0}).format(n);return e?s.jsx(_e,{children:s.jsx(Ge,{children:s.jsx(Ye,{children:"Loading Earnings..."})})}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(_e,{children:s.jsxs(Ge,{className:"pb-3",children:[s.jsx(ar,{children:"Total Bookings"}),s.jsx(Ye,{className:"text-3xl",children:t.totalBookings})]})}),s.jsx(_e,{children:s.jsxs(Ge,{className:"pb-3",children:[s.jsx(ar,{children:"Gross Revenue"}),s.jsx(Ye,{className:"text-3xl text-eth-brown",children:r(t.grossRevenue)})]})}),s.jsx(_e,{className:"bg-eth-brown text-white",children:s.jsxs(Ge,{className:"pb-3",children:[s.jsxs(ar,{className:"text-white/80 flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4"}),"Your Net Payout"]}),s.jsx(Ye,{className:"text-3xl",children:r(t.netPayout)})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Earnings Breakdown"}),s.jsx(ar,{children:"Detailed financial breakdown for all completed bookings"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Guest Paid"}),s.jsx(zt,{children:"Alga Service Fee (12%)"}),s.jsx(zt,{children:"VAT (15%)"}),s.jsx(zt,{children:"Withholding (2%)"}),s.jsx(zt,{className:"text-right font-bold",children:"Your Payout"})]})}),s.jsx(Bo,{children:t.bookings.length===0?s.jsx(Mn,{children:s.jsx(Ot,{colSpan:5,className:"text-center text-gray-500 py-8",children:"No completed bookings yet"})}):s.jsxs(s.Fragment,{children:[t.bookings.map(n=>s.jsxs(Mn,{children:[s.jsx(Ot,{className:"font-medium",children:r(n.guestPaid)}),s.jsx(Ot,{className:"text-gray-600",children:r(n.serviceFee)}),s.jsx(Ot,{className:"text-gray-600",children:r(n.vat)}),s.jsx(Ot,{className:"text-gray-600",children:r(n.withholding)}),s.jsx(Ot,{className:"text-right font-bold text-eth-brown",children:r(n.yourPayout)})]},n.id)),s.jsxs(Mn,{className:"bg-cream-50 font-bold",children:[s.jsx(Ot,{children:r(t.grossRevenue)}),s.jsx(Ot,{children:r(t.algaServiceFee)}),s.jsx(Ot,{children:r(t.vat)}),s.jsx(Ot,{children:r(t.withholding)}),s.jsx(Ot,{className:"text-right text-eth-brown text-lg",children:r(t.netPayout)})]})]})})]})})]}),s.jsxs(Gu,{className:"border-eth-brown/30 bg-cream-50",children:[s.jsx(o2e,{className:"h-4 w-4 text-eth-brown"}),s.jsxs(Yu,{className:"text-eth-brown/80",children:[s.jsx("strong",{className:"text-eth-brown",children:"Ethiopian Tax Compliance:"})," All deductions comply with ERCA regulations. VAT (15%) and withholding tax (2%) are remitted to the Ethiopian Revenue and Customs Authority on your behalf. Your payout represents the final amount after all legal deductions."]})]}),t.bookings.length>0&&s.jsxs(_e,{className:"bg-cream-50",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:"How Payouts Are Calculated"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Example: Guest pays"}),s.jsx("span",{className:"font-bold",children:"10,000 ETB"})]}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:" Alga service fee (12%)"}),s.jsx("span",{children:"1,200 ETB"})]}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:" VAT on service fee (15% of 1,200)"}),s.jsx("span",{children:"180 ETB"})]}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:" Host withholding tax (2% of 8,800)"}),s.jsx("span",{children:"176 ETB"})]}),s.jsxs("div",{className:"border-t border-eth-brown/20 pt-2 flex justify-between text-lg font-bold text-eth-brown",children:[s.jsx("span",{children:"= Your payout"}),s.jsx("span",{children:"8,624 ETB"})]})]})})]})]}):null}const N6e=_t.object({lockboxCode:_t.string().optional(),lockboxLocation:_t.string().optional(),wifiNetwork:_t.string().optional(),wifiPassword:_t.string().optional(),parkingInstructions:_t.string().optional(),checkInInstructions:_t.string().optional(),checkOutInstructions:_t.string().optional(),houseRules:_t.string().optional(),applianceInstructions:_t.string().optional(),emergencyContacts:_t.string().optional(),nearbyRestaurants:_t.string().optional(),nearbyAttractions:_t.string().optional(),transportationTips:_t.string().optional(),hostNotes:_t.string().optional()});function j6e({propertyId:t}){const{toast:e}=Vn(),[r,n]=P.useState(!1),{data:i,isLoading:a}=Nr({queryKey:["/api/lemlem/property-info",t]}),o=Gf({resolver:Yf(N6e),defaultValues:i||{lockboxCode:"",lockboxLocation:"",wifiNetwork:"",wifiPassword:"",parkingInstructions:"",checkInInstructions:"",checkOutInstructions:"",houseRules:"",applianceInstructions:"",emergencyContacts:"",nearbyRestaurants:"",nearbyAttractions:"",transportationTips:"",hostNotes:""}});P.useEffect(()=>{i&&o.reset(i)},[i,o]);const l=Ln({mutationFn:async u=>await xn("POST",`/api/lemlem/property-info/${t}`,u),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/lemlem/property-info",t]}),e({title:" Saved!",description:"Lemlem can now help your guests with this information."}),n(!1)},onError:u=>{e({title:"Error",description:u.message||"Failed to save property information",variant:"destructive"})}}),c=u=>{l.mutate(u)};return a?s.jsx(_e,{children:s.jsx(Te,{className:"flex items-center justify-center py-12",children:s.jsx(eo,{className:"h-8 w-8 animate-spin text-[#CD7F32]"})})}):s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5 text-[#CD7F32]"}),s.jsx(Ye,{children:"Lemlem AI Assistant Setup"})]}),s.jsx(ar,{children:"Configure what Lemlem tells your guests. The more you fill out, the better she can help! "})]}),s.jsxs(Te,{children:[s.jsx(Gu,{className:"mb-6 border-[#CD7F32] bg-[#f9e9d8]",children:s.jsxs(Yu,{className:"text-sm",children:[" ",s.jsx("strong",{children:"Save Money!"})," Information you add here helps Lemlem answer questions WITHOUT using AI (which costs money). Fill this out thoroughly to keep costs near $0! "]})}),s.jsx(mp,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),onChange:()=>n(!0),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" Access Information"}),s.jsx(Xr,{control:o.control,name:"lockboxCode",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Lockbox Code"}),s.jsx(on,{children:s.jsx(Or,{placeholder:"e.g., 1234",...u,"data-testid":"input-lockbox-code"})}),s.jsx(Lf,{children:"The code guests need to access the property"}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"lockboxLocation",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Lockbox Location"}),s.jsx(on,{children:s.jsx(Or,{placeholder:"e.g., On the front gate, left side",...u,"data-testid":"input-lockbox-location"})}),s.jsx(Lf,{children:"Where the lockbox is located"}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" WiFi Information"}),s.jsx(Xr,{control:o.control,name:"wifiNetwork",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"WiFi Network Name"}),s.jsx(on,{children:s.jsx(Or,{placeholder:"e.g., AlgaGuest",...u,"data-testid":"input-wifi-network"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"wifiPassword",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"WiFi Password"}),s.jsx(on,{children:s.jsx(Or,{type:"password",placeholder:"Enter WiFi password",...u,"data-testid":"input-wifi-password"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" Check-in & Check-out"}),s.jsx(Xr,{control:o.control,name:"checkInInstructions",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Check-in Instructions"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Check-in is at 2 PM. Use the lockbox code to access. Keys are on the kitchen table.",rows:3,...u,"data-testid":"input-checkin-instructions"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"checkOutInstructions",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Check-out Instructions"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Check-out is at 11 AM. Please lock all doors and return keys to the lockbox.",rows:3,...u,"data-testid":"input-checkout-instructions"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" House Information"}),s.jsx(Xr,{control:o.control,name:"parkingInstructions",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Parking Instructions"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Free parking in the driveway. Street parking also available.",rows:2,...u,"data-testid":"input-parking-instructions"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"houseRules",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"House Rules"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., No smoking indoors. Pets allowed with prior approval. Quiet hours 10 PM - 7 AM.",rows:3,...u,"data-testid":"input-house-rules"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"applianceInstructions",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Appliance Instructions"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., AC remote is on the coffee table. Press the red button to turn on the water heater.",rows:3,...u,"data-testid":"input-appliance-instructions"})}),s.jsx(Lf,{children:"How to use heating, AC, TV, kitchen appliances, etc."}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" Emergency & Contact"}),s.jsx(Xr,{control:o.control,name:"emergencyContacts",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Emergency Contacts"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Host: 0912345678, Building Manager: 0923456789",rows:2,...u,"data-testid":"input-emergency-contacts"})}),s.jsx(Lf,{children:"Your contact number and any other emergency contacts"}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" Local Recommendations"}),s.jsx(Xr,{control:o.control,name:"nearbyRestaurants",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Nearby Restaurants"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Yod Abyssinia (5 min walk, traditional food), Castelli's (10 min drive, Italian)",rows:3,...u,"data-testid":"input-nearby-restaurants"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"nearbyAttractions",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Nearby Attractions"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., National Museum (15 min), Merkato Market (20 min), Unity Park (10 min)",rows:3,...u,"data-testid":"input-nearby-attractions"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"transportationTips",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Transportation Tips"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"e.g., Ride app available, taxi stand nearby, bus stop 5 min walk",rows:2,...u,"data-testid":"input-transportation-tips"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] border-b pb-2",children:" Additional Notes"}),s.jsx(Xr,{control:o.control,name:"hostNotes",render:({field:u})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Host Notes"}),s.jsx(on,{children:s.jsx(_i,{placeholder:"Any other information you'd like Lemlem to share with guests",rows:3,...u,"data-testid":"input-host-notes"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Be,{type:"submit",disabled:l.isPending||!r,className:"bg-[#CD7F32] hover:bg-[#B87333]","data-testid":"button-save-property-info",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bre,{className:"mr-2 h-4 w-4"}),"Save Information"]})}),r&&s.jsx("span",{className:"text-sm text-gray-500 flex items-center",children:"You have unsaved changes"})]})]})})]})]})}function S6e({hostName:t}){return s.jsxs("div",{className:"relative overflow-hidden rounded-lg mb-6 shadow-lg",style:{background:"linear-gradient(90deg, #704d2a 0%, #e0ad60 100%)"},"data-testid":"host-banner",children:[s.jsxs("div",{className:"relative z-10 p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(kn,{className:"w-6 h-6 text-white"}),s.jsxs("h2",{className:"text-2xl font-bold text-white m-0",children:["Welcome, ",t||"Host","! "]})]}),s.jsxs("p",{className:"text-white/90 text-sm md:text-base m-0 max-w-2xl",children:["Manage your properties, track ",s.jsx("span",{className:"font-semibold",children:"Alga Pay"})," payouts, and monitor guest bookings here."]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full border border-white/30",children:s.jsx("span",{className:"font-semibold text-white text-sm md:text-base",children:"Alga Host Portal"})}),s.jsxs("div",{className:"flex items-center gap-3 text-white/80 text-xs flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ol,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Secure Payments"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pi,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Real-time Bookings"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mr,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Easy Management"})]})]})]})]}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full blur-2xl opacity-20",style:{background:"radial-gradient(circle, #fff 0%, transparent 70%)"}}),s.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 rounded-full blur-3xl opacity-10",style:{background:"radial-gradient(circle, #fff 0%, transparent 70%)"}})]})}function AI(t){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function Ti({className:t,...e}){return s.jsx("div",{className:er("animate-pulse rounded-md bg-muted",t),...e})}function C6e({stats:t,isLoading:e}){if(e)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(8)].map((n,i)=>s.jsx(Ti,{className:"h-24 rounded-lg"},i))});if(!t)return null;const r=[{icon:Jwe,label:"Active Listings",value:t.activeListings,subtext:`${t.totalListings} total`,color:"text-[#704d2a]",bgColor:"bg-[#704d2a]/10"},{icon:Pi,label:"Upcoming Bookings",value:t.upcomingBookings,subtext:`${t.totalBookings} total`,color:"text-blue-600",bgColor:"bg-blue-50"},{icon:ii,label:"Total Earnings",value:AI(t.totalEarnings),subtext:t.lastPayout?`Last: ${AI(t.lastPayout)}`:"No payouts yet",color:"text-green-600",bgColor:"bg-green-50",isLarge:!0},{icon:ca,label:"Avg Rating",value:t.avgRating>0?t.avgRating.toFixed(1):"",subtext:`${t.totalReviews} reviews`,color:"text-yellow-600",bgColor:"bg-yellow-50"},{icon:Mr,label:"Completed",value:t.completedBookings,subtext:`${t.occupancyRate}% occupancy`,color:"text-emerald-600",bgColor:"bg-emerald-50"},{icon:mo,label:"Occupancy Rate",value:`${t.occupancyRate}%`,subtext:"Performance",color:"text-purple-600",bgColor:"bg-purple-50"},{icon:ll,label:"Pending Reviews",value:t.pendingReviews,subtext:"Action needed",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:p2e,label:"Total Bookings",value:t.totalBookings,subtext:"All-time",color:"text-indigo-600",bgColor:"bg-indigo-50"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6","data-testid":"property-insights-widget",children:r.map((n,i)=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow border border-gray-100 dark:border-gray-700","data-testid":`metric-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:`${n.bgColor} p-2 rounded-lg`,children:s.jsx(n.icon,{className:`w-4 h-4 ${n.color}`})}),s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:n.label})]}),s.jsx("p",{className:`text-2xl font-bold ${n.color} dark:text-white mb-1`,children:n.value}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.subtext})]})})},i))})}const qt=Symbol.for("drizzle:entityKind");function Qa(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,qt))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(qt in r&&r[qt]===e[qt])return!0;r=Object.getPrototypeOf(r)}return!1}var $K;$K=qt;class P1{constructor(e,r){Ne(this,"name");Ne(this,"keyAsName");Ne(this,"primary");Ne(this,"notNull");Ne(this,"default");Ne(this,"defaultFn");Ne(this,"onUpdateFn");Ne(this,"hasDefault");Ne(this,"isUnique");Ne(this,"uniqueName");Ne(this,"uniqueType");Ne(this,"dataType");Ne(this,"columnType");Ne(this,"enumValues");Ne(this,"generated");Ne(this,"generatedIdentity");Ne(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Ne(P1,$K,"Column");var zK;zK=qt;class Tle{constructor(e,r,n){Ne(this,"config");Ne(this,"$default",this.$defaultFn);Ne(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}Ne(Tle,zK,"ColumnBuilder");const Ex=Symbol.for("drizzle:Name");var qK;qK=qt;class kle{constructor(e,r){Ne(this,"reference");Ne(this,"_onUpdate","no action");Ne(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:i,foreignColumns:a}=e();return{name:n,columns:i,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Ple(e,this)}}Ne(kle,qK,"PgForeignKeyBuilder");var VK;VK=qt;class Ple{constructor(e,r){Ne(this,"reference");Ne(this,"onUpdate");Ne(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[Ex],...i,n[0].table[Ex],...a];return e??`${o.join("_")}_fk`}}Ne(Ple,VK,"PgForeignKey");function A6e(t,...e){return t(...e)}function _6e(t,e){return`${t[Ex]}_${e.join("_")}_unique`}function GU(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function Ile(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const a=t[n];if(a===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,u]=GU(t,n+1,!0);r.push(c),n=u;continue}if(a==="}")return[r,n+1];if(a==="{"){const[c,u]=Ile(t,n+1);r.push(c),n=u;continue}const[o,l]=GU(t,n,!1);r.push(o),n=l}return[r,n]}function E6e(t){const[e]=Ile(t,1);return e}function Ole(t){return`{${t.map(e=>Array.isArray(e)?Ole(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var HK,WK;class xs extends(WK=Tle,HK=qt,WK){constructor(){super(...arguments);Ne(this,"foreignKeyConfigs",[])}array(r){return new Rle(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>A6e((o,l)=>{const c=new kle(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},i,a))}buildExtraConfigColumn(r){return new Mle(r,this.config)}}Ne(xs,HK,"PgColumnBuilder");var GK,YK;class Bn extends(YK=P1,GK=qt,YK){constructor(e,r){r.uniqueName||(r.uniqueName=_6e(e,[r.name])),super(e,r),this.table=e}}Ne(Bn,GK,"PgColumn");var KK,XK;class Mle extends(XK=Bn,KK=qt,XK){constructor(){super(...arguments);Ne(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Ne(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}Ne(Mle,KK,"ExtraConfigColumn");var ZK;ZK=qt;class qj{constructor(e,r,n,i){Ne(this,"name");Ne(this,"keyAsName");Ne(this,"type");Ne(this,"indexConfig");this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=i}}Ne(qj,ZK,"IndexedColumn");var QK,JK;class Rle extends(JK=xs,QK=qt,JK){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new _I(e,this.config,r)}}Ne(Rle,QK,"PgArrayBuilder");var eX,tX;const d4=class d4 extends(tX=Bn,eX=qt,tX){constructor(r,n,i,a){super(r,n);Ne(this,"size");this.baseColumn=i,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=E6e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const i=r.map(a=>a===null?null:Qa(this.baseColumn,d4)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?i:Ole(i)}};Ne(d4,eX,"PgArray");let _I=d4;const YU=Symbol.for("drizzle:isPgEnum");function T6e(t){return!!t&&typeof t=="function"&&YU in t&&t[YU]===!0}var rX;rX=qt;class _R{constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}Ne(_R,rX,"Subquery");const k6e={startActiveSpan(t,e){return e()}},Tx=Symbol.for("drizzle:ViewBaseConfig"),c3=Symbol.for("drizzle:Schema"),KU=Symbol.for("drizzle:Columns"),XU=Symbol.for("drizzle:ExtraConfigColumns"),u3=Symbol.for("drizzle:OriginalName"),d3=Symbol.for("drizzle:BaseName"),U5=Symbol.for("drizzle:IsAlias"),ZU=Symbol.for("drizzle:ExtraConfigBuilder"),Dle=Symbol.for("drizzle:IsDrizzleTable");var nX,sX,iX,aX,oX,lX,cX,uX,dX,hX;hX=qt,dX=Ex,uX=u3,cX=c3,lX=KU,oX=XU,aX=d3,iX=U5,sX=Dle,nX=ZU;class nc{constructor(e,r,n){Ne(this,dX);Ne(this,uX);Ne(this,cX);Ne(this,lX);Ne(this,oX);Ne(this,aX);Ne(this,iX,!1);Ne(this,sX,!0);Ne(this,nX);this[Ex]=this[u3]=e,this[c3]=r,this[d3]=n}}Ne(nc,hX,"Table"),Ne(nc,"Symbol",{Name:Ex,Schema:c3,OriginalName:u3,Columns:KU,ExtraConfigColumns:XU,BaseName:d3,IsAlias:U5,ExtraConfigBuilder:ZU});function Lle(t){return typeof t=="object"&&t!==null&&Dle in t}function P6e(t){return t!=null&&typeof t.getSQL=="function"}function I6e(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var fX;fX=qt;class $u{constructor(e){Ne(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Na([this])}}Ne($u,fX,"StringChunk");var mX;mX=qt;const mg=class mg{constructor(e){Ne(this,"decoder",Fle);Ne(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return k6e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return I6e(e.map(h=>{var f;if(Qa(h,$u))return{sql:h.value.join(""),params:[]};if(Qa(h,$5))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const y=[new $u("(")];for(const[v,S]of h.entries())y.push(S),v<h.length-1&&y.push(new $u(", "));return y.push(new $u(")")),this.buildQueryFromSourceParams(y,n)}if(Qa(h,mg))return this.buildQueryFromSourceParams(h.queryChunks,{...n,inlineParams:c||h.shouldInlineParams});if(Qa(h,nc)){const y=h[nc.Symbol.Schema],v=h[nc.Symbol.Name];return{sql:y===void 0||h[U5]?a(v):a(y)+"."+a(v),params:[]}}if(Qa(h,P1)){const y=i.getColumnCasing(h);if(r.invokeSource==="indexes")return{sql:a(y),params:[]};const v=h.table[nc.Symbol.Schema];return{sql:h.table[U5]||v===void 0?a(h.table[nc.Symbol.Name])+"."+a(y):a(v)+"."+a(h.table[nc.Symbol.Name])+"."+a(y),params:[]}}if(Qa(h,$le)){const y=h[Tx].schema,v=h[Tx].name;return{sql:y===void 0||h[Tx].isAlias?a(v):a(y)+"."+a(v),params:[]}}if(Qa(h,ER)){if(Qa(h.value,q5))return{sql:o(u.value++,h),params:[h],typings:["none"]};const y=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Qa(y,mg))return this.buildQueryFromSourceParams([y],n);if(c)return{sql:this.mapInlineParam(y,n),params:[]};let v=["none"];return l&&(v=[l(h.encoder)]),{sql:o(u.value++,y),params:[y],typings:v}}return Qa(h,q5)?{sql:o(u.value++,h),params:[h],typings:["none"]}:Qa(h,mg.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:Qa(h,_R)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new $u("("),h._.sql,new $u(") "),new $5(h._.alias)],n):T6e(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:P6e(h)?(f=h.shouldOmitSQLParens)!=null&&f.call(h)?this.buildQueryFromSourceParams([h.getSQL()],n):this.buildQueryFromSourceParams([new $u("("),h.getSQL(),new $u(")")],n):c?{sql:this.mapInlineParam(h,n),params:[]}:{sql:o(u.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new mg.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};Ne(mg,mX,"SQL");let Na=mg;var pX;pX=qt;class $5{constructor(e){Ne(this,"brand");this.value=e}getSQL(){return new Na([this])}}Ne($5,pX,"Name");const Fle={mapFromDriverValue:t=>t},Ble={mapToDriverValue:t=>t};({...Fle,...Ble});var gX;gX=qt;class ER{constructor(e,r=Ble){Ne(this,"brand");this.value=e,this.encoder=r}getSQL(){return new Na([this])}}Ne(ER,gX,"Param");function z5(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new $u(t[0]));for(const[n,i]of e.entries())r.push(i,new $u(t[n+1]));return new Na(r)}(t=>{function e(){return new Na([])}t.empty=e;function r(c){return new Na(c)}t.fromList=r;function n(c){return new Na([new $u(c)])}t.raw=n;function i(c,u){const h=[];for(const[f,y]of c.entries())f>0&&u!==void 0&&h.push(u),h.push(y);return new Na(h)}t.join=i;function a(c){return new $5(c)}t.identifier=a;function o(c){return new q5(c)}t.placeholder=o;function l(c,u){return new ER(c,u)}t.param=l})(z5||(z5={}));(t=>{var r;r=qt;const n=class n{constructor(a,o){Ne(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};Ne(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(Na||(Na={}));var xX;xX=qt;class q5{constructor(e){this.name=e}getSQL(){return new Na([this])}}Ne(q5,xX,"Placeholder");const Ule=Symbol.for("drizzle:IsDrizzleView");var yX,vX,bX;bX=qt,vX=Tx,yX=Ule;class $le{constructor({name:e,schema:r,selectedFields:n,query:i}){Ne(this,vX);Ne(this,yX,!0);this[Tx]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Na([this])}}Ne($le,bX,"View");function O6e(t){return typeof t=="object"&&t!==null&&Ule in t}P1.prototype.getSQL=function(){return new Na([this])};nc.prototype.getSQL=function(){return new Na([this])};_R.prototype.getSQL=function(){return new Na([this])};function M6e(t){return t[nc.Symbol.Columns]}function R6e(t){return t[Tx].selectedFields}function zo(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var wX,NX;class O2 extends(NX=xs,wX=qt,NX){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Ne(O2,wX,"PgIntColumnBaseBuilder");var jX,SX;class zle extends(SX=O2,jX=qt,SX){constructor(e){super(e,"number","PgBigInt53")}build(e){return new qle(e,this.config)}}Ne(zle,jX,"PgBigInt53Builder");var CX,AX;class qle extends(AX=Bn,CX=qt,AX){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}Ne(qle,CX,"PgBigInt53");var _X,EX;class Vle extends(EX=O2,_X=qt,EX){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Hle(e,this.config)}}Ne(Vle,_X,"PgBigInt64Builder");var TX,kX;class Hle extends(kX=Bn,TX=qt,kX){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}Ne(Hle,TX,"PgBigInt64");function D6e(t,e){const{name:r,config:n}=zo(t,e);return n.mode==="number"?new zle(r):new Vle(r)}var PX,IX;class Wle extends(IX=xs,PX=qt,IX){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Gle(e,this.config)}}Ne(Wle,PX,"PgBigSerial53Builder");var OX,MX;class Gle extends(MX=Bn,OX=qt,MX){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}Ne(Gle,OX,"PgBigSerial53");var RX,DX;class Yle extends(DX=xs,RX=qt,DX){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Kle(e,this.config)}}Ne(Yle,RX,"PgBigSerial64Builder");var LX,FX;class Kle extends(FX=Bn,LX=qt,FX){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}Ne(Kle,LX,"PgBigSerial64");function L6e(t,e){const{name:r,config:n}=zo(t,e);return n.mode==="number"?new Wle(r):new Yle(r)}var BX,UX;class Xle extends(UX=xs,BX=qt,UX){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Zle(e,this.config)}}Ne(Xle,BX,"PgBooleanBuilder");var $X,zX;class Zle extends(zX=Bn,$X=qt,zX){getSQLType(){return"boolean"}}Ne(Zle,$X,"PgBoolean");function Os(t){return new Xle(t??"")}var qX,VX;class Qle extends(VX=xs,qX=qt,VX){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Jle(e,this.config)}}Ne(Qle,qX,"PgCharBuilder");var HX,WX;class Jle extends(WX=Bn,HX=qt,WX){constructor(){super(...arguments);Ne(this,"length",this.config.length);Ne(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Ne(Jle,HX,"PgChar");function F6e(t,e={}){const{name:r,config:n}=zo(t,e);return new Qle(r,n)}var GX,YX;class ece extends(YX=xs,GX=qt,YX){constructor(e){super(e,"string","PgCidr")}build(e){return new tce(e,this.config)}}Ne(ece,GX,"PgCidrBuilder");var KX,XX;class tce extends(XX=Bn,KX=qt,XX){getSQLType(){return"cidr"}}Ne(tce,KX,"PgCidr");function B6e(t){return new ece(t??"")}var ZX,QX;class rce extends(QX=xs,ZX=qt,QX){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new nce(e,this.config)}}Ne(rce,ZX,"PgCustomColumnBuilder");var JX,eZ;class nce extends(eZ=Bn,JX=qt,eZ){constructor(r,n){super(r,n);Ne(this,"sqlName");Ne(this,"mapTo");Ne(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}Ne(nce,JX,"PgCustomColumn");function U6e(t){return(e,r)=>{const{name:n,config:i}=zo(e,r);return new rce(n,i,t)}}var tZ,rZ;class gy extends(rZ=xs,tZ=qt,rZ){defaultNow(){return this.default(z5`now()`)}}Ne(gy,tZ,"PgDateColumnBaseBuilder");var nZ,sZ;class sce extends(sZ=gy,nZ=qt,sZ){constructor(e){super(e,"date","PgDate")}build(e){return new ice(e,this.config)}}Ne(sce,nZ,"PgDateBuilder");var iZ,aZ;class ice extends(aZ=Bn,iZ=qt,aZ){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}Ne(ice,iZ,"PgDate");var oZ,lZ;class ace extends(lZ=gy,oZ=qt,lZ){constructor(e){super(e,"string","PgDateString")}build(e){return new oce(e,this.config)}}Ne(ace,oZ,"PgDateStringBuilder");var cZ,uZ;class oce extends(uZ=Bn,cZ=qt,uZ){getSQLType(){return"date"}}Ne(oce,cZ,"PgDateString");function $6e(t,e){const{name:r,config:n}=zo(t,e);return(n==null?void 0:n.mode)==="date"?new sce(r):new ace(r)}var dZ,hZ;class lce extends(hZ=xs,dZ=qt,hZ){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new cce(e,this.config)}}Ne(lce,dZ,"PgDoublePrecisionBuilder");var fZ,mZ;class cce extends(mZ=Bn,fZ=qt,mZ){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}Ne(cce,fZ,"PgDoublePrecision");function z6e(t){return new lce(t??"")}var pZ,gZ;class uce extends(gZ=xs,pZ=qt,gZ){constructor(e){super(e,"string","PgInet")}build(e){return new dce(e,this.config)}}Ne(uce,pZ,"PgInetBuilder");var xZ,yZ;class dce extends(yZ=Bn,xZ=qt,yZ){getSQLType(){return"inet"}}Ne(dce,xZ,"PgInet");function q6e(t){return new uce(t??"")}var vZ,bZ;class hce extends(bZ=O2,vZ=qt,bZ){constructor(e){super(e,"number","PgInteger")}build(e){return new fce(e,this.config)}}Ne(hce,vZ,"PgIntegerBuilder");var wZ,NZ;class fce extends(NZ=Bn,wZ=qt,NZ){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}Ne(fce,wZ,"PgInteger");function fr(t){return new hce(t??"")}var jZ,SZ;class mce extends(SZ=xs,jZ=qt,SZ){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new pce(e,this.config)}}Ne(mce,jZ,"PgIntervalBuilder");var CZ,AZ;class pce extends(AZ=Bn,CZ=qt,AZ){constructor(){super(...arguments);Ne(this,"fields",this.config.intervalConfig.fields);Ne(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}Ne(pce,CZ,"PgInterval");function V6e(t,e={}){const{name:r,config:n}=zo(t,e);return new mce(r,n)}var _Z,EZ;class gce extends(EZ=xs,_Z=qt,EZ){constructor(e){super(e,"json","PgJson")}build(e){return new xce(e,this.config)}}Ne(gce,_Z,"PgJsonBuilder");var TZ,kZ;class xce extends(kZ=Bn,TZ=qt,kZ){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}Ne(xce,TZ,"PgJson");function H6e(t){return new gce(t??"")}var PZ,IZ;class yce extends(IZ=xs,PZ=qt,IZ){constructor(e){super(e,"json","PgJsonb")}build(e){return new vce(e,this.config)}}Ne(yce,PZ,"PgJsonbBuilder");var OZ,MZ;class vce extends(MZ=Bn,OZ=qt,MZ){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}Ne(vce,OZ,"PgJsonb");function Zd(t){return new yce(t??"")}var RZ,DZ;class bce extends(DZ=xs,RZ=qt,DZ){constructor(e){super(e,"array","PgLine")}build(e){return new wce(e,this.config)}}Ne(bce,RZ,"PgLineBuilder");var LZ,FZ;class wce extends(FZ=Bn,LZ=qt,FZ){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}Ne(wce,LZ,"PgLine");var BZ,UZ;class Nce extends(UZ=xs,BZ=qt,UZ){constructor(e){super(e,"json","PgLineABC")}build(e){return new jce(e,this.config)}}Ne(Nce,BZ,"PgLineABCBuilder");var $Z,zZ;class jce extends(zZ=Bn,$Z=qt,zZ){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}Ne(jce,$Z,"PgLineABC");function W6e(t,e){const{name:r,config:n}=zo(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new bce(r):new Nce(r)}var qZ,VZ;class Sce extends(VZ=xs,qZ=qt,VZ){constructor(e){super(e,"string","PgMacaddr")}build(e){return new Cce(e,this.config)}}Ne(Sce,qZ,"PgMacaddrBuilder");var HZ,WZ;class Cce extends(WZ=Bn,HZ=qt,WZ){getSQLType(){return"macaddr"}}Ne(Cce,HZ,"PgMacaddr");function G6e(t){return new Sce(t??"")}var GZ,YZ;class Ace extends(YZ=xs,GZ=qt,YZ){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new _ce(e,this.config)}}Ne(Ace,GZ,"PgMacaddr8Builder");var KZ,XZ;class _ce extends(XZ=Bn,KZ=qt,XZ){getSQLType(){return"macaddr8"}}Ne(_ce,KZ,"PgMacaddr8");function Y6e(t){return new Ace(t??"")}var ZZ,QZ;class Ece extends(QZ=xs,ZZ=qt,QZ){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new Tce(e,this.config)}}Ne(Ece,ZZ,"PgNumericBuilder");var JZ,eQ;class Tce extends(eQ=Bn,JZ=qt,eQ){constructor(r,n){super(r,n);Ne(this,"precision");Ne(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Ne(Tce,JZ,"PgNumeric");function kce(t,e){const{name:r,config:n}=zo(t,e);return new Ece(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const us=kce;var tQ,rQ;class Pce extends(rQ=xs,tQ=qt,rQ){constructor(e){super(e,"array","PgPointTuple")}build(e){return new Ice(e,this.config)}}Ne(Pce,tQ,"PgPointTupleBuilder");var nQ,sQ;class Ice extends(sQ=Bn,nQ=qt,sQ){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}Ne(Ice,nQ,"PgPointTuple");var iQ,aQ;class Oce extends(aQ=xs,iQ=qt,aQ){constructor(e){super(e,"json","PgPointObject")}build(e){return new Mce(e,this.config)}}Ne(Oce,iQ,"PgPointObjectBuilder");var oQ,lQ;class Mce extends(lQ=Bn,oQ=qt,lQ){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}Ne(Mce,oQ,"PgPointObject");function K6e(t,e){const{name:r,config:n}=zo(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new Pce(r):new Oce(r)}function X6e(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function QU(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function Rce(t){const e=X6e(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),a=i.getUint32(r,n===1);if(r+=4,a&536870912&&(i.getUint32(r,n===1),r+=4),(a&65535)===1){const o=QU(e,r);r+=8;const l=QU(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var cQ,uQ;class Dce extends(uQ=xs,cQ=qt,uQ){constructor(e){super(e,"array","PgGeometry")}build(e){return new Lce(e,this.config)}}Ne(Dce,cQ,"PgGeometryBuilder");var dQ,hQ;class Lce extends(hQ=Bn,dQ=qt,hQ){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Rce(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}Ne(Lce,dQ,"PgGeometry");var fQ,mQ;class Fce extends(mQ=xs,fQ=qt,mQ){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Bce(e,this.config)}}Ne(Fce,fQ,"PgGeometryObjectBuilder");var pQ,gQ;class Bce extends(gQ=Bn,pQ=qt,gQ){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=Rce(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}Ne(Bce,pQ,"PgGeometryObject");function Z6e(t,e){const{name:r,config:n}=zo(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new Dce(r):new Fce(r)}var xQ,yQ;class Uce extends(yQ=xs,xQ=qt,yQ){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new $ce(e,this.config)}}Ne(Uce,xQ,"PgRealBuilder");var vQ,bQ;class $ce extends(bQ=Bn,vQ=qt,bQ){constructor(r,n){super(r,n);Ne(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}Ne($ce,vQ,"PgReal");function Q6e(t){return new Uce(t??"")}var wQ,NQ;class zce extends(NQ=xs,wQ=qt,NQ){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new qce(e,this.config)}}Ne(zce,wQ,"PgSerialBuilder");var jQ,SQ;class qce extends(SQ=Bn,jQ=qt,SQ){getSQLType(){return"serial"}}Ne(qce,jQ,"PgSerial");function Rs(t){return new zce(t??"")}var CQ,AQ;class Vce extends(AQ=O2,CQ=qt,AQ){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Hce(e,this.config)}}Ne(Vce,CQ,"PgSmallIntBuilder");var _Q,EQ;class Hce extends(EQ=Bn,_Q=qt,EQ){constructor(){super(...arguments);Ne(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}Ne(Hce,_Q,"PgSmallInt");function J6e(t){return new Vce(t??"")}var TQ,kQ;class Wce extends(kQ=xs,TQ=qt,kQ){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Gce(e,this.config)}}Ne(Wce,TQ,"PgSmallSerialBuilder");var PQ,IQ;class Gce extends(IQ=Bn,PQ=qt,IQ){getSQLType(){return"smallserial"}}Ne(Gce,PQ,"PgSmallSerial");function eIe(t){return new Wce(t??"")}var OQ,MQ;class Yce extends(MQ=xs,OQ=qt,MQ){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new Kce(e,this.config)}}Ne(Yce,OQ,"PgTextBuilder");var RQ,DQ;class Kce extends(DQ=Bn,RQ=qt,DQ){constructor(){super(...arguments);Ne(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Ne(Kce,RQ,"PgText");function Fr(t,e={}){const{name:r,config:n}=zo(t,e);return new Yce(r,n)}var LQ,FQ;class Xce extends(FQ=gy,LQ=qt,FQ){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new Zce(e,this.config)}}Ne(Xce,LQ,"PgTimeBuilder");var BQ,UQ;class Zce extends(UQ=Bn,BQ=qt,UQ){constructor(r,n){super(r,n);Ne(this,"withTimezone");Ne(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Ne(Zce,BQ,"PgTime");function tIe(t,e={}){const{name:r,config:n}=zo(t,e);return new Xce(r,n.withTimezone??!1,n.precision)}var $Q,zQ;class Qce extends(zQ=gy,$Q=qt,zQ){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new Jce(e,this.config)}}Ne(Qce,$Q,"PgTimestampBuilder");var qQ,VQ;class Jce extends(VQ=Bn,qQ=qt,VQ){constructor(r,n){super(r,n);Ne(this,"withTimezone");Ne(this,"precision");Ne(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));Ne(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Ne(Jce,qQ,"PgTimestamp");var HQ,WQ;class eue extends(WQ=gy,HQ=qt,WQ){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new tue(e,this.config)}}Ne(eue,HQ,"PgTimestampStringBuilder");var GQ,YQ;class tue extends(YQ=Bn,GQ=qt,YQ){constructor(r,n){super(r,n);Ne(this,"withTimezone");Ne(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Ne(tue,GQ,"PgTimestampString");function Ht(t,e={}){const{name:r,config:n}=zo(t,e);return(n==null?void 0:n.mode)==="string"?new eue(r,n.withTimezone??!1,n.precision):new Qce(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var KQ,XQ;class rue extends(XQ=xs,KQ=qt,XQ){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(z5`gen_random_uuid()`)}build(e){return new nue(e,this.config)}}Ne(rue,KQ,"PgUUIDBuilder");var ZQ,QQ;class nue extends(QQ=Bn,ZQ=qt,QQ){getSQLType(){return"uuid"}}Ne(nue,ZQ,"PgUUID");function sue(t){return new rue(t??"")}var JQ,eJ;class iue extends(eJ=xs,JQ=qt,eJ){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new aue(e,this.config)}}Ne(iue,JQ,"PgVarcharBuilder");var tJ,rJ;class aue extends(rJ=Bn,tJ=qt,rJ){constructor(){super(...arguments);Ne(this,"length",this.config.length);Ne(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Ne(aue,tJ,"PgVarchar");function nt(t,e={}){const{name:r,config:n}=zo(t,e);return new iue(r,n)}var nJ,sJ;class oue extends(sJ=xs,nJ=qt,sJ){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new lue(e,this.config)}}Ne(oue,nJ,"PgBinaryVectorBuilder");var iJ,aJ;class lue extends(aJ=Bn,iJ=qt,aJ){constructor(){super(...arguments);Ne(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Ne(lue,iJ,"PgBinaryVector");function rIe(t,e){const{name:r,config:n}=zo(t,e);return new oue(r,n)}var oJ,lJ;class cue extends(lJ=xs,oJ=qt,lJ){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new uue(e,this.config)}}Ne(cue,oJ,"PgHalfVectorBuilder");var cJ,uJ;class uue extends(uJ=Bn,cJ=qt,uJ){constructor(){super(...arguments);Ne(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Ne(uue,cJ,"PgHalfVector");function nIe(t,e){const{name:r,config:n}=zo(t,e);return new cue(r,n)}var dJ,hJ;class due extends(hJ=xs,dJ=qt,hJ){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new hue(e,this.config)}}Ne(due,dJ,"PgSparseVectorBuilder");var fJ,mJ;class hue extends(mJ=Bn,fJ=qt,mJ){constructor(){super(...arguments);Ne(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Ne(hue,fJ,"PgSparseVector");function sIe(t,e){const{name:r,config:n}=zo(t,e);return new due(r,n)}var pJ,gJ;class fue extends(gJ=xs,pJ=qt,gJ){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new mue(e,this.config)}}Ne(fue,pJ,"PgVectorBuilder");var xJ,yJ;class mue extends(yJ=Bn,xJ=qt,yJ){constructor(){super(...arguments);Ne(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Ne(mue,xJ,"PgVector");function iIe(t,e){const{name:r,config:n}=zo(t,e);return new fue(r,n)}function aIe(){return{bigint:D6e,bigserial:L6e,boolean:Os,char:F6e,cidr:B6e,customType:U6e,date:$6e,doublePrecision:z6e,inet:q6e,integer:fr,interval:V6e,json:H6e,jsonb:Zd,line:W6e,macaddr:G6e,macaddr8:Y6e,numeric:kce,point:K6e,geometry:Z6e,real:Q6e,serial:Rs,smallint:J6e,smallserial:eIe,text:Fr,time:tIe,timestamp:Ht,uuid:sue,varchar:nt,bit:rIe,halfvec:nIe,sparsevec:sIe,vector:iIe}}const EI=Symbol.for("drizzle:PgInlineForeignKeys"),JU=Symbol.for("drizzle:EnableRLS");var vJ,bJ,wJ,NJ,jJ;class ob extends(jJ=nc,NJ=qt,wJ=EI,bJ=JU,vJ=nc.Symbol.ExtraConfigBuilder,jJ){constructor(){super(...arguments);Ne(this,wJ,[]);Ne(this,bJ,!1);Ne(this,vJ)}}Ne(ob,NJ,"PgTable"),Ne(ob,"Symbol",Object.assign({},nc.Symbol,{InlineForeignKeys:EI,EnableRLS:JU}));function oIe(t,e,r,n,i=t){const a=new ob(t,n,i),o=typeof e=="function"?e(aIe()):e,l=Object.fromEntries(Object.entries(o).map(([h,f])=>{const y=f;y.setName(h);const v=y.build(a);return a[EI].push(...y.buildForeignKeys(v,a)),[h,v]})),c=Object.fromEntries(Object.entries(o).map(([h,f])=>{const y=f;y.setName(h);const v=y.buildExtraConfigColumn(a);return[h,v]})),u=Object.assign(a,l);return u[nc.Symbol.Columns]=l,u[nc.Symbol.ExtraConfigColumns]=c,r&&(u[ob.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[ob.Symbol.EnableRLS]=!0,u)})}const As=(t,e,r)=>oIe(t,e,r,void 0);var SJ;SJ=qt;class pue{constructor(e,r){this.unique=e,this.name=r}on(...e){return new Vj(e.map(r=>{if(Qa(r,Na))return r;r=r;const n=new qj(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new Vj(e.map(r=>{if(Qa(r,Na))return r;r=r;const n=new qj(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new Vj(r.map(n=>{if(Qa(n,Na))return n;n=n;const i=new qj(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),i}),this.unique,!0,this.name,e)}}Ne(pue,SJ,"PgIndexBuilderOn");var CJ;CJ=qt;class Vj{constructor(e,r,n,i,a="btree"){Ne(this,"config");this.config={name:i,columns:e,unique:r,only:n,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new gue(this.config,e)}}Ne(Vj,CJ,"PgIndexBuilder");var AJ;AJ=qt;class gue{constructor(e,r){Ne(this,"config");this.config={...e,table:r}}}Ne(gue,AJ,"PgIndex");function lIe(t){return new pue(!1,t)}const sa={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ka(t,e){return e.includes(t.columnType)}function cIe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const uIe=_t.union([_t.string(),_t.number(),_t.boolean(),_t.null()]),dIe=_t.union([uIe,_t.record(_t.any()),_t.array(_t.any())]),hIe=_t.custom(t=>t instanceof Buffer);function xue(t,e){const r=(e==null?void 0:e.zodInstance)??_t,n=(e==null?void 0:e.coerce)??{};let i;return cIe(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(ka(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):ka(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):ka(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):ka(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):ka(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):ka(t,["PgArray"])?(i=r.array(xue(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=fIe(t,r,n):t.dataType==="bigint"?i=mIe(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=pIe(t,r,n):t.dataType==="json"?i=dIe:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=hIe)),i||(i=r.any()),i}function fIe(t,e,r){let n=t.getSQLType().includes("unsigned"),i,a,o=!1;ka(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:sa.INT8_MIN,a=n?sa.INT8_UNSIGNED_MAX:sa.INT8_MAX,o=!0):ka(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:sa.INT16_MIN,a=n?sa.INT16_UNSIGNED_MAX:sa.INT16_MAX,o=!0):ka(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:sa.INT24_MIN,a=n?sa.INT24_UNSIGNED_MAX:sa.INT24_MAX,o=ka(t,["MySqlMediumInt","SingleStoreMediumInt"])):ka(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:sa.INT32_MIN,a=n?sa.INT32_UNSIGNED_MAX:sa.INT32_MAX,o=!0):ka(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:sa.INT48_MIN,a=n?sa.INT48_UNSIGNED_MAX:sa.INT48_MAX):ka(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||ka(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):ka(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function mIe(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:sa.INT64_MIN,a=n?sa.INT64_UNSIGNED_MAX:sa.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function pIe(t,e,r){if(ka(t,["PgUUID"]))return e.string().uuid();let n,i,a=!1;ka(t,["PgVarchar","SQLiteText"])?n=t.length:ka(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??sa.INT16_UNSIGNED_MAX:ka(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=sa.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=sa.INT24_UNSIGNED_MAX:t.textType==="text"?n=sa.INT16_UNSIGNED_MAX:n=sa.INT8_UNSIGNED_MAX),ka(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),ka(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=i?o.regex(i):o,n&&a?o.length(n):n?o.max(n):o}function yue(t){return Lle(t)?M6e(t):R6e(t)}function vue(t,e,r,n){const i={};for(const[a,o]of Object.entries(t)){if(!Qa(o,P1)&&!Qa(o,Na)&&!Qa(o,Na.Aliased)&&typeof o=="object"){const f=Lle(o)||O6e(o)?yue(o):o;i[a]=vue(f,e[a]??{},r,n);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Qa(o,P1)?o:void 0,u=c?xue(c,n):_t.any(),h=typeof l=="function"?l(u):u;r.never(c)||(i[a]=h,c&&(r.nullable(c)&&(i[a]=i[a].nullable()),r.optional(c)&&(i[a]=i[a].optional())))}return _t.object(i)}const gIe={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Ds=(t,e)=>{const r=yue(t);return vue(r,{},gIe)};As("sessions",{sid:nt("sid").primaryKey(),sess:Zd("sess").notNull(),expire:Ht("expire").notNull()},t=>[lIe("IDX_session_expire").on(t.expire)]);const hs=As("users",{id:nt("id").primaryKey().notNull(),email:nt("email").unique(),password:nt("password"),firstName:nt("first_name"),lastName:nt("last_name"),profileImageUrl:nt("profile_image_url"),role:nt("role").notNull().default("guest"),phoneNumber:nt("phone_number").unique(),phoneVerified:Os("phone_verified").default(!1),idVerified:Os("id_verified").default(!1),idNumber:nt("id_number",{length:50}),idFullName:nt("id_full_name"),idDocumentType:nt("id_document_type"),idDocumentUrl:nt("id_document_url"),idExpiryDate:nt("id_expiry_date"),idCountry:nt("id_country"),faydaId:nt("fayda_id",{length:12}),faydaVerified:Os("fayda_verified").default(!1),faydaVerifiedAt:Ht("fayda_verified_at"),faydaVerificationData:Zd("fayda_verification_data"),isServiceProvider:Os("is_service_provider").default(!1),otp:nt("otp",{length:4}),otpExpiry:Ht("otp_expiry"),status:nt("status").notNull().default("active"),bio:Fr("bio"),preferences:Zd("preferences").default("{}"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});As("verification_documents",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().references(()=>hs.id),documentType:nt("document_type").notNull(),documentUrl:nt("document_url").notNull(),status:nt("status").notNull().default("pending"),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});const xIe=As("user_activity_log",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().references(()=>hs.id,{onDelete:"cascade"}),action:nt("action").notNull(),metadata:Zd("metadata").default("{}"),createdAt:Ht("created_at").defaultNow()}),du=As("properties",{id:Rs("id").primaryKey(),hostId:nt("host_id").notNull().references(()=>hs.id),title:nt("title",{length:255}).notNull(),description:Fr("description").notNull(),type:nt("type").notNull(),status:nt("status").notNull().default("pending"),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),latitude:us("latitude",{precision:10,scale:8}),longitude:us("longitude",{precision:11,scale:8}),address:Fr("address"),location:nt("location").notNull(),city:nt("city").notNull(),region:nt("region").notNull(),pricePerNight:us("price_per_night",{precision:10,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),maxGuests:fr("max_guests").notNull(),bedrooms:fr("bedrooms").notNull(),bathrooms:fr("bathrooms").notNull(),amenities:Fr("amenities").array(),images:Fr("images").array(),isActive:Os("is_active").default(!0),rating:us("rating",{precision:3,scale:2}).default("0"),reviewCount:fr("review_count").default(0),lockboxVerified:Os("lockbox_verified").default(!1),cameraVerified:Os("camera_verified").default(!1),hardwareVerifiedAt:Ht("hardware_verified_at"),hardwareVerificationNotes:Fr("hardware_verification_notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),yIe=As("property_info",{id:Rs("id").primaryKey(),propertyId:fr("property_id").notNull().references(()=>du.id).unique(),lockboxCode:nt("lockbox_code",{length:20}),lockboxLocation:Fr("lockbox_location"),parkingInstructions:Fr("parking_instructions"),entryInstructions:Fr("entry_instructions"),wifiNetwork:nt("wifi_network",{length:100}),wifiPassword:nt("wifi_password",{length:100}),hostEmergencyPhone:nt("host_emergency_phone",{length:20}),propertyManager:nt("property_manager",{length:100}),propertyManagerPhone:nt("property_manager_phone",{length:20}),nearestHospital:Fr("nearest_hospital"),nearestRestaurants:Fr("nearest_restaurants"),nearestAttractions:Fr("nearest_attractions"),transportationTips:Fr("transportation_tips"),heatingInstructions:Fr("heating_instructions"),acInstructions:Fr("ac_instructions"),tvInstructions:Fr("tv_instructions"),kitchenAppliances:Fr("kitchen_appliances"),otherInstructions:Fr("other_instructions"),checkInTime:nt("check_in_time",{length:10}).default("2:00 PM"),checkOutTime:nt("check_out_time",{length:10}).default("11:00 AM"),checkInNotes:Fr("check_in_notes"),checkOutChecklist:Fr("checkout_checklist"),quietHours:nt("quiet_hours",{length:50}),smokingAllowed:Os("smoking_allowed").default(!1),petsAllowed:Os("pets_allowed").default(!1),partiesAllowed:Os("parties_allowed").default(!1),additionalRules:Fr("additional_rules"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),vIe=As("lemlem_chats",{id:Rs("id").primaryKey(),userId:nt("user_id").references(()=>hs.id),bookingId:fr("booking_id").references(()=>x0.id),propertyId:fr("property_id").references(()=>du.id),message:Fr("message").notNull(),isUser:Os("is_user").notNull(),usedTemplate:Os("used_template").default(!0),aiModel:nt("ai_model",{length:50}),tokensUsed:fr("tokens_used"),estimatedCost:us("estimated_cost",{precision:10,scale:6}),timestamp:Ht("timestamp").defaultNow()}),x0=As("bookings",{id:Rs("id").primaryKey(),propertyId:fr("property_id").notNull().references(()=>du.id),guestId:nt("guest_id").notNull().references(()=>hs.id),checkIn:Ht("check_in").notNull(),checkOut:Ht("check_out").notNull(),guests:fr("guests").notNull(),totalPrice:us("total_price",{precision:10,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),status:nt("status").default("pending").notNull(),paymentMethod:nt("payment_method"),paymentStatus:nt("payment_status").default("pending").notNull(),paymentRef:nt("payment_ref"),specialRequests:Fr("special_requests"),algaCommission:us("alga_commission",{precision:10,scale:2}),vat:us("vat",{precision:10,scale:2}),withholding:us("withholding",{precision:10,scale:2}),hostPayout:us("host_payout",{precision:10,scale:2}),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),bIe=As("reviews",{id:Rs("id").primaryKey(),propertyId:fr("property_id").notNull().references(()=>du.id),bookingId:fr("booking_id").notNull().references(()=>x0.id),reviewerId:nt("reviewer_id").notNull().references(()=>hs.id),rating:fr("rating").notNull(),comment:Fr("comment"),cleanliness:fr("cleanliness"),communication:fr("communication"),accuracy:fr("accuracy"),location:fr("location"),value:fr("value"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),wIe=As("favorites",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().references(()=>hs.id),propertyId:fr("property_id").notNull().references(()=>du.id),createdAt:Ht("created_at").defaultNow()}),bue=As("lockboxes",{id:Rs("id").primaryKey(),propertyId:fr("property_id").notNull().references(()=>du.id).unique(),vendor:nt("vendor",{length:50}).notNull(),vendorLockId:nt("vendor_lock_id",{length:255}),model:nt("model",{length:100}),serialNumber:nt("serial_number",{length:100}),installationDate:Ht("installation_date"),installationPhotoUrl:nt("installation_photo_url"),location:Fr("location"),verificationStatus:nt("verification_status").default("pending").notNull(),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),isActive:Os("is_active").default(!0),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),NIe=As("access_codes",{id:Rs("id").primaryKey(),bookingId:fr("booking_id").notNull().references(()=>x0.id),propertyId:fr("property_id").notNull().references(()=>du.id),lockboxId:fr("lockbox_id").references(()=>bue.id),guestId:nt("guest_id").notNull().references(()=>hs.id),code:nt("code",{length:4}).notNull(),validFrom:Ht("valid_from").notNull(),validTo:Ht("valid_to").notNull(),status:nt("status").default("active").notNull(),usedAt:Ht("used_at"),generatedBy:nt("generated_by").default("system").notNull(),vendorCodeId:nt("vendor_code_id",{length:255}),deliveryMethod:nt("delivery_method"),deliveredAt:Ht("delivered_at"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),jIe=As("security_cameras",{id:Rs("id").primaryKey(),propertyId:fr("property_id").notNull().references(()=>du.id),location:Fr("location").notNull(),brand:nt("brand",{length:100}),model:nt("model",{length:100}),installationDate:Ht("installation_date"),installationPhotoUrl:nt("installation_photo_url"),viewingArea:Fr("viewing_area"),recordingEnabled:Os("recording_enabled").default(!0),storageType:nt("storage_type"),verificationStatus:nt("verification_status").default("pending").notNull(),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),isActive:Os("is_active").default(!0),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),TR=As("service_providers",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().references(()=>hs.id),businessName:nt("business_name",{length:255}).notNull(),serviceType:nt("service_type").notNull(),description:Fr("description").notNull(),pricingModel:nt("pricing_model").notNull(),basePrice:us("base_price",{precision:10,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),city:nt("city").notNull(),region:nt("region").notNull(),address:Fr("address"),latitude:us("latitude",{precision:10,scale:8}),longitude:us("longitude",{precision:11,scale:8}),availability:Fr("availability"),portfolioImages:Fr("portfolio_images").array(),idDocumentUrl:nt("id_document_url"),verificationStatus:nt("verification_status").default("pending").notNull(),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),rating:us("rating",{precision:3,scale:2}).default("0"),totalJobsCompleted:fr("total_jobs_completed").default(0),isActive:Os("is_active").default(!0),providerType:nt("provider_type"),cuisine:nt("cuisine"),specialties:Fr("specialties").array(),deliveryRadiusKm:fr("delivery_radius_km"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),wue=As("service_bookings",{id:Rs("id").primaryKey(),bookingId:fr("booking_id").references(()=>x0.id),serviceProviderId:fr("service_provider_id").notNull().references(()=>TR.id),guestId:nt("guest_id").notNull().references(()=>hs.id),hostId:nt("host_id").references(()=>hs.id),serviceType:nt("service_type").notNull(),scheduledDate:Ht("scheduled_date").notNull(),scheduledTime:nt("scheduled_time"),propertyLocation:nt("property_location"),status:nt("status").default("pending").notNull(),totalPrice:us("total_price",{precision:10,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),algaCommission:us("alga_commission",{precision:10,scale:2}),providerPayout:us("provider_payout",{precision:10,scale:2}),paymentStatus:nt("payment_status").default("pending").notNull(),paymentRef:nt("payment_ref"),payoutStatus:nt("payout_status").default("pending").notNull(),specialInstructions:Fr("special_instructions"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),SIe=As("service_reviews",{id:Rs("id").primaryKey(),serviceBookingId:fr("service_booking_id").notNull().references(()=>wue.id),serviceProviderId:fr("service_provider_id").notNull().references(()=>TR.id),reviewerId:nt("reviewer_id").notNull().references(()=>hs.id),rating:fr("rating").notNull(),comment:Fr("comment"),professionalism:fr("professionalism"),quality:fr("quality"),timeliness:fr("timeliness"),communication:fr("communication"),value:fr("value"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),CIe=As("platform_settings",{id:Rs("id").primaryKey(),aiEnabled:Os("ai_enabled").default(!0).notNull(),monthlyBudgetUSD:us("monthly_budget_usd",{precision:10,scale:2}).default("20.00"),currentMonthSpend:us("current_month_spend",{precision:10,scale:6}).default("0"),budgetResetDate:Ht("budget_reset_date").defaultNow(),alertsEnabled:Os("alerts_enabled").default(!0).notNull(),alertThreshold:fr("alert_threshold").default(80),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});Ds(hs).omit({id:!0,createdAt:!0,updatedAt:!0,phoneVerified:!0,idVerified:!0,status:!0});_t.object({phoneNumber:_t.string().regex(/^\+251[0-9]{9}$/,"Phone number must be in format +251XXXXXXXXX"),password:_t.string().min(8,"Password must be at least 8 characters"),firstName:_t.string().min(1,"First name is required"),lastName:_t.string().min(1,"Last name is required")});_t.object({email:_t.string().email("Invalid email address"),password:_t.string().min(8,"Password must be at least 8 characters"),firstName:_t.string().min(1,"First name is required"),lastName:_t.string().min(1,"Last name is required")});_t.object({phoneNumber:_t.string().regex(/^\+251[0-9]{9}$/,"Phone number must be in format +251XXXXXXXXX"),password:_t.string().min(1,"Password is required")});_t.object({email:_t.string().email("Invalid email address"),password:_t.string().min(1,"Password is required")});_t.object({phoneNumber:_t.string().regex(/^\+251[0-9]{9}$/,"Phone number must be in format +251XXXXXXXXX"),otp:_t.string().length(4,"OTP must be 4 digits")});const AIe=Ds(du).omit({id:!0,createdAt:!0,updatedAt:!0,rating:!0,reviewCount:!0});Ds(x0).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({checkIn:_t.union([_t.string(),_t.date()]).transform(t=>typeof t=="string"?new Date(t):t),checkOut:_t.union([_t.string(),_t.date()]).transform(t=>typeof t=="string"?new Date(t):t),totalPrice:_t.union([_t.string(),_t.number()]).transform(t=>typeof t=="number"?t.toString():t)});Ds(bIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(wIe).omit({id:!0,createdAt:!0});Ds(NIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(bue).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(jIe).omit({id:!0,createdAt:!0,updatedAt:!0});const Nue=_t.enum(["cleaning","laundry","airport_pickup","electrical","plumbing","driver","welcome_pack","meal_support","local_guide","photography","landscaping","self_care"]);Ds(TR).omit({id:!0,createdAt:!0,updatedAt:!0,rating:!0,totalJobsCompleted:!0,verificationStatus:!0,verifiedBy:!0,verifiedAt:!0}).extend({serviceType:Nue});Ds(wue).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({serviceType:Nue,scheduledDate:_t.union([_t.string(),_t.date()]).transform(t=>typeof t=="string"?new Date(t):t),totalPrice:_t.union([_t.string(),_t.number()]).transform(t=>typeof t=="number"?t.toString():t)});Ds(SIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(yIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(vIe).omit({id:!0,timestamp:!0});Ds(CIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(xIe).omit({id:!0,createdAt:!0});const im=As("agents",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().references(()=>hs.id),fullName:nt("full_name",{length:255}).notNull(),phoneNumber:nt("phone_number",{length:20}).notNull().unique(),telebirrAccount:nt("telebirr_account",{length:50}).notNull(),idNumber:nt("id_number",{length:50}),idDocumentUrl:nt("id_document_url"),businessName:nt("business_name",{length:255}),businessLicenseUrl:nt("business_license_url"),city:nt("city").notNull(),subCity:nt("sub_city"),status:nt("status").notNull().default("pending"),verifiedBy:nt("verified_by").references(()=>hs.id),verifiedAt:Ht("verified_at"),rejectionReason:Fr("rejection_reason"),totalEarnings:us("total_earnings",{precision:10,scale:2}).default("0"),totalProperties:fr("total_properties").default(0),activeProperties:fr("active_properties").default(0),referralCode:nt("referral_code",{length:20}).unique(),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),_Ie=As("agent_properties",{id:Rs("id").primaryKey(),agentId:fr("agent_id").notNull().references(()=>im.id),propertyId:fr("property_id").notNull().references(()=>du.id).unique(),firstBookingDate:Ht("first_booking_date"),commissionExpiryDate:Ht("commission_expiry_date"),isActive:Os("is_active").default(!0),totalBookings:fr("total_bookings").default(0),totalCommissionEarned:us("total_commission_earned",{precision:10,scale:2}).default("0"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),EIe=As("agent_commissions",{id:Rs("id").primaryKey(),agentId:fr("agent_id").notNull().references(()=>im.id),propertyId:fr("property_id").notNull().references(()=>du.id),bookingId:fr("booking_id").notNull().references(()=>x0.id).unique(),bookingTotal:us("booking_total",{precision:10,scale:2}).notNull(),commissionRate:us("commission_rate",{precision:5,scale:2}).default("5.00"),commissionAmount:us("commission_amount",{precision:10,scale:2}).notNull(),status:nt("status").notNull().default("pending"),paidAt:Ht("paid_at"),telebirrTransactionId:nt("telebirr_transaction_id",{length:100}),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});Ds(im).omit({id:!0,totalEarnings:!0,totalProperties:!0,activeProperties:!0,createdAt:!0,updatedAt:!0});Ds(_Ie).omit({id:!0,totalBookings:!0,totalCommissionEarned:!0,createdAt:!0,updatedAt:!0});Ds(EIe).omit({id:!0,createdAt:!0,updatedAt:!0});const TIe=As("agent_withdrawals",{id:Rs("id").primaryKey(),agentId:fr("agent_id").notNull().references(()=>im.id),amount:us("amount",{precision:10,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),method:nt("method").notNull(),accountNumber:nt("account_number").notNull(),status:nt("status").notNull().default("pending"),requestedAt:Ht("requested_at").defaultNow().notNull(),processedAt:Ht("processed_at"),processedBy:nt("processed_by").references(()=>hs.id),transactionId:nt("transaction_id"),failureReason:Fr("failure_reason"),notes:Fr("notes"),metadata:Zd("metadata").default("{}"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),kIe=As("agent_ratings",{id:Rs("id").primaryKey(),agentId:fr("agent_id").notNull().references(()=>im.id),raterId:nt("rater_id").notNull().references(()=>hs.id),raterType:nt("rater_type").notNull(),propertyId:fr("property_id").references(()=>du.id),rating:fr("rating").notNull(),review:Fr("review"),tags:Fr("tags").array(),isVerified:Os("is_verified").default(!1),status:nt("status").notNull().default("active"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),PIe=As("agent_referrals",{id:Rs("id").primaryKey(),referrerId:fr("referrer_id").notNull().references(()=>im.id),referredUserId:nt("referred_user_id").references(()=>hs.id),referredAgentId:fr("referred_agent_id").references(()=>im.id),referralCode:nt("referral_code").notNull(),status:nt("status").notNull().default("pending"),bonusAmount:us("bonus_amount",{precision:10,scale:2}).default("0"),bonusPaid:Os("bonus_paid").default(!1),convertedAt:Ht("converted_at"),expiresAt:Ht("expires_at"),metadata:Zd("metadata").default("{}"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),IIe=As("agent_performance",{id:Rs("id").primaryKey(),agentId:fr("agent_id").notNull().references(()=>im.id).unique(),totalPropertiesListed:fr("total_properties_listed").default(0),activeProperties:fr("active_properties").default(0),totalBookings:fr("total_bookings").default(0),totalCommissionEarned:us("total_commission_earned",{precision:10,scale:2}).default("0"),totalCommissionPending:us("total_commission_pending",{precision:10,scale:2}).default("0"),totalWithdrawn:us("total_withdrawn",{precision:10,scale:2}).default("0"),availableBalance:us("available_balance",{precision:10,scale:2}).default("0"),averageRating:us("average_rating",{precision:3,scale:2}).default("0"),totalRatings:fr("total_ratings").default(0),totalReferrals:fr("total_referrals").default(0),successfulReferrals:fr("successful_referrals").default(0),isVerified:Os("is_verified").default(!1),verifiedBadgeLevel:nt("verified_badge_level"),lastActivityAt:Ht("last_activity_at"),joinedAt:Ht("joined_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});Ds(TIe).omit({id:!0,requestedAt:!0,createdAt:!0,updatedAt:!0});Ds(kIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(PIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(IIe).omit({id:!0,joinedAt:!0,updatedAt:!0});const OIe=As("hardware_deployments",{id:Rs("id").primaryKey(),propertyId:fr("property_id").references(()=>du.id),hardwareType:nt("hardware_type").notNull(),serialNumber:nt("serial_number",{length:100}),manufacturer:nt("manufacturer"),model:nt("model"),purchaseDate:Ht("purchase_date"),warrantyExpiry:Ht("warranty_expiry"),installationDate:Ht("installation_date"),installedBy:nt("installed_by").references(()=>hs.id),status:nt("status").notNull().default("active"),location:Fr("location"),lastMaintenanceDate:Ht("last_maintenance_date"),nextMaintenanceDate:Ht("next_maintenance_date"),notes:Fr("notes"),cost:us("cost",{precision:10,scale:2}),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),MIe=As("payment_transactions",{id:Rs("id").primaryKey(),transactionId:nt("transaction_id",{length:100}).unique().notNull(),paymentGateway:nt("payment_gateway").notNull(),transactionType:nt("transaction_type").notNull(),amount:us("amount",{precision:12,scale:2}).notNull(),currency:nt("currency").default("ETB").notNull(),status:nt("status").notNull().default("pending"),relatedBookingId:fr("related_booking_id").references(()=>x0.id),relatedAgentId:fr("related_agent_id").references(()=>im.id),payerUserId:nt("payer_user_id").references(()=>hs.id),recipientUserId:nt("recipient_user_id").references(()=>hs.id),gatewayResponse:Zd("gateway_response"),reconciled:Os("reconciled").default(!1),reconciledAt:Ht("reconciled_at"),reconciledBy:nt("reconciled_by").references(()=>hs.id),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),RIe=As("marketing_campaigns",{id:Rs("id").primaryKey(),campaignName:nt("campaign_name",{length:255}).notNull(),campaignType:nt("campaign_type").notNull(),platform:nt("platform"),startDate:Ht("start_date").notNull(),endDate:Ht("end_date"),status:nt("status").notNull().default("active"),budget:us("budget",{precision:10,scale:2}),spent:us("spent",{precision:10,scale:2}).default("0"),targetAudience:Fr("target_audience"),goals:Fr("goals"),impressions:fr("impressions").default(0),reach:fr("reach").default(0),clicks:fr("clicks").default(0),conversions:fr("conversions").default(0),leads:fr("leads").default(0),followers:fr("followers").default(0),likes:fr("likes").default(0),shares:fr("shares").default(0),comments:fr("comments").default(0),assignedTo:nt("assigned_to").references(()=>hs.id),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),DIe=As("system_alerts",{id:Rs("id").primaryKey(),alertType:nt("alert_type").notNull(),severity:nt("severity").notNull().default("medium"),pillar:nt("pillar").notNull(),title:nt("title",{length:255}).notNull(),description:Fr("description").notNull(),relatedEntityType:nt("related_entity_type"),relatedEntityId:fr("related_entity_id"),status:nt("status").notNull().default("active"),acknowledgedBy:nt("acknowledged_by").references(()=>hs.id),acknowledgedAt:Ht("acknowledged_at"),resolvedBy:nt("resolved_by").references(()=>hs.id),resolvedAt:Ht("resolved_at"),resolutionNotes:Fr("resolution_notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()}),LIe=As("insa_compliance",{id:Rs("id").primaryKey(),complianceCategory:nt("compliance_category").notNull(),requirement:Fr("requirement").notNull(),status:nt("status").notNull().default("pending"),dueDate:Ht("due_date"),completedDate:Ht("completed_date"),evidenceUrl:nt("evidence_url"),assignedTo:nt("assigned_to").references(()=>hs.id),notes:Fr("notes"),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});Ds(OIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(MIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(RIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(DIe).omit({id:!0,createdAt:!0,updatedAt:!0});Ds(LIe).omit({id:!0,createdAt:!0,updatedAt:!0});const FIe=As("consent_logs",{id:Rs("id").primaryKey(),signatureId:nt("signature_id").notNull().unique(),userId:nt("user_id").notNull().references(()=>hs.id),action:nt("action").notNull(),timestamp:Ht("timestamp").defaultNow().notNull(),ipAddressEncrypted:Fr("ip_address_encrypted"),deviceInfoEncrypted:Fr("device_info_encrypted"),otpId:nt("otp_id"),faydaId:nt("fayda_id"),signatureHash:nt("signature_hash",{length:64}).notNull(),relatedEntityType:nt("related_entity_type"),relatedEntityId:nt("related_entity_id"),verified:Os("verified").notNull().default(!1),metadata:Zd("metadata").default("{}"),createdAt:Ht("created_at").defaultNow()});Ds(FIe).omit({id:!0,createdAt:!0});const BIe=As("dashboard_access_logs",{id:Rs("id").primaryKey(),adminUserId:nt("admin_user_id").notNull().references(()=>hs.id),action:nt("action").notNull(),recordId:nt("record_id"),exportFormat:nt("export_format"),ipAddress:nt("ip_address"),userAgent:Fr("user_agent"),metadata:Zd("metadata").default("{}"),timestamp:Ht("timestamp").defaultNow().notNull()});Ds(BIe).omit({id:!0,timestamp:!0});const UIe=As("integrity_alerts",{id:sue("id").primaryKey().defaultRandom(),signatureId:nt("signature_id").notNull(),category:nt("category").notNull(),firstSeenAt:Ht("first_seen_at").defaultNow().notNull(),lastSeenAt:Ht("last_seen_at").defaultNow().notNull(),occurrenceCount:fr("occurrence_count").default(1).notNull(),resolved:Os("resolved").default(!1).notNull(),acknowledgedBy:nt("acknowledged_by").references(()=>hs.id),acknowledgedAt:Ht("acknowledged_at"),metadata:Zd("metadata").default("{}")});Ds(UIe).omit({id:!0,firstSeenAt:!0,lastSeenAt:!0});const $Ie=As("user_onboarding",{id:Rs("id").primaryKey(),userId:nt("user_id").notNull().unique().references(()=>hs.id),role:nt("role").notNull(),onboardingCompleted:Os("onboarding_completed").default(!1),completedAt:Ht("completed_at"),stepWelcome:Os("step_welcome").default(!1),stepTour:Os("step_tour").default(!1),stepComplete:Os("step_complete").default(!1),welcomeImageGenerated:Os("welcome_image_generated").default(!1),welcomeImageUrl:nt("welcome_image_url"),tourStepsViewed:fr("tour_steps_viewed").default(0),skipCount:fr("skip_count").default(0),totalTimeSpent:fr("total_time_spent").default(0),lastInteractionAt:Ht("last_interaction_at").defaultNow(),createdAt:Ht("created_at").defaultNow(),updatedAt:Ht("updated_at").defaultNow()});Ds($Ie).omit({id:!0,createdAt:!0,updatedAt:!0});const zIe=AIe.omit({hostId:!0}).extend({description:_t.string().optional(),amenities:_t.array(_t.string()).optional(),images:_t.array(_t.string()).min(5,"At least 5 property images are required")}),qIe=["Traditional Ethiopian Home","Modern City Apartment","Family Guesthouse Retreat","Lakeside Villa","Mountain View Lodge","Eco Stay & Coffee Farm","Urban Studio Room","Peaceful Garden Residence"],e$={"Traditional Ethiopian Home":"Experience authentic Ethiopian living in this beautifully preserved traditional home. Features classic architecture, warm hospitality, and proximity to local markets and cultural sites. Perfect for families seeking an immersive cultural experience.","Modern City Apartment":"Contemporary urban living with all modern amenities. Located in the heart of the city with easy access to restaurants, shops, and business districts. Ideal for travelers who value convenience and comfort.","Family Guesthouse Retreat":"Spacious and welcoming family-friendly accommodation. Multiple bedrooms, shared living spaces, and a warm, homely atmosphere. Great for groups and families looking to explore Ethiopia together.","Lakeside Villa":"Stunning waterfront property with panoramic lake views. Enjoy peaceful mornings, beautiful sunsets, and outdoor activities. Perfect for relaxation and nature enthusiasts.","Mountain View Lodge":"Breathtaking mountain vistas and fresh highland air. Cozy retreat with spectacular views, ideal for hikers and those seeking tranquility away from the city.","Eco Stay & Coffee Farm":"Sustainable living on a working coffee farm. Learn about Ethiopian coffee culture, enjoy organic meals, and experience rural life. Perfect for eco-conscious travelers and coffee lovers.","Urban Studio Room":"Compact and efficient city accommodation. Well-designed space with everything you need for a comfortable stay. Great for solo travelers and short business trips.","Peaceful Garden Residence":"Serene property surrounded by lush gardens and green spaces. Quiet neighborhood, perfect for relaxation while still being close to city amenities. Ideal for those seeking peace and nature."};function VIe(){const{user:t}=ti(),{toast:e}=Vn(),r=ay(),n=Ms(),[i,a]=P.useState(!1),[o,l]=P.useState(null),[c,u]=P.useState([]),[h,f]=P.useState([]),[y,v]=P.useState(!1),[S,w]=P.useState(!1),[N,_]=P.useState(null),E=P.useRef(null);if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(kn,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Host Dashboard"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to access your host dashboard"}),s.jsx(Be,{onClick:()=>n("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})});const T=Gf({resolver:Yf(zIe),defaultValues:{title:"",description:"",type:"",location:"",city:"",region:"",pricePerNight:"0",currency:"ETB",maxGuests:1,bedrooms:1,bathrooms:1,amenities:[],images:[],isActive:!0}}),{data:M=[],isLoading:O}=Nr({queryKey:["/api/host/properties"]}),{data:L=[],isLoading:B}=Nr({queryKey:["/api/bookings"]}),{data:U,isLoading:$}=Nr({queryKey:["/api/host/stats"]}),K=Ln({mutationFn:async de=>await xn("POST","/api/properties",{...de,amenities:c,images:h}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/host/properties"]}),e({title:"Property created successfully!",description:"Your property has been added to Alga."}),a(!1),T.reset(),u([]),f([])},onError:de=>{console.error("Property creation error:",de),e({title:"Error creating property",description:de.message||"Failed to create property. Please try again.",variant:"destructive"})}}),q=Ln({mutationFn:async({id:de,data:pe})=>await xn("PUT",`/api/properties/${de}`,{...pe,amenities:c,images:h}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/host/properties"]}),e({title:"Property updated successfully!",description:"Your property changes have been saved."}),l(null),a(!1),T.reset(),u([]),f([])},onError:de=>{console.error("Property update error:",de),e({title:"Error updating property",description:de.message||"Failed to update property. Please try again.",variant:"destructive"})}}),H=Ln({mutationFn:async de=>{await xn("DELETE",`/api/properties/${de}`)},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/host/properties"]}),e({title:"Property deleted successfully",description:"Your property has been removed from Alga."})},onError:()=>{e({title:"Error deleting property",description:"Failed to delete property. Please try again.",variant:"destructive"})}}),Q=de=>{if(console.log("Form submitted with data:",de),console.log("Image URLs:",h),console.log("Selected amenities:",c),console.log("Form errors:",T.formState.errors),h.length<5){e({title:"Not enough images",description:"Please upload at least 5 images of your property",variant:"destructive"});return}o?q.mutate({id:o.id,data:de}):K.mutate(de)},Z=de=>{l(de),u(de.amenities||[]),f(de.images||[]),T.reset({title:de.title,description:de.description,type:de.type,location:de.location,city:de.city,region:de.region,pricePerNight:de.pricePerNight,currency:de.currency,maxGuests:de.maxGuests,bedrooms:de.bedrooms,bathrooms:de.bathrooms,amenities:de.amenities||[],images:de.images||[],isActive:de.isActive}),a(!0)},J=()=>{l(null),u([]),f([]),T.reset(),a(!0)},ye=de=>{u(pe=>pe.includes(de)?pe.filter(Oe=>Oe!==de):[...pe,de])},ge=async de=>{if(de.length===0){console.log("No files to upload");return}console.log("Starting upload of",de.length,"files"),v(!0);try{const pe=new FormData;de.forEach(Ve=>{pe.append("images",Ve),console.log("Added file to formData:",Ve.name,Ve.size,"bytes")}),console.log("Sending upload request...");const Oe=await fetch("/api/upload/property-images",{method:"POST",body:pe,credentials:"include"});console.log("Upload response status:",Oe.status);const ze=Oe.headers.get("content-type");if(!Oe.ok){let Ve="Upload failed";if(ze!=null&&ze.includes("application/json"))Ve=(await Oe.json()).message||Ve;else{const Ee=await Oe.text();Oe.status===401?Ve="Please sign in to upload images":Ve=`Upload failed (${Oe.status})`}throw new Error(Ve)}if(!(ze!=null&&ze.includes("application/json")))throw new Error("Invalid response from server");const qe=await Oe.json();console.log("Upload response data:",qe);const $e=[...h,...qe.urls];console.log("New image URLs:",$e),f($e),T.setValue("images",$e,{shouldValidate:!0}),console.log("Form images field updated:",$e.length,"images"),E.current&&(E.current.value=""),e({title:"Images uploaded successfully",description:`${qe.count} image(s) uploaded. Total: ${$e.length}`})}catch(pe){console.error("Upload error:",pe),e({title:"Upload failed",description:pe.message||"Failed to upload images",variant:"destructive"})}finally{v(!1)}},oe=de=>{const pe=Array.from(de.target.files||[]);console.log("File input changed, files selected:",pe.length),pe.length>0&&(console.log("Uploading files:",pe.map(Oe=>Oe.name)),ge(pe))},re=de=>{de.preventDefault(),de.stopPropagation(),de.type==="dragenter"||de.type==="dragover"?w(!0):de.type==="dragleave"&&w(!1)},me=de=>{de.preventDefault(),de.stopPropagation(),w(!1);const Oe=Array.from(de.dataTransfer.files).filter(ze=>ze.type.startsWith("image/"));Oe.length>0?ge(Oe):e({title:"Invalid files",description:"Please select only image files",variant:"destructive"})},ne=de=>{const pe=h.filter(Oe=>Oe!==de);f(pe),T.setValue("images",pe,{shouldValidate:!0})},G=de=>new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:0}).format(parseFloat(de)),se=M.length,ue=M.filter(de=>de.isActive).length,je=L.length,Ce=L.filter(de=>de.status==="completed").reduce((de,pe)=>de+parseFloat(pe.totalPrice),0),ae=M.length>0?M.reduce((de,pe)=>de+parseFloat(pe.rating||"0"),0)/M.length:0;return s.jsxs("div",{className:"min-h-screen bg-eth-warm-tan",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx(tf,{})}),s.jsx(S6e,{hostName:t==null?void 0:t.firstName}),s.jsx(C6e,{stats:U,isLoading:$}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral-dark",children:"Host Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Manage your properties and bookings."})]}),s.jsxs(Be,{onClick:J,className:"bg-eth-green hover:bg-green-700 w-full sm:w-auto",children:[s.jsx(Zv,{className:"mr-2 h-4 w-4"}),"Add Property"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx(_e,{children:s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-eth-green"}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-dark",children:se})]})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-eth-yellow"}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Bookings"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-dark",children:je})]})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ii,{className:"h-6 w-6 sm:h-8 sm:w-8 text-eth-red"}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-dark",children:G(Ce.toString())})]})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ca,{className:"h-6 w-6 sm:h-8 sm:w-8 text-eth-yellow"}),s.jsxs("div",{className:"ml-2 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-neutral-dark",children:ae.toFixed(1)})]})]})})})]}),s.jsxs(oc,{defaultValue:"properties",className:"space-y-6",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[s.jsx(tn,{value:"properties",children:"Properties"}),s.jsx(tn,{value:"bookings",children:"Bookings"}),s.jsx(tn,{value:"earnings",children:"Earnings"}),s.jsx(tn,{value:"analytics",children:"Analytics"})]}),s.jsx(Tn,{value:"properties",className:"space-y-6",children:O?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((de,pe)=>s.jsx("div",{className:"bg-gray-200 animate-pulse rounded-xl h-80"},pe))}):M.length===0?s.jsx(_e,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx(kn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start earning by adding your first property to Alga."}),s.jsxs(Be,{onClick:J,className:"bg-eth-green hover:bg-green-700",children:[s.jsx(Zv,{className:"mr-2 h-4 w-4"}),"Add Your First Property"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(de=>{var pe;return s.jsxs(_e,{className:"overflow-hidden",children:[s.jsx("img",{src:((pe=de.images)==null?void 0:pe[0])||"https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",alt:de.title,className:"w-full h-48 object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>n(`/properties/${de.id}`),"data-testid":`img-property-${de.id}`}),s.jsxs(Te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Rt,{variant:de.isActive?"default":"secondary",children:de.isActive?"Active":"Inactive"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ca,{className:"h-4 w-4 fill-eth-yellow text-eth-yellow"}),s.jsx("span",{className:"text-sm font-medium",children:parseFloat(de.rating||"0").toFixed(1)})]})]}),s.jsx("h4",{className:"font-semibold text-lg text-neutral-dark mb-1 line-clamp-1",children:de.title}),s.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[s.jsx(ki,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"line-clamp-1",children:[de.location,", ",de.city]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ki,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:de.maxGuests})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(C4,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:de.bedrooms})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(rM,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:de.bathrooms})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-lg font-bold text-neutral-dark",children:[G(de.pricePerNight),"/night"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[de.reviewCount," reviews"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsxs(Be,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>n(`/properties/${de.id}`),"data-testid":`button-view-${de.id}`,children:[s.jsx(Df,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>Z(de),className:"flex-1","data-testid":`button-edit-${de.id}`,children:[s.jsx(wre,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(Ale,{children:[s.jsx(_le,{asChild:!0,children:s.jsx(Be,{size:"sm",variant:"outline",children:s.jsx(Nre,{className:"h-4 w-4"})})}),s.jsxs(bR,{children:[s.jsxs(wR,{children:[s.jsx(jR,{children:"Delete Property"}),s.jsxs(SR,{children:['Are you sure you want to delete "',de.title,'"? This action cannot be undone.']})]}),s.jsxs(NR,{children:[s.jsx(AR,{children:"Cancel"}),s.jsx(CR,{onClick:()=>H.mutate(de.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]}),s.jsxs(Be,{size:"sm",variant:"outline",className:"w-full border-[#CD7F32] text-[#CD7F32] hover:bg-[#f9e9d8]",onClick:()=>_(de.id),"data-testid":`button-configure-lemlem-${de.id}`,children:[s.jsx(ua,{className:"h-4 w-4 mr-1"}),"Configure Lemlem AI"]})]})]},de.id)})})}),s.jsx(Tn,{value:"bookings",className:"space-y-6",children:B?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((de,pe)=>s.jsx("div",{className:"bg-gray-200 animate-pulse rounded-lg h-24"},pe))}):L.length===0?s.jsx(_e,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx(Pi,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings yet"}),s.jsx("p",{className:"text-gray-600",children:"Bookings for your properties will appear here."})]})}):s.jsx("div",{className:"space-y-4",children:L.map(de=>{const pe=M.find(Oe=>Oe.id===de.propertyId);return s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-lg text-neutral-dark mb-1",children:(pe==null?void 0:pe.title)||`Property #${de.propertyId}`}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[new Date(de.checkIn).toLocaleDateString()," - ",new Date(de.checkOut).toLocaleDateString()]}),s.jsxs("span",{children:[de.guests," guests"]}),s.jsx(Rt,{variant:de.status==="confirmed"?"default":de.status==="pending"?"secondary":de.status==="cancelled"?"destructive":"default",children:de.status})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-neutral-dark",children:G(de.totalPrice)}),s.jsx("p",{className:"text-sm text-gray-600",children:de.paymentStatus})]})]})})},de.id)})})}),s.jsx(Tn,{value:"earnings",className:"space-y-6",children:s.jsx(w6e,{})}),s.jsx(Tn,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsx(Ye,{children:"Performance Overview"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Properties"}),s.jsxs("span",{className:"font-semibold",children:[ue,"/",se]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Occupancy Rate"}),s.jsxs("span",{className:"font-semibold",children:[se>0?(je/se*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Average Rating"}),s.jsxs("span",{className:"font-semibold",children:[ae.toFixed(1),"/5"]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsx(Ye,{children:"Revenue Summary"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Revenue"}),s.jsx("span",{className:"font-semibold text-lg",children:G(Ce.toString())})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Average per Booking"}),s.jsx("span",{className:"font-semibold",children:je>0?G((Ce/je).toString()):G("0")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Completed Bookings"}),s.jsx("span",{className:"font-semibold",children:L.filter(de=>de.status==="completed").length})]})]})})]})]})})]})]}),s.jsx(Uo,{open:i,onOpenChange:a,children:s.jsxs(po,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(go,{children:s.jsx(xo,{children:o?"Edit Property":"Add New Property"})}),s.jsx(mp,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(Q),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Xr,{control:T.control,name:"title",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Property Title ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Or,{...de,list:"property-title-suggestions",placeholder:"Choose or type your own...",required:!0,onChange:pe=>{de.onChange(pe);const Oe=pe.target.value;if(e$[Oe]){const ze=T.getValues("description");(!ze||ze.trim()==="")&&(T.setValue("description",e$[Oe]),e({title:"Description suggested! ",description:"Feel free to customize it to match your property."}))}},className:"text-base","data-testid":"input-property-title","aria-label":"Property title with suggestions"}),s.jsx("datalist",{id:"property-title-suggestions",children:qIe.map(pe=>s.jsx("option",{value:pe},pe))}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[" ",s.jsx("span",{children:"Choose a name that reflects your stay's character"})]})]})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"type",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Property Type ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:de.onChange,defaultValue:de.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{children:s.jsx(es,{placeholder:"Select property type..."})})}),s.jsx(Yn,{children:Iae.map(pe=>s.jsx(Vt,{value:pe.value,children:pe.label},pe.value))})]}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"city",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["City ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:de.onChange,defaultValue:de.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{children:s.jsx(es,{placeholder:"Select city..."})})}),s.jsx(Yn,{children:T2.map(pe=>s.jsx(Vt,{value:pe,children:pe},pe))})]}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"region",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Region ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:de.onChange,defaultValue:de.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{children:s.jsx(es,{placeholder:"Select region..."})})}),s.jsx(Yn,{children:E_e.map(pe=>s.jsx(Vt,{value:pe,children:pe},pe))})]}),s.jsx(dn,{})]})})]}),s.jsx(Xr,{control:T.control,name:"location",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Specific Location ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{placeholder:"Street address or area name...",...de,required:!0})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"description",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Description ",s.jsx("span",{className:"text-eth-brown/50",children:"(optional)"})]}),s.jsx(on,{children:s.jsx(_i,{placeholder:"Describe your property, its unique features, and what makes it special...",className:"min-h-[100px]",...de})}),s.jsx(dn,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(yr,{className:"text-sm font-medium text-eth-brown",children:["Property Images ",s.jsx("span",{className:"text-red-600",children:"*"})," ",h.length>0&&`(${h.length})`]}),s.jsx("span",{className:`text-sm font-semibold ${h.length>=5?"text-green-600":"text-red-600"}`,children:h.length<5?`Minimum 5 images required (${5-h.length} more needed)`:" Minimum met"})]}),T.formState.errors.images&&s.jsxs("p",{className:"text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:[" ",T.formState.errors.images.message]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg transition-all ${S?"border-eth-brown bg-eth-brown/10":"border-eth-brown/30 hover:border-eth-brown/50 bg-eth-light-tan/30"}`,onDragEnter:re,onDragLeave:re,onDragOver:re,onDrop:me,children:[s.jsx("input",{ref:E,type:"file",multiple:!0,accept:"image/*",onChange:oe,className:"hidden","data-testid":"input-file-upload"}),s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:y?s.jsx(eo,{className:"h-16 w-16 text-eth-brown animate-spin"}):s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"bg-eth-brown/10 p-4 rounded-full",children:s.jsx(lp,{className:"h-10 w-10 text-eth-brown"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-eth-brown rounded-full p-1.5",children:s.jsx(gre,{className:"h-4 w-4 text-white"})})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-base font-semibold text-eth-brown",children:y?"Uploading images...":S?"Drop your images here":"Upload Property Images"}),s.jsx("p",{className:"text-sm text-eth-brown/70",children:"Drag and drop images here, or click to browse"}),s.jsx("p",{className:"text-xs text-eth-brown/50",children:"Supports: JPG, PNG, WebP  Max 10MB per file"})]}),!y&&s.jsxs(Be,{type:"button",variant:"outline",onClick:()=>{var de;return(de=E.current)==null?void 0:de.click()},className:"mt-4 border-eth-brown text-eth-brown hover:bg-eth-brown hover:text-white","data-testid":"button-browse-images",children:[s.jsx(Zv,{className:"h-4 w-4 mr-2"}),"Browse Files"]})]})]}),h.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:h.map((de,pe)=>s.jsxs("div",{className:"relative group rounded-lg overflow-hidden border-2 border-eth-brown/20 hover:border-eth-brown/40 transition-all","data-testid":`uploaded-image-${pe}`,children:[s.jsx("div",{className:"aspect-square",children:s.jsx("img",{src:de,alt:`Property ${pe+1}`,className:"w-full h-full object-cover",onError:Oe=>{Oe.target.src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=200&h=200&fit=crop"}})}),pe===0&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(Rt,{className:"bg-eth-brown text-white text-xs",children:"Main"})}),s.jsx(Be,{type:"button",variant:"destructive",size:"icon",onClick:()=>ne(de),className:"absolute top-2 right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600","data-testid":`button-remove-image-${pe}`,children:s.jsx(Cc,{className:"h-4 w-4"})})]},pe))}),s.jsx("p",{className:"text-xs text-eth-brown/60",children:h.length===0?"Upload at least 5 high-quality images of your property. The first image will be used as the main display image.":"The first image will be used as the main display image. You can remove and re-upload to change the order."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Xr,{control:T.control,name:"maxGuests",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Max Guests ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...de,onChange:pe=>de.onChange(parseInt(pe.target.value)),required:!0})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"bedrooms",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Bedrooms ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...de,onChange:pe=>de.onChange(parseInt(pe.target.value)),required:!0})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"bathrooms",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Bathrooms ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...de,onChange:pe=>de.onChange(parseInt(pe.target.value)),required:!0})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:T.control,name:"pricePerNight",render:({field:de})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Price per Night (ETB) ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"0",step:"0.01",...de,required:!0})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{children:[s.jsx(yr,{className:"text-sm font-medium mb-3 block",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:T_e.map(de=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`amenity-${de}`,checked:c.includes(de),onChange:()=>ye(de),className:"rounded border-gray-300 text-eth-green focus:ring-eth-green"}),s.jsx("label",{htmlFor:`amenity-${de}`,className:"text-sm text-gray-700 cursor-pointer",children:de})]},de))})]}),s.jsx(Ud,{}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-property",children:"Cancel"}),s.jsx(Be,{type:"submit",className:"bg-eth-green hover:bg-green-700",disabled:K.isPending||q.isPending,"data-testid":"button-submit-property",onClick:de=>{console.log("Submit button clicked"),console.log("Form state:",{isValid:T.formState.isValid,errors:T.formState.errors,values:T.getValues(),imageUrls:h,selectedAmenities:c})},children:K.isPending||q.isPending?"Saving...":o?"Update Property":"Create Property"})]})]})})]})}),s.jsx(Uo,{open:N!==null,onOpenChange:()=>_(null),children:s.jsxs(po,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(go,{children:s.jsxs(xo,{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5 text-[#CD7F32]"}),"Configure Lemlem AI Assistant"]})}),N&&s.jsx(j6e,{propertyId:N})]})}),s.jsx(Ei,{})]})}function rh(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function s0(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const jue=6048e5,HIe=864e5;let WIe={};function Q4(){return WIe}function Xb(t,e){var l,c,u,h;const r=Q4(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=rh(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function V5(t){return Xb(t,{weekStartsOn:1})}function Sue(t){const e=rh(t),r=e.getFullYear(),n=s0(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=V5(n),a=s0(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=V5(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function t$(t){const e=rh(t);return e.setHours(0,0,0,0),e}function r$(t){const e=rh(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function GIe(t,e){const r=t$(t),n=t$(e),i=+r-r$(r),a=+n-r$(n);return Math.round((i-a)/HIe)}function YIe(t){const e=Sue(t),r=s0(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),V5(r)}function KIe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XIe(t){if(!KIe(t)&&typeof t!="number")return!1;const e=rh(t);return!isNaN(Number(e))}function ZIe(t){const e=rh(t),r=s0(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const QIe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JIe=(t,e,r)=>{let n;const i=QIe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function h3(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const eOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nOe={date:h3({formats:eOe,defaultWidth:"full"}),time:h3({formats:tOe,defaultWidth:"full"}),dateTime:h3({formats:rOe,defaultWidth:"full"})},sOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iOe=(t,e,r,n)=>sOe[t];function cv(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const aOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hOe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fOe={ordinalNumber:hOe,era:cv({values:aOe,defaultWidth:"wide"}),quarter:cv({values:oOe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cv({values:lOe,defaultWidth:"wide"}),day:cv({values:cOe,defaultWidth:"wide"}),dayPeriod:cv({values:uOe,defaultWidth:"wide",formattingValues:dOe,defaultFormattingWidth:"wide"})};function uv(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?pOe(l,f=>f.test(o)):mOe(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}function mOe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function pOe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function gOe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const xOe=/^(\d+)(th|st|nd|rd)?/i,yOe=/\d+/i,vOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bOe={any:[/^b/i,/^(a|c)/i]},wOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NOe={any:[/1/i,/2/i,/3/i,/4/i]},jOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},COe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_Oe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TOe={ordinalNumber:gOe({matchPattern:xOe,parsePattern:yOe,valueCallback:t=>parseInt(t,10)}),era:uv({matchPatterns:vOe,defaultMatchWidth:"wide",parsePatterns:bOe,defaultParseWidth:"any"}),quarter:uv({matchPatterns:wOe,defaultMatchWidth:"wide",parsePatterns:NOe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uv({matchPatterns:jOe,defaultMatchWidth:"wide",parsePatterns:SOe,defaultParseWidth:"any"}),day:uv({matchPatterns:COe,defaultMatchWidth:"wide",parsePatterns:AOe,defaultParseWidth:"any"}),dayPeriod:uv({matchPatterns:_Oe,defaultMatchWidth:"any",parsePatterns:EOe,defaultParseWidth:"any"})},kOe={code:"en-US",formatDistance:JIe,formatLong:nOe,formatRelative:iOe,localize:fOe,match:TOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function POe(t){const e=rh(t);return GIe(e,ZIe(e))+1}function IOe(t){const e=rh(t),r=+V5(e)-+YIe(e);return Math.round(r/jue)+1}function Cue(t,e){var h,f,y,v;const r=rh(t),n=r.getFullYear(),i=Q4(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(y=i.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,o=s0(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Xb(o,e),c=s0(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Xb(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function OOe(t,e){var l,c,u,h;const r=Q4(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=Cue(t,e),a=s0(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Xb(a,e)}function MOe(t,e){const r=rh(t),n=+Xb(r,e)-+OOe(r,e);return Math.round(n/jue)+1}function Zs(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Fm={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Zs(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Zs(r+1,2)},d(t,e){return Zs(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Zs(t.getHours()%12||12,e.length)},H(t,e){return Zs(t.getHours(),e.length)},m(t,e){return Zs(t.getMinutes(),e.length)},s(t,e){return Zs(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Zs(i,e.length)}},K0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Fm.y(t,e)},Y:function(t,e,r,n){const i=Cue(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Zs(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Zs(a,e.length)},R:function(t,e){const r=Sue(t);return Zs(r,e.length)},u:function(t,e){const r=t.getFullYear();return Zs(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zs(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zs(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Fm.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zs(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=MOe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Zs(i,e.length)},I:function(t,e,r){const n=IOe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Zs(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Fm.d(t,e)},D:function(t,e,r){const n=POe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zs(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Zs(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Zs(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Zs(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=K0.noon:n===0?i=K0.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=K0.evening:n>=12?i=K0.afternoon:n>=4?i=K0.morning:i=K0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fm.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Fm.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zs(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zs(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fm.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Fm.s(t,e)},S:function(t,e){return Fm.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return i$(n);case"XXXX":case"XX":return og(n);case"XXXXX":case"XXX":default:return og(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return i$(n);case"xxxx":case"xx":return og(n);case"xxxxx":case"xxx":default:return og(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+s$(n,":");case"OOOO":default:return"GMT"+og(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+s$(n,":");case"zzzz":default:return"GMT"+og(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Zs(n,e.length)},T:function(t,e,r){const n=t.getTime();return Zs(n,e.length)}};function s$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Zs(a,2)}function i$(t,e){return t%60===0?(t>0?"-":"+")+Zs(Math.abs(t)/60,2):og(t,e)}function og(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Zs(Math.trunc(n/60),2),a=Zs(n%60,2);return r+i+e+a}const a$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Aue=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ROe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return a$(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",a$(n,e)).replace("{{time}}",Aue(i,e))},DOe={p:Aue,P:ROe},LOe=/^D+$/,FOe=/^Y+$/,BOe=["D","DD","YY","YYYY"];function UOe(t){return LOe.test(t)}function $Oe(t){return FOe.test(t)}function zOe(t,e,r){const n=qOe(t,e,r);if(console.warn(n),BOe.includes(t))throw new RangeError(n)}function qOe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WOe=/^'([^]*?)'?$/,GOe=/''/g,YOe=/[a-zA-Z]/;function Lh(t,e,r){var h,f,y,v;const n=Q4(),i=n.locale??kOe,a=n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=rh(t);if(!XIe(l))throw new RangeError("Invalid time value");let c=e.match(HOe).map(S=>{const w=S[0];if(w==="p"||w==="P"){const N=DOe[w];return N(S,i.formatLong)}return S}).join("").match(VOe).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const w=S[0];if(w==="'")return{isToken:!1,value:KOe(S)};if(n$[w])return{isToken:!0,value:S};if(w.match(YOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(S=>{if(!S.isToken)return S.value;const w=S.value;($Oe(w)||UOe(w))&&zOe(w,e,String(t));const N=n$[w[0]];return N(l,w,i.localize,u)}).join("")}function KOe(t){const e=t.match(WOe);return e?e[1].replace(GOe,"'"):t}function XOe(){const[,t]=th(),{data:e,isLoading:r,error:n}=Nr({queryKey:["/api/agent/dashboard"]});if(r)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[s.jsx(Ti,{className:"h-32 w-full"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"})]}),s.jsx(Ti,{className:"h-64 w-full"})]})})]});if(n||!e)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 p-4 flex items-center justify-center",children:s.jsxs(_e,{className:"max-w-md w-full",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-center",children:" No Agent Account"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-medium-brown dark:text-cream/80",children:"You haven't registered as an agent yet."}),s.jsx(Be,{onClick:()=>t("/become-agent"),className:"w-full bg-medium-brown hover:bg-dark-brown dark:bg-cream dark:hover:bg-cream/90 dark:text-dark-brown","data-testid":"button-become-agent",children:" Become an Agent"})]})]})})]});const{agent:i,stats:a}=e,o=l=>{const c={verified:{label:" Verified",variant:"default"},pending:{label:" Pending",variant:"secondary"},rejected:{label:" Rejected",variant:"destructive"}},u=c[l]||c.pending;return s.jsx(Rt,{variant:u.variant,"data-testid":`badge-status-${l}`,children:u.label})};return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-dark-brown dark:text-cream mb-2",children:" Agent Dashboard"}),s.jsxs("p",{className:"text-medium-brown dark:text-cream/80",children:["Welcome back, ",i.fullName,"!"]})]}),o(i.status)]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-total-earnings",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4"}),"Total Earnings"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-earnings",children:[a.totalEarnings.toFixed(2)," Birr"]}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"All-time commissions"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-pending-earnings",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4"}),"Pending"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400","data-testid":"text-pending-earnings",children:[a.pendingEarnings.toFixed(2)," Birr"]}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"Awaiting payout"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-paid-earnings",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),"Paid Out"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400","data-testid":"text-paid-earnings",children:[a.paidEarnings.toFixed(2)," Birr"]}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"To TeleBirr"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-active-properties",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4"}),"Active Properties"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-medium-brown dark:text-cream","data-testid":"text-active-properties",children:a.activeProperties}),s.jsxs("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:["of ",a.totalProperties," total"]})]})]})]}),i.status==="pending"&&s.jsx(_e,{className:"border-yellow-500/50 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ei,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-dark-brown dark:text-cream mb-1",children:" Account Under Review"}),s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/80",children:"Your agent application is being reviewed. You'll be able to link properties and earn commissions once verified."})]})]})})}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:" Your Referral Code"})}),s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between bg-cream dark:bg-gray-800 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1",children:"Share this code with property owners"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-dark-brown dark:text-cream","data-testid":"text-referral-code",children:i.referralCode})]}),s.jsx(Be,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(i.referralCode)},"data-testid":"button-copy-referral",children:" Copy"})]})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:" Recent Commissions"})}),s.jsx(Te,{children:a.recentCommissions.length===0?s.jsxs("div",{className:"text-center py-12 text-medium-brown dark:text-cream/60",children:[s.jsx(mo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No commissions yet. Start listing properties to earn!"})]}):s.jsx("div",{className:"space-y-3",children:a.recentCommissions.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-cream/50 dark:bg-gray-800 rounded-lg","data-testid":`commission-${l.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("p",{className:"font-semibold text-dark-brown dark:text-cream",children:["Booking #",l.bookingId]}),l.status==="paid"?s.jsxs(Rt,{variant:"default",className:"text-xs","data-testid":`badge-paid-${l.id}`,children:[s.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Paid"]}):s.jsxs(Rt,{variant:"secondary",className:"text-xs","data-testid":`badge-pending-${l.id}`,children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Pending"]})]}),s.jsxs("p",{className:"text-sm text-medium-brown dark:text-cream/70",children:[s.jsx(Pi,{className:"inline h-3 w-3 mr-1"}),Lh(new Date(l.createdAt),"MMM d, yyyy")]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":`amount-${l.id}`,children:["+",parseFloat(l.commissionAmount).toFixed(2)," Birr"]}),s.jsxs("p",{className:"text-xs text-medium-brown dark:text-cream/60",children:[l.commissionRate,"% of ",parseFloat(l.bookingTotal).toFixed(2)," Birr"]})]})]},l.id))})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:" Commission Stats"})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Total Commissions:"}),s.jsx("span",{className:"font-semibold","data-testid":"text-total-commissions",children:a.totalCommissions})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Expired Properties:"}),s.jsx("span",{className:"font-semibold","data-testid":"text-expired-properties",children:a.expiredProperties})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Member Since:"}),s.jsx("span",{className:"font-semibold",children:Lh(new Date(i.createdAt),"MMM yyyy")})]})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:" Payment Info"})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"TeleBirr Account:"}),s.jsx("span",{className:"font-semibold font-mono",children:i.telebirrAccount})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"City:"}),s.jsx("span",{className:"font-semibold",children:i.city})]})]})]})]})]})})]})}var f3,o$;function Tc(){if(o$)return f3;o$=1;var t=Array.isArray;return f3=t,f3}var m3,l$;function kR(){if(l$)return m3;l$=1;var t=Tc(),e=py(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return m3=i,m3}var p3,c$;function PR(){if(c$)return p3;c$=1;var t=dm(),e=Op(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return p3=o,p3}var g3,u$;function ZOe(){if(u$)return g3;u$=1;var t=rf(),e=t["__core-js_shared__"];return g3=e,g3}var x3,d$;function QOe(){if(d$)return x3;d$=1;var t=ZOe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return x3=r,x3}var y3,h$;function _ue(){if(h$)return y3;h$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return y3=r,y3}var v3,f$;function JOe(){if(f$)return v3;f$=1;var t=PR(),e=QOe(),r=Op(),n=_ue(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,h=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!r(y)||e(y))return!1;var v=t(y)?h:a;return v.test(n(y))}return v3=f,v3}var b3,m$;function e8e(){if(m$)return b3;m$=1;function t(e,r){return e==null?void 0:e[r]}return b3=t,b3}var w3,p$;function y0(){if(p$)return w3;p$=1;var t=JOe(),e=e8e();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return w3=r,w3}var N3,g$;function J4(){if(g$)return N3;g$=1;var t=y0(),e=t(Object,"create");return N3=e,N3}var j3,x$;function t8e(){if(x$)return j3;x$=1;var t=J4();function e(){this.__data__=t?t(null):{},this.size=0}return j3=e,j3}var S3,y$;function r8e(){if(y$)return S3;y$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return S3=t,S3}var C3,v$;function n8e(){if(v$)return C3;v$=1;var t=J4(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return C3=i,C3}var A3,b$;function s8e(){if(b$)return A3;b$=1;var t=J4(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return A3=n,A3}var _3,w$;function i8e(){if(w$)return _3;w$=1;var t=J4(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return _3=r,_3}var E3,N$;function a8e(){if(N$)return E3;N$=1;var t=t8e(),e=r8e(),r=n8e(),n=s8e(),i=i8e();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,E3=a,E3}var T3,j$;function o8e(){if(j$)return T3;j$=1;function t(){this.__data__=[],this.size=0}return T3=t,T3}var k3,S$;function IR(){if(S$)return k3;S$=1;function t(e,r){return e===r||e!==e&&r!==r}return k3=t,k3}var P3,C$;function eC(){if(C$)return P3;C$=1;var t=IR();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return P3=e,P3}var I3,A$;function l8e(){if(A$)return I3;A$=1;var t=eC(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return I3=n,I3}var O3,_$;function c8e(){if(_$)return O3;_$=1;var t=eC();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return O3=e,O3}var M3,E$;function u8e(){if(E$)return M3;E$=1;var t=eC();function e(r){return t(this.__data__,r)>-1}return M3=e,M3}var R3,T$;function d8e(){if(T$)return R3;T$=1;var t=eC();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return R3=e,R3}var D3,k$;function tC(){if(k$)return D3;k$=1;var t=o8e(),e=l8e(),r=c8e(),n=u8e(),i=d8e();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,D3=a,D3}var L3,P$;function OR(){if(P$)return L3;P$=1;var t=y0(),e=rf(),r=t(e,"Map");return L3=r,L3}var F3,I$;function h8e(){if(I$)return F3;I$=1;var t=a8e(),e=tC(),r=OR();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return F3=n,F3}var B3,O$;function f8e(){if(O$)return B3;O$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return B3=t,B3}var U3,M$;function rC(){if(M$)return U3;M$=1;var t=f8e();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return U3=e,U3}var $3,R$;function m8e(){if(R$)return $3;R$=1;var t=rC();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return $3=e,$3}var z3,D$;function p8e(){if(D$)return z3;D$=1;var t=rC();function e(r){return t(this,r).get(r)}return z3=e,z3}var q3,L$;function g8e(){if(L$)return q3;L$=1;var t=rC();function e(r){return t(this,r).has(r)}return q3=e,q3}var V3,F$;function x8e(){if(F$)return V3;F$=1;var t=rC();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return V3=e,V3}var H3,B$;function MR(){if(B$)return H3;B$=1;var t=h8e(),e=m8e(),r=p8e(),n=g8e(),i=x8e();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,H3=a,H3}var W3,U$;function Eue(){if(U$)return W3;U$=1;var t=MR(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return a.cache=c.set(l,u)||c,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,W3=r,W3}var G3,$$;function y8e(){if($$)return G3;$$=1;var t=Eue(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return G3=r,G3}var Y3,z$;function v8e(){if(z$)return Y3;z$=1;var t=y8e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,u){a.push(c?u.replace(r,"$1"):l||o)}),a});return Y3=n,Y3}var K3,q$;function RR(){if(q$)return K3;q$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return K3=t,K3}var X3,V$;function b8e(){if(V$)return X3;V$=1;var t=I2(),e=RR(),r=Tc(),n=py(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return X3=o,X3}var Z3,H$;function Tue(){if(H$)return Z3;H$=1;var t=b8e();function e(r){return r==null?"":t(r)}return Z3=e,Z3}var Q3,W$;function kue(){if(W$)return Q3;W$=1;var t=Tc(),e=kR(),r=v8e(),n=Tue();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return Q3=i,Q3}var J3,G$;function nC(){if(G$)return J3;G$=1;var t=py();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return J3=e,J3}var eE,Y$;function DR(){if(Y$)return eE;Y$=1;var t=kue(),e=nC();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return eE=r,eE}var tE,K$;function Pue(){if(K$)return tE;K$=1;var t=DR();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return tE=e,tE}var w8e=Pue();const Ku=as(w8e);var rE,X$;function N8e(){if(X$)return rE;X$=1;function t(e){return e==null}return rE=t,rE}var j8e=N8e();const is=as(j8e);var nE,Z$;function S8e(){if(Z$)return nE;Z$=1;var t=dm(),e=Tc(),r=hm(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return nE=i,nE}var C8e=S8e();const M2=as(C8e);var A8e=PR();const Wn=as(A8e);var _8e=Op();const xy=as(_8e);var sE={exports:{}},$s={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q$;function E8e(){if(Q$)return $s;Q$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(N){if(typeof N=="object"&&N!==null){var _=N.$$typeof;switch(_){case t:switch(N=N.type,N){case r:case i:case n:case u:case h:return N;default:switch(N=N&&N.$$typeof,N){case l:case o:case c:case y:case f:case a:return N;default:return _}}case e:return _}}}return $s.ContextConsumer=o,$s.ContextProvider=a,$s.Element=t,$s.ForwardRef=c,$s.Fragment=r,$s.Lazy=y,$s.Memo=f,$s.Portal=e,$s.Profiler=i,$s.StrictMode=n,$s.Suspense=u,$s.SuspenseList=h,$s.isAsyncMode=function(){return!1},$s.isConcurrentMode=function(){return!1},$s.isContextConsumer=function(N){return w(N)===o},$s.isContextProvider=function(N){return w(N)===a},$s.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},$s.isForwardRef=function(N){return w(N)===c},$s.isFragment=function(N){return w(N)===r},$s.isLazy=function(N){return w(N)===y},$s.isMemo=function(N){return w(N)===f},$s.isPortal=function(N){return w(N)===e},$s.isProfiler=function(N){return w(N)===i},$s.isStrictMode=function(N){return w(N)===n},$s.isSuspense=function(N){return w(N)===u},$s.isSuspenseList=function(N){return w(N)===h},$s.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===i||N===n||N===u||N===h||N===v||typeof N=="object"&&N!==null&&(N.$$typeof===y||N.$$typeof===f||N.$$typeof===a||N.$$typeof===o||N.$$typeof===c||N.$$typeof===S||N.getModuleId!==void 0)},$s.typeOf=w,$s}var J$;function T8e(){return J$||(J$=1,sE.exports=E8e()),sE.exports}var k8e=T8e(),iE,ez;function Iue(){if(ez)return iE;ez=1;var t=dm(),e=hm(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return iE=n,iE}var aE,tz;function P8e(){if(tz)return aE;tz=1;var t=Iue();function e(r){return t(r)&&r!=+r}return aE=e,aE}var I8e=P8e();const R2=as(I8e);var O8e=Iue();const M8e=as(O8e);var qd=function(e){return e===0?0:e>0?1:-1},vg=function(e){return M2(e)&&e.indexOf("%")===e.length-1},cr=function(e){return M8e(e)&&!R2(e)},fo=function(e){return cr(e)||M2(e)},R8e=0,D2=function(e){var r=++R8e;return"".concat(e||"").concat(r)},i0=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!cr(e)&&!M2(e))return n;var a;if(vg(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return R2(a)&&(a=n),i&&a>r&&(a=r),a},Km=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},D8e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ld=function(e,r){return cr(e)&&cr(r)?function(n){return e+n*(r-e)}:function(){return r}};function H5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ku(n,e))===r})}function kx(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TI(t){"@babel/helpers - typeof";return TI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TI(t)}var L8e=["viewBox","children"],F8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rz=["points","pathLength"],oE={svg:L8e,polygon:rz,polyline:rz},LR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],W5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!xy(n))return null;var i={};return Object.keys(n).forEach(function(a){LR.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},B8e=function(e,r,n){return function(i){return e(r,n,i),null}},G5=function(e,r,n){if(!xy(e)||TI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];LR.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=B8e(o,r,n))}),i},U8e=["children"],$8e=["children"];function nz(t,e){if(t==null)return{};var r=z8e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kI(t){"@babel/helpers - typeof";return kI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kI(t)}var sz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Kf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iz=null,lE=null,FR=function t(e){if(e===iz&&Array.isArray(lE))return lE;var r=[];return P.Children.forEach(e,function(n){is(n)||(k8e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),lE=r,iz=e,r};function Xu(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Kf(i)}):n=[Kf(e)],FR(t).forEach(function(i){var a=Ku(i,"type.displayName")||Ku(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Zc(t,e){var r=Xu(t,e);return r&&r[0]}var az=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!cr(n)||n<=0||!cr(i)||i<=0)},q8e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],V8e=function(e){return e&&e.type&&M2(e.type)&&q8e.indexOf(e.type)>=0},H8e=function(e){return e&&kI(e)==="object"&&"clipDot"in e},W8e=function(e,r,n,i){var a,o=(a=oE==null?void 0:oE[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Wn(e)&&(i&&o.includes(r)||F8e.includes(r))||n&&LR.includes(r)},ds=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!xy(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;W8e((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},PI=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oz(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!oz(a,o))return!1}return!0},oz=function(e,r){if(is(e)&&is(r))return!0;if(!is(e)&&!is(r)){var n=e.props||{},i=n.children,a=nz(n,U8e),o=r.props||{},l=o.children,c=nz(o,$8e);return i&&l?kx(a,c)&&PI(i,l):!i&&!l?kx(a,c):!1}return!1},lz=function(e,r){var n=[],i={};return FR(e).forEach(function(a,o){if(V8e(a))n.push(a);else if(a){var l=Kf(a.type),c=r[l]||{},u=c.handler,h=c.once;if(u&&(!h||!i[l])){var f=u(a,l,o);n.push(f),i[l]=!0}}}),n},G8e=function(e){var r=e&&e.type;return r&&sz[r]?sz[r]:null},Y8e=function(e,r){return FR(r).indexOf(e)},K8e=["children","width","height","viewBox","className","style","title","desc"];function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},II.apply(this,arguments)}function X8e(t,e){if(t==null)return{};var r=Z8e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OI(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=X8e(t,K8e),h=i||{width:r,height:n,x:0,y:0},f=gs("recharts-surface",a);return Le.createElement("svg",II({},ds(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Le.createElement("title",null,l),Le.createElement("desc",null,c),e)}var Q8e=["children","className"];function MI(){return MI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MI.apply(this,arguments)}function J8e(t,e){if(t==null)return{};var r=eMe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var La=Le.forwardRef(function(t,e){var r=t.children,n=t.className,i=J8e(t,Q8e),a=gs("recharts-layer",n);return Le.createElement("g",MI({className:a},ds(i,!0),{ref:e}),r)}),Xf=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},cE,cz;function tMe(){if(cz)return cE;cz=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return cE=t,cE}var uE,uz;function rMe(){if(uz)return uE;uz=1;var t=tMe();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return uE=e,uE}var dE,dz;function Oue(){if(dz)return dE;dz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(u){return l.test(u)}return dE=c,dE}var hE,hz;function nMe(){if(hz)return hE;hz=1;function t(e){return e.split("")}return hE=t,hE}var fE,fz;function sMe(){if(fz)return fE;fz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",h="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",S=u+"?",w="["+a+"]?",N="(?:"+v+"(?:"+[h,f,y].join("|")+")"+w+S+")*",_=w+S+N,E="(?:"+[h+l+"?",l,f,y,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+E+_,"g");function M(O){return O.match(T)||[]}return fE=M,fE}var mE,mz;function iMe(){if(mz)return mE;mz=1;var t=nMe(),e=Oue(),r=sMe();function n(i){return e(i)?r(i):t(i)}return mE=n,mE}var pE,pz;function aMe(){if(pz)return pE;pz=1;var t=rMe(),e=Oue(),r=iMe(),n=Tue();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[a]()+u}}return pE=i,pE}var gE,gz;function oMe(){if(gz)return gE;gz=1;var t=aMe(),e=t("toUpperCase");return gE=e,gE}var lMe=oMe();const sC=as(lMe);function Ai(t){return function(){return t}}const Mue=Math.cos,Y5=Math.sin,nh=Math.sqrt,K5=Math.PI,iC=2*K5,RI=Math.PI,DI=2*RI,lg=1e-6,cMe=DI-lg;function Rue(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uMe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Rue;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dMe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Rue:uMe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,h=o-e,f=l-r,y=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>lg)if(!(Math.abs(f*c-u*h)>lg)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,S=i-l,w=c*c+u*u,N=v*v+S*S,_=Math.sqrt(w),E=Math.sqrt(y),T=a*Math.tan((RI-Math.acos((w+y-N)/(2*_*E)))/2),M=T/E,O=T/_;Math.abs(M-1)>lg&&this._append`L${e+M*h},${r+M*f}`,this._append`A${a},${a},0,0,${+(f*v>h*S)},${this._x1=e+O*c},${this._y1=r+O*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,h=r+c,f=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>lg||Math.abs(this._y1-h)>lg)&&this._append`L${u},${h}`,n&&(y<0&&(y=y%DI+DI),y>cMe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=h}`:y>lg&&this._append`A${n},${n},0,${+(y>=RI)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function BR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dMe(e)}function UR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Due(t){this._context=t}Due.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function aC(t){return new Due(t)}function Lue(t){return t[0]}function Fue(t){return t[1]}function Bue(t,e){var r=Ai(!0),n=null,i=aC,a=null,o=BR(l);t=typeof t=="function"?t:t===void 0?Lue:Ai(t),e=typeof e=="function"?e:e===void 0?Fue:Ai(e);function l(c){var u,h=(c=UR(c)).length,f,y=!1,v;for(n==null&&(a=i(v=o())),u=0;u<=h;++u)!(u<h&&r(f=c[u],u,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(f,u,c),+e(f,u,c));if(v)return a=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ai(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ai(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ai(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function nj(t,e,r){var n=null,i=Ai(!0),a=null,o=aC,l=null,c=BR(u);t=typeof t=="function"?t:t===void 0?Lue:Ai(+t),e=typeof e=="function"?e:Ai(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Fue:Ai(+r);function u(f){var y,v,S,w=(f=UR(f)).length,N,_=!1,E,T=new Array(w),M=new Array(w);for(a==null&&(l=o(E=c())),y=0;y<=w;++y){if(!(y<w&&i(N=f[y],y,f))===_)if(_=!_)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=y-1;S>=v;--S)l.point(T[S],M[S]);l.lineEnd(),l.areaEnd()}_&&(T[y]=+t(N,y,f),M[y]=+e(N,y,f),l.point(n?+n(N,y,f):T[y],r?+r(N,y,f):M[y]))}if(E)return l=null,E+""||null}function h(){return Bue().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ai(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ai(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ai(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ai(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ai(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ai(+f),u):r},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(r)},u.lineX1=function(){return h().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ai(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class Uue{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hMe(t){return new Uue(t,!0)}function fMe(t){return new Uue(t,!1)}const $R={draw(t,e){const r=nh(e/K5);t.moveTo(r,0),t.arc(0,0,r,0,iC)}},mMe={draw(t,e){const r=nh(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$ue=nh(1/3),pMe=$ue*2,gMe={draw(t,e){const r=nh(e/pMe),n=r*$ue;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},xMe={draw(t,e){const r=nh(e),n=-r/2;t.rect(n,n,r,r)}},yMe=.8908130915292852,zue=Y5(K5/10)/Y5(7*K5/10),vMe=Y5(iC/10)*zue,bMe=-Mue(iC/10)*zue,wMe={draw(t,e){const r=nh(e*yMe),n=vMe*r,i=bMe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=iC*a/5,l=Mue(o),c=Y5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},xE=nh(3),NMe={draw(t,e){const r=-nh(e/(xE*3));t.moveTo(0,r*2),t.lineTo(-xE*r,-r),t.lineTo(xE*r,-r),t.closePath()}},Iu=-.5,Ou=nh(3)/2,LI=1/nh(12),jMe=(LI/2+1)*3,SMe={draw(t,e){const r=nh(e/jMe),n=r/2,i=r*LI,a=n,o=r*LI+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Iu*n-Ou*i,Ou*n+Iu*i),t.lineTo(Iu*a-Ou*o,Ou*a+Iu*o),t.lineTo(Iu*l-Ou*c,Ou*l+Iu*c),t.lineTo(Iu*n+Ou*i,Iu*i-Ou*n),t.lineTo(Iu*a+Ou*o,Iu*o-Ou*a),t.lineTo(Iu*l+Ou*c,Iu*c-Ou*l),t.closePath()}};function CMe(t,e){let r=null,n=BR(i);t=typeof t=="function"?t:Ai(t||$R),e=typeof e=="function"?e:Ai(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ai(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ai(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function X5(){}function Z5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function que(t){this._context=t}que.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AMe(t){return new que(t)}function Vue(t){this._context=t}Vue.prototype={areaStart:X5,areaEnd:X5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Z5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Me(t){return new Vue(t)}function Hue(t){this._context=t}Hue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Z5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EMe(t){return new Hue(t)}function Wue(t){this._context=t}Wue.prototype={areaStart:X5,areaEnd:X5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TMe(t){return new Wue(t)}function xz(t){return t<0?-1:1}function yz(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(xz(a)+xz(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function vz(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yE(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Q5(t){this._context=t}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yE(this,this._t0,vz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yE(this,vz(this,r=yz(this,t,e)),r);break;default:yE(this,this._t0,r=yz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Gue(t){this._context=new Yue(t)}(Gue.prototype=Object.create(Q5.prototype)).point=function(t,e){Q5.prototype.point.call(this,e,t)};function Yue(t){this._context=t}Yue.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function kMe(t){return new Q5(t)}function PMe(t){return new Gue(t)}function Kue(t){this._context=t}Kue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=bz(t),i=bz(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bz(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function IMe(t){return new Kue(t)}function oC(t,e){this._context=t,this._t=e}oC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function OMe(t){return new oC(t,.5)}function MMe(t){return new oC(t,0)}function RMe(t){return new oC(t,1)}function I1(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function FI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function DMe(t,e){return t[e]}function LMe(t){const e=[];return e.key=t,e}function FMe(){var t=Ai([]),e=FI,r=I1,n=DMe;function i(a){var o=Array.from(t.apply(this,arguments),LMe),l,c=o.length,u=-1,h;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,h=UR(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ai(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ai(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?FI:typeof a=="function"?a:Ai(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??I1,i):r},i}function BMe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}I1(t,e)}}function UMe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}I1(t,e)}}function $Me(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var h=t[e[l]],f=h[n][1]||0,y=h[n-1][1]||0,v=(f-y)/2,S=0;S<l;++S){var w=t[e[S]],N=w[n][1]||0,_=w[n-1][1]||0;v+=N-_}c+=f,u+=v*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,I1(t,e)}}function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}var zMe=["type","size","sizeType"];function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BI.apply(this,arguments)}function wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(r),!0).forEach(function(n){qMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qMe(t,e,r){return e=VMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VMe(t){var e=HMe(t,"string");return Zb(e)=="symbol"?e:e+""}function HMe(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WMe(t,e){if(t==null)return{};var r=GMe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xue={symbolCircle:$R,symbolCross:mMe,symbolDiamond:gMe,symbolSquare:xMe,symbolStar:wMe,symbolTriangle:NMe,symbolWye:SMe},YMe=Math.PI/180,KMe=function(e){var r="symbol".concat(sC(e));return Xue[r]||$R},XMe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*YMe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZMe=function(e,r){Xue["symbol".concat(sC(e))]=r},zR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=WMe(e,zMe),u=Nz(Nz({},c),{},{type:n,size:a,sizeType:l}),h=function(){var N=KMe(n),_=CMe().type(N).size(XMe(a,l,n));return _()},f=u.className,y=u.cx,v=u.cy,S=ds(u,!0);return y===+y&&v===+v&&a===+a?Le.createElement("path",BI({},S,{className:gs("recharts-symbols",f),transform:"translate(".concat(y,", ").concat(v,")"),d:h()})):null};zR.registerSymbol=ZMe;function O1(t){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O1(t)}function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UI.apply(this,arguments)}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){Qb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Que(n.key),n)}}function tRe(t,e,r){return e&&eRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rRe(t,e,r){return e=J5(e),nRe(t,Zue()?Reflect.construct(e,r||[],J5(t).constructor):e.apply(t,r))}function nRe(t,e){if(e&&(O1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(t)}function sRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zue=function(){return!!t})()}function J5(t){return J5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J5(t)}function iRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$I(t,e)}function $I(t,e){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$I(t,e)}function Qb(t,e,r){return e=Que(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Que(t){var e=aRe(t,"string");return O1(e)=="symbol"?e:e+""}function aRe(t,e){if(O1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mu=32,qR=(function(t){function e(){return JMe(this,e),rRe(this,e,arguments)}return iRe(e,t),tRe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Mu/2,o=Mu/6,l=Mu/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Le.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Mu,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Le.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Mu,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Le.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mu/8,"h").concat(Mu,"v").concat(Mu*3/4,"h").concat(-Mu,"z"),className:"recharts-legend-icon"});if(Le.isValidElement(n.legendIcon)){var u=QMe({},n);return delete u.legendIcon,Le.cloneElement(n.legendIcon,u)}return Le.createElement(zR,{fill:c,cx:a,cy:a,size:Mu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Mu,height:Mu},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,S){var w=v.formatter||c,N=gs(Qb(Qb({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=Wn(v.value)?null:v.value;Xf(!Wn(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?u:v.color;return Le.createElement("li",UI({className:N,style:f,key:"legend-item-".concat(S)},G5(n.props,v,S)),Le.createElement(OI,{width:o,height:o,viewBox:h,style:y},n.renderIcon(v)),Le.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(_,v,S):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(P.PureComponent);Qb(qR,"displayName","Legend");Qb(qR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vE,Sz;function oRe(){if(Sz)return vE;Sz=1;var t=tC();function e(){this.__data__=new t,this.size=0}return vE=e,vE}var bE,Cz;function lRe(){if(Cz)return bE;Cz=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return bE=t,bE}var wE,Az;function cRe(){if(Az)return wE;Az=1;function t(e){return this.__data__.get(e)}return wE=t,wE}var NE,_z;function uRe(){if(_z)return NE;_z=1;function t(e){return this.__data__.has(e)}return NE=t,NE}var jE,Ez;function dRe(){if(Ez)return jE;Ez=1;var t=tC(),e=OR(),r=MR(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return jE=i,jE}var SE,Tz;function Jue(){if(Tz)return SE;Tz=1;var t=tC(),e=oRe(),r=lRe(),n=cRe(),i=uRe(),a=dRe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,SE=o,SE}var CE,kz;function hRe(){if(kz)return CE;kz=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return CE=e,CE}var AE,Pz;function fRe(){if(Pz)return AE;Pz=1;function t(e){return this.__data__.has(e)}return AE=t,AE}var _E,Iz;function ede(){if(Iz)return _E;Iz=1;var t=MR(),e=hRe(),r=fRe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,_E=n,_E}var EE,Oz;function tde(){if(Oz)return EE;Oz=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return EE=t,EE}var TE,Mz;function rde(){if(Mz)return TE;Mz=1;function t(e,r){return e.has(r)}return TE=t,TE}var kE,Rz;function nde(){if(Rz)return kE;Rz=1;var t=ede(),e=tde(),r=rde(),n=1,i=2;function a(o,l,c,u,h,f){var y=c&n,v=o.length,S=l.length;if(v!=S&&!(y&&S>v))return!1;var w=f.get(o),N=f.get(l);if(w&&N)return w==l&&N==o;var _=-1,E=!0,T=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++_<v;){var M=o[_],O=l[_];if(u)var L=y?u(O,M,_,l,o,f):u(M,O,_,o,l,f);if(L!==void 0){if(L)continue;E=!1;break}if(T){if(!e(l,function(B,U){if(!r(T,U)&&(M===B||h(M,B,c,u,f)))return T.push(U)})){E=!1;break}}else if(!(M===O||h(M,O,c,u,f))){E=!1;break}}return f.delete(o),f.delete(l),E}return kE=a,kE}var PE,Dz;function mRe(){if(Dz)return PE;Dz=1;var t=rf(),e=t.Uint8Array;return PE=e,PE}var IE,Lz;function pRe(){if(Lz)return IE;Lz=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return IE=t,IE}var OE,Fz;function VR(){if(Fz)return OE;Fz=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return OE=t,OE}var ME,Bz;function gRe(){if(Bz)return ME;Bz=1;var t=I2(),e=mRe(),r=IR(),n=nde(),i=pRe(),a=VR(),o=1,l=2,c="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Map]",y="[object Number]",v="[object RegExp]",S="[object Set]",w="[object String]",N="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",T=t?t.prototype:void 0,M=T?T.valueOf:void 0;function O(L,B,U,$,K,q,H){switch(U){case E:if(L.byteLength!=B.byteLength||L.byteOffset!=B.byteOffset)return!1;L=L.buffer,B=B.buffer;case _:return!(L.byteLength!=B.byteLength||!q(new e(L),new e(B)));case c:case u:case y:return r(+L,+B);case h:return L.name==B.name&&L.message==B.message;case v:case w:return L==B+"";case f:var Q=i;case S:var Z=$&o;if(Q||(Q=a),L.size!=B.size&&!Z)return!1;var J=H.get(L);if(J)return J==B;$|=l,H.set(L,B);var ye=n(Q(L),Q(B),$,K,q,H);return H.delete(L),ye;case N:if(M)return M.call(L)==M.call(B)}return!1}return ME=O,ME}var RE,Uz;function sde(){if(Uz)return RE;Uz=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return RE=t,RE}var DE,$z;function xRe(){if($z)return DE;$z=1;var t=sde(),e=Tc();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return DE=r,DE}var LE,zz;function yRe(){if(zz)return LE;zz=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return LE=t,LE}var FE,qz;function vRe(){if(qz)return FE;qz=1;function t(){return[]}return FE=t,FE}var BE,Vz;function bRe(){if(Vz)return BE;Vz=1;var t=yRe(),e=vRe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return BE=a,BE}var UE,Hz;function wRe(){if(Hz)return UE;Hz=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return UE=t,UE}var $E,Wz;function NRe(){if(Wz)return $E;Wz=1;var t=dm(),e=hm(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return $E=n,$E}var zE,Gz;function HR(){if(Gz)return zE;Gz=1;var t=NRe(),e=hm(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return zE=a,zE}var $v={exports:{}},qE,Yz;function jRe(){if(Yz)return qE;Yz=1;function t(){return!1}return qE=t,qE}$v.exports;var Kz;function ide(){return Kz||(Kz=1,(function(t,e){var r=rf(),n=jRe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})($v,$v.exports)),$v.exports}var VE,Xz;function WR(){if(Xz)return VE;Xz=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return VE=r,VE}var HE,Zz;function GR(){if(Zz)return HE;Zz=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return HE=e,HE}var WE,Qz;function SRe(){if(Qz)return WE;Qz=1;var t=dm(),e=GR(),r=hm(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",h="[object Number]",f="[object Object]",y="[object RegExp]",v="[object Set]",S="[object String]",w="[object WeakMap]",N="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",$="[object Uint16Array]",K="[object Uint32Array]",q={};q[E]=q[T]=q[M]=q[O]=q[L]=q[B]=q[U]=q[$]=q[K]=!0,q[n]=q[i]=q[N]=q[a]=q[_]=q[o]=q[l]=q[c]=q[u]=q[h]=q[f]=q[y]=q[v]=q[S]=q[w]=!1;function H(Q){return r(Q)&&e(Q.length)&&!!q[t(Q)]}return WE=H,WE}var GE,Jz;function ade(){if(Jz)return GE;Jz=1;function t(e){return function(r){return e(r)}}return GE=t,GE}var zv={exports:{}};zv.exports;var eq;function CRe(){return eq||(eq=1,(function(t,e){var r=Noe(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(zv,zv.exports)),zv.exports}var YE,tq;function ode(){if(tq)return YE;tq=1;var t=SRe(),e=ade(),r=CRe(),n=r&&r.isTypedArray,i=n?e(n):t;return YE=i,YE}var KE,rq;function ARe(){if(rq)return KE;rq=1;var t=wRe(),e=HR(),r=Tc(),n=ide(),i=WR(),a=ode(),o=Object.prototype,l=o.hasOwnProperty;function c(u,h){var f=r(u),y=!f&&e(u),v=!f&&!y&&n(u),S=!f&&!y&&!v&&a(u),w=f||y||v||S,N=w?t(u.length,String):[],_=N.length;for(var E in u)(h||l.call(u,E))&&!(w&&(E=="length"||v&&(E=="offset"||E=="parent")||S&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&N.push(E);return N}return KE=c,KE}var XE,nq;function _Re(){if(nq)return XE;nq=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return XE=e,XE}var ZE,sq;function lde(){if(sq)return ZE;sq=1;function t(e,r){return function(n){return e(r(n))}}return ZE=t,ZE}var QE,iq;function ERe(){if(iq)return QE;iq=1;var t=lde(),e=t(Object.keys,Object);return QE=e,QE}var JE,aq;function TRe(){if(aq)return JE;aq=1;var t=_Re(),e=ERe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return JE=i,JE}var eT,oq;function L2(){if(oq)return eT;oq=1;var t=PR(),e=GR();function r(n){return n!=null&&e(n.length)&&!t(n)}return eT=r,eT}var tT,lq;function lC(){if(lq)return tT;lq=1;var t=ARe(),e=TRe(),r=L2();function n(i){return r(i)?t(i):e(i)}return tT=n,tT}var rT,cq;function kRe(){if(cq)return rT;cq=1;var t=xRe(),e=bRe(),r=lC();function n(i){return t(i,r,e)}return rT=n,rT}var nT,uq;function PRe(){if(uq)return nT;uq=1;var t=kRe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,u,h){var f=l&e,y=t(a),v=y.length,S=t(o),w=S.length;if(v!=w&&!f)return!1;for(var N=v;N--;){var _=y[N];if(!(f?_ in o:n.call(o,_)))return!1}var E=h.get(a),T=h.get(o);if(E&&T)return E==o&&T==a;var M=!0;h.set(a,o),h.set(o,a);for(var O=f;++N<v;){_=y[N];var L=a[_],B=o[_];if(c)var U=f?c(B,L,_,o,a,h):c(L,B,_,a,o,h);if(!(U===void 0?L===B||u(L,B,l,c,h):U)){M=!1;break}O||(O=_=="constructor")}if(M&&!O){var $=a.constructor,K=o.constructor;$!=K&&"constructor"in a&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof K=="function"&&K instanceof K)&&(M=!1)}return h.delete(a),h.delete(o),M}return nT=i,nT}var sT,dq;function IRe(){if(dq)return sT;dq=1;var t=y0(),e=rf(),r=t(e,"DataView");return sT=r,sT}var iT,hq;function ORe(){if(hq)return iT;hq=1;var t=y0(),e=rf(),r=t(e,"Promise");return iT=r,iT}var aT,fq;function cde(){if(fq)return aT;fq=1;var t=y0(),e=rf(),r=t(e,"Set");return aT=r,aT}var oT,mq;function MRe(){if(mq)return oT;mq=1;var t=y0(),e=rf(),r=t(e,"WeakMap");return oT=r,oT}var lT,pq;function RRe(){if(pq)return lT;pq=1;var t=IRe(),e=OR(),r=ORe(),n=cde(),i=MRe(),a=dm(),o=_ue(),l="[object Map]",c="[object Object]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",y="[object DataView]",v=o(t),S=o(e),w=o(r),N=o(n),_=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=l||r&&E(r.resolve())!=u||n&&E(new n)!=h||i&&E(new i)!=f)&&(E=function(T){var M=a(T),O=M==c?T.constructor:void 0,L=O?o(O):"";if(L)switch(L){case v:return y;case S:return l;case w:return u;case N:return h;case _:return f}return M}),lT=E,lT}var cT,gq;function DRe(){if(gq)return cT;gq=1;var t=Jue(),e=nde(),r=gRe(),n=PRe(),i=RRe(),a=Tc(),o=ide(),l=ode(),c=1,u="[object Arguments]",h="[object Array]",f="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function S(w,N,_,E,T,M){var O=a(w),L=a(N),B=O?h:i(w),U=L?h:i(N);B=B==u?f:B,U=U==u?f:U;var $=B==f,K=U==f,q=B==U;if(q&&o(w)){if(!o(N))return!1;O=!0,$=!1}if(q&&!$)return M||(M=new t),O||l(w)?e(w,N,_,E,T,M):r(w,N,B,_,E,T,M);if(!(_&c)){var H=$&&v.call(w,"__wrapped__"),Q=K&&v.call(N,"__wrapped__");if(H||Q){var Z=H?w.value():w,J=Q?N.value():N;return M||(M=new t),T(Z,J,_,E,M)}}return q?(M||(M=new t),n(w,N,_,E,T,M)):!1}return cT=S,cT}var uT,xq;function YR(){if(xq)return uT;xq=1;var t=DRe(),e=hm();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return uT=r,uT}var dT,yq;function LRe(){if(yq)return dT;yq=1;var t=Jue(),e=YR(),r=1,n=2;function i(a,o,l,c){var u=l.length,h=u,f=!c;if(a==null)return!h;for(a=Object(a);u--;){var y=l[u];if(f&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++u<h;){y=l[u];var v=y[0],S=a[v],w=y[1];if(f&&y[2]){if(S===void 0&&!(v in a))return!1}else{var N=new t;if(c)var _=c(S,w,v,a,o,N);if(!(_===void 0?e(w,S,r|n,c,N):_))return!1}}return!0}return dT=i,dT}var hT,vq;function ude(){if(vq)return hT;vq=1;var t=Op();function e(r){return r===r&&!t(r)}return hT=e,hT}var fT,bq;function FRe(){if(bq)return fT;bq=1;var t=ude(),e=lC();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return fT=r,fT}var mT,wq;function dde(){if(wq)return mT;wq=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return mT=t,mT}var pT,Nq;function BRe(){if(Nq)return pT;Nq=1;var t=LRe(),e=FRe(),r=dde();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return pT=n,pT}var gT,jq;function URe(){if(jq)return gT;jq=1;function t(e,r){return e!=null&&r in Object(e)}return gT=t,gT}var xT,Sq;function $Re(){if(Sq)return xT;Sq=1;var t=kue(),e=HR(),r=Tc(),n=WR(),i=GR(),a=nC();function o(l,c,u){c=t(c,l);for(var h=-1,f=c.length,y=!1;++h<f;){var v=a(c[h]);if(!(y=l!=null&&u(l,v)))break;l=l[v]}return y||++h!=f?y:(f=l==null?0:l.length,!!f&&i(f)&&n(v,f)&&(r(l)||e(l)))}return xT=o,xT}var yT,Cq;function zRe(){if(Cq)return yT;Cq=1;var t=URe(),e=$Re();function r(n,i){return n!=null&&e(n,i,t)}return yT=r,yT}var vT,Aq;function qRe(){if(Aq)return vT;Aq=1;var t=YR(),e=Pue(),r=zRe(),n=kR(),i=ude(),a=dde(),o=nC(),l=1,c=2;function u(h,f){return n(h)&&i(f)?a(o(h),f):function(y){var v=e(y,h);return v===void 0&&v===f?r(y,h):t(f,v,l|c)}}return vT=u,vT}var bT,_q;function yy(){if(_q)return bT;_q=1;function t(e){return e}return bT=t,bT}var wT,Eq;function VRe(){if(Eq)return wT;Eq=1;function t(e){return function(r){return r==null?void 0:r[e]}}return wT=t,wT}var NT,Tq;function HRe(){if(Tq)return NT;Tq=1;var t=DR();function e(r){return function(n){return t(n,r)}}return NT=e,NT}var jT,kq;function WRe(){if(kq)return jT;kq=1;var t=VRe(),e=HRe(),r=kR(),n=nC();function i(a){return r(a)?t(n(a)):e(a)}return jT=i,jT}var ST,Pq;function Mp(){if(Pq)return ST;Pq=1;var t=BRe(),e=qRe(),r=yy(),n=Tc(),i=WRe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return ST=a,ST}var CT,Iq;function hde(){if(Iq)return CT;Iq=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return CT=t,CT}var AT,Oq;function GRe(){if(Oq)return AT;Oq=1;function t(e){return e!==e}return AT=t,AT}var _T,Mq;function YRe(){if(Mq)return _T;Mq=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return _T=t,_T}var ET,Rq;function KRe(){if(Rq)return ET;Rq=1;var t=hde(),e=GRe(),r=YRe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return ET=n,ET}var TT,Dq;function XRe(){if(Dq)return TT;Dq=1;var t=KRe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return TT=e,TT}var kT,Lq;function ZRe(){if(Lq)return kT;Lq=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return kT=t,kT}var PT,Fq;function QRe(){if(Fq)return PT;Fq=1;function t(){}return PT=t,PT}var IT,Bq;function JRe(){if(Bq)return IT;Bq=1;var t=cde(),e=QRe(),r=VR(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return IT=i,IT}var OT,Uq;function eDe(){if(Uq)return OT;Uq=1;var t=ede(),e=XRe(),r=ZRe(),n=rde(),i=JRe(),a=VR(),o=200;function l(c,u,h){var f=-1,y=e,v=c.length,S=!0,w=[],N=w;if(h)S=!1,y=r;else if(v>=o){var _=u?null:i(c);if(_)return a(_);S=!1,y=n,N=new t}else N=u?[]:w;e:for(;++f<v;){var E=c[f],T=u?u(E):E;if(E=h||E!==0?E:0,S&&T===T){for(var M=N.length;M--;)if(N[M]===T)continue e;u&&N.push(T),w.push(E)}else y(N,T,h)||(N!==w&&N.push(T),w.push(E))}return w}return OT=l,OT}var MT,$q;function tDe(){if($q)return MT;$q=1;var t=Mp(),e=eDe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return MT=r,MT}var rDe=tDe();const zq=as(rDe);function fde(t,e,r){return e===!0?zq(t,r):Wn(e)?zq(t,e):t}function M1(t){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}var nDe=["ref"];function qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(r),!0).forEach(function(n){cC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pde(n.key),n)}}function iDe(t,e,r){return e&&Vq(t.prototype,e),r&&Vq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aDe(t,e,r){return e=eS(e),oDe(t,mde()?Reflect.construct(e,r||[],eS(t).constructor):e.apply(t,r))}function oDe(t,e){if(e&&(M1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDe(t)}function lDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mde=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eS(t)}function cDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zI(t,e)}function zI(t,e){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zI(t,e)}function cC(t,e,r){return e=pde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pde(t){var e=uDe(t,"string");return M1(e)=="symbol"?e:e+""}function uDe(t,e){if(M1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dDe(t,e){if(t==null)return{};var r=hDe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fDe(t){return t.value}function mDe(t,e){if(Le.isValidElement(t))return Le.cloneElement(t,e);if(typeof t=="function")return Le.createElement(t,e);e.ref;var r=dDe(e,nDe);return Le.createElement(qR,r)}var Hq=1,Px=(function(t){function e(){var r;sDe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aDe(this,e,[].concat(i)),cC(r,"lastBoundingBox",{width:-1,height:-1}),r}return cDe(e,t),iDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Hq||Math.abs(i.height-this.lastBoundingBox.height)>Hq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,h=i.chartHeight,f,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();f={left:((u||0)-v.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wf(wf({},f),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,f=wf(wf({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){n.wrapperNode=v}},mDe(a,wf(wf({},this.props),{},{payload:fde(h,u,fDe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=wf(wf({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&cr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(P.PureComponent);cC(Px,"displayName","Legend");cC(Px,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RT,Wq;function pDe(){if(Wq)return RT;Wq=1;var t=I2(),e=HR(),r=Tc(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return RT=i,RT}var DT,Gq;function gde(){if(Gq)return DT;Gq=1;var t=sde(),e=pDe();function r(n,i,a,o,l){var c=-1,u=n.length;for(a||(a=e),l||(l=[]);++c<u;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,o,l):t(l,h):o||(l[l.length]=h)}return l}return DT=r,DT}var LT,Yq;function gDe(){if(Yq)return LT;Yq=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[e?c:++a];if(n(o[u],u,o)===!1)break}return r}}return LT=t,LT}var FT,Kq;function xDe(){if(Kq)return FT;Kq=1;var t=gDe(),e=t();return FT=e,FT}var BT,Xq;function xde(){if(Xq)return BT;Xq=1;var t=xDe(),e=lC();function r(n,i){return n&&t(n,i,e)}return BT=r,BT}var UT,Zq;function yDe(){if(Zq)return UT;Zq=1;var t=L2();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return UT=e,UT}var $T,Qq;function KR(){if(Qq)return $T;Qq=1;var t=xde(),e=yDe(),r=e(t);return $T=r,$T}var zT,Jq;function yde(){if(Jq)return zT;Jq=1;var t=KR(),e=L2();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++a]=i(l,c,u)}),o}return zT=r,zT}var qT,eV;function vDe(){if(eV)return qT;eV=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return qT=t,qT}var VT,tV;function bDe(){if(tV)return VT;tV=1;var t=py();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,h=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&h&&!u&&!f||a&&c&&h||!i&&h||!o)return 1;if(!a&&!l&&!f&&r<n||f&&i&&o&&!a&&!l||u&&i&&o||!c&&o||!h)return-1}return 0}return VT=e,VT}var HT,rV;function wDe(){if(rV)return HT;rV=1;var t=bDe();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++a<c;){var h=t(o[a],l[a]);if(h){if(a>=u)return h;var f=i[a];return h*(f=="desc"?-1:1)}}return r.index-n.index}return HT=e,HT}var WT,nV;function NDe(){if(nV)return WT;nV=1;var t=RR(),e=DR(),r=Mp(),n=yde(),i=vDe(),a=ade(),o=wDe(),l=yy(),c=Tc();function u(h,f,y){f.length?f=t(f,function(w){return c(w)?function(N){return e(N,w.length===1?w[0]:w)}:w}):f=[l];var v=-1;f=t(f,a(r));var S=n(h,function(w,N,_){var E=t(f,function(T){return T(w)});return{criteria:E,index:++v,value:w}});return i(S,function(w,N){return o(w,N,y)})}return WT=u,WT}var GT,sV;function jDe(){if(sV)return GT;sV=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return GT=t,GT}var YT,iV;function SDe(){if(iV)return YT;iV=1;var t=jDe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=a(u),t(n,this,h)}}return YT=r,YT}var KT,aV;function CDe(){if(aV)return KT;aV=1;function t(e){return function(){return e}}return KT=t,KT}var XT,oV;function vde(){if(oV)return XT;oV=1;var t=y0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return XT=e,XT}var ZT,lV;function ADe(){if(lV)return ZT;lV=1;var t=CDe(),e=vde(),r=yy(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return ZT=n,ZT}var QT,cV;function _De(){if(cV)return QT;cV=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return QT=n,QT}var JT,uV;function EDe(){if(uV)return JT;uV=1;var t=ADe(),e=_De(),r=e(t);return JT=r,JT}var ek,dV;function TDe(){if(dV)return ek;dV=1;var t=yy(),e=SDe(),r=EDe();function n(i,a){return r(e(i,a,t),i+"")}return ek=n,ek}var tk,hV;function uC(){if(hV)return tk;hV=1;var t=IR(),e=L2(),r=WR(),n=Op();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return tk=i,tk}var rk,fV;function kDe(){if(fV)return rk;fV=1;var t=gde(),e=NDe(),r=TDe(),n=uC(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return rk=i,rk}var PDe=kDe();const XR=as(PDe);function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qI.apply(this,arguments)}function IDe(t,e){return DDe(t)||RDe(t,e)||MDe(t,e)||ODe()}function ODe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(t,e){if(t){if(typeof t=="string")return mV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mV(t,e)}}function mV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function DDe(t){if(Array.isArray(t))return t}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){LDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LDe(t,e,r){return e=FDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FDe(t){var e=BDe(t,"string");return Jb(e)=="symbol"?e:e+""}function BDe(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UDe(t){return Array.isArray(t)&&fo(t[0])&&fo(t[1])?t.join(" ~ "):t}var $De=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,h=e.payload,f=e.formatter,y=e.itemSorter,v=e.wrapperClassName,S=e.labelClassName,w=e.label,N=e.labelFormatter,_=e.accessibilityLayer,E=_===void 0?!1:_,T=function(){if(h&&h.length){var H={padding:0,margin:0},Q=(y?XR(h,y):h).map(function(Z,J){if(Z.type==="none")return null;var ye=nk({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},l),ge=Z.formatter||f||UDe,oe=Z.value,re=Z.name,me=oe,ne=re;if(ge&&me!=null&&ne!=null){var G=ge(oe,re,Z,J,h);if(Array.isArray(G)){var se=IDe(G,2);me=se[0],ne=se[1]}else me=G}return Le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:ye},fo(ne)?Le.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,fo(ne)?Le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Le.createElement("span",{className:"recharts-tooltip-item-value"},me),Le.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return Le.createElement("ul",{className:"recharts-tooltip-item-list",style:H},Q)}return null},M=nk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=nk({margin:0},u),L=!is(w),B=L?w:"",U=gs("recharts-default-tooltip",v),$=gs("recharts-tooltip-label",S);L&&N&&h!==void 0&&h!==null&&(B=N(w,h));var K=E?{role:"status","aria-live":"assertive"}:{};return Le.createElement("div",qI({className:U,style:M},K),Le.createElement("p",{className:$,style:O},Le.isValidElement(B)?B:"".concat(B)),T())};function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function sj(t,e,r){return e=zDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zDe(t){var e=qDe(t,"string");return ew(e)=="symbol"?e:e+""}function qDe(t,e){if(ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dv="recharts-tooltip-wrapper",VDe={visibility:"hidden"};function HDe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return gs(dv,sj(sj(sj(sj({},"".concat(dv,"-right"),cr(r)&&e&&cr(e.x)&&r>=e.x),"".concat(dv,"-left"),cr(r)&&e&&cr(e.x)&&r<e.x),"".concat(dv,"-bottom"),cr(n)&&e&&cr(e.y)&&n>=e.y),"".concat(dv,"-top"),cr(n)&&e&&cr(e.y)&&n<e.y))}function gV(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&cr(a[n]))return a[n];var h=r[n]-l-i,f=r[n]+i;if(e[n])return o[n]?h:f;if(o[n]){var y=h,v=c[n];return y<v?Math.max(f,c[n]):Math.max(h,c[n])}var S=f+l,w=c[n]+u;return S>w?Math.max(h,c[n]):Math.max(f,c[n])}function WDe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function GDe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,h,f;return o.height>0&&o.width>0&&r?(h=gV({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=gV({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=WDe({translateX:h,translateY:f,useTranslate3d:l})):u=VDe,{cssProperties:u,cssClasses:HDe({translateX:h,translateY:f,coordinate:r})}}function R1(t){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R1(t)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){HI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wde(n.key),n)}}function XDe(t,e,r){return e&&KDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZDe(t,e,r){return e=tS(e),QDe(t,bde()?Reflect.construct(e,r||[],tS(t).constructor):e.apply(t,r))}function QDe(t,e){if(e&&(R1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JDe(t)}function JDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bde=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(t)}function eLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VI(t,e)}function HI(t,e,r){return e=wde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wde(t){var e=tLe(t,"string");return R1(e)=="symbol"?e:e+""}function tLe(t,e){if(R1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vV=1,rLe=(function(t){function e(){var r;YDe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ZDe(this,e,[].concat(i)),HI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HI(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),r}return eLe(e,t),XDe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>vV||Math.abs(n.height-this.state.lastBoundingBox.height)>vV)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,h=i.coordinate,f=i.hasPayload,y=i.isAnimationActive,v=i.offset,S=i.position,w=i.reverseDirection,N=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,T=GDe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:v,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:_}),M=T.cssClasses,O=T.cssProperties,L=yV(yV({transition:y&&a?"transform ".concat(l,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return Le.createElement("div",{tabIndex:-1,className:M,style:L,ref:function(U){n.wrapperNode=U}},u)}}])})(P.PureComponent),nLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vy={isSsr:nLe()};function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){ZR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jde(n.key),n)}}function aLe(t,e,r){return e&&iLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oLe(t,e,r){return e=rS(e),lLe(t,Nde()?Reflect.construct(e,r||[],rS(t).constructor):e.apply(t,r))}function lLe(t,e){if(e&&(D1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cLe(t)}function cLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nde=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(t)}function uLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WI(t,e)}function WI(t,e){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WI(t,e)}function ZR(t,e,r){return e=jde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jde(t){var e=dLe(t,"string");return D1(e)=="symbol"?e:e+""}function dLe(t,e){if(D1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hLe(t){return t.dataKey}function fLe(t,e){return Le.isValidElement(t)?Le.cloneElement(t,e):typeof t=="function"?Le.createElement(t,e):Le.createElement($De,e)}var jh=(function(t){function e(){return sLe(this,e),oLe(this,e,arguments)}return uLe(e,t),aLe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,h=i.coordinate,f=i.filterNull,y=i.isAnimationActive,v=i.offset,S=i.payload,w=i.payloadUniqBy,N=i.position,_=i.reverseDirection,E=i.useTranslate3d,T=i.viewBox,M=i.wrapperStyle,O=S??[];f&&O.length&&(O=fde(S.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),w,hLe));var L=O.length>0;return Le.createElement(rLe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:L,offset:v,position:N,reverseDirection:_,useTranslate3d:E,viewBox:T,wrapperStyle:M},fLe(u,wV(wV({},this.props),{},{payload:O})))}}])})(P.PureComponent);ZR(jh,"displayName","Tooltip");ZR(jh,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){mLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mLe(t,e,r){return e=pLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pLe(t){var e=gLe(t,"string");return tw(e)=="symbol"?e:e+""}function gLe(t,e){if(tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xLe(t,e){return wLe(t)||bLe(t,e)||vLe(t,e)||yLe()}function yLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vLe(t,e){if(t){if(typeof t=="string")return jV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jV(t,e)}}function jV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wLe(t){if(Array.isArray(t))return t}var NLe=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,h=u===void 0?0:u,f=t.minHeight,y=t.maxHeight,v=t.children,S=t.debounce,w=S===void 0?0:S,N=t.id,_=t.className,E=t.onResize,T=t.style,M=T===void 0?{}:T,O=P.useRef(null),L=P.useRef();L.current=E,P.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var B=P.useState({containerWidth:i.width,containerHeight:i.height}),U=xLe(B,2),$=U[0],K=U[1],q=P.useCallback(function(Q,Z){K(function(J){var ye=Math.round(Q),ge=Math.round(Z);return J.containerWidth===ye&&J.containerHeight===ge?J:{containerWidth:ye,containerHeight:ge}})},[]);P.useEffect(function(){var Q=function(re){var me,ne=re[0].contentRect,G=ne.width,se=ne.height;q(G,se),(me=L.current)===null||me===void 0||me.call(L,G,se)};w>0&&(Q=dR(Q,w,{trailing:!0,leading:!1}));var Z=new ResizeObserver(Q),J=O.current.getBoundingClientRect(),ye=J.width,ge=J.height;return q(ye,ge),Z.observe(O.current),function(){Z.disconnect()}},[q,w]);var H=P.useMemo(function(){var Q=$.containerWidth,Z=$.containerHeight;if(Q<0||Z<0)return null;Xf(vg(o)||vg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=vg(o)?Q:o,ye=vg(c)?Z:c;r&&r>0&&(J?ye=J/r:ye&&(J=ye*r),y&&ye>y&&(ye=y)),Xf(J>0||ye>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,ye,o,c,h,f,r);var ge=!Array.isArray(v)&&Kf(v.type).endsWith("Chart");return Le.Children.map(v,function(oe){return Le.isValidElement(oe)?P.cloneElement(oe,ij({width:J,height:ye},ge?{style:ij({height:"100%",width:"100%",maxHeight:ye,maxWidth:J},oe.props.style)}:{})):oe})},[r,v,c,y,f,h,$,o]);return Le.createElement("div",{id:N?"".concat(N):void 0,className:gs("recharts-responsive-container",_),style:ij(ij({},M),{},{width:o,height:c,minWidth:h,minHeight:f,maxHeight:y}),ref:O},H)}),Sde=function(e){return null};Sde.displayName="Cell";function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){jLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jLe(t,e,r){return e=SLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SLe(t){var e=CLe(t,"string");return rw(e)=="symbol"?e:e+""}function CLe(t,e){if(rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X0={widthCache:{},cacheCount:0},ALe=2e3,_Le={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CV="recharts_measurement_span";function ELe(t){var e=GI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var lb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vy.isSsr)return{width:0,height:0};var n=ELe(r),i=JSON.stringify({text:e,copyStyle:n});if(X0.widthCache[i])return X0.widthCache[i];try{var a=document.getElementById(CV);a||(a=document.createElement("span"),a.setAttribute("id",CV),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=GI(GI({},_Le),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return X0.widthCache[i]=c,++X0.cacheCount>ALe&&(X0.cacheCount=0,X0.widthCache={}),c}catch{return{width:0,height:0}}},TLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function nS(t,e){return OLe(t)||ILe(t,e)||PLe(t,e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PLe(t,e){if(t){if(typeof t=="string")return AV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AV(t,e)}}function AV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ILe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function OLe(t){if(Array.isArray(t))return t}function MLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DLe(n.key),n)}}function RLe(t,e,r){return e&&_V(t.prototype,e),r&&_V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DLe(t){var e=LLe(t,"string");return nw(e)=="symbol"?e:e+""}function LLe(t,e){if(nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ULe=Object.keys(Cde),gx="NaN";function $Le(t,e){return t*Cde[e]}var aj=(function(){function t(e,r){MLe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!FLe.test(r)&&(this.num=NaN,this.unit=""),ULe.includes(r)&&(this.num=$Le(e,r),this.unit="px")}return RLe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=BLe.exec(r))!==null&&n!==void 0?n:[],a=nS(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function Ade(t){if(t.includes(gx))return gx;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=EV.exec(e))!==null&&r!==void 0?r:[],i=nS(n,4),a=i[1],o=i[2],l=i[3],c=aj.parse(a??""),u=aj.parse(l??""),h=o==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return gx;e=e.replace(EV,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,y=(f=TV.exec(e))!==null&&f!==void 0?f:[],v=nS(y,4),S=v[1],w=v[2],N=v[3],_=aj.parse(S??""),E=aj.parse(N??""),T=w==="+"?_.add(E):_.subtract(E);if(T.isNaN())return gx;e=e.replace(TV,T.toString())}return e}var kV=/\(([^()]*)\)/;function zLe(t){for(var e=t;e.includes("(");){var r=kV.exec(e),n=nS(r,2),i=n[1];e=e.replace(kV,Ade(i))}return e}function qLe(t){var e=t.replace(/\s+/g,"");return e=zLe(e),e=Ade(e),e}function VLe(t){try{return qLe(t)}catch{return gx}}function sk(t){var e=VLe(t.slice(5,-1));return e===gx?"":e}var HLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WLe=["dx","dy","angle","className","breakAll"];function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YI.apply(this,arguments)}function PV(t,e){if(t==null)return{};var r=GLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IV(t,e){return ZLe(t)||XLe(t,e)||KLe(t,e)||YLe()}function YLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(t,e){if(t){if(typeof t=="string")return OV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZLe(t){if(Array.isArray(t))return t}var _de=/[ \f\n\r\t\v\u2028\u2029]+/,Ede=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];is(r)||(n?a=r.toString().split(""):a=r.toString().split(_de));var o=a.map(function(c){return{word:c,width:lb(c,i).width}}),l=n?0:lb("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},QLe=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,h=cr(o),f=l,y=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(ye,ge){var oe=ge.word,re=ge.width,me=ye[ye.length-1];if(me&&(i==null||a||me.width+re+n<Number(i)))me.words.push(oe),me.width+=re+n;else{var ne={words:[oe],width:re};ye.push(ne)}return ye},[])},v=y(r),S=function(J){return J.reduce(function(ye,ge){return ye.width>ge.width?ye:ge})};if(!h)return v;for(var w="",N=function(J){var ye=f.slice(0,J),ge=Ede({breakAll:u,style:c,children:ye+w}).wordsWithComputedWidth,oe=y(ge),re=oe.length>o||S(oe).width>Number(i);return[re,oe]},_=0,E=f.length-1,T=0,M;_<=E&&T<=f.length-1;){var O=Math.floor((_+E)/2),L=O-1,B=N(L),U=IV(B,2),$=U[0],K=U[1],q=N(O),H=IV(q,1),Q=H[0];if(!$&&!Q&&(_=O+1),$&&Q&&(E=O-1),!$&&Q){M=K;break}T++}return M||v},MV=function(e){var r=is(e)?[]:e.toString().split(_de);return[{words:r}]},JLe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!vy.isSsr){var c,u,h=Ede({breakAll:o,children:i,style:a});if(h){var f=h.wordsWithComputedWidth,y=h.spaceWidth;c=f,u=y}else return MV(i);return QLe({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return MV(i)},RV="#808080",sS=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,h=e.scaleToFit,f=h===void 0?!1:h,y=e.textAnchor,v=y===void 0?"start":y,S=e.verticalAnchor,w=S===void 0?"end":S,N=e.fill,_=N===void 0?RV:N,E=PV(e,HLe),T=P.useMemo(function(){return JLe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),M=E.dx,O=E.dy,L=E.angle,B=E.className,U=E.breakAll,$=PV(E,WLe);if(!fo(n)||!fo(a))return null;var K=n+(cr(M)?M:0),q=a+(cr(O)?O:0),H;switch(w){case"start":H=sk("calc(".concat(u,")"));break;case"middle":H=sk("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:H=sk("calc(".concat(T.length-1," * -").concat(l,")"));break}var Q=[];if(f){var Z=T[0].width,J=E.width;Q.push("scale(".concat((cr(J)?J/Z:1)/Z,")"))}return L&&Q.push("rotate(".concat(L,", ").concat(K,", ").concat(q,")")),Q.length&&($.transform=Q.join(" ")),Le.createElement("text",YI({},ds($,!0),{x:K,y:q,className:gs("recharts-text",B),textAnchor:v,fill:_.includes("url")?RV:_}),T.map(function(ye,ge){var oe=ye.words.join(U?"":" ");return Le.createElement("tspan",{x:K,dy:ge===0?H:l,key:"".concat(oe,"-").concat(ge)},oe)}))};function pp(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function e7e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QR(t){let e,r,n;t.length!==2?(e=pp,r=(l,c)=>pp(t(l),c),n=(l,c)=>t(l)-c):(e=t===pp||t===e7e?t:t7e,r=t,n=t);function i(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;r(l[f],c)<0?u=f+1:h=f}while(u<h)}return u}function a(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;r(l[f],c)<=0?u=f+1:h=f}while(u<h)}return u}function o(l,c,u=0,h=l.length){const f=i(l,c,u,h-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function t7e(){return 0}function Tde(t){return t===null?NaN:+t}function*r7e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const n7e=QR(pp),F2=n7e.right;QR(Tde).center;class DV extends Map{constructor(e,r=a7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(LV(this,e))}has(e){return super.has(LV(this,e))}set(e,r){return super.set(s7e(this,e),r)}delete(e){return super.delete(i7e(this,e))}}function LV({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function s7e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function i7e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function a7e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function o7e(t=pp){if(t===pp)return kde;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function kde(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const l7e=Math.sqrt(50),c7e=Math.sqrt(10),u7e=Math.sqrt(2);function iS(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=l7e?10:a>=c7e?5:a>=u7e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?iS(t,e,r*2):[l,c,u]}function KI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?iS(e,t,r):iS(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function XI(t,e,r){return e=+e,t=+t,r=+r,iS(t,e,r)[2]}function ZI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?XI(e,t,r):XI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function FV(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function BV(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Pde(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?kde:o7e(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,h=Math.log(c),f=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(e-u*f/c+y)),S=Math.min(n,Math.floor(e+(c-u)*f/c+y));Pde(t,e,v,S,i)}const a=t[e];let o=r,l=n;for(hv(t,r,e),i(t[n],a)>0&&hv(t,r,n);o<l;){for(hv(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?hv(t,r,l):(++l,hv(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function hv(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function d7e(t,e,r){if(t=Float64Array.from(r7e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return BV(t);if(e>=1)return FV(t);var n,i=(n-1)*e,a=Math.floor(i),o=FV(Pde(t,a).subarray(0,a+1)),l=BV(t.subarray(a+1));return o+(l-o)*(i-a)}}function h7e(t,e,r=Tde){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function f7e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ju(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mm(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const QI=Symbol("implicit");function JR(){var t=new DV,e=[],r=[],n=QI;function i(a){let o=t.get(a);if(o===void 0){if(n!==QI)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new DV;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JR(e,r).unknown(n)},Ju.apply(i,arguments),i}function sw(){var t=JR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,h=.5;delete t.unknown;function f(){var y=e().length,v=i<n,S=v?i:n,w=v?n:i;a=(w-S)/Math.max(1,y-c+u*2),l&&(a=Math.floor(a)),S+=(w-S-a*(y-c))*h,o=a*(1-c),l&&(S=Math.round(S),o=Math.round(o));var N=f7e(y).map(function(_){return S+a*_});return r(v?N.reverse():N)}return t.domain=function(y){return arguments.length?(e(y),f()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,f()):l},t.padding=function(y){return arguments.length?(c=Math.min(1,u=+y),f()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),f()):c},t.paddingOuter=function(y){return arguments.length?(u=+y,f()):u},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),f()):h},t.copy=function(){return sw(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},Ju.apply(f(),arguments)}function Ide(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ide(e())},t}function cb(){return Ide(sw.apply(null,arguments).paddingInner(1))}function eD(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ode(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function B2(){}var iw=.7,aS=1/iw,Ix="\\s*([+-]?\\d+)\\s*",aw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m7e=/^#([0-9a-f]{3,8})$/,p7e=new RegExp(`^rgb\\(${Ix},${Ix},${Ix}\\)$`),g7e=new RegExp(`^rgb\\(${Hh},${Hh},${Hh}\\)$`),x7e=new RegExp(`^rgba\\(${Ix},${Ix},${Ix},${aw}\\)$`),y7e=new RegExp(`^rgba\\(${Hh},${Hh},${Hh},${aw}\\)$`),v7e=new RegExp(`^hsl\\(${aw},${Hh},${Hh}\\)$`),b7e=new RegExp(`^hsla\\(${aw},${Hh},${Hh},${aw}\\)$`),UV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eD(B2,ow,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$V,formatHex:$V,formatHex8:w7e,formatHsl:N7e,formatRgb:zV,toString:zV});function $V(){return this.rgb().formatHex()}function w7e(){return this.rgb().formatHex8()}function N7e(){return Mde(this).formatHsl()}function zV(){return this.rgb().formatRgb()}function ow(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=m7e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?qV(e):r===3?new jc(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?oj(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?oj(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=p7e.exec(t))?new jc(e[1],e[2],e[3],1):(e=g7e.exec(t))?new jc(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=x7e.exec(t))?oj(e[1],e[2],e[3],e[4]):(e=y7e.exec(t))?oj(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=v7e.exec(t))?WV(e[1],e[2]/100,e[3]/100,1):(e=b7e.exec(t))?WV(e[1],e[2]/100,e[3]/100,e[4]):UV.hasOwnProperty(t)?qV(UV[t]):t==="transparent"?new jc(NaN,NaN,NaN,0):null}function qV(t){return new jc(t>>16&255,t>>8&255,t&255,1)}function oj(t,e,r,n){return n<=0&&(t=e=r=NaN),new jc(t,e,r,n)}function j7e(t){return t instanceof B2||(t=ow(t)),t?(t=t.rgb(),new jc(t.r,t.g,t.b,t.opacity)):new jc}function JI(t,e,r,n){return arguments.length===1?j7e(t):new jc(t,e,r,n??1)}function jc(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}eD(jc,JI,Ode(B2,{brighter(t){return t=t==null?aS:Math.pow(aS,t),new jc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?iw:Math.pow(iw,t),new jc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jc(Vg(this.r),Vg(this.g),Vg(this.b),oS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VV,formatHex:VV,formatHex8:S7e,formatRgb:HV,toString:HV}));function VV(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}`}function S7e(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}${bg((isNaN(this.opacity)?1:this.opacity)*255)}`}function HV(){const t=oS(this.opacity);return`${t===1?"rgb(":"rgba("}${Vg(this.r)}, ${Vg(this.g)}, ${Vg(this.b)}${t===1?")":`, ${t})`}`}function oS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bg(t){return t=Vg(t),(t<16?"0":"")+t.toString(16)}function WV(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $d(t,e,r,n)}function Mde(t){if(t instanceof $d)return new $d(t.h,t.s,t.l,t.opacity);if(t instanceof B2||(t=ow(t)),!t)return new $d;if(t instanceof $d)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new $d(o,l,c,t.opacity)}function C7e(t,e,r,n){return arguments.length===1?Mde(t):new $d(t,e,r,n??1)}function $d(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}eD($d,C7e,Ode(B2,{brighter(t){return t=t==null?aS:Math.pow(aS,t),new $d(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?iw:Math.pow(iw,t),new $d(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new jc(ik(t>=240?t-240:t+120,i,n),ik(t,i,n),ik(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new $d(GV(this.h),lj(this.s),lj(this.l),oS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oS(this.opacity);return`${t===1?"hsl(":"hsla("}${GV(this.h)}, ${lj(this.s)*100}%, ${lj(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GV(t){return t=(t||0)%360,t<0?t+360:t}function lj(t){return Math.max(0,Math.min(1,t||0))}function ik(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const tD=t=>()=>t;function A7e(t,e){return function(r){return t+r*e}}function _7e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function E7e(t){return(t=+t)==1?Rde:function(e,r){return r-e?_7e(e,r,t):tD(isNaN(e)?r:e)}}function Rde(t,e){var r=e-t;return r?A7e(t,r):tD(isNaN(t)?e:t)}const YV=(function t(e){var r=E7e(e);function n(i,a){var o=r((i=JI(i)).r,(a=JI(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=Rde(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return n.gamma=t,n})(1);function T7e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function k7e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function P7e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=by(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function I7e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function lS(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function O7e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=by(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var eO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ak=new RegExp(eO.source,"g");function M7e(t){return function(){return t}}function R7e(t){return function(e){return t(e)+""}}function D7e(t,e){var r=eO.lastIndex=ak.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=eO.exec(t))&&(i=ak.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:lS(n,i)})),r=ak.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?R7e(c[0].x):M7e(e):(e=c.length,function(u){for(var h=0,f;h<e;++h)l[(f=c[h]).i]=f.x(u);return l.join("")})}function by(t,e){var r=typeof e,n;return e==null||r==="boolean"?tD(e):(r==="number"?lS:r==="string"?(n=ow(e))?(e=n,YV):D7e:e instanceof ow?YV:e instanceof Date?I7e:k7e(e)?T7e:Array.isArray(e)?P7e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?O7e:lS)(t,e)}function rD(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function L7e(t,e){e===void 0&&(e=t,t=by);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function F7e(t){return function(){return t}}function cS(t){return+t}var KV=[0,1];function ic(t){return t}function tO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:F7e(isNaN(e)?NaN:.5)}function B7e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function U7e(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=tO(i,n),a=r(o,a)):(n=tO(n,i),a=r(a,o)),function(l){return a(n(l))}}function $7e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=tO(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=F2(t,l,1,n)-1;return a[c](i[c](l))}}function U2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dC(){var t=KV,e=KV,r=by,n,i,a,o=ic,l,c,u;function h(){var y=Math.min(t.length,e.length);return o!==ic&&(o=B7e(t[0],t[y-1])),l=y>2?$7e:U7e,c=u=null,f}function f(y){return y==null||isNaN(y=+y)?a:(c||(c=l(t.map(n),e,r)))(n(o(y)))}return f.invert=function(y){return o(i((u||(u=l(e,t.map(n),lS)))(y)))},f.domain=function(y){return arguments.length?(t=Array.from(y,cS),h()):t.slice()},f.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},f.rangeRound=function(y){return e=Array.from(y),r=rD,h()},f.clamp=function(y){return arguments.length?(o=y?!0:ic,h()):o!==ic},f.interpolate=function(y){return arguments.length?(r=y,h()):r},f.unknown=function(y){return arguments.length?(a=y,f):a},function(y,v){return n=y,i=v,h()}}function nD(){return dC()(ic,ic)}function z7e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uS(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function L1(t){return t=uS(Math.abs(t)),t?t[1]:NaN}function q7e(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function V7e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var H7e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lw(t){if(!(e=H7e.exec(t)))throw new Error("invalid format: "+t);var e;return new sD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lw.prototype=sD.prototype;function sD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W7e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Dde;function G7e(t,e){var r=uS(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Dde=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+uS(t,Math.max(0,e+a-1))[0]}function XV(t,e){var r=uS(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ZV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:z7e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XV(t*100,e),r:XV,s:G7e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QV(t){return t}var JV=Array.prototype.map,eH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y7e(t){var e=t.grouping===void 0||t.thousands===void 0?QV:q7e(JV.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?QV:V7e(JV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=lw(f);var y=f.fill,v=f.align,S=f.sign,w=f.symbol,N=f.zero,_=f.width,E=f.comma,T=f.precision,M=f.trim,O=f.type;O==="n"?(E=!0,O="g"):ZV[O]||(T===void 0&&(T=12),M=!0,O="g"),(N||y==="0"&&v==="=")&&(N=!0,y="0",v="=");var L=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",B=w==="$"?n:/[%p]/.test(O)?o:"",U=ZV[O],$=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(q){var H=L,Q=B,Z,J,ye;if(O==="c")Q=U(q)+Q,q="";else{q=+q;var ge=q<0||1/q<0;if(q=isNaN(q)?c:U(Math.abs(q),T),M&&(q=W7e(q)),ge&&+q==0&&S!=="+"&&(ge=!1),H=(ge?S==="("?S:l:S==="-"||S==="("?"":S)+H,Q=(O==="s"?eH[8+Dde/3]:"")+Q+(ge&&S==="("?")":""),$){for(Z=-1,J=q.length;++Z<J;)if(ye=q.charCodeAt(Z),48>ye||ye>57){Q=(ye===46?i+q.slice(Z+1):q.slice(Z))+Q,q=q.slice(0,Z);break}}}E&&!N&&(q=e(q,1/0));var oe=H.length+q.length+Q.length,re=oe<_?new Array(_-oe+1).join(y):"";switch(E&&N&&(q=e(re+q,re.length?_-Q.length:1/0),re=""),v){case"<":q=H+q+Q+re;break;case"=":q=H+re+q+Q;break;case"^":q=re.slice(0,oe=re.length>>1)+H+q+Q+re.slice(oe);break;default:q=re+H+q+Q;break}return a(q)}return K.toString=function(){return f+""},K}function h(f,y){var v=u((f=lw(f),f.type="f",f)),S=Math.max(-8,Math.min(8,Math.floor(L1(y)/3)))*3,w=Math.pow(10,-S),N=eH[8+S/3];return function(_){return v(w*_)+N}}return{format:u,formatPrefix:h}}var cj,iD,Lde;K7e({thousands:",",grouping:[3],currency:["$",""]});function K7e(t){return cj=Y7e(t),iD=cj.format,Lde=cj.formatPrefix,cj}function X7e(t){return Math.max(0,-L1(Math.abs(t)))}function Z7e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(L1(e)/3)))*3-L1(Math.abs(t)))}function Q7e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,L1(e)-L1(t))+1}function Fde(t,e,r,n){var i=ZI(t,e,r),a;switch(n=lw(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Z7e(i,o))&&(n.precision=a),Lde(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Q7e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=X7e(i))&&(n.precision=a-(n.type==="%")*2);break}}return iD(n)}function Rp(t){var e=t.domain;return t.ticks=function(r){var n=e();return KI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Fde(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);h-- >0;){if(u=XI(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function dS(){var t=nD();return t.copy=function(){return U2(t,dS())},Ju.apply(t,arguments),Rp(t)}function Bde(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,cS),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Bde(t).unknown(e)},t=arguments.length?Array.from(t,cS):[0,1],Rp(r)}function Ude(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function tH(t){return Math.log(t)}function rH(t){return Math.exp(t)}function J7e(t){return-Math.log(-t)}function eFe(t){return-Math.exp(-t)}function tFe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rFe(t){return t===10?tFe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nFe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nH(t){return(e,r)=>-t(-e,r)}function aD(t){const e=t(tH,rH),r=e.domain;let n=10,i,a;function o(){return i=nFe(n),a=rFe(n),r()[0]<0?(i=nH(i),a=nH(a),t(J7e,eFe)):t(tH,rH),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],h=c[c.length-1];const f=h<u;f&&([u,h]=[h,u]);let y=i(u),v=i(h),S,w;const N=l==null?10:+l;let _=[];if(!(n%1)&&v-y<N){if(y=Math.floor(y),v=Math.ceil(v),u>0){for(;y<=v;++y)for(S=1;S<n;++S)if(w=y<0?S/a(-y):S*a(y),!(w<u)){if(w>h)break;_.push(w)}}else for(;y<=v;++y)for(S=n-1;S>=1;--S)if(w=y>0?S/a(-y):S*a(y),!(w<u)){if(w>h)break;_.push(w)}_.length*2<N&&(_=KI(u,h,N))}else _=KI(y,v,Math.min(v-y,N)).map(a);return f?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lw(c)).precision==null&&(c.trim=!0),c=iD(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return h=>{let f=h/a(Math.round(i(h)));return f*n<n-.5&&(f*=n),f<=u?c(h):""}},e.nice=()=>r(Ude(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function $de(){const t=aD(dC()).domain([1,10]);return t.copy=()=>U2(t,$de()).base(t.base()),Ju.apply(t,arguments),t}function sH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oD(t){var e=1,r=t(sH(e),iH(e));return r.constant=function(n){return arguments.length?t(sH(e=+n),iH(e)):e},Rp(r)}function zde(){var t=oD(dC());return t.copy=function(){return U2(t,zde()).constant(t.constant())},Ju.apply(t,arguments)}function aH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sFe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iFe(t){return t<0?-t*t:t*t}function lD(t){var e=t(ic,ic),r=1;function n(){return r===1?t(ic,ic):r===.5?t(sFe,iFe):t(aH(r),aH(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Rp(e)}function cD(){var t=lD(dC());return t.copy=function(){return U2(t,cD()).exponent(t.exponent())},Ju.apply(t,arguments),t}function aFe(){return cD.apply(null,arguments).exponent(.5)}function oH(t){return Math.sign(t)*t*t}function oFe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qde(){var t=nD(),e=[0,1],r=!1,n;function i(a){var o=oFe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(oH(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,cS)).map(oH)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return qde(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ju.apply(i,arguments),Rp(i)}function Vde(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=h7e(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[F2(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(pp),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Vde().domain(t).range(e).unknown(n)},Ju.apply(a,arguments)}function Hde(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[F2(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Hde().domain([t,e]).range(i).unknown(a)},Ju.apply(Rp(o),arguments)}function Wde(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[F2(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Wde().domain(t).range(e).unknown(r)},Ju.apply(i,arguments)}const ok=new Date,lk=new Date;function vo(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>vo(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(ok.setTime(+a),lk.setTime(+o),t(ok),t(lk),Math.floor(r(ok,lk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const hS=vo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vo(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):hS);hS.range;const Bf=1e3,zu=Bf*60,Uf=zu*60,am=Uf*24,uD=am*7,lH=am*30,ck=am*365,wg=vo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bf)},(t,e)=>(e-t)/Bf,t=>t.getUTCSeconds());wg.range;const dD=vo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bf)},(t,e)=>{t.setTime(+t+e*zu)},(t,e)=>(e-t)/zu,t=>t.getMinutes());dD.range;const hD=vo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zu)},(t,e)=>(e-t)/zu,t=>t.getUTCMinutes());hD.range;const fD=vo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bf-t.getMinutes()*zu)},(t,e)=>{t.setTime(+t+e*Uf)},(t,e)=>(e-t)/Uf,t=>t.getHours());fD.range;const mD=vo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uf)},(t,e)=>(e-t)/Uf,t=>t.getUTCHours());mD.range;const $2=vo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zu)/am,t=>t.getDate()-1);$2.range;const hC=vo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/am,t=>t.getUTCDate()-1);hC.range;const Gde=vo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/am,t=>Math.floor(t/am));Gde.range;function v0(t){return vo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zu)/uD)}const fC=v0(0),fS=v0(1),lFe=v0(2),cFe=v0(3),F1=v0(4),uFe=v0(5),dFe=v0(6);fC.range;fS.range;lFe.range;cFe.range;F1.range;uFe.range;dFe.range;function b0(t){return vo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/uD)}const mC=b0(0),mS=b0(1),hFe=b0(2),fFe=b0(3),B1=b0(4),mFe=b0(5),pFe=b0(6);mC.range;mS.range;hFe.range;fFe.range;B1.range;mFe.range;pFe.range;const pD=vo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pD.range;const gD=vo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gD.range;const om=vo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());om.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});om.range;const lm=vo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());lm.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});lm.range;function Yde(t,e,r,n,i,a){const o=[[wg,1,Bf],[wg,5,5*Bf],[wg,15,15*Bf],[wg,30,30*Bf],[a,1,zu],[a,5,5*zu],[a,15,15*zu],[a,30,30*zu],[i,1,Uf],[i,3,3*Uf],[i,6,6*Uf],[i,12,12*Uf],[n,1,am],[n,2,2*am],[r,1,uD],[e,1,lH],[e,3,3*lH],[t,1,ck]];function l(u,h,f){const y=h<u;y&&([u,h]=[h,u]);const v=f&&typeof f.range=="function"?f:c(u,h,f),S=v?v.range(u,+h+1):[];return y?S.reverse():S}function c(u,h,f){const y=Math.abs(h-u)/f,v=QR(([,,N])=>N).right(o,y);if(v===o.length)return t.every(ZI(u/ck,h/ck,f));if(v===0)return hS.every(Math.max(ZI(u,h,f),1));const[S,w]=o[y/o[v-1][2]<o[v][2]/y?v-1:v];return S.every(w)}return[l,c]}const[gFe,xFe]=Yde(lm,gD,mC,Gde,mD,hD),[yFe,vFe]=Yde(om,pD,fC,$2,fD,dD);function uk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fv(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bFe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=mv(i),h=pv(i),f=mv(a),y=pv(a),v=mv(o),S=pv(o),w=mv(l),N=pv(l),_=mv(c),E=pv(c),T={a:ge,A:oe,b:re,B:me,c:null,d:mH,e:mH,f:qFe,g:JFe,G:t9e,H:UFe,I:$Fe,j:zFe,L:Kde,m:VFe,M:HFe,p:ne,q:G,Q:xH,s:yH,S:WFe,u:GFe,U:YFe,V:KFe,w:XFe,W:ZFe,x:null,X:null,y:QFe,Y:e9e,Z:r9e,"%":gH},M={a:se,A:ue,b:je,B:Ce,c:null,d:pH,e:pH,f:a9e,g:g9e,G:y9e,H:n9e,I:s9e,j:i9e,L:Zde,m:o9e,M:l9e,p:ae,q:de,Q:xH,s:yH,S:c9e,u:u9e,U:d9e,V:h9e,w:f9e,W:m9e,x:null,X:null,y:p9e,Y:x9e,Z:v9e,"%":gH},O={a:K,A:q,b:H,B:Q,c:Z,d:hH,e:hH,f:DFe,g:dH,G:uH,H:fH,I:fH,j:IFe,L:RFe,m:PFe,M:OFe,p:$,q:kFe,Q:FFe,s:BFe,S:MFe,u:CFe,U:AFe,V:_Fe,w:SFe,W:EFe,x:J,X:ye,y:dH,Y:uH,Z:TFe,"%":LFe};T.x=L(r,T),T.X=L(n,T),T.c=L(e,T),M.x=L(r,M),M.X=L(n,M),M.c=L(e,M);function L(pe,Oe){return function(ze){var qe=[],$e=-1,Ve=0,Ee=pe.length,sr,Zt,Gt;for(ze instanceof Date||(ze=new Date(+ze));++$e<Ee;)pe.charCodeAt($e)===37&&(qe.push(pe.slice(Ve,$e)),(Zt=cH[sr=pe.charAt(++$e)])!=null?sr=pe.charAt(++$e):Zt=sr==="e"?" ":"0",(Gt=Oe[sr])&&(sr=Gt(ze,Zt)),qe.push(sr),Ve=$e+1);return qe.push(pe.slice(Ve,$e)),qe.join("")}}function B(pe,Oe){return function(ze){var qe=fv(1900,void 0,1),$e=U(qe,pe,ze+="",0),Ve,Ee;if($e!=ze.length)return null;if("Q"in qe)return new Date(qe.Q);if("s"in qe)return new Date(qe.s*1e3+("L"in qe?qe.L:0));if(Oe&&!("Z"in qe)&&(qe.Z=0),"p"in qe&&(qe.H=qe.H%12+qe.p*12),qe.m===void 0&&(qe.m="q"in qe?qe.q:0),"V"in qe){if(qe.V<1||qe.V>53)return null;"w"in qe||(qe.w=1),"Z"in qe?(Ve=dk(fv(qe.y,0,1)),Ee=Ve.getUTCDay(),Ve=Ee>4||Ee===0?mS.ceil(Ve):mS(Ve),Ve=hC.offset(Ve,(qe.V-1)*7),qe.y=Ve.getUTCFullYear(),qe.m=Ve.getUTCMonth(),qe.d=Ve.getUTCDate()+(qe.w+6)%7):(Ve=uk(fv(qe.y,0,1)),Ee=Ve.getDay(),Ve=Ee>4||Ee===0?fS.ceil(Ve):fS(Ve),Ve=$2.offset(Ve,(qe.V-1)*7),qe.y=Ve.getFullYear(),qe.m=Ve.getMonth(),qe.d=Ve.getDate()+(qe.w+6)%7)}else("W"in qe||"U"in qe)&&("w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),Ee="Z"in qe?dk(fv(qe.y,0,1)).getUTCDay():uk(fv(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+qe.W*7-(Ee+5)%7:qe.w+qe.U*7-(Ee+6)%7);return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,dk(qe)):uk(qe)}}function U(pe,Oe,ze,qe){for(var $e=0,Ve=Oe.length,Ee=ze.length,sr,Zt;$e<Ve;){if(qe>=Ee)return-1;if(sr=Oe.charCodeAt($e++),sr===37){if(sr=Oe.charAt($e++),Zt=O[sr in cH?Oe.charAt($e++):sr],!Zt||(qe=Zt(pe,ze,qe))<0)return-1}else if(sr!=ze.charCodeAt(qe++))return-1}return qe}function $(pe,Oe,ze){var qe=u.exec(Oe.slice(ze));return qe?(pe.p=h.get(qe[0].toLowerCase()),ze+qe[0].length):-1}function K(pe,Oe,ze){var qe=v.exec(Oe.slice(ze));return qe?(pe.w=S.get(qe[0].toLowerCase()),ze+qe[0].length):-1}function q(pe,Oe,ze){var qe=f.exec(Oe.slice(ze));return qe?(pe.w=y.get(qe[0].toLowerCase()),ze+qe[0].length):-1}function H(pe,Oe,ze){var qe=_.exec(Oe.slice(ze));return qe?(pe.m=E.get(qe[0].toLowerCase()),ze+qe[0].length):-1}function Q(pe,Oe,ze){var qe=w.exec(Oe.slice(ze));return qe?(pe.m=N.get(qe[0].toLowerCase()),ze+qe[0].length):-1}function Z(pe,Oe,ze){return U(pe,e,Oe,ze)}function J(pe,Oe,ze){return U(pe,r,Oe,ze)}function ye(pe,Oe,ze){return U(pe,n,Oe,ze)}function ge(pe){return o[pe.getDay()]}function oe(pe){return a[pe.getDay()]}function re(pe){return c[pe.getMonth()]}function me(pe){return l[pe.getMonth()]}function ne(pe){return i[+(pe.getHours()>=12)]}function G(pe){return 1+~~(pe.getMonth()/3)}function se(pe){return o[pe.getUTCDay()]}function ue(pe){return a[pe.getUTCDay()]}function je(pe){return c[pe.getUTCMonth()]}function Ce(pe){return l[pe.getUTCMonth()]}function ae(pe){return i[+(pe.getUTCHours()>=12)]}function de(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Oe=L(pe+="",T);return Oe.toString=function(){return pe},Oe},parse:function(pe){var Oe=B(pe+="",!1);return Oe.toString=function(){return pe},Oe},utcFormat:function(pe){var Oe=L(pe+="",M);return Oe.toString=function(){return pe},Oe},utcParse:function(pe){var Oe=B(pe+="",!0);return Oe.toString=function(){return pe},Oe}}}var cH={"-":"",_:" ",0:"0"},qo=/^\s*\d+/,wFe=/^%/,NFe=/[\\^$*+?|[\]().{}]/g;function ks(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function jFe(t){return t.replace(NFe,"\\$&")}function mv(t){return new RegExp("^(?:"+t.map(jFe).join("|")+")","i")}function pv(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function SFe(t,e,r){var n=qo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function CFe(t,e,r){var n=qo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function AFe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function _Fe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function EFe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uH(t,e,r){var n=qo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function dH(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function TFe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kFe(t,e,r){var n=qo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function PFe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function hH(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function IFe(t,e,r){var n=qo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function fH(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function OFe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function MFe(t,e,r){var n=qo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function RFe(t,e,r){var n=qo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function DFe(t,e,r){var n=qo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function LFe(t,e,r){var n=wFe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function FFe(t,e,r){var n=qo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function BFe(t,e,r){var n=qo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function mH(t,e){return ks(t.getDate(),e,2)}function UFe(t,e){return ks(t.getHours(),e,2)}function $Fe(t,e){return ks(t.getHours()%12||12,e,2)}function zFe(t,e){return ks(1+$2.count(om(t),t),e,3)}function Kde(t,e){return ks(t.getMilliseconds(),e,3)}function qFe(t,e){return Kde(t,e)+"000"}function VFe(t,e){return ks(t.getMonth()+1,e,2)}function HFe(t,e){return ks(t.getMinutes(),e,2)}function WFe(t,e){return ks(t.getSeconds(),e,2)}function GFe(t){var e=t.getDay();return e===0?7:e}function YFe(t,e){return ks(fC.count(om(t)-1,t),e,2)}function Xde(t){var e=t.getDay();return e>=4||e===0?F1(t):F1.ceil(t)}function KFe(t,e){return t=Xde(t),ks(F1.count(om(t),t)+(om(t).getDay()===4),e,2)}function XFe(t){return t.getDay()}function ZFe(t,e){return ks(fS.count(om(t)-1,t),e,2)}function QFe(t,e){return ks(t.getFullYear()%100,e,2)}function JFe(t,e){return t=Xde(t),ks(t.getFullYear()%100,e,2)}function e9e(t,e){return ks(t.getFullYear()%1e4,e,4)}function t9e(t,e){var r=t.getDay();return t=r>=4||r===0?F1(t):F1.ceil(t),ks(t.getFullYear()%1e4,e,4)}function r9e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ks(e/60|0,"0",2)+ks(e%60,"0",2)}function pH(t,e){return ks(t.getUTCDate(),e,2)}function n9e(t,e){return ks(t.getUTCHours(),e,2)}function s9e(t,e){return ks(t.getUTCHours()%12||12,e,2)}function i9e(t,e){return ks(1+hC.count(lm(t),t),e,3)}function Zde(t,e){return ks(t.getUTCMilliseconds(),e,3)}function a9e(t,e){return Zde(t,e)+"000"}function o9e(t,e){return ks(t.getUTCMonth()+1,e,2)}function l9e(t,e){return ks(t.getUTCMinutes(),e,2)}function c9e(t,e){return ks(t.getUTCSeconds(),e,2)}function u9e(t){var e=t.getUTCDay();return e===0?7:e}function d9e(t,e){return ks(mC.count(lm(t)-1,t),e,2)}function Qde(t){var e=t.getUTCDay();return e>=4||e===0?B1(t):B1.ceil(t)}function h9e(t,e){return t=Qde(t),ks(B1.count(lm(t),t)+(lm(t).getUTCDay()===4),e,2)}function f9e(t){return t.getUTCDay()}function m9e(t,e){return ks(mS.count(lm(t)-1,t),e,2)}function p9e(t,e){return ks(t.getUTCFullYear()%100,e,2)}function g9e(t,e){return t=Qde(t),ks(t.getUTCFullYear()%100,e,2)}function x9e(t,e){return ks(t.getUTCFullYear()%1e4,e,4)}function y9e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?B1(t):B1.ceil(t),ks(t.getUTCFullYear()%1e4,e,4)}function v9e(){return"+0000"}function gH(){return"%"}function xH(t){return+t}function yH(t){return Math.floor(+t/1e3)}var Z0,Jde,ehe;b9e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b9e(t){return Z0=bFe(t),Jde=Z0.format,Z0.parse,ehe=Z0.utcFormat,Z0.utcParse,Z0}function w9e(t){return new Date(t)}function N9e(t){return t instanceof Date?+t:+new Date(+t)}function xD(t,e,r,n,i,a,o,l,c,u){var h=nD(),f=h.invert,y=h.domain,v=u(".%L"),S=u(":%S"),w=u("%I:%M"),N=u("%I %p"),_=u("%a %d"),E=u("%b %d"),T=u("%B"),M=u("%Y");function O(L){return(c(L)<L?v:l(L)<L?S:o(L)<L?w:a(L)<L?N:n(L)<L?i(L)<L?_:E:r(L)<L?T:M)(L)}return h.invert=function(L){return new Date(f(L))},h.domain=function(L){return arguments.length?y(Array.from(L,N9e)):y().map(w9e)},h.ticks=function(L){var B=y();return t(B[0],B[B.length-1],L??10)},h.tickFormat=function(L,B){return B==null?O:u(B)},h.nice=function(L){var B=y();return(!L||typeof L.range!="function")&&(L=e(B[0],B[B.length-1],L??10)),L?y(Ude(B,L)):h},h.copy=function(){return U2(h,xD(t,e,r,n,i,a,o,l,c,u))},h}function j9e(){return Ju.apply(xD(yFe,vFe,om,pD,fC,$2,fD,dD,wg,Jde).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S9e(){return Ju.apply(xD(gFe,xFe,lm,gD,mC,hC,mD,hD,wg,ehe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pC(){var t=0,e=1,r,n,i,a,o=ic,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function h(f){return function(y){var v,S;return arguments.length?([v,S]=y,o=f(v,S),u):[o(0),o(1)]}}return u.range=h(by),u.rangeRound=h(rD),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Dp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function the(){var t=Rp(pC()(ic));return t.copy=function(){return Dp(t,the())},mm.apply(t,arguments)}function rhe(){var t=aD(pC()).domain([1,10]);return t.copy=function(){return Dp(t,rhe()).base(t.base())},mm.apply(t,arguments)}function nhe(){var t=oD(pC());return t.copy=function(){return Dp(t,nhe()).constant(t.constant())},mm.apply(t,arguments)}function yD(){var t=lD(pC());return t.copy=function(){return Dp(t,yD()).exponent(t.exponent())},mm.apply(t,arguments)}function C9e(){return yD.apply(null,arguments).exponent(.5)}function she(){var t=[],e=ic;function r(n){if(n!=null&&!isNaN(n=+n))return e((F2(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pp),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>d7e(t,a/n))},r.copy=function(){return she(e).domain(t)},mm.apply(r,arguments)}function gC(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=ic,h,f=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-a)*(n*w<n*a?l:c),u(f?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),o=h(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(f=!!w,v):f},v.interpolator=function(w){return arguments.length?(u=w,v):u};function S(w){return function(N){var _,E,T;return arguments.length?([_,E,T]=N,u=L7e(w,[_,E,T]),v):[u(0),u(.5),u(1)]}}return v.range=S(by),v.rangeRound=S(rD),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return h=w,i=w(t),a=w(e),o=w(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,v}}function ihe(){var t=Rp(gC()(ic));return t.copy=function(){return Dp(t,ihe())},mm.apply(t,arguments)}function ahe(){var t=aD(gC()).domain([.1,1,10]);return t.copy=function(){return Dp(t,ahe()).base(t.base())},mm.apply(t,arguments)}function ohe(){var t=oD(gC());return t.copy=function(){return Dp(t,ohe()).constant(t.constant())},mm.apply(t,arguments)}function vD(){var t=lD(gC());return t.copy=function(){return Dp(t,vD()).exponent(t.exponent())},mm.apply(t,arguments)}function A9e(){return vD.apply(null,arguments).exponent(.5)}const vH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sw,scaleDiverging:ihe,scaleDivergingLog:ahe,scaleDivergingPow:vD,scaleDivergingSqrt:A9e,scaleDivergingSymlog:ohe,scaleIdentity:Bde,scaleImplicit:QI,scaleLinear:dS,scaleLog:$de,scaleOrdinal:JR,scalePoint:cb,scalePow:cD,scaleQuantile:Vde,scaleQuantize:Hde,scaleRadial:qde,scaleSequential:the,scaleSequentialLog:rhe,scaleSequentialPow:yD,scaleSequentialQuantile:she,scaleSequentialSqrt:C9e,scaleSequentialSymlog:nhe,scaleSqrt:aFe,scaleSymlog:zde,scaleThreshold:Wde,scaleTime:j9e,scaleUtc:S9e,tickFormat:Fde},Symbol.toStringTag,{value:"Module"}));var hk,bH;function lhe(){if(bH)return hk;bH=1;var t=py();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,h=l}return h}return hk=e,hk}var fk,wH;function _9e(){if(wH)return fk;wH=1;function t(e,r){return e>r}return fk=t,fk}var mk,NH;function E9e(){if(NH)return mk;NH=1;var t=lhe(),e=_9e(),r=yy();function n(i){return i&&i.length?t(i,r,e):void 0}return mk=n,mk}var T9e=E9e();const xC=as(T9e);var pk,jH;function k9e(){if(jH)return pk;jH=1;function t(e,r){return e<r}return pk=t,pk}var gk,SH;function P9e(){if(SH)return gk;SH=1;var t=lhe(),e=k9e(),r=yy();function n(i){return i&&i.length?t(i,r,e):void 0}return gk=n,gk}var I9e=P9e();const yC=as(I9e);var xk,CH;function O9e(){if(CH)return xk;CH=1;var t=RR(),e=Mp(),r=yde(),n=Tc();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return xk=i,xk}var yk,AH;function M9e(){if(AH)return yk;AH=1;var t=gde(),e=O9e();function r(n,i){return t(e(n,i),1)}return yk=r,yk}var R9e=M9e();const D9e=as(R9e);var vk,_H;function L9e(){if(_H)return vk;_H=1;var t=YR();function e(r,n){return t(r,n)}return vk=e,vk}var F9e=L9e();const vC=as(F9e);var wy=1e9,B9e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wD,Yi=!0,Zu="[DecimalError] ",Hg=Zu+"Invalid argument: ",bD=Zu+"Exponent out of range: ",Ny=Math.floor,cg=Math.pow,U9e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eu,Oo=1e7,Ui=7,che=9007199254740991,pS=Ny(che/Ui),Er={};Er.absoluteValue=Er.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Er.comparedTo=Er.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Er.decimalPlaces=Er.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ui;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Er.dividedBy=Er.div=function(t){return Zf(this,new this.constructor(t))};Er.dividedToIntegerBy=Er.idiv=function(t){var e=this,r=e.constructor;return mi(Zf(e,new r(t),0,1),r.precision)};Er.equals=Er.eq=function(t){return!this.cmp(t)};Er.exponent=function(){return to(this)};Er.greaterThan=Er.gt=function(t){return this.cmp(t)>0};Er.greaterThanOrEqualTo=Er.gte=function(t){return this.cmp(t)>=0};Er.isInteger=Er.isint=function(){return this.e>this.d.length-2};Er.isNegative=Er.isneg=function(){return this.s<0};Er.isPositive=Er.ispos=function(){return this.s>0};Er.isZero=function(){return this.s===0};Er.lessThan=Er.lt=function(t){return this.cmp(t)<0};Er.lessThanOrEqualTo=Er.lte=function(t){return this.cmp(t)<1};Er.logarithm=Er.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(eu))throw Error(Zu+"NaN");if(r.s<1)throw Error(Zu+(r.s?"NaN":"-Infinity"));return r.eq(eu)?new n(0):(Yi=!1,e=Zf(cw(r,a),cw(t,a),a),Yi=!0,mi(e,i))};Er.minus=Er.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hhe(e,t):uhe(e,(t.s=-t.s,t))};Er.modulo=Er.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Zu+"NaN");return r.s?(Yi=!1,e=Zf(r,t,0,1).times(t),Yi=!0,r.minus(e)):mi(new n(r),i)};Er.naturalExponential=Er.exp=function(){return dhe(this)};Er.naturalLogarithm=Er.ln=function(){return cw(this)};Er.negated=Er.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Er.plus=Er.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uhe(e,t):hhe(e,(t.s=-t.s,t))};Er.precision=Er.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hg+t);if(e=to(i)+1,n=i.d.length-1,r=n*Ui+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Er.squareRoot=Er.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Zu+"NaN")}for(t=to(l),Yi=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Fh(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ny((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Zf(l,a,o+2)).times(.5),Fh(a.d).slice(0,o)===(e=Fh(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(mi(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Yi=!0,mi(n,r)};Er.times=Er.mul=function(t){var e,r,n,i,a,o,l,c,u,h=this,f=h.constructor,y=h.d,v=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,u=v.length,c<u&&(a=y,y=v,v=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+v[n]*y[i-n-1]+e,a[i--]=l%Oo|0,e=l/Oo|0;a[i]=(a[i]+e)%Oo|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Yi?mi(t,f.precision):t};Er.toDecimalPlaces=Er.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Zh(t,0,wy),e===void 0?e=n.rounding:Zh(e,0,8),mi(r,t+to(r)+1,e))};Er.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=a0(n,!0):(Zh(t,0,wy),e===void 0?e=i.rounding:Zh(e,0,8),n=mi(new i(n),t+1,e),r=a0(n,!0,t+1)),r};Er.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?a0(i):(Zh(t,0,wy),e===void 0?e=a.rounding:Zh(e,0,8),n=mi(new a(i),t+to(i)+1,e),r=a0(n.abs(),!1,t+to(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Er.toInteger=Er.toint=function(){var t=this,e=t.constructor;return mi(new e(t),to(t)+1,e.rounding)};Er.toNumber=function(){return+this};Er.toPower=Er.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,h=+(t=new c(t));if(!t.s)return new c(eu);if(l=new c(l),!l.s){if(t.s<1)throw Error(Zu+"Infinity");return l}if(l.eq(eu))return l;if(n=c.precision,t.eq(eu))return mi(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=h<0?-h:h)<=che){for(i=new c(eu),e=Math.ceil(n/Ui+4),Yi=!1;r%2&&(i=i.times(l),TH(i.d,e)),r=Ny(r/2),r!==0;)l=l.times(l),TH(l.d,e);return Yi=!0,t.s<0?new c(eu).div(i):mi(i,n)}}else if(a<0)throw Error(Zu+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Yi=!1,i=t.times(cw(l,n+u)),Yi=!0,i=dhe(i),i.s=a,i};Er.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=to(i),n=a0(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zh(t,1,wy),e===void 0?e=a.rounding:Zh(e,0,8),i=mi(new a(i),t,e),r=to(i),n=a0(i,t<=r||r<=a.toExpNeg,t)),n};Er.toSignificantDigits=Er.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Zh(t,1,wy),e===void 0?e=n.rounding:Zh(e,0,8)),mi(new n(r),t,e)};Er.toString=Er.valueOf=Er.val=Er.toJSON=Er[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=to(t),r=t.constructor;return a0(t,e<=r.toExpNeg||e>=r.toExpPos)};function uhe(t,e){var r,n,i,a,o,l,c,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Yi?mi(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/Ui),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Oo|0,c[a]%=Oo;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Yi?mi(e,f):e}function Zh(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Hg+t)}function Fh(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Ui-n.length,r&&(a+=Gm(r)),a+=n;o=t[e],n=o+"",r=Ui-n.length,r&&(a+=Gm(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zf=(function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Oo|0,o=a/Oo|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Oo+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,h,f,y,v,S,w,N,_,E,T,M,O,L,B,U,$=n.constructor,K=n.s==i.s?1:-1,q=n.d,H=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(Zu+"Division by zero");for(c=n.e-i.e,B=H.length,O=q.length,v=new $(K),S=v.d=[],u=0;H[u]==(q[u]||0);)++u;if(H[u]>(q[u]||0)&&--c,a==null?E=a=$.precision:o?E=a+(to(n)-to(i))+1:E=a,E<0)return new $(0);if(E=E/Ui+2|0,u=0,B==1)for(h=0,H=H[0],E++;(u<O||h)&&E--;u++)T=h*Oo+(q[u]||0),S[u]=T/H|0,h=T%H|0;else{for(h=Oo/(H[0]+1)|0,h>1&&(H=t(H,h),q=t(q,h),B=H.length,O=q.length),M=B,w=q.slice(0,B),N=w.length;N<B;)w[N++]=0;U=H.slice(),U.unshift(0),L=H[0],H[1]>=Oo/2&&++L;do h=0,l=e(H,w,B,N),l<0?(_=w[0],B!=N&&(_=_*Oo+(w[1]||0)),h=_/L|0,h>1?(h>=Oo&&(h=Oo-1),f=t(H,h),y=f.length,N=w.length,l=e(f,w,y,N),l==1&&(h--,r(f,B<y?U:H,y))):(h==0&&(l=h=1),f=H.slice()),y=f.length,y<N&&f.unshift(0),r(w,f,N),l==-1&&(N=w.length,l=e(H,w,B,N),l<1&&(h++,r(w,B<N?U:H,N))),N=w.length):l===0&&(h++,w=[0]),S[u++]=h,l&&w[0]?w[N++]=q[M]||0:(w=[q[M]],N=1);while((M++<O||w[0]!==void 0)&&E--)}return S[0]||S.shift(),v.e=c,mi(v,o?a+to(v)+1:a)}})();function dhe(t,e){var r,n,i,a,o,l,c=0,u=0,h=t.constructor,f=h.precision;if(to(t)>16)throw Error(bD+to(t));if(!t.s)return new h(eu);for(Yi=!1,l=f,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(cg(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new h(eu),h.precision=l;;){if(i=mi(i.times(t),l),r=r.times(++c),o=a.plus(Zf(i,r,l)),Fh(o.d).slice(0,l)===Fh(a.d).slice(0,l)){for(;u--;)a=mi(a.times(a),l);return h.precision=f,e==null?(Yi=!0,mi(a,f)):a}a=o}}function to(t){for(var e=t.e*Ui,r=t.d[0];r>=10;r/=10)e++;return e}function bk(t,e,r){if(e>t.LN10.sd())throw Yi=!0,r&&(t.precision=r),Error(Zu+"LN10 precision limit exceeded");return mi(new t(t.LN10),e)}function Gm(t){for(var e="";t--;)e+="0";return e}function cw(t,e){var r,n,i,a,o,l,c,u,h,f=1,y=10,v=t,S=v.d,w=v.constructor,N=w.precision;if(v.s<1)throw Error(Zu+(v.s?"NaN":"-Infinity"));if(v.eq(eu))return new w(0);if(e==null?(Yi=!1,u=N):u=e,v.eq(10))return e==null&&(Yi=!0),bk(w,u);if(u+=y,w.precision=u,r=Fh(S),n=r.charAt(0),a=to(v),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Fh(v.d),n=r.charAt(0),f++;a=to(v),n>1?(v=new w("0."+r),a++):v=new w(n+"."+r.slice(1))}else return c=bk(w,u+2,N).times(a+""),v=cw(new w(n+"."+r.slice(1)),u-y).plus(c),w.precision=N,e==null?(Yi=!0,mi(v,N)):v;for(l=o=v=Zf(v.minus(eu),v.plus(eu),u),h=mi(v.times(v),u),i=3;;){if(o=mi(o.times(h),u),c=l.plus(Zf(o,new w(i),u)),Fh(c.d).slice(0,u)===Fh(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(bk(w,u+2,N).times(a+""))),l=Zf(l,new w(f),u),w.precision=N,e==null?(Yi=!0,mi(l,N)):l;l=c,i+=2}}function EH(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ny(r/Ui),t.d=[],n=(r+1)%Ui,r<0&&(n+=Ui),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ui;n<i;)t.d.push(+e.slice(n,n+=Ui));e=e.slice(n),n=Ui-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Yi&&(t.e>pS||t.e<-pS))throw Error(bD+r)}else t.s=0,t.e=0,t.d=[0];return t}function mi(t,e,r){var n,i,a,o,l,c,u,h,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Ui,i=e,u=f[h=0];else{if(h=Math.ceil((n+1)/Ui),a=f.length,h>=a)return t;for(u=a=f[h],o=1;a>=10;a/=10)o++;n%=Ui,i=n-Ui+o}if(r!==void 0&&(a=cg(10,o-i-1),l=u/a%10|0,c=e<0||f[h+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/cg(10,o-i):0:f[h-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=to(t),f.length=1,e=e-a-1,f[0]=cg(10,(Ui-e%Ui)%Ui),t.e=Ny(-e/Ui)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=h,a=1,h--):(f.length=h+1,a=cg(10,Ui-n),f[h]=i>0?(u/cg(10,o-i)%cg(10,i)|0)*a:0),c)for(;;)if(h==0){(f[0]+=a)==Oo&&(f[0]=1,++t.e);break}else{if(f[h]+=a,f[h]!=Oo)break;f[h--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Yi&&(t.e>pS||t.e<-pS))throw Error(bD+to(t));return t}function hhe(t,e){var r,n,i,a,o,l,c,u,h,f,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Yi?mi(e,v):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(h=o<0,h?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(v/Ui),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){h=c[i]<f[i];break}o=0}for(h&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Oo-1;--c[a],c[i]+=Oo}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Yi?mi(e,v):e):new y(0)}function a0(t,e,r){var n,i=to(t),a=Fh(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Gm(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Gm(-i-1)+a,r&&(n=r-o)>0&&(a+=Gm(n))):i>=o?(a+=Gm(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Gm(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Gm(n))),t.s<0?"-"+a:a}function TH(t,e){if(t.length>e)return t.length=e,!0}function fhe(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Hg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return EH(o,a.toString())}else if(typeof a!="string")throw Error(Hg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,U9e.test(a))EH(o,a);else throw Error(Hg+a)}if(i.prototype=Er,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fhe,i.config=i.set=$9e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function $9e(t){if(!t||typeof t!="object")throw Error(Zu+"Object expected");var e,r,n,i=["precision",1,wy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ny(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Hg+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hg+r+": "+n);return this}var wD=fhe(B9e);eu=new wD(1);const si=wD;function z9e(t){return W9e(t)||H9e(t)||V9e(t)||q9e()}function q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9e(t,e){if(t){if(typeof t=="string")return rO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(t,e)}}function H9e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function W9e(t){if(Array.isArray(t))return rO(t)}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G9e=function(e){return e},mhe={},phe=function(e){return e===mhe},kH=function(e){return function r(){return arguments.length===0||arguments.length===1&&phe(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Y9e=function t(e,r){return e===1?r:kH(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==mhe}).length;return o>=e?r.apply(void 0,i):t(e-o,kH(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=i.map(function(f){return phe(f)?c.shift():f});return r.apply(void 0,z9e(h).concat(c))}))})},bC=function(e){return Y9e(e.length,e)},nO=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},K9e=bC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),X9e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return G9e;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},sO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ghe=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Z9e(t){var e;return t===0?e=1:e=Math.floor(new si(t).abs().log(10).toNumber())+1,e}function Q9e(t,e,r){for(var n=new si(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var J9e=bC(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),eBe=bC(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),tBe=bC(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const wC={rangeStep:Q9e,getDigitCount:Z9e,interpolateNumber:J9e,uninterpolateNumber:eBe,uninterpolateTruncation:tBe};function iO(t){return sBe(t)||nBe(t)||xhe(t)||rBe()}function rBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sBe(t){if(Array.isArray(t))return aO(t)}function uw(t,e){return oBe(t)||aBe(t,e)||xhe(t,e)||iBe()}function iBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aBe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function oBe(t){if(Array.isArray(t))return t}function yhe(t){var e=uw(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function vhe(t,e,r){if(t.lte(0))return new si(0);var n=wC.getDigitCount(t.toNumber()),i=new si(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new si(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new si(Math.ceil(c))}function lBe(t,e,r){var n=1,i=new si(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new si(10).pow(wC.getDigitCount(t)-1),i=new si(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new si(Math.floor(t)))}else t===0?i=new si(Math.floor((e-1)/2)):r||(i=new si(Math.floor(t)));var o=Math.floor((e-1)/2),l=X9e(K9e(function(c){return i.add(new si(c-o).mul(n)).toNumber()}),nO);return l(0,e)}function bhe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new si(0),tickMin:new si(0),tickMax:new si(0)};var a=vhe(new si(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new si(0):(o=new si(t).add(e).div(2),o=o.sub(new si(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new si(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?bhe(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new si(l).mul(a)),tickMax:o.add(new si(c).mul(a))})}function cBe(t){var e=uw(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=yhe([r,n]),c=uw(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(iO(nO(0,i-1).map(function(){return 1/0}))):[].concat(iO(nO(0,i-1).map(function(){return-1/0})),[h]);return r>n?sO(f):f}if(u===h)return lBe(u,i,a);var y=bhe(u,h,o,a),v=y.step,S=y.tickMin,w=y.tickMax,N=wC.rangeStep(S,w.add(new si(.1).mul(v)),v);return r>n?sO(N):N}function uBe(t,e){var r=uw(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yhe([n,i]),l=uw(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var h=Math.max(e,2),f=vhe(new si(u).sub(c).div(h-1),a,0),y=[].concat(iO(wC.rangeStep(new si(c),new si(u).sub(new si(.99).mul(f)),f)),[u]);return n>i?sO(y):y}var dBe=ghe(cBe),hBe=ghe(uBe),fBe="Invariant failed";function o0(t,e){throw new Error(fBe)}var mBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function U1(t){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U1(t)}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function pBe(t,e){return vBe(t)||yBe(t,e)||xBe(t,e)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xBe(t,e){if(t){if(typeof t=="string")return PH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PH(t,e)}}function PH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vBe(t){if(Array.isArray(t))return t}function bBe(t,e){if(t==null)return{};var r=wBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jhe(n.key),n)}}function SBe(t,e,r){return e&&jBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CBe(t,e,r){return e=xS(e),ABe(t,whe()?Reflect.construct(e,r||[],xS(t).constructor):e.apply(t,r))}function ABe(t,e){if(e&&(U1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Be(t)}function _Be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function whe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(whe=function(){return!!t})()}function xS(t){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xS(t)}function EBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oO(t,e)}function Nhe(t,e,r){return e=jhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jhe(t){var e=TBe(t,"string");return U1(e)=="symbol"?e:e+""}function TBe(t,e){if(U1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z2=(function(t){function e(){return NBe(this,e),CBe(this,e,arguments)}return EBe(e,t),SBe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,h=n.xAxis,f=n.yAxis,y=bBe(n,mBe),v=ds(y,!1);this.props.direction==="x"&&h.type!=="number"&&o0();var S=c.map(function(w){var N=u(w,l),_=N.x,E=N.y,T=N.value,M=N.errorVal;if(!M)return null;var O=[],L,B;if(Array.isArray(M)){var U=pBe(M,2);L=U[0],B=U[1]}else L=B=M;if(a==="vertical"){var $=h.scale,K=E+i,q=K+o,H=K-o,Q=$(T-L),Z=$(T+B);O.push({x1:Z,y1:q,x2:Z,y2:H}),O.push({x1:Q,y1:K,x2:Z,y2:K}),O.push({x1:Q,y1:q,x2:Q,y2:H})}else if(a==="horizontal"){var J=f.scale,ye=_+i,ge=ye-o,oe=ye+o,re=J(T-L),me=J(T+B);O.push({x1:ge,y1:me,x2:oe,y2:me}),O.push({x1:ye,y1:re,x2:ye,y2:me}),O.push({x1:ge,y1:re,x2:oe,y2:re})}return Le.createElement(La,gS({className:"recharts-errorBar",key:"bar-".concat(O.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},v),O.map(function(ne){return Le.createElement("line",gS({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return Le.createElement(La,{className:"recharts-errorBars"},S)}}])})(Le.Component);Nhe(z2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Nhe(z2,"displayName","ErrorBar");function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function IH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IH(Object(r),!0).forEach(function(n){kBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kBe(t,e,r){return e=PBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PBe(t){var e=IBe(t,"string");return dw(e)=="symbol"?e:e+""}function IBe(t,e){if(dw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var She=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Zc(r,Px);if(!o)return null;var l=Px.defaultProps,c=l!==void 0?ng(ng({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(h,f){var y=f.item,v=f.props,S=v.sectors||v.data||[];return h.concat(S.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(n||[]).map(function(h){var f=h.item,y=f.type.defaultProps,v=y!==void 0?ng(ng({},y),f.props):{},S=v.dataKey,w=v.name,N=v.legendType,_=v.hide;return{inactive:_,dataKey:S,type:c.iconType||N||"square",color:ND(f),value:w||S,payload:v}}),ng(ng(ng({},c),Px.getWithHeight(o,i)),{},{payload:u,item:o})};function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function OH(t){return DBe(t)||RBe(t)||MBe(t)||OBe()}function OBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MBe(t,e){if(t){if(typeof t=="string")return lO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(t,e)}}function RBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DBe(t){if(Array.isArray(t))return lO(t)}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ox(t,e,r){return e=LBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LBe(t){var e=FBe(t,"string");return hw(e)=="symbol"?e:e+""}function FBe(t,e){if(hw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uu(t,e,r){return is(t)||is(e)?r:fo(e)?Ku(t,e,r):Wn(e)?e(t):r}function ub(t,e,r,n){var i=D9e(t,function(l){return uu(l,e)});if(r==="number"){var a=i.filter(function(l){return cr(l)||parseFloat(l)});return a.length?[yC(a),xC(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!is(l)}):i;return o.map(function(l){return fo(l)||l instanceof Date?l:""})}var BBe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var h=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,y=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(qd(f-h)!==qd(y-f)){var S=[];if(qd(y-f)===qd(c[1]-c[0])){v=y;var w=f+c[1]-c[0];S[0]=Math.min(w,(w+h)/2),S[1]=Math.max(w,(w+h)/2)}else{v=h;var N=y+c[1]-c[0];S[0]=Math.min(f,(N+f)/2),S[1]=Math.max(f,(N+f)/2)}var _=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>_[0]&&e<=_[1]||e>=S[0]&&e<=S[1]){o=i[u].index;break}}else{var E=Math.min(h,y),T=Math.max(h,y);if(e>(E+f)/2&&e<=(T+f)/2){o=i[u].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){o=n[M].index;break}return o},ND=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wa(wa({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},UBe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var h=a[l[c]].stackGroups,f=Object.keys(h),y=0,v=f.length;y<v;y++){var S=h[f[y]],w=S.items,N=S.cateAxisId,_=w.filter(function(B){return Kf(B.type).indexOf("Bar")>=0});if(_&&_.length){var E=_[0].type.defaultProps,T=E!==void 0?wa(wa({},E),_[0].props):_[0].props,M=T.barSize,O=T[N];o[O]||(o[O]=[]);var L=is(M)?r:M;o[O].push({item:_[0],stackList:_.slice(1),barSize:is(L)?void 0:i0(L,n,0)})}}return o},$Be=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=i0(r,i,0,!0),h,f=[];if(o[0].barSize===+o[0].barSize){var y=!1,v=i/c,S=o.reduce(function(M,O){return M+O.barSize||0},0);S+=(c-1)*u,S>=i&&(S-=(c-1)*u,u=0),S>=i&&v>0&&(y=!0,v*=.9,S=c*v);var w=(i-S)/2>>0,N={offset:w-u,size:0};h=o.reduce(function(M,O){var L={item:O.item,position:{offset:N.offset+N.size+u,size:y?v:O.barSize}},B=[].concat(OH(M),[L]);return N=B[B.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){B.push({item:U,position:N})}),B},f)}else{var _=i0(n,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var E=(i-2*_-(c-1)*u)/c;E>1&&(E>>=0);var T=l===+l?Math.min(E,l):E;h=o.reduce(function(M,O,L){var B=[].concat(OH(M),[{item:O.item,position:{offset:_+(E+u)*L+(E-T)/2,size:T}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){B.push({item:U,position:B[B.length-1].position})}),B},f)}return h},zBe=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=She({children:a,legendWidth:c});if(u){var h=i||{},f=h.width,y=h.height,v=u.align,S=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&v!=="center"&&cr(e[v]))return wa(wa({},e),{},Ox({},v,e[v]+(f||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&S!=="middle"&&cr(e[S]))return wa(wa({},e),{},Ox({},S,e[S]+(y||0)))}return e},qBe=function(e,r,n){return is(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Che=function(e,r,n,i,a){var o=r.props.children,l=Xu(o,z2).filter(function(u){return qBe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var f=uu(h,n);if(is(f))return u;var y=Array.isArray(f)?[yC(f),xC(f)]:[f,f],v=c.reduce(function(S,w){var N=uu(h,w,0),_=y[0]-Math.abs(Array.isArray(N)?N[0]:N),E=y[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(_,S[0]),Math.max(E,S[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},VBe=function(e,r,n,i,a){var o=r.map(function(l){return Che(e,l,n,a,i)}).filter(function(l){return!is(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Ahe=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Che(e,c,u,i)||ub(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var h=0,f=u.length;h<f;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},_he=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Ehe=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},$f=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qd(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(f){var y=a?a.indexOf(f):f;return{coordinate:i(y)+u,value:f,offset:u}});return h.filter(function(f){return!R2(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,y){return{coordinate:i(f)+u,value:f,index:y,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,y){return{coordinate:i(f)+u,value:a?a[f]:f,index:y,offset:u}})},wk=new WeakMap,uj=function(e,r){if(typeof r!="function")return e;wk.has(e)||wk.set(e,new WeakMap);var n=wk.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},HBe=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:sw(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dS(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cb(),realScaleType:"point"}:a==="category"?{scale:sw(),realScaleType:"band"}:{scale:dS(),realScaleType:"linear"};if(M2(i)){var c="scale".concat(sC(i));return{scale:(vH[c]||cb)(),realScaleType:vH[c]?c:"point"}}return Wn(i)?{scale:i}:{scale:cb(),realScaleType:"point"}},RH=1e-4,WBe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-RH,o=Math.max(i[0],i[1])+RH,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},GBe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},YBe=function(e,r){if(!r||r.length!==2||!cr(r[0])||!cr(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!cr(e[0])||e[0]<n)&&(a[0]=n),(!cr(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},KBe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=R2(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},XBe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=R2(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},ZBe={sign:KBe,expand:BMe,none:I1,silhouette:UMe,wiggle:$Me,positive:XBe},QBe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=ZBe[n],o=FMe().keys(i).value(function(l,c){return+uu(l,c,0)}).order(FI).offset(a);return o(e)},JBe=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,y){var v,S=(v=y.type)!==null&&v!==void 0&&v.defaultProps?wa(wa({},y.type.defaultProps),y.props):y.props,w=S.stackId,N=S.hide;if(N)return f;var _=S[n],E=f[_]||{hasStack:!1,stackGroups:{}};if(fo(w)){var T=E.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(y),E.hasStack=!0,E.stackGroups[w]=T}else E.stackGroups[D2("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return wa(wa({},f),{},Ox({},_,E))},c),h={};return Object.keys(u).reduce(function(f,y){var v=u[y];if(v.hasStack){var S={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,N){var _=v.stackGroups[N];return wa(wa({},w),{},Ox({},N,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:QBe(e,_.items,a)}))},S)}return wa(wa({},f),{},Ox({},y,v))},h)},eUe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=dBe(u,a,l);return e.domain([yC(h),xC(h)]),{niceTicks:h}}if(a&&i==="number"){var f=e.domain(),y=hBe(f,a,l);return{niceTicks:y}}return null};function DH(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!is(i[e.dataKey])){var l=H5(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=uu(i,is(o)?e.dataKey:o);return is(c)?null:e.scale(c)}var LH=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=uu(o,r.dataKey,r.domain[l]);return is(c)?null:r.scale(c)-a/2+i},tUe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},rUe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wa(wa({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(fo(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},nUe=function(e){return e.reduce(function(r,n){return[yC(n.concat([r[0]]).filter(cr)),xC(n.concat([r[1]]).filter(cr))]},[1/0,-1/0])},The=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,h){var f=nUe(h.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},FH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cO=function(e,r,n){if(Wn(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(cr(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(FH.test(e[0])){var a=+FH.exec(e[0])[1];i[0]=r[0]-a}else Wn(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(cr(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(BH.test(e[1])){var o=+BH.exec(e[1])[1];i[1]=r[1]+o}else Wn(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},yS=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=XR(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],h=a[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},UH=function(e,r,n){return!e||!e.length||vC(e,Ku(n,"type.defaultProps.domain"))?r:e},khe=function(e,r){var n=e.type.defaultProps?wa(wa({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,h=n.hide;return wa(wa({},ds(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:ND(e),value:uu(r,i),type:c,payload:r,chartType:u,hide:h})};function fw(t){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(t)}function $H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(r),!0).forEach(function(n){sUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sUe(t,e,r){return e=iUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iUe(t){var e=aUe(t,"string");return fw(e)=="symbol"?e:e+""}function aUe(t,e){if(fw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vS=Math.PI/180,oUe=function(e){return e*180/Math.PI},ol=function(e,r,n,i){return{x:e+Math.cos(-vS*i)*n,y:r+Math.sin(-vS*i)*n}},lUe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},cUe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=lUe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:oUe(u),angleInRadian:u}},uUe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},dUe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},qH=function(e,r){var n=e.x,i=e.y,a=cUe({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var h=uUe(r),f=h.startAngle,y=h.endAngle,v=l,S;if(f<=y){for(;v>y;)v-=360;for(;v<f;)v+=360;S=v>=f&&v<=y}else{for(;v>f;)v-=360;for(;v<y;)v+=360;S=v>=y&&v<=f}return S?zH(zH({},r),{},{radius:o,angle:dUe(v,r)}):null};function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var hUe=["offset"];function fUe(t){return xUe(t)||gUe(t)||pUe(t)||mUe()}function mUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pUe(t,e){if(t){if(typeof t=="string")return uO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uO(t,e)}}function gUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xUe(t){if(Array.isArray(t))return uO(t)}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yUe(t,e){if(t==null)return{};var r=vUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VH(Object(r),!0).forEach(function(n){bUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bUe(t,e,r){return e=wUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wUe(t){var e=NUe(t,"string");return mw(e)=="symbol"?e:e+""}function NUe(t,e){if(mw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}var jUe=function(e){var r=e.value,n=e.formatter,i=is(e.children)?r:e.children;return Wn(n)?n(i):i},SUe=function(e,r){var n=qd(r-e),i=Math.min(Math.abs(r-e),360);return n*i},CUe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,h=c.cy,f=c.innerRadius,y=c.outerRadius,v=c.startAngle,S=c.endAngle,w=c.clockWise,N=(f+y)/2,_=SUe(v,S),E=_>=0?1:-1,T,M;i==="insideStart"?(T=v+E*o,M=w):i==="insideEnd"?(T=S-E*o,M=!w):i==="end"&&(T=S+E*o,M=w),M=_<=0?M:!M;var O=ol(u,h,N,T),L=ol(u,h,N,T+(M?1:-1)*359),B="M".concat(O.x,",").concat(O.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(M?0:1,`,
    `).concat(L.x,",").concat(L.y),U=is(e.id)?D2("recharts-radial-line-"):e.id;return Le.createElement("text",pw({},n,{dominantBaseline:"central",className:gs("recharts-radial-bar-label",l)}),Le.createElement("defs",null,Le.createElement("path",{id:U,d:B})),Le.createElement("textPath",{xlinkHref:"#".concat(U)},r))},AUe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,h=a.startAngle,f=a.endAngle,y=(h+f)/2;if(i==="outside"){var v=ol(o,l,u+n,y),S=v.x,w=v.y;return{x:S,y:w,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var N=(c+u)/2,_=ol(o,l,N,y),E=_.x,T=_.y;return{x:E,y:T,textAnchor:"middle",verticalAnchor:"middle"}},_Ue=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,h=o.height,f=h>=0?1:-1,y=f*i,v=f>0?"end":"start",S=f>0?"start":"end",w=u>=0?1:-1,N=w*i,_=w>0?"end":"start",E=w>0?"start":"end";if(a==="top"){var T={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:v};return lo(lo({},T),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var M={x:l+u/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return lo(lo({},M),n?{height:Math.max(n.y+n.height-(c+h),0),width:u}:{})}if(a==="left"){var O={x:l-N,y:c+h/2,textAnchor:_,verticalAnchor:"middle"};return lo(lo({},O),n?{width:Math.max(O.x-n.x,0),height:h}:{})}if(a==="right"){var L={x:l+u+N,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return lo(lo({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:h}:{})}var B=n?{width:u,height:h}:{};return a==="insideLeft"?lo({x:l+N,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},B):a==="insideRight"?lo({x:l+u-N,y:c+h/2,textAnchor:_,verticalAnchor:"middle"},B):a==="insideTop"?lo({x:l+u/2,y:c+y,textAnchor:"middle",verticalAnchor:S},B):a==="insideBottom"?lo({x:l+u/2,y:c+h-y,textAnchor:"middle",verticalAnchor:v},B):a==="insideTopLeft"?lo({x:l+N,y:c+y,textAnchor:E,verticalAnchor:S},B):a==="insideTopRight"?lo({x:l+u-N,y:c+y,textAnchor:_,verticalAnchor:S},B):a==="insideBottomLeft"?lo({x:l+N,y:c+h-y,textAnchor:E,verticalAnchor:v},B):a==="insideBottomRight"?lo({x:l+u-N,y:c+h-y,textAnchor:_,verticalAnchor:v},B):xy(a)&&(cr(a.x)||vg(a.x))&&(cr(a.y)||vg(a.y))?lo({x:l+i0(a.x,u),y:c+i0(a.y,h),textAnchor:"end",verticalAnchor:"end"},B):lo({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},EUe=function(e){return"cx"in e&&cr(e.cx)};function Pl(t){var e=t.offset,r=e===void 0?5:e,n=yUe(t,hUe),i=lo({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,h=i.className,f=h===void 0?"":h,y=i.textBreakAll;if(!a||is(l)&&is(c)&&!P.isValidElement(u)&&!Wn(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var v;if(Wn(u)){if(v=P.createElement(u,i),P.isValidElement(v))return v}else v=jUe(i);var S=EUe(a),w=ds(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return CUe(i,v,w);var N=S?AUe(i):_Ue(i);return Le.createElement(sS,pw({className:gs("recharts-label",f)},w,N,{breakAll:y}),v)}Pl.displayName="Label";var Phe=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,h=e.outerRadius,f=e.x,y=e.y,v=e.top,S=e.left,w=e.width,N=e.height,_=e.clockWise,E=e.labelViewBox;if(E)return E;if(cr(w)&&cr(N)){if(cr(f)&&cr(y))return{x:f,y,width:w,height:N};if(cr(v)&&cr(S))return{x:v,y:S,width:w,height:N}}return cr(f)&&cr(y)?{x:f,y,width:0,height:0}:cr(r)&&cr(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},TUe=function(e,r){return e?e===!0?Le.createElement(Pl,{key:"label-implicit",viewBox:r}):fo(e)?Le.createElement(Pl,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Pl?P.cloneElement(e,{key:"label-implicit",viewBox:r}):Le.createElement(Pl,{key:"label-implicit",content:e,viewBox:r}):Wn(e)?Le.createElement(Pl,{key:"label-implicit",content:e,viewBox:r}):xy(e)?Le.createElement(Pl,pw({viewBox:r},e,{key:"label-implicit"})):null:null},kUe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Phe(e),o=Xu(i,Pl).map(function(c,u){return P.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=TUe(e.label,r||a);return[l].concat(fUe(o))};Pl.parseViewBox=Phe;Pl.renderCallByParent=kUe;var Nk,HH;function PUe(){if(HH)return Nk;HH=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Nk=t,Nk}var IUe=PUe();const OUe=as(IUe);function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}var MUe=["valueAccessor"],RUe=["data","dataKey","clockWise","id","textBreakAll"];function DUe(t){return UUe(t)||BUe(t)||FUe(t)||LUe()}function LUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FUe(t,e){if(t){if(typeof t=="string")return dO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(t,e)}}function BUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UUe(t){if(Array.isArray(t))return dO(t)}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){$Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ue(t,e,r){return e=zUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zUe(t){var e=qUe(t,"string");return gw(e)=="symbol"?e:e+""}function qUe(t,e){if(gw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YH(t,e){if(t==null)return{};var r=VUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HUe=function(e){return Array.isArray(e.value)?OUe(e.value):e.value};function gp(t){var e=t.valueAccessor,r=e===void 0?HUe:e,n=YH(t,MUe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=YH(n,RUe);return!i||!i.length?null:Le.createElement(La,{className:"recharts-label-list"},i.map(function(h,f){var y=is(a)?r(h,f):uu(h&&h.payload,a),v=is(l)?{}:{id:"".concat(l,"-").concat(f)};return Le.createElement(Pl,bS({},ds(h,!0),u,v,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Pl.parseViewBox(is(o)?h:GH(GH({},h),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}gp.displayName="LabelList";function WUe(t,e){return t?t===!0?Le.createElement(gp,{key:"labelList-implicit",data:e}):Le.isValidElement(t)||Wn(t)?Le.createElement(gp,{key:"labelList-implicit",data:e,content:t}):xy(t)?Le.createElement(gp,bS({data:e},t,{key:"labelList-implicit"})):null:null}function GUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Xu(n,gp).map(function(o,l){return P.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=WUe(t.label,e);return[a].concat(DUe(i))}gp.renderCallByParent=GUe;function xw(t){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(t)}function hO(){return hO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hO.apply(this,arguments)}function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){YUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YUe(t,e,r){return e=KUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KUe(t){var e=XUe(t,"string");return xw(e)=="symbol"?e:e+""}function XUe(t,e){if(xw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZUe=function(e,r){var n=qd(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},dj=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,h=c*(l?1:-1)+i,f=Math.asin(c/h)/vS,y=u?a:a+o*f,v=ol(r,n,h,y),S=ol(r,n,i,y),w=u?a-o*f:a,N=ol(r,n,h*Math.cos(f*vS),w);return{center:v,circleTangency:S,lineTangency:N,theta:f}},Ihe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=ZUe(o,l),u=o+c,h=ol(r,n,a,o),f=ol(r,n,a,u),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=ol(r,n,i,o),S=ol(r,n,i,u);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},QUe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,f=qd(h-u),y=dj({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,S=y.lineTangency,w=y.theta,N=dj({cx:r,cy:n,radius:a,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,E=N.lineTangency,T=N.theta,M=c?Math.abs(u-h):Math.abs(u-h)-w-T;if(M<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Ihe({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:h});var O="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var L=dj({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=L.circleTangency,U=L.lineTangency,$=L.theta,K=dj({cx:r,cy:n,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),q=K.circleTangency,H=K.lineTangency,Q=K.theta,Z=c?Math.abs(u-h):Math.abs(u-h)-$-Q;if(Z<0&&o===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(f>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(U.x,",").concat(U.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},JUe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ohe=function(e){var r=XH(XH({},JUe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,h=r.startAngle,f=r.endAngle,y=r.className;if(o<a||h===f)return null;var v=gs("recharts-sector",y),S=o-a,w=i0(l,S,0,!0),N;return w>0&&Math.abs(h-f)<360?N=QUe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):N=Ihe({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:f}),Le.createElement("path",hO({},ds(r,!0),{className:v,d:N,role:"img"}))};function yw(t){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(t)}function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fO.apply(this,arguments)}function ZH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZH(Object(r),!0).forEach(function(n){e$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e$e(t,e,r){return e=t$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$e(t){var e=r$e(t,"string");return yw(e)=="symbol"?e:e+""}function r$e(t,e){if(yw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JH={curveBasisClosed:_Me,curveBasisOpen:EMe,curveBasis:AMe,curveBumpX:hMe,curveBumpY:fMe,curveLinearClosed:TMe,curveLinear:aC,curveMonotoneX:kMe,curveMonotoneY:PMe,curveNatural:IMe,curveStep:OMe,curveStepAfter:RMe,curveStepBefore:MMe},hj=function(e){return e.x===+e.x&&e.y===+e.y},gv=function(e){return e.x},xv=function(e){return e.y},n$e=function(e,r){if(Wn(e))return e;var n="curve".concat(sC(e));return(n==="curveMonotone"||n==="curveBump")&&r?JH["".concat(n).concat(r==="vertical"?"Y":"X")]:JH[n]||aC},s$e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,h=n$e(n,l),f=u?a.filter(function(w){return hj(w)}):a,y;if(Array.isArray(o)){var v=u?o.filter(function(w){return hj(w)}):o,S=f.map(function(w,N){return QH(QH({},w),{},{base:v[N]})});return l==="vertical"?y=nj().y(xv).x1(gv).x0(function(w){return w.base.x}):y=nj().x(gv).y1(xv).y0(function(w){return w.base.y}),y.defined(hj).curve(h),y(S)}return l==="vertical"&&cr(o)?y=nj().y(xv).x1(gv).x0(o):cr(o)?y=nj().x(gv).y1(xv).y0(o):y=Bue().x(gv).y(xv),y.defined(hj).curve(h),y(f)},mO=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?s$e(e):i;return Le.createElement("path",fO({},ds(e,!1),W5(e),{className:gs("recharts-curve",r),d:o,ref:a}))},i$e=Object.getOwnPropertyNames,a$e=Object.getOwnPropertySymbols,o$e=Object.prototype.hasOwnProperty;function eW(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function fj(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function tW(t){return i$e(t).concat(a$e(t))}var l$e=Object.hasOwn||(function(t,e){return o$e.call(t,e)});function w0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var c$e="__v",u$e="__o",d$e="_owner",rW=Object.getOwnPropertyDescriptor,nW=Object.keys;function h$e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function f$e(t,e){return w0(t.getTime(),e.getTime())}function m$e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function p$e(t,e){return t===e}function sW(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=e.entries(),h=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var y=o.value,v=l.value;if(r.equals(y[0],v[0],c,f,t,e,r)&&r.equals(y[1],v[1],y[0],v[0],t,e,r)){h=i[f]=!0;break}f++}if(!h)return!1;c++}return!0}var g$e=w0;function x$e(t,e,r){var n=nW(t),i=n.length;if(nW(e).length!==i)return!1;for(;i-- >0;)if(!Mhe(t,e,r,n[i]))return!1;return!0}function yv(t,e,r){var n=tW(t),i=n.length;if(tW(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!Mhe(t,e,r,a)||(o=rW(t,a),l=rW(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function y$e(t,e){return w0(t.valueOf(),e.valueOf())}function v$e(t,e){return t.source===e.source&&t.flags===e.flags}function iW(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),u=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function b$e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function w$e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Mhe(t,e,r,n){return(n===d$e||n===u$e||n===c$e)&&(t.$$typeof||e.$$typeof)?!0:l$e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var N$e="[object Arguments]",j$e="[object Boolean]",S$e="[object Date]",C$e="[object Error]",A$e="[object Map]",_$e="[object Number]",E$e="[object Object]",T$e="[object RegExp]",k$e="[object Set]",P$e="[object String]",I$e="[object URL]",O$e=Array.isArray,aW=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oW=Object.assign,M$e=Object.prototype.toString.call.bind(Object.prototype.toString);function R$e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,h=t.areSetsEqual,f=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,w,N){if(S===w)return!0;if(S==null||w==null)return!1;var _=typeof S;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?o(S,w,N):_==="function"?i(S,w,N):!1;var E=S.constructor;if(E!==w.constructor)return!1;if(E===Object)return l(S,w,N);if(O$e(S))return e(S,w,N);if(aW!=null&&aW(S))return f(S,w,N);if(E===Date)return r(S,w,N);if(E===RegExp)return u(S,w,N);if(E===Map)return a(S,w,N);if(E===Set)return h(S,w,N);var T=M$e(S);return T===S$e?r(S,w,N):T===T$e?u(S,w,N):T===A$e?a(S,w,N):T===k$e?h(S,w,N):T===E$e?typeof S.then!="function"&&typeof w.then!="function"&&l(S,w,N):T===I$e?y(S,w,N):T===C$e?n(S,w,N):T===N$e?l(S,w,N):T===j$e||T===_$e||T===P$e?c(S,w,N):!1}}function D$e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?yv:h$e,areDatesEqual:f$e,areErrorsEqual:m$e,areFunctionsEqual:p$e,areMapsEqual:n?eW(sW,yv):sW,areNumbersEqual:g$e,areObjectsEqual:n?yv:x$e,arePrimitiveWrappersEqual:y$e,areRegExpsEqual:v$e,areSetsEqual:n?eW(iW,yv):iW,areTypedArraysEqual:n?yv:b$e,areUrlsEqual:w$e};if(r&&(i=oW({},i,r(i))),e){var a=fj(i.areArraysEqual),o=fj(i.areMapsEqual),l=fj(i.areObjectsEqual),c=fj(i.areSetsEqual);i=oW({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function L$e(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function F$e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,u){var h=n(),f=h.cache,y=f===void 0?e?new WeakMap:void 0:f,v=h.meta;return r(c,u,{cache:y,equals:i,meta:v,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var B$e=Lp();Lp({strict:!0});Lp({circular:!0});Lp({circular:!0,strict:!0});Lp({createInternalComparator:function(){return w0}});Lp({strict:!0,createInternalComparator:function(){return w0}});Lp({circular:!0,createInternalComparator:function(){return w0}});Lp({circular:!0,createInternalComparator:function(){return w0},strict:!0});function Lp(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=D$e(t),c=R$e(l),u=n?n(c):L$e(c);return F$e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function U$e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):U$e(i)};requestAnimationFrame(n)}function pO(t){"@babel/helpers - typeof";return pO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pO(t)}function $$e(t){return H$e(t)||V$e(t)||q$e(t)||z$e()}function z$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$e(t,e){if(t){if(typeof t=="string")return cW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cW(t,e)}}function cW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H$e(t){if(Array.isArray(t))return t}function W$e(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=$$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){lW(i.bind(null,u),c);return}i(c),lW(i.bind(null,u));return}pO(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function uW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(r),!0).forEach(function(n){Rhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rhe(t,e,r){return e=G$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G$e(t){var e=Y$e(t,"string");return vw(e)==="symbol"?e:String(e)}function Y$e(t,e){if(vw(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K$e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},X$e=function(e){return e},Z$e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},db=function(e,r){return Object.keys(r).reduce(function(n,i){return dW(dW({},n),{},Rhe({},i,e(i,r[i])))},{})},hW=function(e,r,n){return e.map(function(i){return"".concat(Z$e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Q$e(t,e){return tze(t)||eze(t,e)||Dhe(t,e)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tze(t){if(Array.isArray(t))return t}function rze(t){return ize(t)||sze(t)||Dhe(t)||nze()}function nze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function sze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ize(t){if(Array.isArray(t))return gO(t)}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wS=1e-4,Lhe=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Fhe=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},fW=function(e,r){return function(n){var i=Lhe(e,r);return Fhe(i,n)}},aze=function(e,r){return function(n){var i=Lhe(e,r),a=[].concat(rze(i.map(function(o,l){return o*l}).slice(1)),[0]);return Fhe(a,n)}},mW=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),h=Q$e(u,4);i=h[0],a=h[1],o=h[2],l=h[3]}}}var f=fW(i,o),y=fW(a,l),v=aze(i,o),S=function(_){return _>1?1:_<0?0:_},w=function(_){for(var E=_>1?1:_,T=E,M=0;M<8;++M){var O=f(T)-E,L=v(T);if(Math.abs(O-E)<wS||L<wS)return y(T);T=S(T-O/L)}return y(T)};return w.isStepper=!1,w},oze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(h,f,y){var v=-(h-f)*n,S=y*a,w=y+(v-S)*l/1e3,N=y*l/1e3+h;return Math.abs(N-f)<wS&&Math.abs(w)<wS?[f,0]:[N,w]};return c.isStepper=!0,c.dt=l,c},lze=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mW(i);case"spring":return oze();default:if(i.split("(")[0]==="cubic-bezier")return mW(i)}return typeof i=="function"?i:null};function bw(t){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(t)}function pW(t){return dze(t)||uze(t)||Bhe(t)||cze()}function cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dze(t){if(Array.isArray(t))return yO(t)}function gW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(r),!0).forEach(function(n){xO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xO(t,e,r){return e=hze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hze(t){var e=fze(t,"string");return bw(e)==="symbol"?e:String(e)}function fze(t,e){if(bw(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bw(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mze(t,e){return xze(t)||gze(t,e)||Bhe(t,e)||pze()}function pze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return yO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(t,e)}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function xze(t){if(Array.isArray(t))return t}var NS=function(e,r,n){return e+(r-e)*n},vO=function(e){var r=e.from,n=e.to;return r!==n},yze=function t(e,r,n){var i=db(function(a,o){if(vO(o)){var l=e(o.from,o.to,o.velocity),c=mze(l,2),u=c[0],h=c[1];return il(il({},o),{},{from:u,velocity:h})}return o},r);return n<1?db(function(a,o){return vO(o)?il(il({},o),{},{velocity:NS(o.velocity,i[a].velocity,n),from:NS(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const vze=(function(t,e,r,n,i){var a=K$e(t,e),o=a.reduce(function(N,_){return il(il({},N),{},xO({},_,[t[_],e[_]]))},{}),l=a.reduce(function(N,_){return il(il({},N),{},xO({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,h,f=function(){return null},y=function(){return db(function(_,E){return E.from},l)},v=function(){return!Object.values(l).filter(vO).length},S=function(_){u||(u=_);var E=_-u,T=E/r.dt;l=yze(r,l,T),i(il(il(il({},t),e),y())),u=_,v()||(c=requestAnimationFrame(f))},w=function(_){h||(h=_);var E=(_-h)/n,T=db(function(O,L){return NS.apply(void 0,pW(L).concat([r(E)]))},o);if(i(il(il(il({},t),e),T)),E<1)c=requestAnimationFrame(f);else{var M=db(function(O,L){return NS.apply(void 0,pW(L).concat([r(1)]))},o);i(il(il(il({},t),e),M))}};return f=r.isStepper?S:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function $1(t){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$1(t)}var bze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wze(t,e){if(t==null)return{};var r=Nze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jk(t){return Aze(t)||Cze(t)||Sze(t)||jze()}function jze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sze(t,e){if(t){if(typeof t=="string")return bO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(t,e)}}function Cze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aze(t){if(Array.isArray(t))return bO(t)}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xW(Object(r),!0).forEach(function(n){qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qv(t,e,r){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uhe(n.key),n)}}function Tze(t,e,r){return e&&Eze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uhe(t){var e=kze(t,"string");return $1(e)==="symbol"?e:String(e)}function kze(t,e){if($1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wO(t,e)}function Ize(t){var e=Oze();return function(){var n=jS(t),i;if(e){var a=jS(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return NO(this,i)}}function NO(t,e){if(e&&($1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jO(t)}function jO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jS(t){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jS(t)}var cm=(function(t){Pze(r,t);var e=Ize(r);function r(n,i){var a;_ze(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,h=o.to,f=o.steps,y=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(jO(a)),a.changeStyle=a.changeStyle.bind(jO(a)),!l||v<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),NO(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof y=="function")return a.state={style:u},NO(a);a.state={style:c?qv({},c,u):u}}else a.state={style:{}};return a}return Tze(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,h=a.to,f=a.from,y=this.state.style;if(l){if(!o){var v={style:c?qv({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(v);return}if(!(B$e(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||u?f:i.to;if(this.state&&y){var N={style:c?qv({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(N)}this.runAnimation(xd(xd({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,h=i.begin,f=i.onAnimationEnd,y=i.onAnimationStart,v=vze(o,l,lze(u),c,this.changeStyle),S=function(){a.stopJSAnimation=v()};this.manager.start([y,h,S,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],h=u.style,f=u.duration,y=f===void 0?0:f,v=function(w,N,_){if(_===0)return w;var E=N.duration,T=N.easing,M=T===void 0?"ease":T,O=N.style,L=N.properties,B=N.onAnimationEnd,U=_>0?o[_-1]:N,$=L||Object.keys(O);if(typeof M=="function"||M==="spring")return[].concat(jk(w),[a.runJSAnimation.bind(a,{from:U.style,to:O,duration:E,easing:M}),E]);var K=hW($,E,M),q=xd(xd(xd({},U.style),O),{},{transition:K});return[].concat(jk(w),[q,E,B]).filter(X$e)};return this.manager.start([c].concat(jk(o.reduce(v,[h,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=W$e());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,y=i.steps,v=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=l?qv({},l,c):c,N=hW(Object.keys(w),o,u);S.start([h,a,xd(xd({},w),{},{transition:N}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=wze(i,bze),u=P.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||u===0||o<=0)return a;var f=function(v){var S=v.props,w=S.style,N=w===void 0?{}:w,_=S.className,E=P.cloneElement(v,xd(xd({},c),{},{style:xd(xd({},N),h),className:_}));return E};return u===1?f(P.Children.only(a)):Le.createElement("div",null,P.Children.map(a,function(y){return f(y)}))}}]),r})(P.PureComponent);cm.displayName="Animate";cm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cm.propTypes={from:Bt.oneOfType([Bt.object,Bt.string]),to:Bt.oneOfType([Bt.object,Bt.string]),attributeName:Bt.string,duration:Bt.number,begin:Bt.number,easing:Bt.oneOfType([Bt.string,Bt.func]),steps:Bt.arrayOf(Bt.shape({duration:Bt.number.isRequired,style:Bt.object.isRequired,easing:Bt.oneOfType([Bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bt.func]),properties:Bt.arrayOf("string"),onAnimationEnd:Bt.func})),children:Bt.oneOfType([Bt.node,Bt.func]),isActive:Bt.bool,canBegin:Bt.bool,onAnimationEnd:Bt.func,shouldReAnimate:Bt.bool,onAnimationStart:Bt.func,onAnimationReStart:Bt.func};function ww(t){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(t)}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SS.apply(this,arguments)}function Mze(t,e){return Fze(t)||Lze(t,e)||Dze(t,e)||Rze()}function Rze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dze(t,e){if(t){if(typeof t=="string")return yW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yW(t,e)}}function yW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Fze(t){if(Array.isArray(t))return t}function vW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(r),!0).forEach(function(n){Bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bze(t,e,r){return e=Uze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uze(t){var e=$ze(t,"string");return ww(e)=="symbol"?e:e+""}function $ze(t,e){if(ww(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ww(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wW=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,h;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],y=0,v=4;y<v;y++)f[y]=a[y]>o?o:a[y];h="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),h+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),h+="L ".concat(e+n,",").concat(r+i-l*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),h+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*f[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);h="M ".concat(e,",").concat(r+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(e+c*S,",").concat(r,`
            L `).concat(e+n-c*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*S,`
            L `).concat(e+n,",").concat(r+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(e+n-c*S,",").concat(r+i,`
            L `).concat(e+c*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*S," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},zze=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),h=Math.max(a,a+l),f=Math.min(o,o+c),y=Math.max(o,o+c);return n>=u&&n<=h&&i>=f&&i<=y}return!1},qze={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jD=function(e){var r=bW(bW({},qze),e),n=P.useRef(),i=P.useState(-1),a=Mze(i,2),o=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var c=r.x,u=r.y,h=r.width,f=r.height,y=r.radius,v=r.className,S=r.animationEasing,w=r.animationDuration,N=r.animationBegin,_=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var T=gs("recharts-rectangle",v);return E?Le.createElement(cm,{canBegin:o>0,from:{width:h,height:f,x:c,y:u},to:{width:h,height:f,x:c,y:u},duration:w,animationEasing:S,isActive:E},function(M){var O=M.width,L=M.height,B=M.x,U=M.y;return Le.createElement(cm,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:w,isActive:_,easing:S},Le.createElement("path",SS({},ds(r,!0),{className:T,d:wW(B,U,O,L,y),ref:n})))}):Le.createElement("path",SS({},ds(r,!0),{className:T,d:wW(c,u,h,f,y)}))};function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SO.apply(this,arguments)}var SD=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=gs("recharts-dot",a);return r===+r&&n===+n&&i===+i?Le.createElement("circle",SO({},ds(e,!1),W5(e),{className:o,cx:r,cy:n,r:i})):null};function Nw(t){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(t)}var Vze=["x","y","top","left","width","height","className"];function CO(){return CO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CO.apply(this,arguments)}function NW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(r),!0).forEach(function(n){Wze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wze(t,e,r){return e=Gze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gze(t){var e=Yze(t,"string");return Nw(e)=="symbol"?e:e+""}function Yze(t,e){if(Nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kze(t,e){if(t==null)return{};var r=Xze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zze=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Qze=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,h=e.width,f=h===void 0?0:h,y=e.height,v=y===void 0?0:y,S=e.className,w=Kze(e,Vze),N=Hze({x:n,y:a,top:l,left:u,width:f,height:v},w);return!cr(n)||!cr(a)||!cr(f)||!cr(v)||!cr(l)||!cr(u)?null:Le.createElement("path",CO({},ds(N,!0),{className:gs("recharts-cross",S),d:Zze(n,a,f,v,l,u)}))},Sk,jW;function Jze(){if(jW)return Sk;jW=1;var t=lde(),e=t(Object.getPrototypeOf,Object);return Sk=e,Sk}var Ck,SW;function eqe(){if(SW)return Ck;SW=1;var t=dm(),e=Jze(),r=hm(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function u(h){if(!r(h)||t(h)!=n)return!1;var f=e(h);if(f===null)return!0;var y=l.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return Ck=u,Ck}var tqe=eqe();const rqe=as(tqe);var Ak,CW;function nqe(){if(CW)return Ak;CW=1;var t=dm(),e=hm(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Ak=n,Ak}var sqe=nqe();const iqe=as(sqe);function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CS.apply(this,arguments)}function aqe(t,e){return uqe(t)||cqe(t,e)||lqe(t,e)||oqe()}function oqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lqe(t,e){if(t){if(typeof t=="string")return AW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AW(t,e)}}function AW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uqe(t){if(Array.isArray(t))return t}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){dqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dqe(t,e,r){return e=hqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hqe(t){var e=fqe(t,"string");return jw(e)=="symbol"?e:e+""}function fqe(t,e){if(jw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TW=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},mqe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pqe=function(e){var r=EW(EW({},mqe),e),n=P.useRef(),i=P.useState(-1),a=aqe(i,2),o=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,h=r.upperWidth,f=r.lowerWidth,y=r.height,v=r.className,S=r.animationEasing,w=r.animationDuration,N=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||y!==+y||h===0&&f===0||y===0)return null;var E=gs("recharts-trapezoid",v);return _?Le.createElement(cm,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:u},to:{upperWidth:h,lowerWidth:f,height:y,x:c,y:u},duration:w,animationEasing:S,isActive:_},function(T){var M=T.upperWidth,O=T.lowerWidth,L=T.height,B=T.x,U=T.y;return Le.createElement(cm,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:w,easing:S},Le.createElement("path",CS({},ds(r,!0),{className:E,d:TW(B,U,M,O,L),ref:n})))}):Le.createElement("g",null,Le.createElement("path",CS({},ds(r,!0),{className:E,d:TW(c,u,h,f,y)})))},gqe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function xqe(t,e){if(t==null)return{};var r=yqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(r),!0).forEach(function(n){vqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vqe(t,e,r){return e=bqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bqe(t){var e=wqe(t,"string");return Sw(e)=="symbol"?e:e+""}function wqe(t,e){if(Sw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nqe(t,e){return AS(AS({},e),t)}function jqe(t,e){return t==="symbols"}function PW(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Le.createElement(jD,r);case"trapezoid":return Le.createElement(pqe,r);case"sector":return Le.createElement(Ohe,r);case"symbols":if(jqe(e))return Le.createElement(zR,r);break;default:return null}}function Sqe(t){return P.isValidElement(t)?t.props:t}function Cqe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Nqe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=xqe(t,gqe),u;if(P.isValidElement(e))u=P.cloneElement(e,AS(AS({},c),Sqe(e)));else if(Wn(e))u=e(c);else if(rqe(e)&&!iqe(e)){var h=i(e,c);u=Le.createElement(PW,{shapeType:r,elementProps:h})}else{var f=c;u=Le.createElement(PW,{shapeType:r,elementProps:f})}return l?Le.createElement(La,{className:o},u):u}function NC(t,e){return e!=null&&"trapezoids"in t.props}function jC(t,e){return e!=null&&"sectors"in t.props}function Cw(t,e){return e!=null&&"points"in t.props}function Aqe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function _qe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Eqe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Tqe(t,e){var r;return NC(t,e)?r=Aqe:jC(t,e)?r=_qe:Cw(t,e)&&(r=Eqe),r}function kqe(t,e){var r;return NC(t,e)?r="trapezoids":jC(t,e)?r="sectors":Cw(t,e)&&(r="points"),r}function Pqe(t,e){if(NC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cw(t,e)?e.payload:{}}function Iqe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=kqe(r,e),a=Pqe(r,e),o=n.filter(function(c,u){var h=vC(a,c),f=r.props[i].filter(function(S){var w=Tqe(r,e);return w(S,e)}),y=r.props[i].indexOf(f[f.length-1]),v=u===y;return h&&v}),l=n.indexOf(o[o.length-1]);return l}var _k,IW;function Oqe(){if(IW)return _k;IW=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=a;return u}return _k=r,_k}var Ek,OW;function $he(){if(OW)return Ek;OW=1;var t=joe(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Ek=n,Ek}var Tk,MW;function Mqe(){if(MW)return Tk;MW=1;var t=Oqe(),e=uC(),r=$he();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return Tk=n,Tk}var kk,RW;function Rqe(){if(RW)return kk;RW=1;var t=Mqe(),e=t();return kk=e,kk}var Dqe=Rqe();const _S=as(Dqe);function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function DW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DW(Object(r),!0).forEach(function(n){zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zhe(t,e,r){return e=Lqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lqe(t){var e=Fqe(t,"string");return Aw(e)=="symbol"?e:e+""}function Fqe(t,e){if(Aw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bqe=["Webkit","Moz","O","ms"],Uqe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Bqe.reduce(function(a,o){return LW(LW({},a),{},zhe({},o+n,r))},{});return i[e]=r,i};function z1(t){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function FW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(r),!0).forEach(function(n){Kc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vhe(n.key),n)}}function zqe(t,e,r){return e&&BW(t.prototype,e),r&&BW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qqe(t,e,r){return e=TS(e),Vqe(t,qhe()?Reflect.construct(e,r||[],TS(t).constructor):e.apply(t,r))}function Vqe(t,e){if(e&&(z1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hqe(t)}function Hqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qhe=function(){return!!t})()}function TS(t){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TS(t)}function Wqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AO(t,e)}function AO(t,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AO(t,e)}function Kc(t,e,r){return e=Vhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vhe(t){var e=Gqe(t,"string");return z1(e)=="symbol"?e:e+""}function Gqe(t,e){if(z1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yqe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cb().domain(_S(0,c)).range([a,a+o-l]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:h}},UW=function(e){return e.changedTouches&&!!e.changedTouches.length},q1=(function(t){function e(r){var n;return $qe(this,e),n=qqe(this,e,[r]),Kc(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Kc(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Kc(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Kc(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kc(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kc(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kc(n,"handleSlideDragStart",function(i){var a=UW(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Wqe(e,t),zqe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,f=Math.min(i,a),y=Math.max(i,a),v=e.getIndexInRange(o,f),S=e.getIndexInRange(o,y);return{startIndex:v-v%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=uu(a[n],l,n);return Wn(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,h=c.width,f=c.travellerWidth,y=c.startIndex,v=c.endIndex,S=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,u+h-f-l,u+h-f-o):w<0&&(w=Math.max(w,u-o,u-l));var N=this.getIndex({startX:o+w,endX:l+w});(N.startIndex!==y||N.endIndex!==v)&&S&&S(N),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=UW(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],h=this.props,f=h.x,y=h.width,v=h.travellerWidth,S=h.onChange,w=h.gap,N=h.data,_={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,f+y-v-u):E<0&&(E=Math.max(E,f-u)),_[o]=u+E;var T=this.getIndex(_),M=T.startIndex,O=T.endIndex,L=function(){var U=N.length-1;return o==="startX"&&(l>c?M%w===0:O%w===0)||l<c&&O===U||o==="endX"&&(l>c?O%w===0:M%w===0)||l>c&&O===U};this.setState(Kc(Kc({},o,u+E),"brushMoveStartX",n.pageX),function(){S&&L()&&S(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,h=this.state[i],f=l.indexOf(h);if(f!==-1){var y=f+n;if(!(y===-1||y>=l.length)){var v=l[y];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(Kc({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Le.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,h=n.padding,f=P.Children.only(u);return f?Le.cloneElement(f,{x:i,y:a,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,h=c.travellerWidth,f=c.height,y=c.traveller,v=c.ariaLabel,S=c.data,w=c.startIndex,N=c.endIndex,_=Math.max(n,this.props.x),E=Pk(Pk({},ds(this.props,!1)),{},{x:_,y:u,width:h,height:f}),T=v||"Min value: ".concat((a=S[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[N])===null||o===void 0?void 0:o.name);return Le.createElement(La,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),l.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,h=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return Le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,h=this.state,f=h.startX,y=h.endX,v=5,S={pointerEvents:"none",fill:u};return Le.createElement(La,{className:"recharts-brush-texts"},Le.createElement(sS,ES({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,y)-v,y:o+l/2},S),this.getTextOfTick(i)),Le.createElement(sS,ES({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,y)+c+v,y:o+l/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,h=n.height,f=n.alwaysShowText,y=this.state,v=y.startX,S=y.endX,w=y.isTextActive,N=y.isSlideMoving,_=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!cr(l)||!cr(c)||!cr(u)||!cr(h)||u<=0||h<=0)return null;var T=gs("recharts-brush",a),M=Le.Children.count(o)===1,O=Uqe("userSelect","none");return Le.createElement(La,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(v,S),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(S,"endX"),(w||N||_||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return Le.createElement(Le.Fragment,null,Le.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Le.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Le.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Le.isValidElement(n)?a=Le.cloneElement(n,i):Wn(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,h=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Pk({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?Yqe({data:a,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var y=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(P.PureComponent);Kc(q1,"displayName","Brush");Kc(q1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ik,$W;function Kqe(){if($W)return Ik;$W=1;var t=KR();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return Ik=e,Ik}var Ok,zW;function Xqe(){if(zW)return Ok;zW=1;var t=tde(),e=Mp(),r=Kqe(),n=Tc(),i=uC();function a(o,l,c){var u=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return Ok=a,Ok}var Zqe=Xqe();const Qqe=as(Zqe);var Wh=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Mk,qW;function Jqe(){if(qW)return Mk;qW=1;var t=vde();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Mk=e,Mk}var Rk,VW;function eVe(){if(VW)return Rk;VW=1;var t=Jqe(),e=xde(),r=Mp();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,u){t(o,c,a(l,c,u))}),o}return Rk=n,Rk}var tVe=eVe();const rVe=as(tVe);var Dk,HW;function nVe(){if(HW)return Dk;HW=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Dk=t,Dk}var Lk,WW;function sVe(){if(WW)return Lk;WW=1;var t=KR();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return Lk=e,Lk}var Fk,GW;function iVe(){if(GW)return Fk;GW=1;var t=nVe(),e=sVe(),r=Mp(),n=Tc(),i=uC();function a(o,l,c){var u=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return Fk=a,Fk}var aVe=iVe();const Hhe=as(aVe);var oVe=["x","y"];function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}function _O(){return _O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_O.apply(this,arguments)}function YW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(r),!0).forEach(function(n){lVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lVe(t,e,r){return e=cVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cVe(t){var e=uVe(t,"string");return _w(e)=="symbol"?e:e+""}function uVe(t,e){if(_w(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_w(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dVe(t,e){if(t==null)return{};var r=hVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fVe(t,e){var r=t.x,n=t.y,i=dVe(t,oVe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),h=parseInt(u,10),f="".concat(e.width||i.width),y=parseInt(f,10);return vv(vv(vv(vv(vv({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function KW(t){return Le.createElement(Cqe,_O({shapeType:"rectangle",propTransformer:fVe,activeClassName:"recharts-active-bar"},t))}var mVe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||o0(),r)}},pVe=["value","background"],Whe;function V1(t){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V1(t)}function gVe(t,e){if(t==null)return{};var r=xVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kS.apply(this,arguments)}function XW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(r),!0).forEach(function(n){dp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yhe(n.key),n)}}function vVe(t,e,r){return e&&ZW(t.prototype,e),r&&ZW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bVe(t,e,r){return e=PS(e),wVe(t,Ghe()?Reflect.construct(e,r||[],PS(t).constructor):e.apply(t,r))}function wVe(t,e){if(e&&(V1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NVe(t)}function NVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ghe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ghe=function(){return!!t})()}function PS(t){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(t)}function jVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EO(t,e)}function dp(t,e,r){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yhe(t){var e=SVe(t,"string");return V1(e)=="symbol"?e:e+""}function SVe(t,e){if(V1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q2=(function(t){function e(){var r;yVe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bVe(this,e,[].concat(i)),dp(r,"state",{isAnimationFinished:!1}),dp(r,"id",D2("recharts-bar-")),dp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),dp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jVe(e,t),vVe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,h=ds(this.props,!1);return n&&n.map(function(f,y){var v=y===c,S=v?u:o,w=Za(Za(Za({},h),f),{},{isActive:v,option:S,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Le.createElement(La,kS({className:"recharts-bar-rectangle"},G5(i.props,f,y),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(y)}),Le.createElement(KW,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,y=this.state.prevData;return Le.createElement(cm,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var S=v.t,w=a.map(function(N,_){var E=y&&y[_];if(E){var T=Ld(E.x,N.x),M=Ld(E.y,N.y),O=Ld(E.width,N.width),L=Ld(E.height,N.height);return Za(Za({},N),{},{x:T(S),y:M(S),width:O(S),height:L(S)})}if(o==="horizontal"){var B=Ld(0,N.height),U=B(S);return Za(Za({},N),{},{y:N.y+N.height-U,height:U})}var $=Ld(0,N.width),K=$(S);return Za(Za({},N),{},{width:K})});return Le.createElement(La,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!vC(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=ds(this.props.background,!1);return a.map(function(u,h){u.value;var f=u.background,y=gVe(u,pVe);if(!f)return null;var v=Za(Za(Za(Za(Za({},y),{},{fill:"#eee"},f),c),G5(n.props,u,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Le.createElement(KW,kS({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,f=Xu(h,z2);if(!f)return null;var y=u==="vertical"?o[0].height/2:o[0].width/2,v=function(N,_){var E=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:E,errorVal:uu(N,_)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Le.createElement(La,S,f.map(function(w){return Le.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,h=n.top,f=n.width,y=n.height,v=n.isAnimationActive,S=n.background,w=n.id;if(i||!a||!a.length)return null;var N=this.state.isAnimationFinished,_=gs("recharts-bar",o),E=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,M=E||T,O=is(w)?this.id:w;return Le.createElement(La,{className:_},E||T?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(O)},Le.createElement("rect",{x:E?u:u-f/2,y:T?h:h-y/2,width:E?f:f*2,height:T?y:y*2}))):null,Le.createElement(La,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(O,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,O),(!v||N)&&gp.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(P.PureComponent);Whe=q2;dp(q2,"displayName","Bar");dp(q2,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dp(q2,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,f=t.displayedData,y=t.offset,v=GBe(n,r);if(!v)return null;var S=e.layout,w=r.type.defaultProps,N=w!==void 0?Za(Za({},w),r.props):r.props,_=N.dataKey,E=N.children,T=N.minPointSize,M=S==="horizontal"?o:a,O=u?M.scale.domain():null,L=tUe({numericAxis:M}),B=Xu(E,Sde),U=f.map(function($,K){var q,H,Q,Z,J,ye;u?q=YBe(u[h+K],O):(q=uu($,_),Array.isArray(q)||(q=[L,q]));var ge=mVe(T,Whe.defaultProps.minPointSize)(q[1],K);if(S==="horizontal"){var oe,re=[o.scale(q[0]),o.scale(q[1])],me=re[0],ne=re[1];H=LH({axis:a,ticks:l,bandSize:i,offset:v.offset,entry:$,index:K}),Q=(oe=ne??me)!==null&&oe!==void 0?oe:void 0,Z=v.size;var G=me-ne;if(J=Number.isNaN(G)?0:G,ye={x:H,y:o.y,width:Z,height:o.height},Math.abs(ge)>0&&Math.abs(J)<Math.abs(ge)){var se=qd(J||ge)*(Math.abs(ge)-Math.abs(J));Q-=se,J+=se}}else{var ue=[a.scale(q[0]),a.scale(q[1])],je=ue[0],Ce=ue[1];if(H=je,Q=LH({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:$,index:K}),Z=Ce-je,J=v.size,ye={x:a.x,y:Q,width:a.width,height:J},Math.abs(ge)>0&&Math.abs(Z)<Math.abs(ge)){var ae=qd(Z||ge)*(Math.abs(ge)-Math.abs(Z));Z+=ae}}return Za(Za(Za({},$),{},{x:H,y:Q,width:Z,height:J,value:u?q:q[1],payload:$,background:ye},B&&B[K]&&B[K].props),{},{tooltipPayload:[khe(r,$)],tooltipPosition:{x:H+Z/2,y:Q+J/2}})});return Za({data:U,layout:S},y)});function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function CVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Khe(n.key),n)}}function AVe(t,e,r){return e&&QW(t.prototype,e),r&&QW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(r),!0).forEach(function(n){SC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SC(t,e,r){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Khe(t){var e=_Ve(t,"string");return Ew(e)=="symbol"?e:e+""}function _Ve(t,e){if(Ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EVe=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,h=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!Zc(u,q2);return h.reduce(function(v,S){var w=r[S],N=w.orientation,_=w.domain,E=w.padding,T=E===void 0?{}:E,M=w.mirror,O=w.reversed,L="".concat(N).concat(M?"Mirror":""),B,U,$,K,q;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var H=_[1]-_[0],Q=1/0,Z=w.categoricalDomain.sort();if(Z.forEach(function(ue,je){je>0&&(Q=Math.min((ue||0)-(Z[je-1]||0),Q))}),Number.isFinite(Q)){var J=Q/H,ye=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(B=J*ye/2),w.padding==="no-gap"){var ge=i0(e.barCategoryGap,J*ye),oe=J*ye/2;B=oe-ge-(oe-ge)/ye*ge}}}i==="xAxis"?U=[n.left+(T.left||0)+(B||0),n.left+n.width-(T.right||0)-(B||0)]:i==="yAxis"?U=c==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(B||0),n.top+n.height-(T.bottom||0)-(B||0)]:U=w.range,O&&(U=[U[1],U[0]]);var re=HBe(w,a,y),me=re.scale,ne=re.realScaleType;me.domain(_).range(U),WBe(me);var G=eUe(me,Od(Od({},w),{},{realScaleType:ne}));i==="xAxis"?(q=N==="top"&&!M||N==="bottom"&&M,$=n.left,K=f[L]-q*w.height):i==="yAxis"&&(q=N==="left"&&!M||N==="right"&&M,$=f[L]-q*w.width,K=n.top);var se=Od(Od(Od({},w),G),{},{realScaleType:ne,x:$,y:K,scale:me,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return se.bandSize=yS(se,G),!w.hide&&i==="xAxis"?f[L]+=(q?-1:1)*se.height:w.hide||(f[L]+=(q?-1:1)*se.width),Od(Od({},v),{},SC({},S,se))},{})},Xhe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},TVe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Xhe({x:r,y:n},{x:i,y:a})},Zhe=(function(){function t(e){CVe(this,t),this.scale=e}return AVe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();SC(Zhe,"EPS",1e-4);var CD=function(e){var r=Object.keys(e).reduce(function(n,i){return Od(Od({},n),{},SC({},i,Zhe.create(e[i])))},{});return Od(Od({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return rVe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Hhe(i,function(a,o){return r[o].isInRange(a)})}})};function kVe(t){return(t%180+180)%180}var PVe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kVe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Bk,eG;function IVe(){if(eG)return Bk;eG=1;var t=Mp(),e=L2(),r=lC();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(f){return u(c[f],f,c)}}var h=i(a,o,l);return h>-1?c[u?a[h]:h]:void 0}}return Bk=n,Bk}var Uk,tG;function OVe(){if(tG)return Uk;tG=1;var t=$he();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Uk=e,Uk}var $k,rG;function MVe(){if(rG)return $k;rG=1;var t=hde(),e=Mp(),r=OVe(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(a,e(o,3),u)}return $k=i,$k}var zk,nG;function RVe(){if(nG)return zk;nG=1;var t=IVe(),e=MVe(),r=t(e);return zk=r,zk}var DVe=RVe();const LVe=as(DVe);var FVe=Eue();const BVe=as(FVe);var UVe=BVe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),AD=P.createContext(void 0),_D=P.createContext(void 0),Qhe=P.createContext(void 0),Jhe=P.createContext({}),efe=P.createContext(void 0),tfe=P.createContext(0),rfe=P.createContext(0),sG=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,h=UVe(a);return Le.createElement(AD.Provider,{value:n},Le.createElement(_D.Provider,{value:i},Le.createElement(Jhe.Provider,{value:a},Le.createElement(Qhe.Provider,{value:h},Le.createElement(efe.Provider,{value:o},Le.createElement(tfe.Provider,{value:u},Le.createElement(rfe.Provider,{value:c},l)))))))},$Ve=function(){return P.useContext(efe)},nfe=function(e){var r=P.useContext(AD);r==null&&o0();var n=r[e];return n==null&&o0(),n},zVe=function(){var e=P.useContext(AD);return Km(e)},qVe=function(){var e=P.useContext(_D),r=LVe(e,function(n){return Hhe(n.domain,Number.isFinite)});return r||Km(e)},sfe=function(e){var r=P.useContext(_D);r==null&&o0();var n=r[e];return n==null&&o0(),n},VVe=function(){var e=P.useContext(Qhe);return e},HVe=function(){return P.useContext(Jhe)},ED=function(){return P.useContext(rfe)},TD=function(){return P.useContext(tfe)};function H1(t){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H1(t)}function WVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,afe(n.key),n)}}function YVe(t,e,r){return e&&GVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KVe(t,e,r){return e=IS(e),XVe(t,ife()?Reflect.construct(e,r||[],IS(t).constructor):e.apply(t,r))}function XVe(t,e){if(e&&(H1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(t)}function ZVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ife(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ife=function(){return!!t})()}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IS(t)}function QVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TO(t,e)}function iG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iG(Object(r),!0).forEach(function(n){kD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kD(t,e,r){return e=afe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function afe(t){var e=JVe(t,"string");return H1(e)=="symbol"?e:e+""}function JVe(t,e){if(H1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eHe(t,e){return sHe(t)||nHe(t,e)||rHe(t,e)||tHe()}function tHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rHe(t,e){if(t){if(typeof t=="string")return oG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oG(t,e)}}function oG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sHe(t){if(Array.isArray(t))return t}function kO(){return kO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kO.apply(this,arguments)}var iHe=function(e,r){var n;return Le.isValidElement(e)?n=Le.cloneElement(e,r):Wn(e)?n=e(r):n=Le.createElement("line",kO({},r,{className:"recharts-reference-line-line"})),n},aHe=function(e,r,n,i,a,o,l,c,u){var h=a.x,f=a.y,y=a.width,v=a.height;if(n){var S=u.y,w=e.y.apply(S,{position:o});if(Wh(u,"discard")&&!e.y.isInRange(w))return null;var N=[{x:h+y,y:w},{x:h,y:w}];return c==="left"?N.reverse():N}if(r){var _=u.x,E=e.x.apply(_,{position:o});if(Wh(u,"discard")&&!e.x.isInRange(E))return null;var T=[{x:E,y:f+v},{x:E,y:f}];return l==="top"?T.reverse():T}if(i){var M=u.segment,O=M.map(function(L){return e.apply(L,{position:o})});return Wh(u,"discard")&&Qqe(O,function(L){return!e.isInRange(L)})?null:O}return null};function oHe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=$Ve(),h=nfe(i),f=sfe(a),y=VVe();if(!u||!y)return null;Xf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=CD({x:h.scale,y:f.scale}),S=fo(e),w=fo(r),N=n&&n.length===2,_=aHe(v,S,w,N,y,t.position,h.orientation,f.orientation,t);if(!_)return null;var E=eHe(_,2),T=E[0],M=T.x,O=T.y,L=E[1],B=L.x,U=L.y,$=Wh(t,"hidden")?"url(#".concat(u,")"):void 0,K=aG(aG({clipPath:$},ds(t,!0)),{},{x1:M,y1:O,x2:B,y2:U});return Le.createElement(La,{className:gs("recharts-reference-line",l)},iHe(o,K),Pl.renderCallByParent(t,TVe({x1:M,y1:O,x2:B,y2:U})))}var PD=(function(t){function e(){return WVe(this,e),KVe(this,e,arguments)}return QVe(e,t),YVe(e,[{key:"render",value:function(){return Le.createElement(oHe,this.props)}}])})(Le.Component);kD(PD,"displayName","ReferenceLine");kD(PD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PO.apply(this,arguments)}function W1(t){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W1(t)}function lG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lG(Object(r),!0).forEach(function(n){CC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lfe(n.key),n)}}function uHe(t,e,r){return e&&cHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dHe(t,e,r){return e=OS(e),hHe(t,ofe()?Reflect.construct(e,r||[],OS(t).constructor):e.apply(t,r))}function hHe(t,e){if(e&&(W1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fHe(t)}function fHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ofe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ofe=function(){return!!t})()}function OS(t){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OS(t)}function mHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IO(t,e)}function IO(t,e){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IO(t,e)}function CC(t,e,r){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lfe(t){var e=pHe(t,"string");return W1(e)=="symbol"?e:e+""}function pHe(t,e){if(W1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gHe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=CD({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Wh(e,"discard")&&!o.isInRange(l)?null:l},AC=(function(t){function e(){return lHe(this,e),dHe(this,e,arguments)}return mHe(e,t),uHe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=fo(i),h=fo(a);if(Xf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=gHe(this.props);if(!f)return null;var y=f.x,v=f.y,S=this.props,w=S.shape,N=S.className,_=Wh(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=cG(cG({clipPath:_},ds(this.props,!0)),{},{cx:y,cy:v});return Le.createElement(La,{className:gs("recharts-reference-dot",N)},e.renderDot(w,E),Pl.renderCallByParent(this.props,{x:y-o,y:v-o,width:2*o,height:2*o}))}}])})(Le.Component);CC(AC,"displayName","ReferenceDot");CC(AC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});CC(AC,"renderDot",function(t,e){var r;return Le.isValidElement(t)?r=Le.cloneElement(t,e):Wn(t)?r=t(e):r=Le.createElement(SD,PO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function OO(){return OO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OO.apply(this,arguments)}function G1(t){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G1(t)}function uG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uG(Object(r),!0).forEach(function(n){_C(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ufe(n.key),n)}}function vHe(t,e,r){return e&&yHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bHe(t,e,r){return e=MS(e),wHe(t,cfe()?Reflect.construct(e,r||[],MS(t).constructor):e.apply(t,r))}function wHe(t,e){if(e&&(G1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NHe(t)}function NHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cfe=function(){return!!t})()}function MS(t){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(t)}function jHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MO(t,e)}function MO(t,e){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MO(t,e)}function _C(t,e,r){return e=ufe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ufe(t){var e=SHe(t,"string");return G1(e)=="symbol"?e:e+""}function SHe(t,e){if(G1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CHe=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,h=a.xAxis,f=a.yAxis;if(!h||!f)return null;var y=CD({x:h.scale,y:f.scale}),v={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(u,{position:"end"}):y.y.rangeMax};return Wh(a,"discard")&&(!y.isInRange(v)||!y.isInRange(S))?null:Xhe(v,S)},EC=(function(t){function e(){return xHe(this,e),bHe(this,e,arguments)}return jHe(e,t),vHe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,h=n.clipPathId;Xf(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fo(i),y=fo(a),v=fo(o),S=fo(l),w=this.props.shape;if(!f&&!y&&!v&&!S&&!w)return null;var N=CHe(f,y,v,S,this.props);if(!N&&!w)return null;var _=Wh(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Le.createElement(La,{className:gs("recharts-reference-area",c)},e.renderRect(w,dG(dG({clipPath:_},ds(this.props,!0)),N)),Pl.renderCallByParent(this.props,N))}}])})(Le.Component);_C(EC,"displayName","ReferenceArea");_C(EC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_C(EC,"renderRect",function(t,e){var r;return Le.isValidElement(t)?r=Le.cloneElement(t,e):Wn(t)?r=t(e):r=Le.createElement(jD,OO({},e,{className:"recharts-reference-area-rect"})),r});function dfe(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function AHe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return PVe(n,r)}function _He(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function RS(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function EHe(t,e){return dfe(t,e+1)}function THe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,h=o,f=function(){var S=n==null?void 0:n[c];if(S===void 0)return{v:dfe(n,u)};var w=c,N,_=function(){return N===void 0&&(N=r(S,w)),N},E=S.coordinate,T=c===0||RS(t,E,_,h,l);T||(c=0,h=o,u+=1),T&&(h=E+t*(_()/2+i),c+=u)},y;u<=a.length;)if(y=f(),y)return y.v;return[]}function Tw(t){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(t)}function hG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hG(Object(r),!0).forEach(function(n){kHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kHe(t,e,r){return e=PHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PHe(t){var e=IHe(t,"string");return Tw(e)=="symbol"?e:e+""}function IHe(t,e){if(Tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OHe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(y){var v=a[y],S,w=function(){return S===void 0&&(S=r(v,y)),S};if(y===o-1){var N=t*(v.coordinate+t*w()/2-c);a[y]=v=kl(kl({},v),{},{tickCoord:N>0?v.coordinate-N*t:v.coordinate})}else a[y]=v=kl(kl({},v),{},{tickCoord:v.coordinate});var _=RS(t,v.tickCoord,w,l,c);_&&(c=v.tickCoord-t*(w()/2+i),a[y]=kl(kl({},v),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return a}function MHe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var h=n[l-1],f=r(h,l-1),y=t*(h.coordinate+t*f/2-u);o[l-1]=h=kl(kl({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var v=RS(t,h.tickCoord,function(){return f},c,u);v&&(u=h.tickCoord-t*(f/2+i),o[l-1]=kl(kl({},h),{},{isShow:!0}))}for(var S=a?l-1:l,w=function(E){var T=o[E],M,O=function(){return M===void 0&&(M=r(T,E)),M};if(E===0){var L=t*(T.coordinate-t*O()/2-c);o[E]=T=kl(kl({},T),{},{tickCoord:L<0?T.coordinate-L*t:T.coordinate})}else o[E]=T=kl(kl({},T),{},{tickCoord:T.coordinate});var B=RS(t,T.tickCoord,O,c,u);B&&(c=T.tickCoord+t*(O()/2+i),o[E]=kl(kl({},T),{},{isShow:!0}))},N=0;N<S;N++)w(N);return o}function ID(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,h=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(cr(c)||vy.isSsr)return EHe(i,typeof c=="number"&&cr(c)?c:0);var y=[],v=l==="top"||l==="bottom"?"width":"height",S=h&&v==="width"?lb(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(T,M){var O=Wn(u)?u(T.value,M):T.value;return v==="width"?AHe(lb(O,{fontSize:e,letterSpacing:r}),S,f):lb(O,{fontSize:e,letterSpacing:r})[v]},N=i.length>=2?qd(i[1].coordinate-i[0].coordinate):1,_=_He(a,N,v);return c==="equidistantPreserveStart"?THe(N,_,w,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=MHe(N,_,w,i,o,c==="preserveStartEnd"):y=OHe(N,_,w,i,o),y.filter(function(E){return E.isShow}))}var RHe=["viewBox"],DHe=["viewBox"],LHe=["ticks"];function Y1(t){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y1(t)}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xx.apply(this,arguments)}function fG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(r),!0).forEach(function(n){OD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qk(t,e){if(t==null)return{};var r=FHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ffe(n.key),n)}}function UHe(t,e,r){return e&&mG(t.prototype,e),r&&mG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $He(t,e,r){return e=DS(e),zHe(t,hfe()?Reflect.construct(e,r||[],DS(t).constructor):e.apply(t,r))}function zHe(t,e){if(e&&(Y1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qHe(t)}function qHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hfe=function(){return!!t})()}function DS(t){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(t)}function VHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RO(t,e)}function OD(t,e,r){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=HHe(t,"string");return Y1(e)=="symbol"?e:e+""}function HHe(t,e){if(Y1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jy=(function(t){function e(r){var n;return BHe(this,e),n=$He(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return VHe(e,t),UHe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=qk(n,RHe),l=this.props,c=l.viewBox,u=qk(l,DHe);return!kx(a,c)||!kx(o,u)||!kx(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,h=i.tickSize,f=i.mirror,y=i.tickMargin,v,S,w,N,_,E,T=f?-1:1,M=n.tickSize||h,O=cr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=S=n.coordinate,N=o+ +!f*c,w=N-T*M,E=w-T*y,_=O;break;case"left":w=N=n.coordinate,S=a+ +!f*l,v=S-T*M,_=v-T*y,E=O;break;case"right":w=N=n.coordinate,S=a+ +f*l,v=S+T*M,_=v+T*y,E=O;break;default:v=S=n.coordinate,N=o+ +f*c,w=N+T*M,E=w+T*y,_=O;break}return{line:{x1:v,y1:w,x2:S,y2:N},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,h=n.axisLine,f=Kl(Kl(Kl({},ds(this.props,!1)),ds(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!u||c==="bottom"&&u);f=Kl(Kl({},f),{},{x1:i,y1:a+y*l,x2:i+o,y2:a+y*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);f=Kl(Kl({},f),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+l})}return Le.createElement("line",xx({},f,{className:gs("recharts-cartesian-axis-line",Ku(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,f=l.tickFormatter,y=l.unit,v=ID(Kl(Kl({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),N=ds(this.props,!1),_=ds(h,!1),E=Kl(Kl({},N),{},{fill:"none"},ds(c,!1)),T=v.map(function(M,O){var L=o.getTickLineCoord(M),B=L.line,U=L.tick,$=Kl(Kl(Kl(Kl({textAnchor:S,verticalAnchor:w},N),{},{stroke:"none",fill:u},_),U),{},{index:O,payload:M,visibleTicksCount:v.length,tickFormatter:f});return Le.createElement(La,xx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},G5(o.props,M,O)),c&&Le.createElement("line",xx({},E,B,{className:gs("recharts-cartesian-axis-tick-line",Ku(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(Wn(f)?f(M.value,O):M.value).concat(y||"")))});return Le.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var f=this.props,y=f.ticks,v=qk(f,LHe),S=y;return Wn(c)&&(S=y&&y.length>0?c(this.props):c(v)),o<=0||l<=0||!S||!S.length?null:Le.createElement(La,{className:gs("recharts-cartesian-axis",u),ref:function(N){n.layerReference=N}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Pl.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Le.isValidElement(n)?o=Le.cloneElement(n,i):Wn(n)?o=n(i):o=Le.createElement(sS,xx({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(P.Component);OD(jy,"displayName","CartesianAxis");OD(jy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WHe=["x1","y1","x2","y2","key"],GHe=["offset"];function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function pG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pG(Object(r),!0).forEach(function(n){YHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YHe(t,e,r){return e=KHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KHe(t){var e=XHe(t,"string");return l0(e)=="symbol"?e:e+""}function XHe(t,e){if(l0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function gG(t,e){if(t==null)return{};var r=ZHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var QHe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return Le.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mfe(t,e){var r;if(Le.isValidElement(t))r=Le.cloneElement(t,e);else if(Wn(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=gG(e,WHe),u=ds(c,!1);u.offset;var h=gG(u,GHe);r=Le.createElement("line",Ng({},h,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function JHe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Il(Il({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return mfe(i,u)});return Le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eWe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Il(Il({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return mfe(i,u)});return Le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tWe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var h=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,v){return y-v});i!==h[0]&&h.unshift(0);var f=h.map(function(y,v){var S=!h[v+1],w=S?i+o-y:h[v+1]-y;if(w<=0)return null;var N=v%e.length;return Le.createElement("rect",{key:"react-".concat(v),y,x:n,height:w,width:a,stroke:"none",fill:e[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rWe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,v){return y-v});a!==h[0]&&h.unshift(0);var f=h.map(function(y,v){var S=!h[v+1],w=S?a+l-y:h[v+1]-y;if(w<=0)return null;var N=v%n.length;return Le.createElement("rect",{key:"react-".concat(v),x:y,y:o,width:w,height:c,stroke:"none",fill:n[N],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nWe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return Ehe(ID(Il(Il(Il({},jy.defaultProps),n),{},{ticks:$f(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},sWe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return Ehe(ID(Il(Il(Il({},jy.defaultProps),n),{},{ticks:$f(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Q0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pfe(t){var e,r,n,i,a,o,l=ED(),c=TD(),u=HVe(),h=Il(Il({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Q0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Q0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Q0.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Q0.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Q0.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Q0.verticalFill,x:cr(t.x)?t.x:u.left,y:cr(t.y)?t.y:u.top,width:cr(t.width)?t.width:u.width,height:cr(t.height)?t.height:u.height}),f=h.x,y=h.y,v=h.width,S=h.height,w=h.syncWithTicks,N=h.horizontalValues,_=h.verticalValues,E=zVe(),T=qVe();if(!cr(v)||v<=0||!cr(S)||S<=0||!cr(f)||f!==+f||!cr(y)||y!==+y)return null;var M=h.verticalCoordinatesGenerator||nWe,O=h.horizontalCoordinatesGenerator||sWe,L=h.horizontalPoints,B=h.verticalPoints;if((!L||!L.length)&&Wn(O)){var U=N&&N.length,$=O({yAxis:T?Il(Il({},T),{},{ticks:U?N:T.ticks}):void 0,width:l,height:c,offset:u},U?!0:w);Xf(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(l0($),"]")),Array.isArray($)&&(L=$)}if((!B||!B.length)&&Wn(M)){var K=_&&_.length,q=M({xAxis:E?Il(Il({},E),{},{ticks:K?_:E.ticks}):void 0,width:l,height:c,offset:u},K?!0:w);Xf(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(l0(q),"]")),Array.isArray(q)&&(B=q)}return Le.createElement("g",{className:"recharts-cartesian-grid"},Le.createElement(QHe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Le.createElement(JHe,Ng({},h,{offset:u,horizontalPoints:L,xAxis:E,yAxis:T})),Le.createElement(eWe,Ng({},h,{offset:u,verticalPoints:B,xAxis:E,yAxis:T})),Le.createElement(tWe,Ng({},h,{horizontalPoints:L})),Le.createElement(rWe,Ng({},h,{verticalPoints:B})))}pfe.displayName="CartesianGrid";var iWe=["type","layout","connectNulls","ref"],aWe=["key"];function K1(t){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K1(t)}function xG(t,e){if(t==null)return{};var r=oWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function yG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(r),!0).forEach(function(n){Md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J0(t){return dWe(t)||uWe(t)||cWe(t)||lWe()}function lWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cWe(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function uWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dWe(t){if(Array.isArray(t))return DO(t)}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xfe(n.key),n)}}function fWe(t,e,r){return e&&vG(t.prototype,e),r&&vG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mWe(t,e,r){return e=LS(e),pWe(t,gfe()?Reflect.construct(e,r||[],LS(t).constructor):e.apply(t,r))}function pWe(t,e){if(e&&(K1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gWe(t)}function gWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gfe=function(){return!!t})()}function LS(t){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LS(t)}function xWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LO(t,e)}function LO(t,e){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LO(t,e)}function Md(t,e,r){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xfe(t){var e=yWe(t,"string");return K1(e)=="symbol"?e:e+""}function yWe(t,e){if(K1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var V2=(function(t){function e(){var r;hWe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mWe(this,e,[].concat(i)),Md(r,"state",{isAnimationFinished:!0,totalLength:0}),Md(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Md(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(_,E){return _+E});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/u),f=o%u,y=l-o,v=[],S=0,w=0;S<c.length;w+=c[S],++S)if(w+c[S]>f){v=[].concat(J0(c.slice(0,S)),[f-w]);break}var N=v.length%2===0?[0,y]:[y];return[].concat(J0(e.repeat(c,h)),J0(v),N).map(function(_){return"".concat(_,"px")}).join(", ")}),Md(r,"id",D2("recharts-line-")),Md(r,"pathRef",function(o){r.mainCurve=o}),Md(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Md(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xWe(e,t),fWe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,f=Xu(h,z2);if(!f)return null;var y=function(w,N){return{x:w.x,y:w.y,value:w.value,errorVal:uu(w.payload,N)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Le.createElement(La,v,f.map(function(S){return Le.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,f=ds(this.props,!1),y=ds(c,!0),v=u.map(function(w,N){var _=Wc(Wc(Wc({key:"dot-".concat(N),r:3},f),y),{},{index:N,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:u});return e.renderDotItem(c,_)}),S={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Le.createElement(La,hb({className:"recharts-line-dots",key:"dots"},S),v)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,h=l.connectNulls;l.ref;var f=xG(l,iWe),y=Wc(Wc(Wc({},ds(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:h});return Le.createElement(mO,hb({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,h=o.animationBegin,f=o.animationDuration,y=o.animationEasing,v=o.animationId,S=o.animateNewValues,w=o.width,N=o.height,_=this.state,E=_.prevPoints,T=_.totalLength;return Le.createElement(cm,{begin:h,duration:f,isActive:u,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var O=M.t;if(E){var L=E.length/l.length,B=l.map(function(H,Q){var Z=Math.floor(Q*L);if(E[Z]){var J=E[Z],ye=Ld(J.x,H.x),ge=Ld(J.y,H.y);return Wc(Wc({},H),{},{x:ye(O),y:ge(O)})}if(S){var oe=Ld(w*2,H.x),re=Ld(N/2,H.y);return Wc(Wc({},H),{},{x:oe(O),y:re(O)})}return Wc(Wc({},H),{},{x:H.x,y:H.y})});return a.renderCurveStatically(B,n,i)}var U=Ld(0,T),$=U(O),K;if(c){var q="".concat(c).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});K=a.getStrokeDasharray($,T,q)}else K=a.generateSimpleStrokeDasharray(T,$);return a.renderCurveStatically(l,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!vC(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,h=i.yAxis,f=i.top,y=i.left,v=i.width,S=i.height,w=i.isAnimationActive,N=i.id;if(a||!l||!l.length)return null;var _=this.state.isAnimationFinished,E=l.length===1,T=gs("recharts-line",c),M=u&&u.allowDataOverflow,O=h&&h.allowDataOverflow,L=M||O,B=is(N)?this.id:N,U=(n=ds(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=U.r,K=$===void 0?3:$,q=U.strokeWidth,H=q===void 0?2:q,Q=H8e(o)?o:{},Z=Q.clipDot,J=Z===void 0?!0:Z,ye=K*2+H;return Le.createElement(La,{className:T},M||O?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(B)},Le.createElement("rect",{x:M?y:y-v/2,y:O?f:f-S/2,width:M?v:v*2,height:O?S:S*2})),!J&&Le.createElement("clipPath",{id:"clipPath-dots-".concat(B)},Le.createElement("rect",{x:y-ye/2,y:f-ye/2,width:v+ye,height:S+ye}))):null,!E&&this.renderCurve(L,B),this.renderErrorBar(L,B),(E||o)&&this.renderDots(L,J,B),(!w||_)&&gp.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(J0(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(J0(o),J0(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(Le.isValidElement(n))a=Le.cloneElement(n,i);else if(Wn(n))a=n(i);else{var o=i.key,l=xG(i,aWe),c=gs("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Le.createElement(SD,hb({key:o},l,{className:c}))}return a}}])})(P.PureComponent);Md(V2,"displayName","Line");Md(V2,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vy.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Md(V2,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,h=e.layout,f=c.map(function(y,v){var S=uu(y,o);return h==="horizontal"?{x:DH({axis:r,ticks:i,bandSize:l,entry:y,index:v}),y:is(S)?null:n.scale(S),value:S,payload:y}:{x:is(S)?null:r.scale(S),y:DH({axis:n,ticks:a,bandSize:l,entry:y,index:v}),value:S,payload:y}});return Wc({points:f,layout:h},u)});function X1(t){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X1(t)}function vWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bfe(n.key),n)}}function wWe(t,e,r){return e&&bWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NWe(t,e,r){return e=FS(e),jWe(t,yfe()?Reflect.construct(e,r||[],FS(t).constructor):e.apply(t,r))}function jWe(t,e){if(e&&(X1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SWe(t)}function SWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yfe=function(){return!!t})()}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(t)}function CWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FO(t,e)}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FO(t,e)}function vfe(t,e,r){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bfe(t){var e=AWe(t,"string");return X1(e)=="symbol"?e:e+""}function AWe(t,e){if(X1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BO.apply(this,arguments)}function _We(t){var e=t.xAxisId,r=ED(),n=TD(),i=nfe(e);return i==null?null:Le.createElement(jy,BO({},i,{className:gs("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return $f(o,!0)}}))}var TC=(function(t){function e(){return vWe(this,e),NWe(this,e,arguments)}return CWe(e,t),wWe(e,[{key:"render",value:function(){return Le.createElement(_We,this.props)}}])})(Le.Component);vfe(TC,"displayName","XAxis");vfe(TC,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Z1(t){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z1(t)}function EWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jfe(n.key),n)}}function kWe(t,e,r){return e&&TWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PWe(t,e,r){return e=BS(e),IWe(t,wfe()?Reflect.construct(e,r||[],BS(t).constructor):e.apply(t,r))}function IWe(t,e){if(e&&(Z1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OWe(t)}function OWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wfe=function(){return!!t})()}function BS(t){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},BS(t)}function MWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UO(t,e)}function UO(t,e){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UO(t,e)}function Nfe(t,e,r){return e=jfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jfe(t){var e=RWe(t,"string");return Z1(e)=="symbol"?e:e+""}function RWe(t,e){if(Z1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$O.apply(this,arguments)}var DWe=function(e){var r=e.yAxisId,n=ED(),i=TD(),a=sfe(r);return a==null?null:Le.createElement(jy,$O({},a,{className:gs("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return $f(l,!0)}}))},kC=(function(t){function e(){return EWe(this,e),PWe(this,e,arguments)}return MWe(e,t),kWe(e,[{key:"render",value:function(){return Le.createElement(DWe,this.props)}}])})(Le.Component);Nfe(kC,"displayName","YAxis");Nfe(kC,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bG(t){return UWe(t)||BWe(t)||FWe(t)||LWe()}function LWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FWe(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function BWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UWe(t){if(Array.isArray(t))return zO(t)}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qO=function(e,r,n,i,a){var o=Xu(e,PD),l=Xu(e,AC),c=[].concat(bG(o),bG(l)),u=Xu(e,EC),h="".concat(i,"Id"),f=i[0],y=r;if(c.length&&(y=c.reduce(function(w,N){if(N.props[h]===n&&Wh(N.props,"extendDomain")&&cr(N.props[f])){var _=N.props[f];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},y)),u.length){var v="".concat(f,"1"),S="".concat(f,"2");y=u.reduce(function(w,N){if(N.props[h]===n&&Wh(N.props,"extendDomain")&&cr(N.props[v])&&cr(N.props[S])){var _=N.props[v],E=N.props[S];return[Math.min(w[0],_,E),Math.max(w[1],_,E)]}return w},y)}return a&&a.length&&(y=a.reduce(function(w,N){return cr(N)?[Math.min(w[0],N),Math.max(w[1],N)]:w},y)),y},Vk=new zae,Hk="recharts.syncMouseEvents";function kw(t){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}function $We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sfe(n.key),n)}}function qWe(t,e,r){return e&&zWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wk(t,e,r){return e=Sfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sfe(t){var e=VWe(t,"string");return kw(e)=="symbol"?e:e+""}function VWe(t,e){if(kw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HWe=(function(){function t(){$We(this,t),Wk(this,"activeIndex",0),Wk(this,"coordinateList",[]),Wk(this,"layout","horizontal")}return qWe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,h=r.offset,f=h===void 0?null:h,y=r.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,y=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:f,pageY:y})}}}])})();function WWe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&cr(n)&&cr(i))return!0}return!1}function GWe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Cfe(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ol(e,r,n,i),l=ol(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function YWe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,h=e.outerRadius,f=e.angle,y=ol(l,c,u,f),v=ol(l,c,h,f);n=y.x,i=y.y,a=v.x,o=v.y}else return Cfe(e);return[{x:n,y:i},{x:a,y:o}]}function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function wG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(r),!0).forEach(function(n){KWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KWe(t,e,r){return e=XWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XWe(t){var e=ZWe(t,"string");return Pw(e)=="symbol"?e:e+""}function ZWe(t,e){if(Pw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QWe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,h=t.tooltipAxisBandSize,f=t.layout,y=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,w=mO;if(y==="ScatterChart")S=o,w=Qze;else if(y==="BarChart")S=GWe(f,o,c,h),w=jD;else if(f==="radial"){var N=Cfe(o),_=N.cx,E=N.cy,T=N.radius,M=N.startAngle,O=N.endAngle;S={cx:_,cy:E,startAngle:M,endAngle:O,innerRadius:T,outerRadius:T},w=Ohe}else S={points:YWe(f,o,c)},w=mO;var L=mj(mj(mj(mj({stroke:"#ccc",pointerEvents:"none"},c),S),ds(v,!1)),{},{payload:l,payloadIndex:u,className:gs("recharts-tooltip-cursor",v.className)});return P.isValidElement(v)?P.cloneElement(v,L):P.createElement(w,L)}var JWe=["item"],eGe=["children","className","width","height","style","compact","title","desc"];function Q1(t){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}function NG(t,e){return nGe(t)||rGe(t,e)||_fe(t,e)||tGe()}function tGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nGe(t){if(Array.isArray(t))return t}function jG(t,e){if(t==null)return{};var r=sGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Efe(n.key),n)}}function oGe(t,e,r){return e&&aGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lGe(t,e,r){return e=US(e),cGe(t,Afe()?Reflect.construct(e,r||[],US(t).constructor):e.apply(t,r))}function cGe(t,e){if(e&&(Q1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uGe(t)}function uGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Afe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Afe=function(){return!!t})()}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},US(t)}function dGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VO(t,e)}function VO(t,e){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VO(t,e)}function J1(t){return mGe(t)||fGe(t)||_fe(t)||hGe()}function hGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function fGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mGe(t){if(Array.isArray(t))return HO(t)}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fn(t,e,r){return e=Efe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Efe(t){var e=pGe(t,"string");return Q1(e)=="symbol"?e:e+""}function pGe(t,e){if(Q1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gGe={xAxis:["bottom","top"],yAxis:["left","right"]},xGe={width:"100%",height:"100%"},Tfe={x:0,y:0};function pj(t){return t}var yGe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},vGe=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return Ct(Ct(Ct({},i),ol(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ct(Ct(Ct({},i),ol(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Tfe},PC=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(J1(l),J1(u)):l},[]);return o.length>0?o:e&&e.length&&cr(i)&&cr(a)?e.slice(i,a+1):[]};function kfe(t){return t==="number"?[0,"auto"]:void 0}var WO=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=PC(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var v=f===void 0?l:f;y=H5(v,o.dataKey,i)}else y=f&&f[n]||l[n];return y?[].concat(J1(c),[khe(u,y)]):c},[])},CG=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=yGe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,h=BBe(o,l,u,c);if(h>=0&&u){var f=u[h]&&u[h].value,y=WO(e,r,h,f),v=vGe(n,l,h,a);return{activeTooltipIndex:h,activeLabel:f,activePayload:y,activeCoordinate:v}}return null},bGe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=e.layout,f=e.children,y=e.stackOffset,v=_he(h,a);return n.reduce(function(S,w){var N,_=w.type.defaultProps!==void 0?Ct(Ct({},w.type.defaultProps),w.props):w.props,E=_.type,T=_.dataKey,M=_.allowDataOverflow,O=_.allowDuplicatedCategory,L=_.scale,B=_.ticks,U=_.includeHidden,$=_[o];if(S[$])return S;var K=PC(e.data,{graphicalItems:i.filter(function(G){var se,ue=o in G.props?G.props[o]:(se=G.type.defaultProps)===null||se===void 0?void 0:se[o];return ue===$}),dataStartIndex:c,dataEndIndex:u}),q=K.length,H,Q,Z;WWe(_.domain,M,E)&&(H=cO(_.domain,null,M),v&&(E==="number"||L!=="auto")&&(Z=ub(K,T,"category")));var J=kfe(E);if(!H||H.length===0){var ye,ge=(ye=_.domain)!==null&&ye!==void 0?ye:J;if(T){if(H=ub(K,T,E),E==="category"&&v){var oe=D8e(H);O&&oe?(Q=H,H=_S(0,q)):O||(H=UH(ge,H,w).reduce(function(G,se){return G.indexOf(se)>=0?G:[].concat(J1(G),[se])},[]))}else if(E==="category")O?H=H.filter(function(G){return G!==""&&!is(G)}):H=UH(ge,H,w).reduce(function(G,se){return G.indexOf(se)>=0||se===""||is(se)?G:[].concat(J1(G),[se])},[]);else if(E==="number"){var re=VBe(K,i.filter(function(G){var se,ue,je=o in G.props?G.props[o]:(se=G.type.defaultProps)===null||se===void 0?void 0:se[o],Ce="hide"in G.props?G.props.hide:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return je===$&&(U||!Ce)}),T,a,h);re&&(H=re)}v&&(E==="number"||L!=="auto")&&(Z=ub(K,T,"category"))}else v?H=_S(0,q):l&&l[$]&&l[$].hasStack&&E==="number"?H=y==="expand"?[0,1]:The(l[$].stackGroups,c,u):H=Ahe(K,i.filter(function(G){var se=o in G.props?G.props[o]:G.type.defaultProps[o],ue="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return se===$&&(U||!ue)}),E,h,!0);if(E==="number")H=qO(f,H,$,a,B),ge&&(H=cO(ge,H,M));else if(E==="category"&&ge){var me=ge,ne=H.every(function(G){return me.indexOf(G)>=0});ne&&(H=me)}}return Ct(Ct({},S),{},fn({},$,Ct(Ct({},_),{},{axisType:a,domain:H,categoricalDomain:Z,duplicateDomain:Q,originalDomain:(N=_.domain)!==null&&N!==void 0?N:J,isCategorical:v,layout:h})))},{})},wGe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=e.layout,f=e.children,y=PC(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=y.length,S=_he(h,a),w=-1;return n.reduce(function(N,_){var E=_.type.defaultProps!==void 0?Ct(Ct({},_.type.defaultProps),_.props):_.props,T=E[o],M=kfe("number");if(!N[T]){w++;var O;return S?O=_S(0,v):l&&l[T]&&l[T].hasStack?(O=The(l[T].stackGroups,c,u),O=qO(f,O,T,a)):(O=cO(M,Ahe(y,n.filter(function(L){var B,U,$=o in L.props?L.props[o]:(B=L.type.defaultProps)===null||B===void 0?void 0:B[o],K="hide"in L.props?L.props.hide:(U=L.type.defaultProps)===null||U===void 0?void 0:U.hide;return $===T&&!K}),"number",h),i.defaultProps.allowDataOverflow),O=qO(f,O,T,a)),Ct(Ct({},N),{},fn({},T,Ct(Ct({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ku(gGe,"".concat(a,".").concat(w%2),null),domain:O,originalDomain:M,isCategorical:S,layout:h})))}return N},{})},NGe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=e.children,f="".concat(i,"Id"),y=Xu(h,a),v={};return y&&y.length?v=bGe(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=wGe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},jGe=function(e){var r=Km(e),n=$f(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:XR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yS(r,n)}},AG=function(e){var r=e.children,n=e.defaultShowTooltip,i=Zc(r,q1),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},SGe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Kf(r&&r.type);return n&&n.indexOf("Bar")>=0})},_G=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CGe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,h=n.height,f=n.children,y=n.margin||{},v=Zc(f,q1),S=Zc(f,Px),w=Object.keys(c).reduce(function(O,L){var B=c[L],U=B.orientation;return!B.mirror&&!B.hide?Ct(Ct({},O),{},fn({},U,O[U]+B.width)):O},{left:y.left||0,right:y.right||0}),N=Object.keys(o).reduce(function(O,L){var B=o[L],U=B.orientation;return!B.mirror&&!B.hide?Ct(Ct({},O),{},fn({},U,Ku(O,"".concat(U))+B.height)):O},{top:y.top||0,bottom:y.bottom||0}),_=Ct(Ct({},N),w),E=_.bottom;v&&(_.bottom+=v.props.height||q1.defaultProps.height),S&&r&&(_=zBe(_,i,n,r));var T=u-_.left-_.right,M=h-_.top-_.bottom;return Ct(Ct({brushBottom:E},_),{},{width:Math.max(T,0),height:Math.max(M,0)})},AGe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},_Ge=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,h=e.formatAxisMap,f=e.defaultProps,y=function(_,E){var T=E.graphicalItems,M=E.stackGroups,O=E.offset,L=E.updateId,B=E.dataStartIndex,U=E.dataEndIndex,$=_.barSize,K=_.layout,q=_.barGap,H=_.barCategoryGap,Q=_.maxBarSize,Z=_G(K),J=Z.numericAxisName,ye=Z.cateAxisName,ge=SGe(T),oe=[];return T.forEach(function(re,me){var ne=PC(_.data,{graphicalItems:[re],dataStartIndex:B,dataEndIndex:U}),G=re.type.defaultProps!==void 0?Ct(Ct({},re.type.defaultProps),re.props):re.props,se=G.dataKey,ue=G.maxBarSize,je=G["".concat(J,"Id")],Ce=G["".concat(ye,"Id")],ae={},de=c.reduce(function(ht,Fe){var Xe=E["".concat(Fe.axisType,"Map")],ot=G["".concat(Fe.axisType,"Id")];Xe&&Xe[ot]||Fe.axisType==="zAxis"||o0();var Et=Xe[ot];return Ct(Ct({},ht),{},fn(fn({},Fe.axisType,Et),"".concat(Fe.axisType,"Ticks"),$f(Et)))},ae),pe=de[ye],Oe=de["".concat(ye,"Ticks")],ze=M&&M[je]&&M[je].hasStack&&rUe(re,M[je].stackGroups),qe=Kf(re.type).indexOf("Bar")>=0,$e=yS(pe,Oe),Ve=[],Ee=ge&&UBe({barSize:$,stackGroups:M,totalSize:AGe(de,ye)});if(qe){var sr,Zt,Gt=is(ue)?Q:ue,mt=(sr=(Zt=yS(pe,Oe,!0))!==null&&Zt!==void 0?Zt:Gt)!==null&&sr!==void 0?sr:0;Ve=$Be({barGap:q,barCategoryGap:H,bandSize:mt!==$e?mt:$e,sizeList:Ee[Ce],maxBarSize:Gt}),mt!==$e&&(Ve=Ve.map(function(ht){return Ct(Ct({},ht),{},{position:Ct(Ct({},ht.position),{},{offset:ht.position.offset-mt/2})})}))}var dr=re&&re.type&&re.type.getComposedData;dr&&oe.push({props:Ct(Ct({},dr(Ct(Ct({},de),{},{displayedData:ne,props:_,dataKey:se,item:re,bandSize:$e,barPosition:Ve,offset:O,stackedData:ze,layout:K,dataStartIndex:B,dataEndIndex:U}))),{},fn(fn(fn({key:re.key||"item-".concat(me)},J,de[J]),ye,de[ye]),"animationId",L)),childIndex:Y8e(re,_.children),item:re})}),oe},v=function(_,E){var T=_.props,M=_.dataStartIndex,O=_.dataEndIndex,L=_.updateId;if(!az({props:T}))return null;var B=T.children,U=T.layout,$=T.stackOffset,K=T.data,q=T.reverseStackOrder,H=_G(U),Q=H.numericAxisName,Z=H.cateAxisName,J=Xu(B,n),ye=JBe(K,J,"".concat(Q,"Id"),"".concat(Z,"Id"),$,q),ge=c.reduce(function(G,se){var ue="".concat(se.axisType,"Map");return Ct(Ct({},G),{},fn({},ue,NGe(T,Ct(Ct({},se),{},{graphicalItems:J,stackGroups:se.axisType===Q&&ye,dataStartIndex:M,dataEndIndex:O}))))},{}),oe=CGe(Ct(Ct({},ge),{},{props:T,graphicalItems:J}),E==null?void 0:E.legendBBox);Object.keys(ge).forEach(function(G){ge[G]=h(T,ge[G],oe,G.replace("Map",""),r)});var re=ge["".concat(Z,"Map")],me=jGe(re),ne=y(T,Ct(Ct({},ge),{},{dataStartIndex:M,dataEndIndex:O,updateId:L,graphicalItems:J,stackGroups:ye,offset:oe}));return Ct(Ct({formattedGraphicalItems:ne,graphicalItems:J,offset:oe,stackGroups:ye},me),ge)},S=(function(N){function _(E){var T,M,O;return iGe(this,_),O=lGe(this,_,[E]),fn(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fn(O,"accessibilityManager",new HWe),fn(O,"handleLegendBBoxUpdate",function(L){if(L){var B=O.state,U=B.dataStartIndex,$=B.dataEndIndex,K=B.updateId;O.setState(Ct({legendBBox:L},v({props:O.props,dataStartIndex:U,dataEndIndex:$,updateId:K},Ct(Ct({},O.state),{},{legendBBox:L}))))}}),fn(O,"handleReceiveSyncEvent",function(L,B,U){if(O.props.syncId===L){if(U===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(B)}}),fn(O,"handleBrushChange",function(L){var B=L.startIndex,U=L.endIndex;if(B!==O.state.dataStartIndex||U!==O.state.dataEndIndex){var $=O.state.updateId;O.setState(function(){return Ct({dataStartIndex:B,dataEndIndex:U},v({props:O.props,dataStartIndex:B,dataEndIndex:U,updateId:$},O.state))}),O.triggerSyncEvent({dataStartIndex:B,dataEndIndex:U})}}),fn(O,"handleMouseEnter",function(L){var B=O.getMouseInfo(L);if(B){var U=Ct(Ct({},B),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var $=O.props.onMouseEnter;Wn($)&&$(U,L)}}),fn(O,"triggeredAfterMouseMove",function(L){var B=O.getMouseInfo(L),U=B?Ct(Ct({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(U),O.triggerSyncEvent(U);var $=O.props.onMouseMove;Wn($)&&$(U,L)}),fn(O,"handleItemMouseEnter",function(L){O.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),fn(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),fn(O,"handleMouseMove",function(L){L.persist(),O.throttleTriggeredAfterMouseMove(L)}),fn(O,"handleMouseLeave",function(L){O.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};O.setState(B),O.triggerSyncEvent(B);var U=O.props.onMouseLeave;Wn(U)&&U(B,L)}),fn(O,"handleOuterEvent",function(L){var B=G8e(L),U=Ku(O.props,"".concat(B));if(B&&Wn(U)){var $,K;/.*touch.*/i.test(B)?K=O.getMouseInfo(L.changedTouches[0]):K=O.getMouseInfo(L),U(($=K)!==null&&$!==void 0?$:{},L)}}),fn(O,"handleClick",function(L){var B=O.getMouseInfo(L);if(B){var U=Ct(Ct({},B),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var $=O.props.onClick;Wn($)&&$(U,L)}}),fn(O,"handleMouseDown",function(L){var B=O.props.onMouseDown;if(Wn(B)){var U=O.getMouseInfo(L);B(U,L)}}),fn(O,"handleMouseUp",function(L){var B=O.props.onMouseUp;if(Wn(B)){var U=O.getMouseInfo(L);B(U,L)}}),fn(O,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),fn(O,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&O.handleMouseDown(L.changedTouches[0])}),fn(O,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&O.handleMouseUp(L.changedTouches[0])}),fn(O,"handleDoubleClick",function(L){var B=O.props.onDoubleClick;if(Wn(B)){var U=O.getMouseInfo(L);B(U,L)}}),fn(O,"handleContextMenu",function(L){var B=O.props.onContextMenu;if(Wn(B)){var U=O.getMouseInfo(L);B(U,L)}}),fn(O,"triggerSyncEvent",function(L){O.props.syncId!==void 0&&Vk.emit(Hk,O.props.syncId,L,O.eventEmitterSymbol)}),fn(O,"applySyncEvent",function(L){var B=O.props,U=B.layout,$=B.syncMethod,K=O.state.updateId,q=L.dataStartIndex,H=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)O.setState(Ct({dataStartIndex:q,dataEndIndex:H},v({props:O.props,dataStartIndex:q,dataEndIndex:H,updateId:K},O.state)));else if(L.activeTooltipIndex!==void 0){var Q=L.chartX,Z=L.chartY,J=L.activeTooltipIndex,ye=O.state,ge=ye.offset,oe=ye.tooltipTicks;if(!ge)return;if(typeof $=="function")J=$(oe,L);else if($==="value"){J=-1;for(var re=0;re<oe.length;re++)if(oe[re].value===L.activeLabel){J=re;break}}var me=Ct(Ct({},ge),{},{x:ge.left,y:ge.top}),ne=Math.min(Q,me.x+me.width),G=Math.min(Z,me.y+me.height),se=oe[J]&&oe[J].value,ue=WO(O.state,O.props.data,J),je=oe[J]?{x:U==="horizontal"?oe[J].coordinate:ne,y:U==="horizontal"?G:oe[J].coordinate}:Tfe;O.setState(Ct(Ct({},L),{},{activeLabel:se,activeCoordinate:je,activePayload:ue,activeTooltipIndex:J}))}else O.setState(L)}),fn(O,"renderCursor",function(L){var B,U=O.state,$=U.isTooltipActive,K=U.activeCoordinate,q=U.activePayload,H=U.offset,Q=U.activeTooltipIndex,Z=U.tooltipAxisBandSize,J=O.getTooltipEventType(),ye=(B=L.props.active)!==null&&B!==void 0?B:$,ge=O.props.layout,oe=L.key||"_recharts-cursor";return Le.createElement(QWe,{key:oe,activeCoordinate:K,activePayload:q,activeTooltipIndex:Q,chartName:r,element:L,isActive:ye,layout:ge,offset:H,tooltipAxisBandSize:Z,tooltipEventType:J})}),fn(O,"renderPolarAxis",function(L,B,U){var $=Ku(L,"type.axisType"),K=Ku(O.state,"".concat($,"Map")),q=L.type.defaultProps,H=q!==void 0?Ct(Ct({},q),L.props):L.props,Q=K&&K[H["".concat($,"Id")]];return P.cloneElement(L,Ct(Ct({},Q),{},{className:gs($,Q.className),key:L.key||"".concat(B,"-").concat(U),ticks:$f(Q,!0)}))}),fn(O,"renderPolarGrid",function(L){var B=L.props,U=B.radialLines,$=B.polarAngles,K=B.polarRadius,q=O.state,H=q.radiusAxisMap,Q=q.angleAxisMap,Z=Km(H),J=Km(Q),ye=J.cx,ge=J.cy,oe=J.innerRadius,re=J.outerRadius;return P.cloneElement(L,{polarAngles:Array.isArray($)?$:$f(J,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(K)?K:$f(Z,!0).map(function(me){return me.coordinate}),cx:ye,cy:ge,innerRadius:oe,outerRadius:re,key:L.key||"polar-grid",radialLines:U})}),fn(O,"renderLegend",function(){var L=O.state.formattedGraphicalItems,B=O.props,U=B.children,$=B.width,K=B.height,q=O.props.margin||{},H=$-(q.left||0)-(q.right||0),Q=She({children:U,formattedGraphicalItems:L,legendWidth:H,legendContent:u});if(!Q)return null;var Z=Q.item,J=jG(Q,JWe);return P.cloneElement(Z,Ct(Ct({},J),{},{chartWidth:$,chartHeight:K,margin:q,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),fn(O,"renderTooltip",function(){var L,B=O.props,U=B.children,$=B.accessibilityLayer,K=Zc(U,jh);if(!K)return null;var q=O.state,H=q.isTooltipActive,Q=q.activeCoordinate,Z=q.activePayload,J=q.activeLabel,ye=q.offset,ge=(L=K.props.active)!==null&&L!==void 0?L:H;return P.cloneElement(K,{viewBox:Ct(Ct({},ye),{},{x:ye.left,y:ye.top}),active:ge,label:J,payload:ge?Z:[],coordinate:Q,accessibilityLayer:$})}),fn(O,"renderBrush",function(L){var B=O.props,U=B.margin,$=B.data,K=O.state,q=K.offset,H=K.dataStartIndex,Q=K.dataEndIndex,Z=K.updateId;return P.cloneElement(L,{key:L.key||"_recharts-brush",onChange:uj(O.handleBrushChange,L.props.onChange),data:$,x:cr(L.props.x)?L.props.x:q.left,y:cr(L.props.y)?L.props.y:q.top+q.height+q.brushBottom-(U.bottom||0),width:cr(L.props.width)?L.props.width:q.width,startIndex:H,endIndex:Q,updateId:"brush-".concat(Z)})}),fn(O,"renderReferenceElement",function(L,B,U){if(!L)return null;var $=O,K=$.clipPathId,q=O.state,H=q.xAxisMap,Q=q.yAxisMap,Z=q.offset,J=L.type.defaultProps||{},ye=L.props,ge=ye.xAxisId,oe=ge===void 0?J.xAxisId:ge,re=ye.yAxisId,me=re===void 0?J.yAxisId:re;return P.cloneElement(L,{key:L.key||"".concat(B,"-").concat(U),xAxis:H[oe],yAxis:Q[me],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:K})}),fn(O,"renderActivePoints",function(L){var B=L.item,U=L.activePoint,$=L.basePoint,K=L.childIndex,q=L.isRange,H=[],Q=B.props.key,Z=B.item.type.defaultProps!==void 0?Ct(Ct({},B.item.type.defaultProps),B.item.props):B.item.props,J=Z.activeDot,ye=Z.dataKey,ge=Ct(Ct({index:K,dataKey:ye,cx:U.x,cy:U.y,r:4,fill:ND(B.item),strokeWidth:2,stroke:"#fff",payload:U.payload,value:U.value},ds(J,!1)),W5(J));return H.push(_.renderActiveDot(J,ge,"".concat(Q,"-activePoint-").concat(K))),$?H.push(_.renderActiveDot(J,Ct(Ct({},ge),{},{cx:$.x,cy:$.y}),"".concat(Q,"-basePoint-").concat(K))):q&&H.push(null),H}),fn(O,"renderGraphicChild",function(L,B,U){var $=O.filterFormatItem(L,B,U);if(!$)return null;var K=O.getTooltipEventType(),q=O.state,H=q.isTooltipActive,Q=q.tooltipAxis,Z=q.activeTooltipIndex,J=q.activeLabel,ye=O.props.children,ge=Zc(ye,jh),oe=$.props,re=oe.points,me=oe.isRange,ne=oe.baseLine,G=$.item.type.defaultProps!==void 0?Ct(Ct({},$.item.type.defaultProps),$.item.props):$.item.props,se=G.activeDot,ue=G.hide,je=G.activeBar,Ce=G.activeShape,ae=!!(!ue&&H&&ge&&(se||je||Ce)),de={};K!=="axis"&&ge&&ge.props.trigger==="click"?de={onClick:uj(O.handleItemMouseEnter,L.props.onClick)}:K!=="axis"&&(de={onMouseLeave:uj(O.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:uj(O.handleItemMouseEnter,L.props.onMouseEnter)});var pe=P.cloneElement(L,Ct(Ct({},$.props),de));function Oe(Fe){return typeof Q.dataKey=="function"?Q.dataKey(Fe.payload):null}if(ae)if(Z>=0){var ze,qe;if(Q.dataKey&&!Q.allowDuplicatedCategory){var $e=typeof Q.dataKey=="function"?Oe:"payload.".concat(Q.dataKey.toString());ze=H5(re,$e,J),qe=me&&ne&&H5(ne,$e,J)}else ze=re==null?void 0:re[Z],qe=me&&ne&&ne[Z];if(Ce||je){var Ve=L.props.activeIndex!==void 0?L.props.activeIndex:Z;return[P.cloneElement(L,Ct(Ct(Ct({},$.props),de),{},{activeIndex:Ve})),null,null]}if(!is(ze))return[pe].concat(J1(O.renderActivePoints({item:$,activePoint:ze,basePoint:qe,childIndex:Z,isRange:me})))}else{var Ee,sr=(Ee=O.getItemByXY(O.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:pe},Zt=sr.graphicalItem,Gt=Zt.item,mt=Gt===void 0?L:Gt,dr=Zt.childIndex,ht=Ct(Ct(Ct({},$.props),de),{},{activeIndex:dr});return[P.cloneElement(mt,ht),null,null]}return me?[pe,null,null]:[pe,null]}),fn(O,"renderCustomized",function(L,B,U){return P.cloneElement(L,Ct(Ct({key:"recharts-customized-".concat(U)},O.props),O.state))}),fn(O,"renderMap",{CartesianGrid:{handler:pj,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:pj},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:pj},YAxis:{handler:pj},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((T=E.id)!==null&&T!==void 0?T:D2("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=dR(O.triggeredAfterMouseMove,(M=E.throttleDelay)!==null&&M!==void 0?M:1e3/60),O.state={},O}return dGe(_,N),oGe(_,[{key:"componentDidMount",value:function(){var T,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,M=T.children,O=T.data,L=T.height,B=T.layout,U=Zc(M,jh);if(U){var $=U.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,q=WO(this.state,O,$,K),H=this.state.tooltipTicks[$].coordinate,Q=(this.state.offset.top+L)/2,Z=B==="horizontal",J=Z?{x:H,y:Q}:{y:H,x:Q},ye=this.state.formattedGraphicalItems.find(function(oe){var re=oe.item;return re.type.name==="Scatter"});ye&&(J=Ct(Ct({},J),ye.props.points[$].tooltipPosition),q=ye.props.points[$].tooltipPayload);var ge={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:K,activePayload:q,activeCoordinate:J};this.setState(ge),this.renderCursor(U),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var O,L;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(T){PI([Zc(T.children,jh)],[Zc(this.props.children,jh)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Zc(this.props.children,jh);if(T&&typeof T.props.shared=="boolean"){var M=T.props.shared?"axis":"item";return l.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var M=this.container,O=M.getBoundingClientRect(),L=TLe(O),B={chartX:Math.round(T.pageX-L.left),chartY:Math.round(T.pageY-L.top)},U=O.width/M.offsetWidth||1,$=this.inRange(B.chartX,B.chartY,U);if(!$)return null;var K=this.state,q=K.xAxisMap,H=K.yAxisMap,Q=this.getTooltipEventType(),Z=CG(this.state,this.props.data,this.props.layout,$);if(Q!=="axis"&&q&&H){var J=Km(q).scale,ye=Km(H).scale,ge=J&&J.invert?J.invert(B.chartX):null,oe=ye&&ye.invert?ye.invert(B.chartY):null;return Ct(Ct({},B),{},{xValue:ge,yValue:oe},Z)}return Z?Ct(Ct({},B),Z):null}},{key:"inRange",value:function(T,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,B=T/O,U=M/O;if(L==="horizontal"||L==="vertical"){var $=this.state.offset,K=B>=$.left&&B<=$.left+$.width&&U>=$.top&&U<=$.top+$.height;return K?{x:B,y:U}:null}var q=this.state,H=q.angleAxisMap,Q=q.radiusAxisMap;if(H&&Q){var Z=Km(H);return qH({x:B,y:U},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,M=this.getTooltipEventType(),O=Zc(T,jh),L={};O&&M==="axis"&&(O.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=W5(this.props,this.handleOuterEvent);return Ct(Ct({},B),L)}},{key:"addListener",value:function(){Vk.on(Hk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vk.removeListener(Hk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,M,O){for(var L=this.state.formattedGraphicalItems,B=0,U=L.length;B<U;B++){var $=L[B];if($.item===T||$.props.key===T.key||M===Kf($.item.type)&&O===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,M=this.state.offset,O=M.left,L=M.top,B=M.height,U=M.width;return Le.createElement("defs",null,Le.createElement("clipPath",{id:T},Le.createElement("rect",{x:O,y:L,height:B,width:U})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(M,O){var L=NG(O,2),B=L[0],U=L[1];return Ct(Ct({},M),{},fn({},B,U.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(M,O){var L=NG(O,2),B=L[0],U=L[1];return Ct(Ct({},M),{},fn({},B,U.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(T){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(T){var M=this.state,O=M.formattedGraphicalItems,L=M.activeItem;if(O&&O.length)for(var B=0,U=O.length;B<U;B++){var $=O[B],K=$.props,q=$.item,H=q.type.defaultProps!==void 0?Ct(Ct({},q.type.defaultProps),q.props):q.props,Q=Kf(q.type);if(Q==="Bar"){var Z=(K.data||[]).find(function(oe){return zze(T,oe)});if(Z)return{graphicalItem:$,payload:Z}}else if(Q==="RadialBar"){var J=(K.data||[]).find(function(oe){return qH(T,oe)});if(J)return{graphicalItem:$,payload:J}}else if(NC($,L)||jC($,L)||Cw($,L)){var ye=Iqe({graphicalItem:$,activeTooltipItem:L,itemData:H.data}),ge=H.activeIndex===void 0?ye:H.activeIndex;return{graphicalItem:Ct(Ct({},$),{},{childIndex:ge}),payload:Cw($,L)?H.data[ye]:$.props.data[ye]}}}return null}},{key:"render",value:function(){var T=this;if(!az(this))return null;var M=this.props,O=M.children,L=M.className,B=M.width,U=M.height,$=M.style,K=M.compact,q=M.title,H=M.desc,Q=jG(M,eGe),Z=ds(Q,!1);if(K)return Le.createElement(sG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement(OI,yx({},Z,{width:B,height:U,title:q,desc:H}),this.renderClipPath(),lz(O,this.renderMap)));if(this.props.accessibilityLayer){var J,ye;Z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Z.role=(ye=this.props.role)!==null&&ye!==void 0?ye:"application",Z.onKeyDown=function(oe){T.accessibilityManager.keyboardEvent(oe)},Z.onFocus=function(){T.accessibilityManager.focus()}}var ge=this.parseEventsOfWrapper();return Le.createElement(sG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement("div",yx({className:gs("recharts-wrapper",L),style:Ct({position:"relative",cursor:"default",width:B,height:U},$)},ge,{ref:function(re){T.container=re}}),Le.createElement(OI,yx({},Z,{width:B,height:U,title:q,desc:H,style:xGe}),this.renderClipPath(),lz(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);fn(S,"displayName",r),fn(S,"defaultProps",Ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fn(S,"getDerivedStateFromProps",function(N,_){var E=N.dataKey,T=N.data,M=N.children,O=N.width,L=N.height,B=N.layout,U=N.stackOffset,$=N.margin,K=_.dataStartIndex,q=_.dataEndIndex;if(_.updateId===void 0){var H=AG(N);return Ct(Ct(Ct({},H),{},{updateId:0},v(Ct(Ct({props:N},H),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:T,prevWidth:O,prevHeight:L,prevLayout:B,prevStackOffset:U,prevMargin:$,prevChildren:M})}if(E!==_.prevDataKey||T!==_.prevData||O!==_.prevWidth||L!==_.prevHeight||B!==_.prevLayout||U!==_.prevStackOffset||!kx($,_.prevMargin)){var Q=AG(N),Z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},J=Ct(Ct({},CG(_,T,B)),{},{updateId:_.updateId+1}),ye=Ct(Ct(Ct({},Q),Z),J);return Ct(Ct(Ct({},ye),v(Ct({props:N},ye),_)),{},{prevDataKey:E,prevData:T,prevWidth:O,prevHeight:L,prevLayout:B,prevStackOffset:U,prevMargin:$,prevChildren:M})}if(!PI(M,_.prevChildren)){var ge,oe,re,me,ne=Zc(M,q1),G=ne&&(ge=(oe=ne.props)===null||oe===void 0?void 0:oe.startIndex)!==null&&ge!==void 0?ge:K,se=ne&&(re=(me=ne.props)===null||me===void 0?void 0:me.endIndex)!==null&&re!==void 0?re:q,ue=G!==K||se!==q,je=!is(T),Ce=je&&!ue?_.updateId:_.updateId+1;return Ct(Ct({updateId:Ce},v(Ct(Ct({props:N},_),{},{updateId:Ce,dataStartIndex:G,dataEndIndex:se}),_)),{},{prevChildren:M,dataStartIndex:G,dataEndIndex:se})}return null}),fn(S,"renderActiveDot",function(N,_,E){var T;return P.isValidElement(N)?T=P.cloneElement(N,_):Wn(N)?T=N(_):T=Le.createElement(SD,_),Le.createElement(La,{className:"recharts-active-dot",key:E},T)});var w=P.forwardRef(function(_,E){return Le.createElement(S,yx({},_,{ref:E}))});return w.displayName=S.displayName,w},EGe=_Ge({chartName:"LineChart",GraphicalChild:V2,axisComponents:[{axisType:"xAxis",AxisComp:TC},{axisType:"yAxis",AxisComp:kC}],formatAxisMap:EVe});function TGe(){const t=Ms(),{toast:e}=Vn(),[r,n]=P.useState(!1),{data:i}=Nr({queryKey:["/api/auth/user"]}),{data:a,isLoading:o}=Nr({queryKey:["/api/dellala/dashboard"]}),l=Ln({mutationFn:async N=>await xn("/api/dellala/withdraw","POST",N),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/dellala/dashboard"]}),e({title:" Withdrawal Requested",description:"Your withdrawal is being processed. You'll receive the funds within 24 hours."})},onError:()=>{e({title:" Withdrawal Failed",description:"Please try again or contact support.",variant:"destructive"})}});if(o)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50/50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx(Ti,{className:"h-40 w-full"}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-4",children:[s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"})]}),s.jsx(Ti,{className:"h-96 w-full"})]})})]});if(!a)return i?s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50/50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4 flex items-center justify-center",children:s.jsxs(_e,{className:"max-w-md w-full border-emerald-200 dark:border-emerald-800",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-center text-emerald-900 dark:text-emerald-100",children:" Welcome to the Agent Page"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Join Alga's agent network and earn 5% commission on every booking for 36 months!"}),s.jsx("a",{href:"/become-agent",className:"w-full block",children:s.jsxs("button",{className:"w-full bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center transition-colors","data-testid":"button-start-earning",type:"button",children:[s.jsx(ua,{className:"mr-2 h-4 w-4"}),"Start Earning Today"]})}),s.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"Register with Fayda ID  List Properties  Start Earning"})]})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50/50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4 flex items-center justify-center",children:s.jsxs(_e,{className:"max-w-md w-full border-emerald-200 dark:border-emerald-800",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"text-center text-emerald-900 dark:text-emerald-100 flex items-center justify-center gap-2",children:[s.jsx(t9,{className:"h-6 w-6"}),"Sign Up to Join Alga Agents"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Create an account to join Alga's agent network and earn 5% commission on every booking for 36 months!"}),s.jsxs(Be,{onClick:()=>n(!0),className:"w-full bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white font-medium py-3 px-4 rounded-lg","data-testid":"button-signup-agent",children:[s.jsx(t9,{className:"mr-2 h-4 w-4"}),"Sign Up Now"]}),s.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"Already have an account? Click above to sign in"})]})]})}),s.jsx(_2,{open:r,onOpenChange:n,defaultMode:"register"})]});const{agent:c,performance:u,recentCommissions:h,recentWithdrawals:f,properties:y=[]}=a,v=parseFloat(u.availableBalance),S=N=>{if(v<100){e({title:" Insufficient Balance",description:"Minimum withdrawal amount is 100 ETB.",variant:"destructive"});return}l.mutate({amount:u.availableBalance,method:N,accountNumber:c.telebirrAccount})},w=h.slice(0,7).reverse().map(N=>({date:Lh(new Date(N.createdAt),"MMM dd"),amount:parseFloat(N.commissionAmount)}));return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-50/50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-500 dark:from-emerald-700 dark:to-emerald-600 rounded-2xl p-8 text-white shadow-2xl",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-4xl font-bold","data-testid":"text-agent-name",children:c.fullName}),s.jsx(Rt,{className:"bg-white/20 text-white border-white/30 backdrop-blur-sm","data-testid":"badge-agent-status",children:c.status==="approved"?" Verified":" Pending"})]}),s.jsxs("p",{className:"text-emerald-50 flex items-center gap-2",children:[s.jsx(Gh,{className:"h-4 w-4"}),c.phoneNumber]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-emerald-100 text-sm mb-1",children:"Available Balance"}),s.jsxs("p",{className:"text-5xl font-bold","data-testid":"text-available-balance",children:[v.toLocaleString("en-US",{minimumFractionDigits:2})," ETB"]})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(Be,{onClick:()=>t("/dellala/list-property"),size:"lg",className:"w-full bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white h-16 text-lg","data-testid":"button-list-property",children:[s.jsx(kn,{className:"mr-2 h-5 w-5"}),"List New Property"]}),s.jsxs(Be,{onClick:()=>S("telebirr"),disabled:l.isPending||v<100,size:"lg",className:"bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white h-16 text-lg","data-testid":"button-withdraw-telebirr",children:[s.jsx(QA,{className:"mr-2 h-5 w-5"}),l.isPending?"Processing...":"Withdraw to Telebirr"]}),s.jsxs(Be,{onClick:()=>S("addispay"),disabled:l.isPending||v<100,size:"lg",variant:"outline",className:"border-2 border-emerald-600 text-emerald-700 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950 h-16 text-lg","data-testid":"button-withdraw-addispay",children:[s.jsx(Zwe,{className:"mr-2 h-5 w-5"}),l.isPending?"Processing...":"Withdraw to Addispay"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-4",children:[s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4 text-emerald-600"}),"Lifetime Earnings"]})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-400","data-testid":"text-lifetime-earnings",children:[parseFloat(u.totalCommissionEarned).toLocaleString("en-US",{minimumFractionDigits:2})," ETB"]})})]}),s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-amber-600"}),"Pending"]})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400","data-testid":"text-pending-earnings",children:[parseFloat(u.totalCommissionPending).toLocaleString("en-US",{minimumFractionDigits:2})," ETB"]})})]}),s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-blue-600"}),"Total Bookings"]})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-400","data-testid":"text-total-bookings",children:u.totalBookings})})]}),s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-purple-600"}),"Active Properties"]})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-400","data-testid":"text-active-properties",children:u.totalPropertiesListed})})]})]}),s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-emerald-900 dark:text-emerald-100",children:" Recent Earnings (Last 7 Days)"})}),s.jsx(Te,{children:w.length>0?s.jsx(NLe,{width:"100%",height:300,children:s.jsxs(EGe,{data:w,children:[s.jsx(pfe,{strokeDasharray:"3 3",stroke:"#d1fae5"}),s.jsx(TC,{dataKey:"date",stroke:"#059669",style:{fontSize:"12px"}}),s.jsx(kC,{stroke:"#059669",style:{fontSize:"12px"}}),s.jsx(jh,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #10b981",borderRadius:"8px"},formatter:N=>[`${N.toFixed(2)} ETB`,"Commission"]}),s.jsx(V2,{type:"monotone",dataKey:"amount",stroke:"#10b981",strokeWidth:3,dot:{fill:"#059669",r:5},activeDot:{r:7}})]})}):s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:s.jsx("p",{children:"No earnings data yet. Start referring properties!"})})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"text-emerald-900 dark:text-emerald-100 flex items-center gap-2",children:[s.jsx(Vd,{className:"h-5 w-5"}),"Recent Commissions"]})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-3",children:h.length>0?h.slice(0,5).map(N=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-lg","data-testid":`commission-${N.id}`,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-emerald-900 dark:text-emerald-100",children:[parseFloat(N.commissionAmount).toFixed(2)," ETB"]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(Pi,{className:"h-3 w-3"}),Lh(new Date(N.createdAt),"MMM dd, yyyy")]})]}),s.jsx(Rt,{variant:N.status==="paid"?"default":"secondary",className:N.status==="paid"?"bg-emerald-600 text-white":"bg-amber-100 text-amber-800","data-testid":`badge-commission-status-${N.id}`,children:N.status==="paid"?" Paid":" Pending"})]},N.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ll,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No commissions yet"})]})})})]}),s.jsxs(_e,{className:"border-emerald-200 dark:border-emerald-800",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"text-emerald-900 dark:text-emerald-100 flex items-center gap-2",children:[s.jsx(QA,{className:"h-5 w-5"}),"Recent Withdrawals"]})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-3",children:f.length>0?f.slice(0,5).map(N=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg","data-testid":`withdrawal-${N.id}`,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[parseFloat(N.amount).toFixed(2)," ETB"]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.method,"  ",N.accountNumber]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 flex items-center gap-1",children:[s.jsx(Pi,{className:"h-3 w-3"}),Lh(new Date(N.requestedAt),"MMM dd, yyyy")]})]}),s.jsx(Rt,{variant:N.status==="completed"?"default":"secondary","data-testid":`badge-withdrawal-status-${N.id}`,children:N.status==="completed"?" Completed":" Processing"})]},N.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(QA,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No withdrawals yet"})]})})})]})]}),s.jsxs(_e,{className:"border-purple-200 dark:border-purple-800",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"text-purple-900 dark:text-purple-100 flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5"}),"My Properties (",y.length,")"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties you brought to Alga and their performance"})]}),s.jsx(Te,{children:y.length>0?s.jsx("div",{className:"grid gap-4",children:y.map(N=>s.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-purple-300 dark:hover:border-purple-600 transition-all cursor-pointer",onClick:()=>t(`/properties/${N.property.id}`),"data-testid":`property-${N.propertyId}`,children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:N.property.images[0]||"https://images.unsplash.com/photo-1568605114967-8130f3a36994",alt:N.property.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100 truncate",children:N.property.title}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.property.city,"  ",N.property.pricePerNight," ETB/night"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Rt,{variant:N.property.status==="approved"?"default":"secondary",className:N.property.status==="approved"?"bg-green-600 text-white":N.property.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:N.property.status==="approved"&&N.property.isActive?" Active":N.property.status==="pending"?" Pending Review":" Inactive"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-purple-700 dark:text-purple-400",children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:N.totalBookings}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"bookings"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-emerald-700 dark:text-emerald-400",children:[s.jsx(mo,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:[parseFloat(N.totalCommissionEarned||"0").toFixed(2)," ETB"]}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"earned"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[s.jsx(ei,{className:"h-4 w-4"}),s.jsxs("span",{children:["Listed ",Lh(new Date(N.createdAt),"MMM dd, yyyy")]})]})]})]})]})},N.id))}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(kn,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No Properties Yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Start bringing properties to Alga and earn commissions!"}),s.jsxs(Be,{onClick:()=>t("/dellala/list-property"),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(kn,{className:"mr-2 h-4 w-4"}),"List Your First Property"]})]})})]}),s.jsx(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-950/50 dark:to-emerald-900/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(ua,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-emerald-900 dark:text-emerald-100 mb-1",children:" How Dellala Commissions Work"}),s.jsxs("p",{className:"text-sm text-emerald-800 dark:text-emerald-200",children:["You earn ",s.jsx("strong",{children:"5% commission"})," on every booking for properties you refer, for ",s.jsx("strong",{children:"36 months"})," from the first booking. Commissions are automatically credited to your available balance when guests complete payment. Withdraw anytime to Telebirr or Addispay (minimum 100 ETB)."]})]})]})})})]})})]})}const kGe=["Cozy Guesthouse in Addis","Traditional Ethiopian Home","Modern Apartment with Mountain View","Peaceful Lake View Lodge","Historic Gondar Family Home","Eco-Friendly Cottage in Bahir Dar","Harar Heritage House","Addis City Center Studio","Lalibela Stone House","Rift Valley Eco Lodge"],PGe=[{value:"hotel",label:"Hotel"},{value:"guesthouse",label:"Guesthouse"},{value:"traditional_home",label:"Traditional Home"},{value:"eco_lodge",label:"Eco Lodge"},{value:"apartment",label:"Apartment"},{value:"villa",label:"Villa"}],IGe=["Addis Ababa","Bahir Dar","Gondar","Mekelle","Hawassa","Dire Dawa","Adama","Jimma","Harar","Lalibela","Axum","Arba Minch"],OGe=["Addis Ababa","Oromia","Amhara","Tigray","SNNPR","Somali","Afar","Benishangul-Gumuz","Gambela","Harari","Dire Dawa","Sidama"],MGe=["WiFi","Air Conditioning","Kitchen","Parking","Swimming Pool","Restaurant","Bar","Gym","Spa","Conference Room","Airport Shuttle","Pet Friendly","24/7 Reception","Room Service","Laundry Service","Traditional Coffee Ceremony","Cultural Tours","Mountain View","Lake View","Garden"],RGe=_t.object({title:_t.string().min(1,"Property title is required"),type:_t.string().min(1,"Property type is required"),city:_t.string().min(1,"City is required"),region:_t.string().min(1,"Region is required"),location:_t.string().min(1,"Location is required"),description:_t.string().optional(),images:_t.array(_t.string()).min(5,"At least 5 images are required"),maxGuests:_t.number().min(1,"At least 1 guest required"),bedrooms:_t.number().min(1,"At least 1 bedroom required"),bathrooms:_t.number().min(1,"At least 1 bathroom required"),pricePerNight:_t.string().min(1,"Price is required"),amenities:_t.array(_t.string()).optional(),ownerFullName:_t.string().min(1,"Owner full name is required"),ownerPhone:_t.string().min(10,"Owner phone number is required"),ownerEmail:_t.string().email("Valid email required").optional(),ownerIdNumber:_t.string().min(1,"Owner ID number is required for verification"),propertyDeedUrl:_t.string().min(1,"Property title deed document is required")});function DGe(){const{toast:t}=Vn(),e=Ms(),r=P.useRef(null),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState(!1),[u,h]=P.useState(!1),[f,y]=P.useState(""),[v,S]=P.useState(!1),w=P.useRef(null),N=Gf({resolver:Yf(RGe),defaultValues:{title:"",type:"",city:"",region:"",location:"",description:"",images:[],maxGuests:1,bedrooms:1,bathrooms:1,pricePerNight:"0",amenities:[],ownerFullName:"",ownerPhone:"",ownerEmail:"",ownerIdNumber:"",propertyDeedUrl:""}});P.useEffect(()=>{N.setValue("images",a),N.setValue("amenities",n),N.setValue("propertyDeedUrl",f)},[a,n,f,N]);const _=Ln({mutationFn:async K=>await xn("POST","/api/dellala/list-property",K),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/dellala/dashboard"]}),t({title:"Property Listed Successfully! ",description:"The property owner will be notified and the listing will be reviewed by our team."}),e("/dellala/dashboard")},onError:K=>{t({title:"Error",description:K.message||"Failed to create property",variant:"destructive"})}}),E=async K=>{const q=K.target.files;!q||q.length===0||await O(Array.from(q))},T=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?h(!0):K.type==="dragleave"&&h(!1)},M=async K=>{K.preventDefault(),K.stopPropagation(),h(!1);const q=K.dataTransfer.files;q&&q.length>0&&await O(Array.from(q))},O=async K=>{c(!0);const q=[];for(const H of K){if(!H.type.startsWith("image/")){t({title:"Invalid File",description:`${H.name} is not an image`,variant:"destructive"});continue}if(H.size>10*1024*1024){t({title:"File Too Large",description:`${H.name} exceeds 10MB`,variant:"destructive"});continue}try{const Q=new FormData;Q.append("file",H),Q.append("folder","properties");const Z=await fetch("/api/upload",{method:"POST",body:Q,credentials:"include"});if(!Z.ok)throw new Error("Upload failed");const J=await Z.json();q.push(J.url)}catch{t({title:"Upload Failed",description:`Failed to upload ${H.name}`,variant:"destructive"})}}o([...a,...q]),c(!1)},L=K=>{o(a.filter(q=>q!==K))},B=async K=>{var H;const q=(H=K.target.files)==null?void 0:H[0];if(q){if(!q.type.startsWith("image/")&&q.type!=="application/pdf"){t({title:"Invalid File",description:"Please upload an image or PDF document",variant:"destructive"});return}if(q.size>10*1024*1024){t({title:"File Too Large",description:"Document must be under 10MB",variant:"destructive"});return}S(!0);try{const Q=new FormData;Q.append("file",q),Q.append("folder","property-deeds");const Z=await fetch("/api/upload",{method:"POST",body:Q,credentials:"include"});if(!Z.ok)throw new Error("Upload failed");const J=await Z.json();y(J.url),t({title:"Document Uploaded",description:"Property title deed uploaded successfully"})}catch{t({title:"Upload Failed",description:"Failed to upload property deed document",variant:"destructive"})}finally{S(!1)}}},U=K=>{n.includes(K)?i(n.filter(q=>q!==K)):i([...n,K])},$=K=>{if(a.length<5){t({title:"Not Enough Images",description:"Please upload at least 5 images",variant:"destructive"});return}_.mutate(K)};return s.jsxs("div",{className:"min-h-screen bg-[#F8F1E7]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"pt-24 pb-16 px-4 max-w-5xl mx-auto",children:[s.jsxs(Be,{variant:"ghost",onClick:()=>e("/dellala/dashboard"),className:"mb-6","data-testid":"button-back",children:[s.jsx(ul,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"text-2xl text-eth-brown flex items-center gap-2",children:[s.jsx(kn,{className:"h-6 w-6"}),"List New Property (as Agent)"]}),s.jsx(ar,{children:"Fill out property details and owner information. You'll earn 5% commission on all bookings for 36 months!"})]}),s.jsx(Te,{children:s.jsx(mp,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit($),className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4 p-6 bg-blue-50 dark:bg-blue-950 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(cu,{className:"h-5 w-5 text-blue-700"}),s.jsxs("h3",{className:"text-lg font-bold text-eth-brown",children:["Property Owner Information ",s.jsx("span",{className:"text-red-700",children:"(NOT  information!)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Xr,{control:N.control,name:"ownerFullName",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Owner Full Name ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{...K,placeholder:"Full name as on ID...",required:!0,"data-testid":"input-owner-name"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"ownerPhone",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Owner Phone Number ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"h-4 w-4 text-gray-500"}),s.jsx(Or,{...K,placeholder:"+251912345678",type:"tel",required:!0,"data-testid":"input-owner-phone"})]})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"ownerEmail",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Owner Email ",s.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),s.jsx(on,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kp,{className:"h-4 w-4 text-gray-500"}),s.jsx(Or,{...K,placeholder:"owner@example.com",type:"email","data-testid":"input-owner-email"})]})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"ownerIdNumber",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Owner ID Number ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{...K,placeholder:"Ethiopian ID or Passport...",required:!0,"data-testid":"input-owner-id"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-950 border-2 border-yellow-300 dark:border-yellow-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(ps,{className:"h-5 w-5 text-yellow-700 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-eth-brown mb-1",children:"Ownership Verification Required"}),s.jsx("p",{className:"text-sm text-eth-brown/80",children:"To ensure legitimacy and protect property owners, we require proof of ownership. Upload a clear photo or scan of the property title deed."})]})]}),s.jsx(Xr,{control:N.control,name:"propertyDeedUrl",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Property Title Deed ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{ref:w,type:"file",accept:"image/*,application/pdf",onChange:B,className:"hidden","data-testid":"input-deed-upload"}),f?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border-2 border-green-300 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5 text-green-700"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:" Document Uploaded"})]}),s.jsxs(Be,{type:"button",variant:"ghost",size:"sm",onClick:()=>{y(""),w.current&&(w.current.value="")},className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":"button-remove-deed",children:[s.jsx(Cc,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):s.jsx(Be,{type:"button",variant:"outline",onClick:()=>{var q;return(q=w.current)==null?void 0:q.click()},disabled:v,className:"w-full border-2 border-dashed border-yellow-500 hover:border-yellow-600 hover:bg-yellow-50","data-testid":"button-upload-deed",children:v?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"mr-2 h-4 w-4"}),"Upload Property Title Deed (Image or PDF)"]})}),s.jsx("p",{className:"text-xs text-eth-brown/60",children:"Accepted formats: JPG, PNG, PDF  Max 10MB"})]})}),s.jsx(dn,{})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-eth-brown",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Xr,{control:N.control,name:"title",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Property Title ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Or,{...K,list:"property-title-suggestions",placeholder:"Choose or type your own...",required:!0,"data-testid":"input-property-title"}),s.jsx("datalist",{id:"property-title-suggestions",children:kGe.map(q=>s.jsx("option",{value:q},q))}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[" ",s.jsx("span",{children:"Choose a name that reflects your stay's character"})]})]})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"type",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Property Type ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:K.onChange,defaultValue:K.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{"data-testid":"select-property-type",children:s.jsx(es,{placeholder:"Select property type..."})})}),s.jsx(Yn,{children:PGe.map(q=>s.jsx(Vt,{value:q.value,children:q.label},q.value))})]}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"city",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["City ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:K.onChange,defaultValue:K.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{"data-testid":"select-city",children:s.jsx(es,{placeholder:"Select city..."})})}),s.jsx(Yn,{children:IGe.map(q=>s.jsx(Vt,{value:q,children:q},q))})]}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"region",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Region ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsxs(Jn,{onValueChange:K.onChange,defaultValue:K.value,required:!0,children:[s.jsx(on,{children:s.jsx(Gn,{"data-testid":"select-region",children:s.jsx(es,{placeholder:"Select region..."})})}),s.jsx(Yn,{children:OGe.map(q=>s.jsx(Vt,{value:q,children:q},q))})]}),s.jsx(dn,{})]})})]}),s.jsx(Xr,{control:N.control,name:"location",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Specific Location ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{placeholder:"Street address or area name...",...K,required:!0,"data-testid":"input-location"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"description",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Description ",s.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),s.jsx(on,{children:s.jsx(_i,{placeholder:"Describe your property, its unique features, and what makes it special...",className:"min-h-[100px]",...K,"data-testid":"input-description"})}),s.jsx(dn,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(yr,{className:"text-sm font-medium text-eth-brown",children:["Property Images ",s.jsx("span",{className:"text-red-600",children:"*"})," ",a.length>0&&`(${a.length})`]}),s.jsx("span",{className:`text-sm font-semibold ${a.length>=5?"text-green-600":"text-red-600"}`,children:a.length<5?`Minimum 5 images required (${5-a.length} more needed)`:" Minimum met"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg transition-all ${u?"border-eth-brown bg-eth-brown/10":"border-eth-brown/30 hover:border-eth-brown/50 bg-eth-light-tan/30"}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:M,children:[s.jsx("input",{ref:r,type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden","data-testid":"input-file-upload"}),s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:l?s.jsx(eo,{className:"h-16 w-16 text-eth-brown animate-spin"}):s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"bg-eth-brown/10 p-4 rounded-full",children:s.jsx(lp,{className:"h-10 w-10 text-eth-brown"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-eth-brown rounded-full p-1.5",children:s.jsx(gre,{className:"h-4 w-4 text-white"})})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-base font-semibold text-eth-brown",children:l?"Uploading images...":u?"Drop your images here":"Upload Property Images"}),s.jsx("p",{className:"text-sm text-eth-brown/70",children:"Drag and drop images here, or click to browse"}),s.jsx("p",{className:"text-xs text-eth-brown/50",children:"Supports: JPG, PNG, WebP  Max 10MB per file"})]}),!l&&s.jsxs(Be,{type:"button",variant:"outline",onClick:()=>{var K;return(K=r.current)==null?void 0:K.click()},className:"mt-4 border-eth-brown text-eth-brown hover:bg-eth-brown hover:text-white","data-testid":"button-browse-images",children:[s.jsx(Zv,{className:"h-4 w-4 mr-2"}),"Browse Files"]})]})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a.map((K,q)=>s.jsxs("div",{className:"relative group rounded-lg overflow-hidden border-2 border-eth-brown/20 hover:border-eth-brown/40 transition-all","data-testid":`uploaded-image-${q}`,children:[s.jsx("div",{className:"aspect-square",children:s.jsx("img",{src:K,alt:`Property ${q+1}`,className:"w-full h-full object-cover"})}),q===0&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(Rt,{className:"bg-eth-brown text-white text-xs",children:"Main"})}),s.jsx(Be,{type:"button",variant:"destructive",size:"icon",onClick:()=>L(K),className:"absolute top-2 right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600","data-testid":`button-remove-image-${q}`,children:s.jsx(Cc,{className:"h-4 w-4"})})]},q))}),s.jsx("p",{className:"text-xs text-eth-brown/60",children:"Upload at least 5 high-quality images of your property. The first image will be used as the main display image."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Xr,{control:N.control,name:"maxGuests",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Max Guests ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...K,onChange:q=>K.onChange(parseInt(q.target.value)),required:!0,"data-testid":"input-max-guests"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"bedrooms",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Bedrooms ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...K,onChange:q=>K.onChange(parseInt(q.target.value)),required:!0,"data-testid":"input-bedrooms"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"bathrooms",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Bathrooms ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"1",...K,onChange:q=>K.onChange(parseInt(q.target.value)),required:!0,"data-testid":"input-bathrooms"})}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:N.control,name:"pricePerNight",render:({field:K})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"text-eth-brown",children:["Price per Night (ETB) ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(on,{children:s.jsx(Or,{type:"number",min:"0",step:"0.01",...K,required:!0,"data-testid":"input-price"})}),s.jsx(dn,{})]})})]}),s.jsxs("div",{children:[s.jsx(yr,{className:"text-sm font-medium mb-3 block",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:MGe.map(K=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`amenity-${K}`,checked:n.includes(K),onChange:()=>U(K),className:"rounded border-gray-300","data-testid":`checkbox-amenity-${K}`}),s.jsx("label",{htmlFor:`amenity-${K}`,className:"text-sm font-medium cursor-pointer",children:K})]},K))})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>e("/dellala/dashboard"),disabled:_.isPending,"data-testid":"button-cancel",children:"Cancel"}),s.jsx(Be,{type:"submit",disabled:_.isPending||a.length<5,className:"flex-1 bg-eth-orange hover:opacity-90","data-testid":"button-create-property",children:_.isPending?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Property"})]})]})})})]})]}),s.jsx(Ei,{})]})}function LGe(){const{data:t,isLoading:e}=Nr({queryKey:["/api/owner/payout"]});if(e)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsx(Ti,{className:"h-40 w-full"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"}),s.jsx(Ti,{className:"h-32"})]}),s.jsx(Ti,{className:"h-96 w-full"})]})})]});if(!t)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 p-4 flex items-center justify-center",children:s.jsxs(_e,{className:"max-w-md w-full",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-center",children:" Owner Payout Dashboard"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-center text-medium-brown dark:text-cream/80",children:"No property data available. Please add a property first."})})]})})]});const{owner:r,property:n,earnings:i}=t;return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-dark-brown dark:text-cream mb-2",children:" Owner Payout Dashboard"}),s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Your rental income breakdown and payout summary"})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"h-5 w-5"}),"Owner Information"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-name",children:r.fullName})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1 flex items-center gap-1",children:[s.jsx(Gh,{className:"h-3 w-3"}),"Phone Number"]}),s.jsx("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-phone",children:r.phoneNumber})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1 flex items-center gap-1",children:[s.jsx(kp,{className:"h-3 w-3"}),"Email"]}),s.jsx("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-email",children:r.email})]})]})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5"}),"Property Details"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1",children:"Property Name"}),s.jsx("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-property-title",children:n.title})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1 flex items-center gap-1",children:[s.jsx(ki,{className:"h-3 w-3"}),"Location"]}),s.jsxs("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-property-location",children:[n.location,", ",n.city]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1 flex items-center gap-1",children:[s.jsx(ii,{className:"h-3 w-3"}),"Price Per Night"]}),s.jsxs("p",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-price-per-night",children:[parseFloat(n.pricePerNight).toFixed(2)," Birr"]})]})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pi,{className:"h-4 w-4"}),"Total Bookings"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-dark-brown dark:text-cream","data-testid":"text-total-bookings",children:i.totalBookings}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"Completed rentals"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4"}),"Expected Occupancy"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-dark-brown dark:text-cream","data-testid":"text-occupancy",children:[i.expectedOccupancy,"%"]}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"Average utilization"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20 bg-green-50 dark:bg-green-900/20",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),"Gross Revenue"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400","data-testid":"text-gross-revenue",children:[i.grossRevenue.toFixed(2)," Birr"]}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Before deductions"})]})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(E2e,{className:"h-5 w-5"}),"Deductions Breakdown"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-medium-brown/10 dark:border-cream/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g2e,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"VAT (15%)"})]}),s.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400","data-testid":"text-vat",children:["-",i.vat.toFixed(2)," Birr"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-medium-brown/10 dark:border-cream/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Platform Fee (10%)"})]}),s.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400","data-testid":"text-platform-fee",children:["-",i.platformFee.toFixed(2)," Birr"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-medium-brown/10 dark:border-cream/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Agent Commission (5%)"})]}),s.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400","data-testid":"text-agent-commission",children:["-",i.agentCommission.toFixed(2)," Birr"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"font-semibold text-dark-brown dark:text-cream",children:"Total Deductions"}),s.jsxs("span",{className:"font-bold text-lg text-red-600 dark:text-red-400","data-testid":"text-total-deductions",children:["-",i.totalDeductions.toFixed(2)," Birr"]})]})]})})]}),s.jsx(_e,{className:"border-green-500 dark:border-green-400 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-1",children:"Your Net Payout"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"After all deductions (VAT, platform fee, agent commission)"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300","data-testid":"text-net-payout",children:[i.netPayout.toFixed(2)," Birr"]}),s.jsx(Rt,{className:"mt-2 bg-green-600 text-white",children:" Ready for payout"})]})]})})}),s.jsx(_e,{className:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ii,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("p",{className:"font-semibold mb-1",children:" How Your Payout is Calculated"}),s.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:"Gross Revenue = Total booking amount from all rentals"}),s.jsx("li",{children:"VAT (15%) = Government tax automatically deducted"}),s.jsx("li",{children:"Platform Fee (10%) = Alga service fee for hosting and payments"}),s.jsx("li",{children:"Agent Commission (5%) = Paid to the agent who referred your property"}),s.jsx("li",{children:"Net Payout = What you receive after all deductions"})]})]})]})})})]})})]})}function FGe(){const[,t]=th(),{data:e,isLoading:r}=Nr({queryKey:["/api/agent/property-details"]});if(r)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(Ti,{className:"h-32 w-full"}),s.jsx(Ti,{className:"h-64 w-full"}),s.jsx(Ti,{className:"h-48 w-full"})]})})]});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-800 p-4 flex items-center justify-center",children:s.jsxs(_e,{className:"max-w-md w-full",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-center",children:" No Property Found"})}),s.jsxs(Te,{children:[s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 mb-4",children:"No property assigned yet. Please contact support."}),s.jsx(Be,{onClick:()=>t("/"),className:"w-full",children:"Go Home"})]})]})})]});const{property:n,owner:i,commission:a}=e;return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(_e,{className:"border-green-500 dark:border-green-400 bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:s.jsx(Te,{className:"pt-8 pb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-4",children:s.jsx(Mr,{className:"h-12 w-12 text-green-600"})}),s.jsx("h1",{className:"text-4xl font-bold mb-3",children:" Congratulations!"}),s.jsx("p",{className:"text-xl text-green-50 mb-2",children:"You're now an official Alga Dellala Agent!"}),s.jsxs("p",{className:"text-green-100",children:["Start earning 5% commission on every booking for the next ",a.durationMonths," months"]})]})})}),s.jsx(_e,{className:"border-emerald-200 dark:border-emerald-800 bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mb-1",children:"Your Commission Per Night"}),s.jsxs("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:["Earn ",a.ratePercentage,"% on every booking"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:[a.estimatedPerNight.toFixed(2)," Birr"]}),s.jsx(Rt,{className:"mt-1 bg-emerald-600 text-white",children:"Per Night"})]})]})})}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5"}),"Property You'll Be Promoting"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-dark-brown dark:text-cream mb-2","data-testid":"text-property-title",children:n.title}),s.jsxs("div",{className:"flex items-center gap-2 text-medium-brown dark:text-cream/80",children:[s.jsx(ki,{className:"h-4 w-4"}),s.jsxs("span",{children:[n.location,", ",n.city]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60",children:"Price Per Night"}),s.jsxs("p",{className:"text-xl font-semibold text-dark-brown dark:text-cream","data-testid":"text-price",children:[parseFloat(n.pricePerNight).toFixed(2)," Birr"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60",children:"Bedrooms"}),s.jsx("p",{className:"text-xl font-semibold text-dark-brown dark:text-cream",children:n.bedrooms})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60",children:"Max Guests"}),s.jsx("p",{className:"text-xl font-semibold text-dark-brown dark:text-cream",children:n.maxGuests})]})]})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(cu,{className:"h-5 w-5"}),"Property Owner Information"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Full Name"}),s.jsx("span",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-name",children:i.fullName})]}),s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Phone Number"})]}),s.jsx("span",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-phone",children:i.phoneNumber})]}),s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kp,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsx("span",{className:"text-medium-brown dark:text-cream/80",children:"Email"})]}),s.jsx("span",{className:"font-semibold text-dark-brown dark:text-cream","data-testid":"text-owner-email",children:i.email})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-medium-brown dark:text-cream/60"}),s.jsxs("span",{className:"text-medium-brown dark:text-cream/80",children:["Payment Account (",i.paymentMethod,")"]})]}),s.jsx("span",{className:"font-semibold text-dark-brown dark:text-cream font-mono","data-testid":"text-payment-account",children:i.paymentAccount})]})]})})]}),s.jsx(_e,{className:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(mo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("p",{className:"font-semibold mb-2",children:" How Your Commission Works"}),s.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[s.jsxs("li",{children:["You earn ",s.jsx("strong",{children:"5% commission"})," on every booking made for this property"]}),s.jsxs("li",{children:["Commission continues for ",s.jsxs("strong",{children:[a.durationMonths," months"]})," from the first booking"]}),s.jsx("li",{children:"Payments are sent automatically to your payment account"}),s.jsx("li",{children:"No ongoing work required - just list once and earn!"})]})]})]})})}),s.jsxs(Be,{onClick:()=>t("/properties"),size:"lg",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white text-lg py-6","data-testid":"button-continue",children:["Continue to Property Listing",s.jsx(o5,{className:"ml-2 h-5 w-5"})]})]})})]})}function EG(){var re,me,ne,G,se,ue,je,Ce;const{user:t}=ti(),e=Ms(),r=Ac(),[n,i]=P.useState(null),[a,o]=P.useState(null),[l,c]=P.useState(null),[u,h]=P.useState(null),{toast:f}=Vn(),v=new URLSearchParams(r.search).get("tab")||"overview",S=ae=>{e(ae==="service-providers"?"/admin/service-providers":`/admin/dashboard?tab=${ae}`)};Ln({mutationFn:async()=>await xn("GET","/api/logout"),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/auth/user"]}),f({title:"Signed out successfully",description:"You have been logged out"}),window.location.href="/"},onError:()=>{f({title:"Sign out failed",description:"Please try again",variant:"destructive"})}});const{data:w=[],isLoading:N}=Nr({queryKey:["/api/admin/users"]}),{data:_=[],isLoading:E}=Nr({queryKey:["/api/admin/properties"]}),{data:T=[],isLoading:M}=Nr({queryKey:["/api/admin/verification-documents"]}),{data:O=[]}=Nr({queryKey:["/api/service-providers"]}),{data:L,isLoading:B}=Nr({queryKey:["/api/admin/stats"]}),U=Ln({mutationFn:async({userId:ae,role:de})=>await xn("PATCH",`/api/admin/users/${ae}/role`,{role:de}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/users"]}),f({title:"User Role Updated",description:"User role has been successfully updated"})}}),$=Ln({mutationFn:async({userId:ae,status:de})=>await xn("PATCH",`/api/admin/users/${ae}/status`,{status:de}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/users"]}),f({title:"User Status Updated",description:"User status has been successfully updated"})}}),K=Ln({mutationFn:async({propertyId:ae,status:de,reason:pe})=>await xn("PATCH",`/api/admin/properties/${ae}/verify`,{status:de,rejectionReason:pe}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/properties"]}),f({title:"Property Verification Updated",description:"Property verification status has been updated"})}}),q=Ln({mutationFn:async({documentId:ae,status:de,reason:pe})=>await xn("PATCH",`/api/admin/documents/${ae}/verify`,{status:de,rejectionReason:pe}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/verification-documents"]}),f({title:"Document Verification Updated",description:"Document verification status has been updated"})}}),{data:H=[],isLoading:Q}=Nr({queryKey:["/api/admin/agents"]}),Z=Ln({mutationFn:async({agentId:ae,status:de,reason:pe})=>await xn("POST",`/api/admin/agents/${ae}/verify`,{status:de,rejectionReason:pe}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/agents"]}),f({title:"Agent Verification Updated",description:"Agent verification status has been updated"}),h(null)}}),J=ae=>{switch(ae){case"admin":return"destructive";case"operator":return"secondary";case"host":return"default";case"guest":return"outline";default:return"outline"}},ye=ae=>{switch(ae){case"admin":return"Admin";case"operator":return"Operator";case"host":return"Guesthouse Owner";case"guest":return"Tenant";default:return ae}},ge=ae=>{switch(ae){case"active":return"default";case"suspended":return"destructive";case"pending":return"secondary";default:return"outline"}},oe=ae=>{switch(ae){case"approved":return"default";case"rejected":return"destructive";case"pending":return"secondary";default:return"outline"}};return t?s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 space-y-4 sm:space-y-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage users, properties, and system operations"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-6",children:[s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>S("users"),"data-testid":"card-users",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ki,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(L==null?void 0:L.totalUsers)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(L==null?void 0:L.newUsersThisMonth)||0," this month"]})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>S("properties"),"data-testid":"card-properties",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Active Properties"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(L==null?void 0:L.activeProperties)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L==null?void 0:L.pendingProperties)||0," pending approval"]})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>S("documents"),"data-testid":"card-documents",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Pending Verifications"}),s.jsx(DN,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(L==null?void 0:L.pendingDocuments)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Documents awaiting review"})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e("/admin/service-providers"),"data-testid":"card-service-providers",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Service Providers"}),s.jsx(Cf,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O.filter(ae=>ae.verificationStatus==="pending").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending approval"})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>S("overview"),"data-testid":"card-revenue",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Xv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[(L==null?void 0:L.totalRevenue)||0," ETB"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(L==null?void 0:L.monthlyRevenue)||0," ETB this month"]})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow border-[#CD7F32] bg-gradient-to-br from-[#f9e9d8] to-white",onClick:()=>e("/admin/lemlem-insights"),"data-testid":"card-lemlem-insights",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"Lemlem AI"}),s.jsx(nM,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-[#CD7F32]",children:"Analytics"}),s.jsx("p",{className:"text-xs text-gray-600",children:"View insights & costs"})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow border-[#CD7F32] bg-gradient-to-br from-[#e3d5c7] to-white ring-2 ring-[#CD7F32] ring-opacity-50",onClick:()=>e("/admin/lemlem-ops"),"data-testid":"card-lemlem-ops",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs(Ye,{className:"text-sm font-medium text-[#2d1405] flex items-center gap-2",children:["Lemlem Ops",s.jsx(Rt,{className:"bg-[#CD7F32] text-white text-[10px] px-1.5 py-0.5",children:"v3"})]}),s.jsx(ua,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-[#CD7F32]",children:"Intelligence"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Query operations data"})]})]}),s.jsxs(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow border-[#CD7F32] bg-gradient-to-br from-[#f9e9d8] to-white",onClick:()=>e("/admin/ai-control"),"data-testid":"card-ai-control",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"AI Controls"}),s.jsx(ua,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-[#CD7F32]",children:"Settings"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Budget & toggles"})]})]})]}),s.jsxs(oc,{value:v,onValueChange:S,className:"space-y-4 sm:space-y-6",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-7 h-auto overflow-x-auto",children:[s.jsx(tn,{value:"overview",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-overview",children:"Overview"}),s.jsx(tn,{value:"users",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-users",children:"Users"}),s.jsx(tn,{value:"properties",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-properties",children:"Properties"}),s.jsx(tn,{value:"documents",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-documents",children:"ID Verify"}),s.jsx(tn,{value:"agents",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-agents",children:"Dellala Agents"}),s.jsx(tn,{value:"service-providers",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-service-providers",children:"Service Providers"}),s.jsx(tn,{value:"config",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-config",children:"Config"})]}),s.jsx(Tn,{value:"overview",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(zg,{className:"h-5 w-5 mr-2 text-eth-red"}),"Admin Control Center"]}),s.jsx(ar,{children:"Overarching system control and monitoring"})]}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ki,{className:"h-5 w-5 text-eth-green"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Total System Users"}),s.jsx("p",{className:"text-sm text-gray-600",children:"All registered accounts"})]})]}),s.jsx("span",{className:"text-2xl font-bold",children:(L==null?void 0:L.totalUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(kn,{className:"h-5 w-5 text-eth-yellow"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Total Properties"}),s.jsx("p",{className:"text-sm text-gray-600",children:"All listings in system"})]})]}),s.jsx("span",{className:"text-2xl font-bold",children:(L==null?void 0:L.activeProperties)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(DN,{className:"h-5 w-5 text-eth-red"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Pending Verifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting admin approval"})]})]}),s.jsx("span",{className:"text-2xl font-bold text-eth-red",children:(L==null?void 0:L.pendingDocuments)||0})]})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(Xv,{className:"h-5 w-5 mr-2 text-eth-green"}),"System Activity"]}),s.jsx(ar,{children:"Real-time platform monitoring"})]}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"New Users (This Month)"}),s.jsxs("span",{className:"font-bold text-eth-green",children:["+",(L==null?void 0:L.newUsersThisMonth)||0]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Properties Pending Review"}),s.jsx("span",{className:"font-bold text-eth-yellow",children:(L==null?void 0:L.pendingProperties)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Platform Revenue"}),s.jsxs("span",{className:"font-bold text-eth-green",children:[(L==null?void 0:L.totalRevenue)||0," ETB"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Monthly Revenue"}),s.jsxs("span",{className:"font-bold text-eth-green",children:[(L==null?void 0:L.monthlyRevenue)||0," ETB"]})]})]})})]}),s.jsxs(_e,{className:"lg:col-span-2",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(Qv,{className:"h-5 w-5 mr-2 text-eth-yellow"}),"Role Distribution"]}),s.jsx(ar,{children:"User roles across the platform"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Admins"}),s.jsx("p",{className:"text-3xl font-bold text-eth-red",children:w.filter(ae=>ae.role==="admin").length})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Operators"}),s.jsx("p",{className:"text-3xl font-bold text-eth-yellow",children:w.filter(ae=>ae.role==="operator").length})]}),s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Guesthouse Owners"}),s.jsx("p",{className:"text-3xl font-bold text-eth-green",children:w.filter(ae=>ae.role==="host").length})]}),s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tenants"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:w.filter(ae=>ae.role==="guest").length})]})]})})]}),s.jsxs(_e,{className:"lg:col-span-2",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(Cf,{className:"h-5 w-5 mr-2",style:{color:"#d97706"}}),"Service Provider Applications"]}),s.jsx(ar,{children:"Review and approve service provider applications"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"#d97706"},children:O.filter(ae=>ae.verificationStatus==="pending").length})]}),s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Verified"}),s.jsx("p",{className:"text-3xl font-bold text-eth-green",children:O.filter(ae=>ae.verificationStatus==="verified").length})]}),s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rejected"}),s.jsx("p",{className:"text-3xl font-bold text-eth-red",children:O.filter(ae=>ae.verificationStatus==="rejected").length})]})]}),s.jsxs(Be,{onClick:()=>e("/admin/service-providers"),className:"w-full",style:{background:"#2d1405"},"data-testid":"button-manage-providers",children:[s.jsx(Cf,{className:"h-4 w-4 mr-2"}),"Manage Service Provider Applications"]})]})]})]})}),s.jsx(Tn,{value:"users",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"User Management"}),s.jsx(ar,{children:"Manage user roles, status, and permissions"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"User"}),s.jsx(zt,{children:"Role"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Verified"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:w.map(ae=>s.jsxs(Mn,{children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:ae.profileImageUrl||"/placeholder-avatar.png",alt:ae.firstName,className:"h-8 w-8 rounded-full"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[ae.firstName," ",ae.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ae.email})]})]})}),s.jsx(Ot,{children:s.jsx(Rt,{variant:J(ae.role),children:ye(ae.role)})}),s.jsx(Ot,{children:s.jsx(Rt,{variant:ge(ae.status),children:ae.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex space-x-1",children:[ae.phoneVerified&&s.jsx(Rt,{variant:"outline",className:"text-green-600",children:"Phone"}),ae.idVerified&&s.jsx(Rt,{variant:"outline",className:"text-green-600",children:"ID"})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Jn,{value:ae.role,onValueChange:de=>U.mutate({userId:ae.id,role:de}),children:[s.jsx(Gn,{className:"w-[180px]","data-testid":`select-role-${ae.id}`,children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"guest",children:"Tenant"}),s.jsx(Vt,{value:"host",children:"Guesthouse Owner"}),s.jsx(Vt,{value:"operator",children:"Operator"}),s.jsx(Vt,{value:"admin",children:"Admin"})]})]}),s.jsx(Be,{variant:ae.status==="active"?"destructive":"default",size:"sm",onClick:()=>$.mutate({userId:ae.id,status:ae.status==="active"?"suspended":"active"}),children:ae.status==="active"?s.jsx(jre,{className:"h-4 w-4"}):s.jsx(Qv,{className:"h-4 w-4"})})]})})]},ae.id))})]})})]})}),s.jsxs(Tn,{value:"properties",children:[s.jsxs(_e,{className:"mb-6",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Cf,{className:"h-5 w-5 text-purple-600"}),"Dellala Properties (",_.filter(ae=>ae.agentInfo).length,")"]}),s.jsx(ar,{children:"Properties brought in by Dellala agents - verify ownership and listings"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Property"}),s.jsx(zt,{children:"Owner"}),s.jsx(zt,{children:"Dellala Agent"}),s.jsx(zt,{children:"Location"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:_.filter(ae=>ae.agentInfo).length>0?_.filter(ae=>ae.agentInfo).map(ae=>{var de,pe,Oe,ze;return s.jsxs(Mn,{children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:((de=ae.images)==null?void 0:de[0])||"/placeholder-property.png",alt:ae.title,className:"h-12 w-12 rounded object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>e(`/properties/${ae.id}`),"data-testid":`img-property-${ae.id}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ae.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ae.type})]})]})}),s.jsx(Ot,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[(pe=ae.host)==null?void 0:pe.firstName," ",(Oe=ae.host)==null?void 0:Oe.lastName]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(ze=ae.host)==null?void 0:ze.phoneNumber})]})}),s.jsx(Ot,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-purple-700",children:ae.agentInfo.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ae.agentInfo.phoneNumber}),s.jsxs(Rt,{variant:"outline",className:"mt-1 text-xs",children:[parseFloat(ae.agentInfo.totalCommissionEarned).toFixed(2)," ETB earned"]})]})}),s.jsxs(Ot,{children:[ae.city,", ",ae.region]}),s.jsx(Ot,{children:s.jsx(Rt,{variant:oe(ae.status),children:ae.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Be,{variant:"outline",size:"sm",onClick:()=>e(`/properties/${ae.id}`),"data-testid":`button-view-property-${ae.id}`,children:s.jsx(Df,{className:"h-4 w-4"})}),ae.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Be,{variant:"default",size:"sm",onClick:()=>K.mutate({propertyId:ae.id,status:"approved"}),"data-testid":`button-approve-property-${ae.id}`,children:s.jsx(Mr,{className:"h-4 w-4"})}),s.jsx(Be,{variant:"destructive",size:"sm",onClick:()=>o(ae),"data-testid":`button-reject-property-${ae.id}`,children:s.jsx(Do,{className:"h-4 w-4"})})]})]})})]},ae.id)}):s.jsx(Mn,{children:s.jsxs(Ot,{colSpan:6,className:"text-center py-8 text-gray-500",children:[s.jsx(Cf,{className:"h-12 w-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No Dellala properties yet"})]})})})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-blue-600"}),"Direct Properties (",_.filter(ae=>!ae.agentInfo).length,")"]}),s.jsx(ar,{children:"Properties listed directly by hosts"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Property"}),s.jsx(zt,{children:"Host"}),s.jsx(zt,{children:"Location"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:_.filter(ae=>!ae.agentInfo).length>0?_.filter(ae=>!ae.agentInfo).map(ae=>{var de,pe,Oe;return s.jsxs(Mn,{children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:((de=ae.images)==null?void 0:de[0])||"/placeholder-property.png",alt:ae.title,className:"h-12 w-12 rounded object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>e(`/properties/${ae.id}`),"data-testid":`img-property-${ae.id}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ae.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ae.type})]})]})}),s.jsxs(Ot,{children:[(pe=ae.host)==null?void 0:pe.firstName," ",(Oe=ae.host)==null?void 0:Oe.lastName]}),s.jsxs(Ot,{children:[ae.city,", ",ae.region]}),s.jsx(Ot,{children:s.jsx(Rt,{variant:oe(ae.status),children:ae.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Be,{variant:"outline",size:"sm",onClick:()=>e(`/properties/${ae.id}`),"data-testid":`button-view-property-${ae.id}`,children:s.jsx(Df,{className:"h-4 w-4"})}),ae.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Be,{variant:"default",size:"sm",onClick:()=>K.mutate({propertyId:ae.id,status:"approved"}),children:s.jsx(Mr,{className:"h-4 w-4"})}),s.jsx(Be,{variant:"destructive",size:"sm",onClick:()=>o(ae),children:s.jsx(Do,{className:"h-4 w-4"})})]})]})})]},ae.id)}):s.jsx(Mn,{children:s.jsxs(Ot,{colSpan:5,className:"text-center py-8 text-gray-500",children:[s.jsx(kn,{className:"h-12 w-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No direct properties yet"})]})})})]})})]})]}),s.jsx(Tn,{value:"documents",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"ID Verification"}),s.jsx(ar,{children:"Review user identification documents"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"User"}),s.jsx(zt,{children:"Document Type"}),s.jsx(zt,{children:"Submitted"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:T.map(ae=>{var de,pe,Oe;return s.jsxs(Mn,{children:[s.jsx(Ot,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[(de=ae.user)==null?void 0:de.firstName," ",(pe=ae.user)==null?void 0:pe.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(Oe=ae.user)==null?void 0:Oe.email})]})}),s.jsx(Ot,{children:s.jsx(Rt,{variant:"outline",children:ae.documentType.replace("_"," ")})}),s.jsx(Ot,{children:new Date(ae.createdAt).toLocaleDateString()}),s.jsx(Ot,{children:s.jsx(Rt,{variant:oe(ae.status),children:ae.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Be,{variant:"outline",size:"sm",onClick:()=>c(ae),"data-testid":`button-view-document-${ae.id}`,children:s.jsx(Df,{className:"h-4 w-4"})}),ae.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Be,{variant:"default",size:"sm",onClick:()=>q.mutate({documentId:ae.id,status:"approved"}),children:s.jsx(Mr,{className:"h-4 w-4"})}),s.jsx(Be,{variant:"destructive",size:"sm",onClick:()=>c(ae),children:s.jsx(Do,{className:"h-4 w-4"})})]})]})})]},ae.id)})})]})})]})}),s.jsx(Tn,{value:"agents",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(Cf,{className:"h-5 w-5 mr-2"}),"Dellala Agent Management"]}),s.jsx(ar,{children:"Approve or reject Dellala agent applications"})]}),s.jsx(Te,{children:Q?s.jsx("div",{className:"text-center py-8",children:"Loading agents..."}):H.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cf,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"No Dellala agent applications found"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Rt,{variant:"secondary",children:["Total: ",H.length]}),s.jsxs(Rt,{variant:"outline",children:["Pending: ",H.filter(ae=>ae.status==="pending").length]}),s.jsxs(Rt,{variant:"default",children:["Approved: ",H.filter(ae=>ae.status==="approved").length]}),s.jsxs(Rt,{variant:"destructive",children:["Rejected: ",H.filter(ae=>ae.status==="rejected").length]})]}),s.jsx("div",{className:"rounded-md border overflow-auto",children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Agent Name"}),s.jsx(zt,{children:"Phone"}),s.jsx(zt,{children:"City"}),s.jsx(zt,{children:"Telebirr"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Properties"}),s.jsx(zt,{children:"Earnings"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:H.map(ae=>{var de;return s.jsxs(Mn,{children:[s.jsx(Ot,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ae.fullName}),s.jsx("div",{className:"text-sm text-gray-600",children:(de=ae.user)==null?void 0:de.email})]})}),s.jsx(Ot,{children:ae.phoneNumber}),s.jsx(Ot,{children:ae.city}),s.jsx(Ot,{className:"font-mono text-sm",children:ae.telebirrAccount}),s.jsx(Ot,{children:s.jsx(Rt,{variant:ae.status==="approved"?"default":ae.status==="pending"?"secondary":ae.status==="rejected"?"destructive":"outline",children:ae.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[ae.activeProperties," active"]}),s.jsxs("div",{className:"text-gray-600",children:[ae.totalProperties," total"]})]})}),s.jsxs(Ot,{className:"font-mono",children:[ae.totalEarnings," ETB"]}),s.jsx(Ot,{children:s.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>h(ae),"data-testid":`button-view-agent-${ae.id}`,children:[s.jsx(Df,{className:"h-4 w-4 mr-1"}),"View"]})})]},ae.id)})})]})})]})})]})}),s.jsx(Tn,{value:"config",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(_b,{className:"h-5 w-5 mr-2"}),"System Settings"]}),s.jsx(ar,{children:"Configure platform-wide settings"})]}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Property Approval Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"New properties need admin approval before listing"})]}),s.jsx(Rt,{variant:"default",children:"Enabled"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"ID Verification Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Users must verify ID to make bookings"})]}),s.jsx(Rt,{variant:"default",children:"Enabled"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-assign Operators"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Automatically assign verifications to operators"})]}),s.jsx(Rt,{variant:"secondary",children:"Disabled"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Platform Commission"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Commission rate for bookings"})]}),s.jsx("span",{className:"font-bold",children:"15%"})]})})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center",children:[s.jsx(Qv,{className:"h-5 w-5 mr-2"}),"Operator Management"]}),s.jsx(ar,{children:"Manage verification operators"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Operators review and verify guesthouse owner details, ensuring all documentation and specifications are met before properties are listed."}),s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("p",{className:"font-medium mb-1",children:"Active Operators"}),s.jsx("p",{className:"text-3xl font-bold text-eth-yellow",children:w.filter(ae=>ae.role==="operator").length})]}),s.jsx("div",{className:"space-y-2",children:w.filter(ae=>ae.role==="operator").length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No operators assigned yet. Promote users from User Management tab."}):w.filter(ae=>ae.role==="operator").map(ae=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:ae.profileImageUrl||"/placeholder-avatar.png",alt:ae.firstName,className:"h-8 w-8 rounded-full"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[ae.firstName," ",ae.lastName]}),s.jsx("p",{className:"text-xs text-gray-600",children:ae.email})]})]}),s.jsx(Rt,{variant:"secondary",children:"Operator"})]},ae.id))})]})})]}),s.jsxs(_e,{className:"lg:col-span-2 border-2 border-[#CD7F32]",children:[s.jsxs(Ge,{className:"bg-gradient-to-br from-[#f9e9d8] to-white",children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-5 w-5 text-[#CD7F32]"}),"Roles & Permissions"]}),s.jsx(ar,{children:"Manage user access levels and understand role capabilities"})]}),s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(cu,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.filter(ae=>ae.role==="guest").length}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Tenants"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(kn,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.filter(ae=>ae.role==="host").length}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Guesthouse Owners"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx(zg,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:w.filter(ae=>ae.role==="operator").length}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Operators"})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx(ps,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.filter(ae=>ae.role==="admin").length}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Admins"})]})]}),s.jsxs("div",{className:"bg-[#f9e9d8] p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"View detailed permissions for each role, manage user access levels, and understand what each role can do in the platform."}),s.jsxs(Be,{onClick:()=>e("/admin/roles-permissions"),className:"w-full",style:{background:"#CD7F32"},"data-testid":"button-manage-roles",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"Manage Roles & Permissions"]})]})]})})]}),s.jsxs(_e,{className:"lg:col-span-2",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Admin Privileges Summary"}),s.jsx(ar,{children:"Full system control and capabilities"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border-l-4 border-eth-red bg-red-50",children:[s.jsx("h4",{className:"font-semibold text-eth-red mb-2",children:"User Management"}),s.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[s.jsx("li",{children:" Change user roles (Admin, Operator, Guesthouse Owner, Tenant)"}),s.jsx("li",{children:" Suspend or activate user accounts"}),s.jsx("li",{children:" View all user verification status"})]})]}),s.jsxs("div",{className:"p-4 border-l-4 border-eth-yellow bg-yellow-50",children:[s.jsx("h4",{className:"font-semibold text-eth-yellow mb-2",children:"Property Verification"}),s.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[s.jsx("li",{children:" Approve or reject property listings"}),s.jsx("li",{children:" Review property documentation"}),s.jsx("li",{children:" Ensure compliance with platform standards"})]})]}),s.jsxs("div",{className:"p-4 border-l-4 border-eth-green bg-green-50",children:[s.jsx("h4",{className:"font-semibold text-eth-green mb-2",children:"Document Verification"}),s.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[s.jsx("li",{children:" Review ID verification documents"}),s.jsx("li",{children:" Approve or reject verification requests"}),s.jsx("li",{children:" Maintain platform integrity and trustworthiness"})]})]}),s.jsxs("div",{className:"p-4 border-l-4 border-blue-600 bg-blue-50",children:[s.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"System Configuration"}),s.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[s.jsx("li",{children:" Configure platform-wide settings"}),s.jsx("li",{children:" Manage operator assignments"}),s.jsx("li",{children:" Oversee all platform activities"})]})]})]})})]})]})})]}),l&&s.jsx(Uo,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(po,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(go,{children:[s.jsx(xo,{className:"text-xl",children:"ID Verification Review"}),s.jsx(Sc,{children:"Review identification document and user details"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold text-eth-brown mb-3 flex items-center",children:[s.jsx(cu,{className:"h-5 w-5 mr-2"}),"User Information"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Full Name"}),s.jsxs("p",{className:"font-medium",children:[(re=l.user)==null?void 0:re.firstName," ",(me=l.user)==null?void 0:me.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Email"}),s.jsx("p",{className:"font-medium",children:(ne=l.user)==null?void 0:ne.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:(G=l.user)==null?void 0:G.phoneNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"User ID"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:l.userId})]})]})]}),l.user&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold text-eth-brown mb-3 flex items-center",children:[s.jsx(DN,{className:"h-5 w-5 mr-2"}),"Scanned ID Details"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[l.user.idNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"ID Number"}),s.jsx("p",{className:"font-medium font-mono",children:l.user.idNumber})]}),l.user.idFullName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Name on ID"}),s.jsx("p",{className:"font-medium",children:l.user.idFullName})]}),l.user.idDocumentType&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Document Type"}),s.jsx(Rt,{variant:"outline",className:"mt-1",children:l.user.idDocumentType.replace("_"," ")})]}),l.user.idCountry&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Country"}),s.jsx("p",{className:"font-medium",children:l.user.idCountry})]}),l.user.idExpiryDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Expiry Date"}),s.jsx("p",{className:"font-medium",children:l.user.idExpiryDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-1",children:"Submitted"}),s.jsx("p",{className:"font-medium",children:new Date(l.createdAt).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-3",children:"Document Image"}),l.documentUrl&&!l.documentUrl.includes("placeholder")||(se=l.user)!=null&&se.idDocumentUrl?s.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden bg-gray-100",children:s.jsx("img",{src:((ue=l.user)==null?void 0:ue.idDocumentUrl)||l.documentUrl||"",alt:"Verification Document",className:"w-full max-h-[400px] object-contain","data-testid":`img-document-${l.id}`})}):s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg bg-gray-100 p-8 text-center",children:[s.jsx(DN,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:"ID Document Verified Digitally"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This user submitted their ID information through digital ID scanning. All extracted data is shown above."}),((je=l.user)==null?void 0:je.idNumber)&&s.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Verified ID Number"}),s.jsx("p",{className:"font-mono font-medium text-eth-brown",children:l.user.idNumber})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Status"}),s.jsx(Rt,{variant:oe(l.status),className:"text-sm",children:l.status})]}),l.rejectionReason&&s.jsxs("div",{className:"flex-1 ml-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-600",children:l.rejectionReason})]})]}),l.status==="pending"&&s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"rejection-reason",children:"Rejection Reason (Optional)"}),s.jsx(_i,{id:"rejection-reason",placeholder:"Provide a reason if rejecting this document...",className:"mt-2","data-testid":"textarea-rejection-reason"})]}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>c(null),"data-testid":"button-cancel-review",children:"Cancel"}),s.jsxs(Be,{variant:"destructive",onClick:()=>{var de;const ae=(de=document.getElementById("rejection-reason"))==null?void 0:de.value;q.mutate({documentId:l.id,status:"rejected",reason:ae}),c(null)},"data-testid":"button-reject-document",children:[s.jsx(Do,{className:"h-4 w-4 mr-2"}),"Reject"]}),s.jsxs(Be,{onClick:()=>{q.mutate({documentId:l.id,status:"approved"}),c(null)},"data-testid":"button-approve-document",children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve & Upgrade to Host"]})]})]})]})]})}),u&&s.jsx(Uo,{open:!!u,onOpenChange:()=>h(null),children:s.jsxs(po,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(go,{children:[s.jsxs(xo,{className:"flex items-center",children:[s.jsx(Cf,{className:"h-5 w-5 mr-2 text-eth-brown"}),"Dellala Agent Application - ",u.fullName]}),s.jsx(Sc,{children:"Review and approve or reject this Dellala agent application"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:u.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email"}),s.jsx("p",{className:"font-medium",children:(Ce=u.user)==null?void 0:Ce.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phone Number"}),s.jsx("p",{className:"font-medium font-mono",children:u.phoneNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Telebirr Account"}),s.jsx("p",{className:"font-medium font-mono",children:u.telebirrAccount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"City"}),s.jsx("p",{className:"font-medium",children:u.city})]}),u.subCity&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Sub-City"}),s.jsx("p",{className:"font-medium",children:u.subCity})]}),u.idNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Number"}),s.jsx("p",{className:"font-medium font-mono",children:u.idNumber})]}),u.businessName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Business Name"}),s.jsx("p",{className:"font-medium",children:u.businessName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-medium font-mono",children:u.referralCode})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Applied On"}),s.jsx("p",{className:"font-medium",children:new Date(u.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold",children:u.totalProperties})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Properties"}),s.jsx("p",{className:"text-2xl font-bold",children:u.activeProperties})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Earnings"}),s.jsxs("p",{className:"text-2xl font-bold",children:[u.totalEarnings," ETB"]})]})]}),u.idDocumentUrl&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-3",children:"ID Document"}),s.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden bg-gray-100",children:s.jsx("img",{src:u.idDocumentUrl,alt:"Agent ID Document",className:"w-full max-h-[400px] object-contain","data-testid":`img-agent-id-${u.id}`})})]}),u.businessLicenseUrl&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-3",children:"Business License"}),s.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden bg-gray-100",children:s.jsx("img",{src:u.businessLicenseUrl,alt:"Business License",className:"w-full max-h-[400px] object-contain","data-testid":`img-agent-license-${u.id}`})})]}),s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Status"}),s.jsx(Rt,{variant:u.status==="approved"?"default":u.status==="pending"?"secondary":u.status==="rejected"?"destructive":"outline",className:"text-sm",children:u.status})]}),u.rejectionReason&&s.jsxs("div",{className:"flex-1 ml-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-600",children:u.rejectionReason})]})]}),u.status==="pending"&&s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"agent-rejection-reason",children:"Rejection Reason (Optional)"}),s.jsx(_i,{id:"agent-rejection-reason",placeholder:"Provide a reason if rejecting this agent application...",className:"mt-2","data-testid":"textarea-agent-rejection-reason"})]}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>h(null),"data-testid":"button-cancel-agent-review",children:"Cancel"}),s.jsxs(Be,{variant:"destructive",onClick:()=>{var de;const ae=(de=document.getElementById("agent-rejection-reason"))==null?void 0:de.value;Z.mutate({agentId:u.id,status:"rejected",reason:ae})},disabled:Z.isPending,"data-testid":"button-reject-agent",children:[s.jsx(Do,{className:"h-4 w-4 mr-2"}),Z.isPending?"Rejecting...":"Reject"]}),s.jsxs(Be,{onClick:()=>{Z.mutate({agentId:u.id,status:"approved"})},disabled:Z.isPending,"data-testid":"button-approve-agent",children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),Z.isPending?"Approving...":"Approve Agent"]})]})]})]})]})})]})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(zg,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Admin Dashboard"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to access the admin dashboard"}),s.jsx(Be,{onClick:()=>e("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})})}function TG(){const t=Ms(),{toast:e}=Vn(),[r,n]=P.useState(null),[i,a]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(""),[h,f]=P.useState(""),[y,v]=P.useState("pending"),S=H=>{H!=="service-providers"&&t(`/admin/dashboard?tab=${H}`)},{data:w=[],isLoading:N}=Nr({queryKey:["/api/service-providers"]}),_=w.filter(H=>H.verificationStatus==="pending"),E=w.filter(H=>H.verificationStatus==="verified"),T=w.filter(H=>H.verificationStatus==="rejected"),M=Ln({mutationFn:async({id:H,basePrice:Q})=>xn("POST",`/api/admin/service-providers/${H}/approve`,{basePrice:Q}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/service-providers"]}),e({title:"Provider Approved",description:"Service provider has been approved and notified via email."}),a(!1),n(null),u("")},onError:H=>{e({title:"Approval Failed",description:H.message||"Failed to approve provider",variant:"destructive"})}}),O=Ln({mutationFn:async({id:H,reason:Q})=>xn("POST",`/api/admin/service-providers/${H}/reject`,{reason:Q}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/service-providers"]}),e({title:"Provider Rejected",description:"Service provider has been rejected and notified via email."}),l(!1),n(null),f("")},onError:H=>{e({title:"Rejection Failed",description:H.message||"Failed to reject provider",variant:"destructive"})}}),L=H=>{n(H),u(""),a(!0)},B=H=>{n(H),f(""),l(!0)},U=()=>{!r||!c||M.mutate({id:r.id,basePrice:c})},$=()=>{!r||!h||O.mutate({id:r.id,reason:h})},K=H=>H.charAt(0).toUpperCase()+H.slice(1).replace(/_/g," "),q=H=>s.jsxs(_e,{className:"border-[#e5ddd5]","data-testid":`card-provider-${H.id}`,children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ye,{className:"text-xl text-[#2d1405]","data-testid":`text-business-name-${H.id}`,children:H.businessName}),s.jsxs(ar,{className:"flex items-center gap-2",children:[s.jsx(hre,{className:"h-4 w-4"}),K(H.serviceType)]})]}),s.jsxs(Rt,{variant:H.verificationStatus==="verified"?"default":H.verificationStatus==="rejected"?"destructive":"secondary","data-testid":`status-verification-${H.id}`,children:[H.verificationStatus==="pending"&&s.jsx(ei,{className:"h-3 w-3 mr-1"}),H.verificationStatus==="verified"&&s.jsx(Mr,{className:"h-3 w-3 mr-1"}),H.verificationStatus==="rejected"&&s.jsx(Do,{className:"h-3 w-3 mr-1"}),H.verificationStatus.charAt(0).toUpperCase()+H.verificationStatus.slice(1)]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsx("p",{className:"text-sm text-[#5a4a42] leading-relaxed","data-testid":`text-description-${H.id}`,children:H.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-[#e5ddd5]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#5a4a42]",children:[s.jsx(ki,{className:"h-4 w-4"}),s.jsx("span",{"data-testid":`text-city-${H.id}`,children:H.city})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#5a4a42]",children:[s.jsx(ii,{className:"h-4 w-4"}),s.jsxs("span",{"data-testid":`text-price-${H.id}`,children:[H.basePrice," ETB/",H.pricingModel]})]})]}),H.user&&s.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2 border-t border-[#e5ddd5]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#5a4a42]",children:[s.jsx(kp,{className:"h-4 w-4"}),s.jsx("span",{"data-testid":`text-email-${H.id}`,children:H.user.email})]}),H.user.phoneNumber&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#5a4a42]",children:[s.jsx(Gh,{className:"h-4 w-4"}),s.jsx("span",{"data-testid":`text-phone-${H.id}`,children:H.user.phoneNumber})]})]}),H.rejectionReason&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:"Rejection Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:H.rejectionReason})]})]}),H.verificationStatus==="pending"&&s.jsxs(cne,{className:"flex gap-2 border-t border-[#e5ddd5] pt-4",children:[s.jsxs(Be,{onClick:()=>L(H),className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":`button-approve-${H.id}`,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(Be,{onClick:()=>B(H),variant:"destructive",className:"flex-1","data-testid":`button-reject-${H.id}`,children:[s.jsx(Do,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]},H.id);return N?s.jsx("div",{className:"min-h-screen bg-[#faf5f0] pt-24 pb-12",children:s.jsx("div",{className:"container max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2d1405] mx-auto"}),s.jsx("p",{className:"mt-4 text-[#5a4a42]",children:"Loading applications..."})]})})}):s.jsx("div",{className:"min-h-screen bg-[#faf5f0] pt-24 pb-12",children:s.jsxs("div",{className:"container max-w-7xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx(oc,{value:"service-providers",onValueChange:S,className:"w-full",children:s.jsxs(Fl,{className:"grid w-full grid-cols-6 h-auto overflow-x-auto mb-6",children:[s.jsx(tn,{value:"overview",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-overview",children:"Overview"}),s.jsx(tn,{value:"users",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-users",children:"Users"}),s.jsx(tn,{value:"properties",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-properties",children:"Properties"}),s.jsx(tn,{value:"documents",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-documents",children:"ID Verify"}),s.jsx(tn,{value:"service-providers",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-service-providers",children:"Service Providers"}),s.jsx(tn,{value:"config",className:"text-xs sm:text-sm whitespace-nowrap","data-testid":"tab-config",children:"Config"})]})})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-[#2d1405] mb-2",style:{fontFamily:"'Playfair Display', Georgia, serif"},children:"Service Provider Verification"}),s.jsx("p",{className:"text-lg text-[#5a4a42]",children:"Review and approve service provider applications"})]}),s.jsxs(oc,{value:y,onValueChange:v,className:"w-full",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(tn,{value:"pending","data-testid":"tab-pending",children:["Pending (",_.length,")"]}),s.jsxs(tn,{value:"verified","data-testid":"tab-verified",children:["Verified (",E.length,")"]}),s.jsxs(tn,{value:"rejected","data-testid":"tab-rejected",children:["Rejected (",T.length,")"]})]}),s.jsx(Tn,{value:"pending",className:"mt-6",children:_.length===0?s.jsx(_e,{className:"border-[#e5ddd5]",children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(ei,{className:"h-12 w-12 text-[#8b7a72] mx-auto mb-4"}),s.jsx("p",{className:"text-[#5a4a42]",children:"No pending applications"})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:_.map(q)})}),s.jsx(Tn,{value:"verified",className:"mt-6",children:E.length===0?s.jsx(_e,{className:"border-[#e5ddd5]",children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Mr,{className:"h-12 w-12 text-[#8b7a72] mx-auto mb-4"}),s.jsx("p",{className:"text-[#5a4a42]",children:"No verified providers yet"})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:E.map(q)})}),s.jsx(Tn,{value:"rejected",className:"mt-6",children:T.length===0?s.jsx(_e,{className:"border-[#e5ddd5]",children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Do,{className:"h-12 w-12 text-[#8b7a72] mx-auto mb-4"}),s.jsx("p",{className:"text-[#5a4a42]",children:"No rejected applications"})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.map(q)})})]}),s.jsx(Uo,{open:i,onOpenChange:a,children:s.jsxs(po,{"data-testid":"dialog-approve",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Approve Service Provider"}),s.jsxs(Sc,{children:["Set the base price for ",r==null?void 0:r.businessName]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"basePrice",children:"Base Price (ETB per hour)"}),s.jsx(Or,{id:"basePrice",type:"number",step:"0.01",placeholder:"500.00",value:c,onChange:H=>u(H.target.value),"data-testid":"input-base-price"}),s.jsx("p",{className:"text-sm text-[#8b7a72]",children:"This will be the starting hourly rate for this service provider"})]})}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-approve",children:"Cancel"}),s.jsx(Be,{onClick:U,disabled:!c||M.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:M.isPending?"Approving...":"Approve & Notify"})]})]})}),s.jsx(Uo,{open:o,onOpenChange:l,children:s.jsxs(po,{"data-testid":"dialog-reject",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Reject Service Provider"}),s.jsxs(Sc,{children:["Provide a reason for rejecting ",r==null?void 0:r.businessName]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"rejectionReason",children:"Rejection Reason"}),s.jsx(_i,{id:"rejectionReason",placeholder:"Please provide a clear reason for rejection...",value:h,onChange:H=>f(H.target.value),rows:4,"data-testid":"input-rejection-reason"}),s.jsx("p",{className:"text-sm text-[#8b7a72]",children:"This will be sent to the applicant via email"})]})}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-reject",children:"Cancel"}),s.jsx(Be,{onClick:$,disabled:!h||O.isPending,variant:"destructive","data-testid":"button-confirm-reject",children:O.isPending?"Rejecting...":"Reject & Notify"})]})]})})]})})}function BGe(){const{user:t}=ti(),[,e]=th();if(t&&t.role!=="admin")return e("/"),null;if(!t)return e("/login"),null;const{data:r,isLoading:n}=Nr({queryKey:["/api/admin/lemlem-insights"]}),{data:i}=Nr({queryKey:["/api/admin/platform-settings"]});if(n)return s.jsx("div",{className:"min-h-screen bg-[#f9e9d8] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#CD7F32] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading insights..."})]})});const a=(r==null?void 0:r.totalChats)||0,o=(r==null?void 0:r.templateChats)||0,l=(r==null?void 0:r.aiChats)||0,c=(r==null?void 0:r.totalCost)||0,u=(r==null?void 0:r.thisMonthCost)||0,h=(r==null?void 0:r.topQuestions)||[],f=(r==null?void 0:r.costByDay)||[],y=(r==null?void 0:r.mostActiveProperties)||[],v=(r==null?void 0:r.impact)||{},S=a>0?(o/a*100).toFixed(1):0,w=a>0?(l/a*100).toFixed(1):0,N=l>0?(c/l).toFixed(6):0,_=i!=null&&i.monthlyBudgetUSD?u/parseFloat(i.monthlyBudgetUSD)*100:0;return s.jsxs("div",{className:"min-h-screen bg-[#f9e9d8]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsx(tf,{}),s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(ua,{className:"h-8 w-8 text-[#CD7F32]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-[#2d1405]",children:"Lemlem AI Insights"}),s.jsx("p",{className:"text-gray-600",children:"Analytics, costs, and usage statistics"})]})]}),_>((i==null?void 0:i.alertThreshold)||80)&&s.jsx(_e,{className:"mb-6 border-yellow-500 bg-yellow-50",children:s.jsxs(Te,{className:"p-4 flex items-center gap-3",children:[s.jsx(Da,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-yellow-900",children:["Budget Alert: ",_,"% Used"]}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["$",u.toFixed(2)," of $",(i==null?void 0:i.monthlyBudgetUSD)||"20.00"," monthly budget used"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Conversations"}),s.jsx("p",{className:"text-3xl font-bold text-[#2d1405]",children:a.toLocaleString()})]}),s.jsx(h2e,{className:"h-10 w-10 text-[#CD7F32]"})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Template Responses"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.toLocaleString()}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[S,"%  FREE "]})]}),s.jsx(Vd,{className:"h-10 w-10 text-green-500"})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"AI Responses"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:l.toLocaleString()}),s.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:[w,"%  $",N," avg"]})]}),s.jsx(ua,{className:"h-10 w-10 text-yellow-500"})]})})}),s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month's Cost"}),s.jsxs("p",{className:"text-3xl font-bold text-[#CD7F32]",children:["$",u.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[_,"% of budget"]})]}),s.jsx(ii,{className:"h-10 w-10 text-[#CD7F32]"})]})})})]}),s.jsxs(oc,{defaultValue:"questions",className:"space-y-6",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[s.jsx(tn,{value:"questions",children:"Top Questions"}),s.jsx(tn,{value:"properties",children:"Properties"}),s.jsx(tn,{value:"impact",children:"Impact"}),s.jsx(tn,{value:"trends",children:"Trends"})]}),s.jsx(Tn,{value:"questions",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Most Asked Questions"}),s.jsx(ar,{children:"Questions guests ask most frequently. Green = template, Yellow = AI."})]}),s.jsx(Te,{children:h.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No questions yet"}):s.jsx("div",{className:"space-y-3",children:h.map((E,T)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#f9e9d8] rounded-lg","data-testid":`question-${T}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-[#2d1405]",children:E.message}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Asked ",E.count," ",E.count===1?"time":"times"]})]}),s.jsx(Rt,{variant:E.usedTemplate?"default":"secondary",className:E.usedTemplate?"bg-green-500":"bg-yellow-500",children:E.usedTemplate?"Template":"AI"})]},T))})})]})}),s.jsx(Tn,{value:"properties",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Most Active Properties"}),s.jsx(ar,{children:"Properties with the most Lemlem conversations"})]}),s.jsx(Te,{children:y.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No property data yet"}):s.jsx("div",{className:"space-y-3",children:y.map((E,T)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#f9e9d8] rounded-lg","data-testid":`property-${T}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-[#2d1405]",children:E.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.chatCount," conversations  $",(E.totalCost||0).toFixed(4)," spent"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-green-600",children:[E.templateCount," free"]}),s.jsxs("p",{className:"text-sm text-yellow-600",children:[E.aiCount," AI"]})]})]},T))})})]})}),s.jsx(Tn,{value:"impact",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Lemlem Impact Metrics"}),s.jsx(ar,{children:"How Lemlem interactions drive bookings and engagement"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-[#f9e9d8] p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Users with Lemlem Chats"}),s.jsx("p",{className:"text-3xl font-bold text-[#2d1405]",children:v.usersWithChats||0})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bookings After Chats"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:v.bookingsAfterChats||0})]}),s.jsxs("div",{className:"bg-[#CD7F32]/10 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conversion Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-[#CD7F32]",children:[v.conversionRate||"0.0","%"]})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-[#2d1405] mb-3",children:"Top Properties by Engagement"}),!v.topPropertiesByEngagement||v.topPropertiesByEngagement.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No engagement data yet"}):s.jsx("div",{className:"space-y-3",children:v.topPropertiesByEngagement.map((E,T)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#f9e9d8] rounded-lg","data-testid":`engagement-${T}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-[#2d1405]",children:E.title||`Property #${E.propertyId}`}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.totalChats," chats  ",E.uniqueUsers," unique visitors"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-green-600",children:[E.bookingsAfterChat||0," bookings"]}),s.jsxs("p",{className:"text-sm text-[#CD7F32] font-bold",children:[E.conversionRate||"0.0","% conversion"]})]})]},T))})]})]})}),s.jsx(Tn,{value:"trends",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Cost Trends"}),s.jsx(ar,{children:"Daily AI spending over the past 30 days"})]}),s.jsx(Te,{children:f.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No trend data yet"}):s.jsx("div",{className:"space-y-2",children:f.map((E,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#f9e9d8] rounded","data-testid":`day-${T}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:new Date(E.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[E.count," chats"]}),s.jsxs("span",{className:"text-sm font-bold text-[#CD7F32]",children:["$",(E.cost||0).toFixed(4)]})]})]},T))})})]})})]}),s.jsxs(_e,{className:"mt-8 border-[#CD7F32]",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(mo,{className:"h-5 w-5 text-green-600"}),"Cost Savings Summary"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Without Template System (all AI):"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",(a*.002).toFixed(2)," estimated"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"With Template System (actual):"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",c.toFixed(2)]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Savings:"}),s.jsxs("p",{className:"text-3xl font-bold text-[#CD7F32]",children:["$",(a*.002-c).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[S,"% of questions answered for FREE! "]})]})]})})]})]}),s.jsx(Ei,{})]})}var MD="Switch",[UGe]=yo(MD),[$Ge,zGe]=UGe(MD),Pfe=P.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=t,[y,v]=P.useState(null),S=Pn(e,T=>v(T)),w=P.useRef(!1),N=y?h||!!y.closest("form"):!0,[_=!1,E]=lu({prop:i,defaultProp:a,onChange:u});return s.jsxs($Ge,{scope:r,checked:_,disabled:l,children:[s.jsx(Tr.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Mfe(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:S,onClick:Jt(t.onClick,T=>{E(M=>!M),N&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),N&&s.jsx(qGe,{control:y,bubbles:!w.current,name:n,value:c,checked:_,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Pfe.displayName=MD;var Ife="SwitchThumb",Ofe=P.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=zGe(Ife,r);return s.jsx(Tr.span,{"data-state":Mfe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Ofe.displayName=Ife;var qGe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=P.useRef(null),o=tR(r),l=mM(e);return P.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const y=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(y)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mfe(t){return t?"checked":"unchecked"}var Rfe=Pfe,VGe=Ofe;const sc=P.forwardRef(({className:t,...e},r)=>s.jsx(Rfe,{className:er("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(VGe,{className:er("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sc.displayName=Rfe.displayName;const HGe=_t.object({aiEnabled:_t.boolean(),monthlyBudgetUSD:_t.string().min(1,"Monthly budget is required"),alertsEnabled:_t.boolean(),alertThreshold:_t.number().min(1).max(100)});function WGe(){const{user:t}=ti(),[,e]=th(),{toast:r}=Vn(),[n,i]=P.useState(!1);if(t&&t.role!=="admin")return e("/"),null;if(!t)return e("/login"),null;const{data:a,isLoading:o}=Nr({queryKey:["/api/admin/platform-settings"]}),{data:l}=Nr({queryKey:["/api/admin/lemlem-insights"]}),c=Gf({resolver:Yf(HGe),values:a?{aiEnabled:a.aiEnabled,monthlyBudgetUSD:a.monthlyBudgetUSD,alertsEnabled:a.alertsEnabled,alertThreshold:a.alertThreshold}:void 0}),u=Ln({mutationFn:async v=>await xn("POST","/api/admin/platform-settings",v),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/platform-settings"]}),zn.invalidateQueries({queryKey:["/api/admin/lemlem-insights"]}),r({title:"Settings updated",description:"AI control settings have been saved successfully."}),i(!1)},onError:()=>{r({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}}),h=v=>{u.mutate(v)};if(o||!a)return s.jsx("div",{className:"min-h-screen bg-[#f9e9d8] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#CD7F32] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})});const f=(l==null?void 0:l.thisMonthCost)||0,y=f/parseFloat(a.monthlyBudgetUSD)*100;return s.jsxs("div",{className:"min-h-screen bg-[#f9e9d8]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(tf,{}),s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(_b,{className:"h-8 w-8 text-[#CD7F32]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-[#2d1405]",children:"AI Control Panel"}),s.jsx("p",{className:"text-gray-600",children:"Manage Lemlem AI settings and budget"})]})]}),s.jsxs(_e,{className:"mb-6",children:[s.jsx(Ge,{children:s.jsx(Ye,{children:"Current Status"})}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"flex items-center gap-3 p-4 bg-[#f9e9d8] rounded-lg",children:a.aiEnabled?s.jsxs(s.Fragment,{children:[s.jsx(Vd,{className:"h-10 w-10 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"AI Enabled"}),s.jsx("p",{className:"text-sm text-green-700",children:"Fallback active for complex questions"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Da,{className:"h-10 w-10 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"AI Disabled"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Template-only responses"})]})]})}),s.jsxs("div",{className:"p-4 bg-[#f9e9d8] rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"h-5 w-5 text-[#CD7F32]"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month's Spend"})]}),s.jsxs("p",{className:"text-2xl font-bold text-[#2d1405]",children:["$",f.toFixed(2)]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[s.jsxs("span",{children:[y.toFixed(1),"% of budget"]}),s.jsxs("span",{children:["$",a.monthlyBudgetUSD]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${y>90?"bg-red-500":y>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(y,100)}%`}})})]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ye,{children:"AI Settings"}),s.jsx(ar,{children:"Configure Lemlem AI behavior and budget limits"})]}),!n&&s.jsx(Be,{onClick:()=>i(!0),variant:"outline","data-testid":"button-edit-settings",children:"Edit Settings"})]})}),s.jsx(Te,{children:s.jsx(mp,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-6",children:[s.jsx(Xr,{control:c.control,name:"aiEnabled",render:({field:v})=>s.jsxs(Kr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(an,{className:"flex items-center gap-2 text-base",children:[s.jsx(ua,{className:"h-5 w-5 text-[#CD7F32]"}),"AI Fallback"]}),s.jsx(Lf,{children:"Enable AI for complex questions that templates can't answer. Disabling saves costs but reduces Lemlem's ability to help with unique requests."})]}),s.jsx(on,{children:s.jsx(sc,{checked:v.value,onCheckedChange:v.onChange,disabled:!n,"data-testid":"switch-ai-enabled"})})]})}),s.jsx(Xr,{control:c.control,name:"monthlyBudgetUSD",render:({field:v})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"h-5 w-5 text-[#CD7F32]"}),"Monthly AI Budget (USD)"]}),s.jsx(on,{children:s.jsx(Or,{...v,type:"number",step:"0.01",min:"0",disabled:!n,"data-testid":"input-monthly-budget"})}),s.jsx(Lf,{children:"Maximum amount to spend on AI responses per month. Lemlem will stop using AI when this limit is reached."}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:c.control,name:"alertsEnabled",render:({field:v})=>s.jsxs(Kr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(an,{className:"flex items-center gap-2 text-base",children:[s.jsx(jb,{className:"h-5 w-5 text-[#CD7F32]"}),"Budget Alerts"]}),s.jsx(Lf,{children:"Receive notifications when approaching your monthly budget limit"})]}),s.jsx(on,{children:s.jsx(sc,{checked:v.value,onCheckedChange:v.onChange,disabled:!n,"data-testid":"switch-alerts-enabled"})})]})}),s.jsx(Xr,{control:c.control,name:"alertThreshold",render:({field:v})=>s.jsxs(Kr,{children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-5 w-5 text-[#CD7F32]"}),"Alert Threshold (%)"]}),s.jsx(on,{children:s.jsx(Or,{...v,type:"number",min:"1",max:"100",onChange:S=>v.onChange(parseInt(S.target.value)),disabled:!n,"data-testid":"input-alert-threshold"})}),s.jsx(Lf,{children:"Show budget warning when this percentage of your monthly budget is used"}),s.jsx(dn,{})]})}),n&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Be,{type:"submit",disabled:u.isPending,"data-testid":"button-save-settings",children:u.isPending?s.jsx(s.Fragment,{children:"Saving..."}):s.jsxs(s.Fragment,{children:[s.jsx(bre,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),s.jsx(Be,{type:"button",variant:"outline",onClick:()=>{c.reset(),i(!1)},disabled:u.isPending,"data-testid":"button-cancel-edit",children:"Cancel"})]})]})})})]}),s.jsx(_e,{className:"mt-6 border-yellow-500 bg-yellow-50",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Da,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Cost Saving Tip"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Encourage hosts to fill out Property Information Forms completely! The more info they provide, the more questions Lemlem can answer with FREE templates instead of expensive AI calls."})]})]})})})]}),s.jsx(Ei,{})]})}const kG={guest:{name:"Tenant",icon:cu,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",permissions:["Browse and search properties","Make bookings and reservations","Review properties they've stayed at","Browse add-on services","Manage their own profile","Chat with Lemlem AI assistant","Access booking history","Cancel bookings (with policies)"],restrictions:["Cannot list properties","Cannot provide services","Cannot access admin features","Cannot verify other users"]},host:{name:"Guesthouse Owner",icon:kn,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",permissions:["All Guest permissions","List and manage properties","Set pricing and availability","View and manage bookings","Configure property access codes","Upload property images","Configure Lemlem AI for their properties","View earnings and payouts","Respond to reviews","View property analytics"],restrictions:["Cannot verify properties (admin only)","Cannot access other hosts' properties","Cannot manage platform settings","Cannot verify users"]},operator:{name:"Operator",icon:zg,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",permissions:["Verify user ID documents","Review verification submissions","Approve/reject ID verification","View verification queue","Access operator dashboard","View verification history"],restrictions:["Cannot manage properties","Cannot manage users roles","Cannot access platform settings","Cannot manage service providers"]},admin:{name:"Admin",icon:ps,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",permissions:["Full platform access","Manage all users and roles","Verify and manage properties","Approve service providers","Configure Lemlem AI settings","Set platform budget limits","View all analytics and insights","Manage commission and taxes","Access all dashboards","Suspend/activate users","Override system settings"],restrictions:["Should use responsibly","Actions are logged"]}};function GGe(){const{user:t}=ti(),[,e]=th(),{toast:r}=Vn(),[n,i]=P.useState(""),[a,o]=P.useState("all"),[l,c]=P.useState("all");if(t&&t.role!=="admin")return e("/"),null;if(!t)return e("/login"),null;const{data:u=[],isLoading:h}=Nr({queryKey:["/api/admin/users"]}),f=Ln({mutationFn:async({userId:w,role:N})=>await xn("PATCH",`/api/admin/users/${w}/role`,{role:N}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Role Updated",description:"User role has been successfully updated"})}}),y=Ln({mutationFn:async({userId:w,status:N})=>await xn("PATCH",`/api/admin/users/${w}/status`,{status:N}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Status Updated",description:"User status has been successfully updated"})}}),v=u.filter(w=>{const N=n===""||w.email.toLowerCase().includes(n.toLowerCase())||w.firstName.toLowerCase().includes(n.toLowerCase())||w.lastName.toLowerCase().includes(n.toLowerCase())||w.phoneNumber.includes(n),_=a==="all"||w.role===a,E=l==="all"||w.status===l;return N&&_&&E}),S=w=>{switch(w){case"admin":return"destructive";case"operator":return"secondary";case"host":return"default";case"guest":return"outline";default:return"outline"}};return h?s.jsx("div",{className:"min-h-screen bg-[#f9e9d8] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#CD7F32] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-[#f9e9d8]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsx(tf,{}),s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(ps,{className:"h-8 w-8 text-[#CD7F32]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-[#2d1405]",children:"Roles & Permissions"}),s.jsx("p",{className:"text-gray-600",children:"Manage user access and understand platform roles"})]})]}),s.jsxs(oc,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Fl,{children:[s.jsx(tn,{value:"overview",children:"Roles Overview"}),s.jsx(tn,{value:"users",children:"Manage Users"})]}),s.jsx(Tn,{value:"overview",className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(kG).map(([w,N])=>{const _=N.icon,E=u.filter(T=>T.role===w).length;return s.jsxs(_e,{className:`border-2 ${N.borderColor}`,"data-testid":`card-role-${w}`,children:[s.jsxs(Ge,{className:N.bgColor,children:[s.jsxs(Ye,{className:"flex items-center gap-3",children:[s.jsx(_,{className:`h-6 w-6 ${N.color}`}),s.jsx("span",{className:N.color,children:N.name})]}),s.jsxs(ar,{children:[E," ",E===1?"user":"users"," with this role"]})]}),s.jsxs(Te,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Vd,{className:"h-4 w-4 text-green-600"}),"Permissions"]}),s.jsx("ul",{className:"space-y-1",children:N.permissions.map((T,M)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 mt-0.5",children:""}),T]},M))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Do,{className:"h-4 w-4 text-red-600"}),"Restrictions"]}),s.jsx("ul",{className:"space-y-1",children:N.restrictions.map((T,M)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx("span",{className:"text-red-600 mt-0.5",children:""}),T]},M))})]})]})]},w)})})}),s.jsxs(Tn,{value:"users",className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsx(Ye,{children:"Search & Filter Users"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Or,{placeholder:"Search by name, email, or phone...",value:n,onChange:w=>i(w.target.value),className:"pl-10","data-testid":"input-search-users"})]})}),s.jsxs(Jn,{value:a,onValueChange:o,children:[s.jsxs(Gn,{"data-testid":"select-filter-role",children:[s.jsx(Cb,{className:"h-4 w-4 mr-2"}),s.jsx(es,{placeholder:"Filter by role"})]}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Roles"}),s.jsx(Vt,{value:"guest",children:"Tenant"}),s.jsx(Vt,{value:"host",children:"Guesthouse Owner"}),s.jsx(Vt,{value:"operator",children:"Operator"}),s.jsx(Vt,{value:"admin",children:"Admin"})]})]}),s.jsxs(Jn,{value:l,onValueChange:c,children:[s.jsxs(Gn,{"data-testid":"select-filter-status",children:[s.jsx(Cb,{className:"h-4 w-4 mr-2"}),s.jsx(es,{placeholder:"Filter by status"})]}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Statuses"}),s.jsx(Vt,{value:"active",children:"Active"}),s.jsx(Vt,{value:"suspended",children:"Suspended"}),s.jsx(Vt,{value:"pending",children:"Pending"})]})]})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",v.length," of ",u.length," users"]})]})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"User Management"}),s.jsx(ar,{children:"Update roles and manage user access"})]}),s.jsx(Te,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"User"}),s.jsx(zt,{children:"Role"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Verified"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:v.length===0?s.jsx(Mn,{children:s.jsx(Ot,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No users found matching your filters"})}):v.map(w=>{var N;return s.jsxs(Mn,{"data-testid":`row-user-${w.id}`,children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:w.profileImageUrl||"/placeholder-avatar.png",alt:w.firstName,className:"h-8 w-8 rounded-full"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[w.firstName," ",w.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:w.email}),s.jsx("div",{className:"text-xs text-gray-400",children:w.phoneNumber})]})]})}),s.jsx(Ot,{children:s.jsx(Rt,{variant:S(w.role),children:((N=kG[w.role])==null?void 0:N.name)||w.role})}),s.jsx(Ot,{children:s.jsx(Rt,{variant:w.status==="active"?"default":w.status==="suspended"?"destructive":"secondary",children:w.status})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex gap-1",children:[w.phoneVerified&&s.jsx(Rt,{variant:"outline",className:"text-green-600 text-xs",children:"Phone"}),w.idVerified&&s.jsx(Rt,{variant:"outline",className:"text-green-600 text-xs",children:"ID"}),!w.phoneVerified&&!w.idVerified&&s.jsx("span",{className:"text-xs text-gray-400",children:"None"})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Jn,{value:w.role,onValueChange:_=>f.mutate({userId:w.id,role:_}),children:[s.jsx(Gn,{className:"w-[160px]","data-testid":`select-role-${w.id}`,children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"guest",children:"Tenant"}),s.jsx(Vt,{value:"host",children:"Guesthouse Owner"}),s.jsx(Vt,{value:"operator",children:"Operator"}),s.jsx(Vt,{value:"admin",children:"Admin"})]})]}),s.jsx(Be,{variant:w.status==="active"?"destructive":"default",size:"sm",onClick:()=>y.mutate({userId:w.id,status:w.status==="active"?"suspended":"active"}),"data-testid":`button-toggle-status-${w.id}`,children:w.status==="active"?s.jsx(jre,{className:"h-4 w-4"}):s.jsx(Qv,{className:"h-4 w-4"})})]})})]},w.id)})})]})})]})]})]})]}),s.jsx(Ei,{})]})}function YGe(){const{toast:t}=Vn(),[e,r]=P.useState("all"),[n,i]=P.useState("all"),[a,o]=P.useState(null),[l,c]=P.useState(!1),[u,h]=P.useState("verify"),[f,y]=P.useState(""),{data:v,isLoading:S}=Nr({queryKey:["/api/admin/agents",{status:e!=="all"?e:void 0,city:n!=="all"?n:void 0}]}),w=Ln({mutationFn:async({agentId:L,status:B,rejectionReason:U})=>{const $=await fetch(`/api/admin/agents/${L}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:B,rejectionReason:U})});if(!$.ok){const K=await $.json();throw new Error(K.message||"Verification failed")}return await $.json()},onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/agents"]}),t({title:" Agent Updated",description:u==="verify"?"Agent has been verified successfully":"Agent application has been rejected"}),c(!1),y(""),o(null)},onError:L=>{t({title:" Update Failed",description:L.message||"Failed to update agent status",variant:"destructive"})}}),N=(L,B)=>{o(L),h(B),c(!0)},_=()=>{if(a){if(u==="reject"&&!f.trim()){t({title:" Rejection Reason Required",description:"Please provide a reason for rejecting this application",variant:"destructive"});return}w.mutate({agentId:a.id,status:u==="verify"?"verified":"rejected",rejectionReason:u==="reject"?f:void 0})}},E=L=>{const B={verified:{label:" Verified",variant:"default",icon:Mr},pending:{label:" Pending",variant:"secondary",icon:ei},rejected:{label:" Rejected",variant:"destructive",icon:Do}},U=B[L]||B.pending;return s.jsxs(Rt,{variant:U.variant,className:"gap-1","data-testid":`badge-${L}`,children:[s.jsx(U.icon,{className:"h-3 w-3"}),U.label]})},T=v||[],M={total:T.length,verified:T.filter(L=>L.status==="verified").length,pending:T.filter(L=>L.status==="pending").length,rejected:T.filter(L=>L.status==="rejected").length,totalEarnings:T.reduce((L,B)=>L+parseFloat(B.totalEarnings||"0"),0),totalProperties:T.reduce((L,B)=>L+(B.totalProperties||0),0)},O=["all",...Array.from(new Set(T.map(L=>L.city)))];return S?s.jsx("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[s.jsx(Ti,{className:"h-32 w-full"}),s.jsx(Ti,{className:"h-96 w-full"})]})}):s.jsxs("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900 py-8 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-dark-brown dark:text-cream mb-2",children:" Agent Management"}),s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Verify and manage Delala agent applications"})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-total-agents",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4"}),"Total Agents"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-dark-brown dark:text-cream","data-testid":"text-total-agents",children:M.total}),s.jsxs("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:[M.verified," verified, ",M.pending," pending"]})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-total-properties",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4"}),"Total Properties"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400","data-testid":"text-total-properties",children:M.totalProperties}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"Listed by agents"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-total-earnings",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4"}),"Total Earnings"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-total-earnings",children:[M.totalEarnings.toFixed(2)," Birr"]}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"All-time commissions"})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-pending",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4"}),"Pending Review"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400","data-testid":"text-pending",children:M.pending}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 mt-1",children:"Awaiting verification"})]})]})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"text-lg flex items-center gap-2",children:[s.jsx(Cb,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx(yr,{children:"Status"}),s.jsxs(Jn,{value:e,onValueChange:r,children:[s.jsx(Gn,{"data-testid":"select-status-filter",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Statuses"}),s.jsx(Vt,{value:"pending",children:"Pending"}),s.jsx(Vt,{value:"verified",children:"Verified"}),s.jsx(Vt,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx(yr,{children:"City"}),s.jsxs(Jn,{value:n,onValueChange:i,children:[s.jsx(Gn,{"data-testid":"select-city-filter",children:s.jsx(es,{})}),s.jsx(Yn,{children:O.map(L=>s.jsx(Vt,{value:L,children:L==="all"?"All Cities":L},L))})]})]})]})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Agent Applications"}),s.jsxs(ar,{children:[T.length," agents found"]})]}),s.jsx(Te,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Agent"}),s.jsx(zt,{children:"Contact"}),s.jsx(zt,{children:"Location"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Properties"}),s.jsx(zt,{children:"Earnings"}),s.jsx(zt,{children:"Registered"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:T.length===0?s.jsx(Mn,{children:s.jsx(Ot,{colSpan:8,className:"text-center text-medium-brown dark:text-cream/60 py-12",children:"No agents found matching your filters"})}):T.map(L=>s.jsxs(Mn,{"data-testid":`row-agent-${L.id}`,children:[s.jsx(Ot,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-dark-brown dark:text-cream",children:L.fullName}),L.businessName&&s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60",children:L.businessName}),s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60 font-mono",children:L.referralCode})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:L.phoneNumber}),s.jsxs("p",{className:"text-xs text-medium-brown dark:text-cream/60",children:["TeleBirr: ",L.telebirrAccount]})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:L.city}),L.subCity&&s.jsx("p",{className:"text-xs text-medium-brown dark:text-cream/60",children:L.subCity})]})}),s.jsx(Ot,{children:E(L.status)}),s.jsx(Ot,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold",children:L.activeProperties}),s.jsxs("p",{className:"text-xs text-medium-brown dark:text-cream/60",children:["of ",L.totalProperties," active"]})]})}),s.jsx(Ot,{children:s.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400",children:[parseFloat(L.totalEarnings).toFixed(2)," Birr"]})}),s.jsx(Ot,{children:s.jsx("p",{className:"text-sm",children:Lh(new Date(L.createdAt),"MMM d, yyyy")})}),s.jsxs(Ot,{children:[L.status==="pending"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Be,{size:"sm",variant:"default",onClick:()=>N(L,"verify"),"data-testid":`button-verify-${L.id}`,children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Verify"]}),s.jsxs(Be,{size:"sm",variant:"destructive",onClick:()=>N(L,"reject"),"data-testid":`button-reject-${L.id}`,children:[s.jsx(Do,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),L.status==="rejected"&&L.rejectionReason&&s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:L.rejectionReason})]})]},L.id))})]})})})]})]}),s.jsx(Uo,{open:l,onOpenChange:c,children:s.jsxs(po,{"data-testid":"dialog-verification",children:[s.jsxs(go,{children:[s.jsx(xo,{children:u==="verify"?" Verify Agent":" Reject Application"}),s.jsx(Sc,{children:a&&s.jsx(s.Fragment,{children:u==="verify"?`Are you sure you want to verify ${a.fullName}? They will be able to start listing properties and earning commissions.`:`Please provide a reason for rejecting ${a.fullName}'s application.`})})]}),u==="reject"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"rejectionReason",children:"Rejection Reason *"}),s.jsx(_i,{id:"rejectionReason",value:f,onChange:L=>y(L.target.value),placeholder:"e.g., Invalid TeleBirr account, incomplete information, etc.",rows:4,"data-testid":"textarea-rejection-reason"})]}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>{c(!1),y("")},"data-testid":"button-cancel",children:"Cancel"}),s.jsx(Be,{variant:u==="verify"?"default":"destructive",onClick:_,disabled:w.isPending,"data-testid":"button-confirm",children:w.isPending?"Processing...":u==="verify"?"Verify Agent":"Reject Application"})]})]})})]})}function KGe(){const[t,e]=P.useState("all"),[r,n]=P.useState("all"),{data:i,isLoading:a}=Nr({queryKey:["/api/admin/operations/agents"]}),o=(i==null?void 0:i.filter(y=>{const v=t==="all"||y.city===t,S=r==="all"||y.status===r;return v&&S}))||[],l=o.sort((y,v)=>parseFloat(v.totalEarnings)-parseFloat(y.totalEarnings))[0],c=o.reduce((y,v)=>y+parseFloat(v.totalEarnings||"0"),0),u=o.length,h=o.filter(y=>y.status==="approved").length,f=()=>{if(!o.length)return;const y=["Rank","Name","Phone","City","Properties","Earnings (ETB)","Status"],v=o.map((E,T)=>[T+1,E.fullName,E.phoneNumber,E.city,E.activeProperties,parseFloat(E.totalEarnings).toFixed(2),E.status]),S=[y.join(","),...v.map(E=>E.join(","))].join(`
`),w=new Blob([S],{type:"text/csv"}),N=URL.createObjectURL(w),_=document.createElement("a");_.href=N,_.download=`agent-leaderboard-${new Date().toISOString().split("T")[0]}.csv`,_.click(),URL.revokeObjectURL(N)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Agents"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h," active"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Commissions"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["ETB ",c.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paid to date"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Qwe,{className:"h-4 w-4 text-[#CD7F32]"}),"Top Performer"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-lg font-bold",children:(l==null?void 0:l.fullName)||"N/A"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ETB ",parseFloat((l==null?void 0:l.totalEarnings)||"0").toLocaleString()]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4 text-[#CD7F32]"}),"Avg Earnings"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["ETB ",h>0?(c/h).toFixed(0):0]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per agent"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"h-5 w-5 text-[#CD7F32]"}),"Agent Leaderboard"]}),s.jsx(ar,{children:"Ranked by total commission earned"})]}),s.jsxs(Be,{variant:"outline",size:"sm",onClick:f,disabled:!o.length,"data-testid":"button-export-agents-csv",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cb,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(Jn,{value:t,onValueChange:e,children:[s.jsx(Gn,{className:"w-[180px]","data-testid":"select-zone-filter",children:s.jsx(es,{placeholder:"All Zones"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Zones"}),s.jsx(Vt,{value:"Bole",children:"Bole"}),s.jsx(Vt,{value:"CMC",children:"CMC (Casanchis)"}),s.jsx(Vt,{value:"Gerji",children:"Gerji"}),s.jsx(Vt,{value:"Megenagna",children:"Megenagna"}),s.jsx(Vt,{value:"Piassa",children:"Piassa"}),s.jsx(Vt,{value:"Merkato",children:"Merkato"})]})]})]}),s.jsxs(Jn,{value:r,onValueChange:n,children:[s.jsx(Gn,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(es,{placeholder:"All Statuses"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Statuses"}),s.jsx(Vt,{value:"approved",children:"Approved"}),s.jsx(Vt,{value:"pending",children:"Pending"}),s.jsx(Vt,{value:"suspended",children:"Suspended"})]})]})]}),a?s.jsx("div",{className:"text-center py-8",children:"Loading agents..."}):o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No agents found matching filters"}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{className:"w-[60px]",children:"Rank"}),s.jsx(zt,{children:"Agent Name"}),s.jsx(zt,{children:"Phone"}),s.jsx(zt,{children:"Zone"}),s.jsx(zt,{className:"text-right",children:"Properties"}),s.jsx(zt,{className:"text-right",children:"Earnings (ETB)"}),s.jsx(zt,{children:"Status"})]})}),s.jsx(Bo,{children:o.map((y,v)=>s.jsxs(Mn,{"data-testid":`agent-row-${y.id}`,children:[s.jsxs(Ot,{className:"font-medium",children:[v===0&&"",v===1&&"",v===2&&"",v>2&&`#${v+1}`]}),s.jsx(Ot,{className:"font-medium",children:y.fullName}),s.jsx(Ot,{className:"text-sm",children:y.phoneNumber}),s.jsx(Ot,{children:y.city}),s.jsx(Ot,{className:"text-right",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:y.activeProperties}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:[" / ",y.totalProperties]})]})}),s.jsx(Ot,{className:"text-right font-mono",children:parseFloat(y.totalEarnings).toLocaleString()}),s.jsx(Ot,{children:s.jsx(Rt,{variant:y.status==="approved"?"default":"secondary",className:y.status==="approved"?"bg-green-100 text-green-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:y.status})})]},y.id))})]})]})]})]})}function XGe(){const{toast:t}=Vn(),[e,r]=P.useState("all"),{data:n,isLoading:i}=Nr({queryKey:["/api/properties"]}),a=Ln({mutationFn:async f=>await xn("POST",`/api/properties/${f}/verify`),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/properties"]}),t({title:"Property Verified",description:"Property has been successfully verified"})}}),o=(n==null?void 0:n.filter(f=>e==="all"?!0:e==="pending"?!f.operatorVerified&&f.status==="active":e==="verified"?f.operatorVerified:e==="inactive"?f.status!=="active":!0))||[],l=(n==null?void 0:n.filter(f=>!f.operatorVerified&&f.status==="active").length)||0,c=(n==null?void 0:n.filter(f=>f.operatorVerified).length)||0,u=(n==null?void 0:n.length)||0,h=()=>{if(!o.length)return;const f=["ID","Title","City","Price","Status","Verified","Host ID"],y=o.map(_=>[_.id,_.title.replace(/,/g,";"),_.city,_.pricePerNight,_.status,_.operatorVerified?"Yes":"No",_.hostId]),v=[f.join(","),...y.map(_=>_.join(","))].join(`
`),S=new Blob([v],{type:"text/csv"}),w=URL.createObjectURL(S),N=document.createElement("a");N.href=w,N.download=`properties-${new Date().toISOString().split("T")[0]}.csv`,N.click(),URL.revokeObjectURL(w)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Properties"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In system"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Mh,{className:"h-4 w-4 text-green-600"}),"Verified"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u>0?Math.round(c/u*100):0,"% of total"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-orange-600"}),"Pending Review"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting verification"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ll,{className:"h-4 w-4 text-red-600"}),"Red Flags"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.filter(f=>!f.securityDeposit&&f.operatorVerified).length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Missing deposits"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-[#CD7F32]"}),"Property Verification Queue"]}),s.jsx(ar,{children:"Review and approve property listings for quality"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Be,{variant:"outline",size:"sm",onClick:h,disabled:!o.length,"data-testid":"button-export-properties-csv",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export"]})})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(Be,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),"data-testid":"filter-all",children:["All (",u,")"]}),s.jsxs(Be,{variant:e==="pending"?"default":"outline",size:"sm",onClick:()=>r("pending"),"data-testid":"filter-pending",children:[s.jsx(ei,{className:"h-4 w-4 mr-1"}),"Pending (",l,")"]}),s.jsxs(Be,{variant:e==="verified"?"default":"outline",size:"sm",onClick:()=>r("verified"),"data-testid":"filter-verified",children:[s.jsx(Mh,{className:"h-4 w-4 mr-1"}),"Verified (",c,")"]})]}),i?s.jsx("div",{className:"text-center py-8",children:"Loading properties..."}):o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No properties found matching filter"}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"ID"}),s.jsx(zt,{children:"Property"}),s.jsx(zt,{children:"City"}),s.jsx(zt,{className:"text-right",children:"Price/Night"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Actions"})]})}),s.jsx(Bo,{children:o.map(f=>s.jsxs(Mn,{"data-testid":`property-row-${f.id}`,children:[s.jsxs(Ot,{className:"font-mono text-sm",children:["#",f.id]}),s.jsx(Ot,{className:"font-medium max-w-[300px]",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(kn,{className:"h-4 w-4 mt-0.5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"truncate",children:f.title}),!f.securityDeposit&&s.jsxs(Rt,{variant:"destructive",className:"mt-1",children:[s.jsx(ll,{className:"h-3 w-3 mr-1"}),"No Deposit"]})]})]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ki,{className:"h-3 w-3 text-muted-foreground"}),f.city]})}),s.jsxs(Ot,{className:"text-right font-mono",children:["ETB ",parseFloat(f.pricePerNight).toLocaleString()]}),s.jsx(Ot,{children:f.operatorVerified?s.jsxs(Rt,{className:"bg-green-100 text-green-800",children:[s.jsx(Mh,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsxs(Rt,{variant:"secondary",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Pending"]})}),s.jsx(Ot,{children:!f.operatorVerified&&f.status==="active"&&s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>a.mutate(f.id),disabled:a.isPending,"data-testid":`button-verify-${f.id}`,children:[s.jsx(Mh,{className:"h-4 w-4 mr-1"}),"Verify"]})})]},f.id))})]})]})]})]})}function ZGe(){const[t,e]=P.useState("all"),{data:r,isLoading:n}=Nr({queryKey:["/api/admin/hardware"]}),i=r||[],a=i.filter(S=>t==="all"||S.hardwareType===t),o=i.filter(S=>S.hardwareType==="lockbox").length,l=i.filter(S=>S.hardwareType==="camera").length,c=i.filter(S=>S.hardwareType==="smart_lock").length,u=i.filter(S=>{const w=new Date(S.warrantyExpiry),N=new Date;return N.setDate(N.getDate()+30),w<=N}).length,h=i.reduce((S,w)=>S+parseFloat(w.cost||"0"),0),f=S=>{switch(S){case"lockbox":return s.jsx(Ro,{className:"h-4 w-4"});case"camera":return s.jsx(qu,{className:"h-4 w-4"});case"smart_lock":return s.jsx(Ro,{className:"h-4 w-4"});case"thermostat":return s.jsx(C2e,{className:"h-4 w-4"});default:return s.jsx(kv,{className:"h-4 w-4"})}},y=S=>{const w=new Date(S),N=new Date;return N.setDate(N.getDate()+30),w<=N},v=()=>{if(!a.length)return;const S=["ID","Type","Serial Number","Manufacturer","Installation Date","Warranty Expiry","Status","Cost"],w=a.map(M=>[M.id,M.hardwareType,M.serialNumber,M.manufacturer,M.installationDate,M.warrantyExpiry,M.status,M.cost]),N=[S.join(","),...w.map(M=>M.join(","))].join(`
`),_=new Blob([N],{type:"text/csv"}),E=URL.createObjectURL(_),T=document.createElement("a");T.href=E,T.download=`hardware-deployments-${new Date().toISOString().split("T")[0]}.csv`,T.click(),URL.revokeObjectURL(E)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ro,{className:"h-4 w-4 text-[#CD7F32]"}),"Lockboxes"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deployed"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(qu,{className:"h-4 w-4 text-[#CD7F32]"}),"Cameras"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Installed"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ro,{className:"h-4 w-4 text-[#CD7F32]"}),"Smart Locks"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4 text-orange-600"}),"Warranty Alerts"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expiring soon"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kv,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Investment"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["ETB ",h.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Hardware cost"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kv,{className:"h-5 w-5 text-[#CD7F32]"}),"Hardware Deployment Tracker"]}),s.jsx(ar,{children:"Monitor lockboxes, cameras, and smart devices"})]}),s.jsxs(Be,{variant:"outline",size:"sm",onClick:v,disabled:!a.length,"data-testid":"button-export-hardware-csv",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(Be,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),"data-testid":"filter-all-hardware",children:["All (",i.length,")"]}),s.jsxs(Be,{variant:t==="lockbox"?"default":"outline",size:"sm",onClick:()=>e("lockbox"),"data-testid":"filter-lockbox",children:[s.jsx(Ro,{className:"h-4 w-4 mr-1"}),"Lockboxes (",o,")"]}),s.jsxs(Be,{variant:t==="camera"?"default":"outline",size:"sm",onClick:()=>e("camera"),"data-testid":"filter-camera",children:[s.jsx(qu,{className:"h-4 w-4 mr-1"}),"Cameras (",l,")"]}),s.jsxs(Be,{variant:t==="smart_lock"?"default":"outline",size:"sm",onClick:()=>e("smart_lock"),"data-testid":"filter-smart-lock",children:[s.jsx(Ro,{className:"h-4 w-4 mr-1"}),"Smart Locks (",c,")"]})]}),n?s.jsx("div",{className:"text-center py-8",children:"Loading hardware..."}):a.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kv,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No hardware deployments yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Hardware tracking will appear here once devices are deployed"})]}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Type"}),s.jsx(zt,{children:"Serial Number"}),s.jsx(zt,{children:"Manufacturer"}),s.jsx(zt,{children:"Installed"}),s.jsx(zt,{children:"Warranty"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{className:"text-right",children:"Cost"})]})}),s.jsx(Bo,{children:a.map(S=>s.jsxs(Mn,{"data-testid":`hardware-row-${S.id}`,children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[f(S.hardwareType),s.jsx("span",{className:"capitalize",children:S.hardwareType.replace("_"," ")})]})}),s.jsx(Ot,{className:"font-mono text-sm",children:S.serialNumber}),s.jsx(Ot,{children:S.manufacturer}),s.jsx(Ot,{className:"text-sm",children:new Date(S.installationDate).toLocaleDateString("en-ET")}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:new Date(S.warrantyExpiry).toLocaleDateString("en-ET")}),y(S.warrantyExpiry)&&s.jsxs(Rt,{variant:"destructive",className:"text-xs",children:[s.jsx(Da,{className:"h-3 w-3 mr-1"}),"Expiring"]})]})}),s.jsx(Ot,{children:s.jsxs(Rt,{className:S.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:[S.status==="active"?s.jsx(Mr,{className:"h-3 w-3 mr-1"}):s.jsx(Da,{className:"h-3 w-3 mr-1"}),S.status]})}),s.jsxs(Ot,{className:"text-right font-mono",children:["ETB ",parseFloat(S.cost).toLocaleString()]})]},S.id))})]})]})]})]})}function QGe(){const[t,e]=P.useState("all"),[r,n]=P.useState("payments"),{data:i}=Nr({queryKey:["/api/admin/payments/transactions"]}),{data:a}=Nr({queryKey:["/api/admin/insa/compliance"]}),o=i||[],l=a||[],c=o.filter(_=>t==="all"||_.paymentGateway===t),u=o.filter(_=>!_.reconciled).length,h=o.filter(_=>_.paymentGateway==="telebirr").length,f=o.filter(_=>_.paymentGateway==="chapa").length,y=o.filter(_=>_.paymentGateway==="stripe").length,v=o.reduce((_,E)=>_+parseFloat(E.amount||"0"),0),S=l.filter(_=>_.status==="pending").length,w=l.filter(_=>_.status==="completed").length,N=()=>{if(!c.length)return;const _=["Transaction ID","Gateway","Amount","Status","Reconciled","Booking ID","Date"],E=c.map(B=>[B.transactionId,B.paymentGateway,B.amount,B.status,B.reconciled?"Yes":"No",B.relatedBookingId||"N/A",new Date(B.createdAt).toLocaleDateString()]),T=[_.join(","),...E.map(B=>B.join(","))].join(`
`),M=new Blob([T],{type:"text/csv"}),O=URL.createObjectURL(M),L=document.createElement("a");L.href=O,L.download=`payment-transactions-${new Date().toISOString().split("T")[0]}.csv`,L.click(),URL.revokeObjectURL(O)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Be,{variant:r==="payments"?"default":"outline",onClick:()=>n("payments"),"data-testid":"section-payments",children:[s.jsx(ii,{className:"h-4 w-4 mr-2"}),"Payment Reconciliation"]}),s.jsxs(Be,{variant:r==="insa"?"default":"outline",onClick:()=>n("insa"),"data-testid":"section-insa",children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),"INSA Compliance Tracker"]})]}),r==="payments"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Volume"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["ETB ",v.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All gateways"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"TeleBirr"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"Chapa"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"Stripe"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:y}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ll,{className:"h-4 w-4 text-orange-600"}),"Unreconciled"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Need review"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"h-5 w-5 text-[#CD7F32]"}),"Payment Transaction Reconciliation"]}),s.jsx(ar,{children:"Track and reconcile payments across all gateways"})]}),s.jsxs(Be,{variant:"outline",size:"sm",onClick:N,disabled:!c.length,"data-testid":"button-export-payments-csv",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(Be,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),children:"All Gateways"}),s.jsxs(Be,{variant:t==="telebirr"?"default":"outline",size:"sm",onClick:()=>e("telebirr"),children:["TeleBirr (",h,")"]}),s.jsxs(Be,{variant:t==="chapa"?"default":"outline",size:"sm",onClick:()=>e("chapa"),children:["Chapa (",f,")"]}),s.jsxs(Be,{variant:t==="stripe"?"default":"outline",size:"sm",onClick:()=>e("stripe"),children:["Stripe (",y,")"]})]}),c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ii,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No payment transactions yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Transaction tracking will appear here once payments are processed"})]}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Transaction ID"}),s.jsx(zt,{children:"Gateway"}),s.jsx(zt,{className:"text-right",children:"Amount"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Reconciled"}),s.jsx(zt,{children:"Booking ID"}),s.jsx(zt,{children:"Date"})]})}),s.jsx(Bo,{children:c.map(_=>s.jsxs(Mn,{children:[s.jsx(Ot,{className:"font-mono text-sm",children:_.transactionId}),s.jsx(Ot,{className:"capitalize",children:_.paymentGateway}),s.jsxs(Ot,{className:"text-right font-mono",children:["ETB ",parseFloat(_.amount).toLocaleString()]}),s.jsx(Ot,{children:s.jsx(Rt,{className:_.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:_.status})}),s.jsx(Ot,{children:_.reconciled?s.jsx(Mr,{className:"h-4 w-4 text-green-600"}):s.jsx(ei,{className:"h-4 w-4 text-orange-600"})}),s.jsx(Ot,{className:"font-mono",children:_.relatedBookingId?`#${_.relatedBookingId}`:"N/A"}),s.jsx(Ot,{className:"text-sm",children:new Date(_.createdAt).toLocaleDateString("en-ET")})]},_.id))})]})]})]})]}),r==="insa"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Requirements"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tracked items"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Mr,{className:"h-4 w-4 text-green-600"}),"Completed"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.length>0?Math.round(w/l.length*100):0,"% complete"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-orange-600"}),"Pending"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting completion"})]})]})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-5 w-5 text-[#CD7F32]"}),"INSA Security Compliance Tracker"]}),s.jsx(ar,{children:"Track security audit requirements and evidence (TIN: 0101809194)"})]}),s.jsx(Te,{children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ps,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No compliance requirements tracked yet"}),s.jsx("p",{className:"text-xs mt-1",children:"INSA audit requirements will appear here"})]}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Category"}),s.jsx(zt,{children:"Requirement"}),s.jsx(zt,{children:"Status"}),s.jsx(zt,{children:"Due Date"}),s.jsx(zt,{children:"Completed"})]})}),s.jsx(Bo,{children:l.map(_=>s.jsxs(Mn,{children:[s.jsx(Ot,{className:"font-medium",children:_.complianceCategory}),s.jsx(Ot,{children:_.requirement}),s.jsx(Ot,{children:s.jsx(Rt,{className:_.status==="completed"?"bg-green-100 text-green-800":_.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",children:_.status.replace("_"," ")})}),s.jsx(Ot,{className:"text-sm",children:_.dueDate?new Date(_.dueDate).toLocaleDateString("en-ET"):"N/A"}),s.jsx(Ot,{className:"text-sm",children:_.completedDate?new Date(_.completedDate).toLocaleDateString("en-ET"):"-"})]},_.id))})]})})]})]})]})}function JGe(){const[t,e]=P.useState("all"),{data:r,isLoading:n}=Nr({queryKey:["/api/admin/marketing/campaigns"]}),i=r||[],a=i.filter(w=>t==="all"||w.platform===t),o=i.reduce((w,N)=>w+parseFloat(N.budget||"0"),0),l=i.reduce((w,N)=>w+parseFloat(N.spent||"0"),0),c=i.reduce((w,N)=>w+(N.impressions||0),0),u=i.reduce((w,N)=>w+(N.conversions||0),0),h=i.reduce((w,N)=>w+(N.clicks||0),0),f=c>0?(h/c*100).toFixed(2):"0.00",y=h>0?(u/h*100).toFixed(2):"0.00",v=w=>{switch(w.toLowerCase()){case"instagram":return s.jsx(w6,{className:"h-4 w-4"});case"facebook":return s.jsx(b6,{className:"h-4 w-4"});case"tiktok":return s.jsx(q6,{className:"h-4 w-4"});case"telegram":return s.jsx(Ab,{className:"h-4 w-4"});default:return s.jsx(ZA,{className:"h-4 w-4"})}},S=()=>{if(!a.length)return;const w=["Campaign","Platform","Budget","Spent","Impressions","Clicks","Conversions","CTR","Status"],N=a.map(O=>[O.campaignName.replace(/,/g,";"),O.platform,O.budget,O.spent,O.impressions,O.clicks,O.conversions,O.impressions>0?(O.clicks/O.impressions*100).toFixed(2)+"%":"0%",O.status]),_=[w.join(","),...N.map(O=>O.join(","))].join(`
`),E=new Blob([_],{type:"text/csv"}),T=URL.createObjectURL(E),M=document.createElement("a");M.href=T,M.download=`marketing-campaigns-${new Date().toISOString().split("T")[0]}.csv`,M.click(),URL.revokeObjectURL(T)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Budget"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["ETB ",o.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l>0?(l/o*100).toFixed(1):0,"% spent"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-[#CD7F32]"}),"Impressions"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total reach"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ZA,{className:"h-4 w-4 text-[#CD7F32]"}),"Click-Through Rate"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[f,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h.toLocaleString()," clicks"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4 text-green-600"}),"Conversions"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y,"% conversion rate"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ZA,{className:"h-4 w-4 text-[#CD7F32]"}),"Active Campaigns"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.filter(w=>w.status==="active").length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",i.length," total"]})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(mo,{className:"h-5 w-5 text-[#CD7F32]"}),"Marketing Campaign Performance"]}),s.jsx(ar,{children:"Track social media and growth initiatives"})]}),s.jsxs(Be,{variant:"outline",size:"sm",onClick:S,disabled:!a.length,"data-testid":"button-export-campaigns-csv",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(Be,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),"data-testid":"filter-all-platforms",children:"All Platforms"}),s.jsxs(Be,{variant:t==="facebook"?"default":"outline",size:"sm",onClick:()=>e("facebook"),"data-testid":"filter-facebook",children:[s.jsx(b6,{className:"h-4 w-4 mr-1"}),"Facebook"]}),s.jsxs(Be,{variant:t==="instagram"?"default":"outline",size:"sm",onClick:()=>e("instagram"),"data-testid":"filter-instagram",children:[s.jsx(w6,{className:"h-4 w-4 mr-1"}),"Instagram"]}),s.jsxs(Be,{variant:t==="tiktok"?"default":"outline",size:"sm",onClick:()=>e("tiktok"),"data-testid":"filter-tiktok",children:[s.jsx(q6,{className:"h-4 w-4 mr-1"}),"TikTok"]}),s.jsxs(Be,{variant:t==="telegram"?"default":"outline",size:"sm",onClick:()=>e("telegram"),"data-testid":"filter-telegram",children:[s.jsx(Ab,{className:"h-4 w-4 mr-1"}),"Telegram"]})]}),n?s.jsx("div",{className:"text-center py-8",children:"Loading campaigns..."}):a.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(mo,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No marketing campaigns yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Campaign tracking will appear here once marketing initiatives are launched"})]}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Campaign"}),s.jsx(zt,{children:"Platform"}),s.jsx(zt,{className:"text-right",children:"Budget"}),s.jsx(zt,{className:"text-right",children:"Spent"}),s.jsx(zt,{className:"text-right",children:"Impressions"}),s.jsx(zt,{className:"text-right",children:"Clicks"}),s.jsx(zt,{className:"text-right",children:"Conversions"}),s.jsx(zt,{className:"text-right",children:"CTR"}),s.jsx(zt,{children:"Status"})]})}),s.jsx(Bo,{children:a.map(w=>{const N=w.impressions>0?(w.clicks/w.impressions*100).toFixed(2):"0.00";return s.jsxs(Mn,{"data-testid":`campaign-row-${w.id}`,children:[s.jsx(Ot,{className:"font-medium",children:w.campaignName}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[v(w.platform),s.jsx("span",{className:"capitalize",children:w.platform})]})}),s.jsxs(Ot,{className:"text-right font-mono",children:["ETB ",parseFloat(w.budget).toLocaleString()]}),s.jsxs(Ot,{className:"text-right font-mono",children:["ETB ",parseFloat(w.spent).toLocaleString()]}),s.jsx(Ot,{className:"text-right font-mono",children:w.impressions.toLocaleString()}),s.jsx(Ot,{className:"text-right font-mono",children:w.clicks.toLocaleString()}),s.jsx(Ot,{className:"text-right font-mono",children:w.conversions}),s.jsxs(Ot,{className:"text-right font-mono",children:[N,"%"]}),s.jsx(Ot,{children:s.jsx(Rt,{className:w.status==="active"?"bg-green-100 text-green-800":w.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:w.status})})]},w.id)})})]})]})]})]})}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}var Qd=Uint8Array,ru=Uint16Array,RD=Int32Array,DD=new Qd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LD=new Qd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PG=new Qd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dfe=function(t,e){for(var r=new ru(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new RD(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Lfe=Dfe(DD,2),eYe=Lfe.b,GO=Lfe.r;eYe[28]=258,GO[258]=28;var tYe=Dfe(LD,0),IG=tYe.r,YO=new ru(32768);for(var $i=0;$i<32768;++$i){var Bm=($i&43690)>>1|($i&21845)<<1;Bm=(Bm&52428)>>2|(Bm&13107)<<2,Bm=(Bm&61680)>>4|(Bm&3855)<<4,YO[$i]=((Bm&65280)>>8|(Bm&255)<<8)>>1}var fb=(function(t,e,r){for(var n=t.length,i=0,a=new ru(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new ru(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new ru(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],f=o[t[i]-1]++<<h,y=f|(1<<h)-1;f<=y;++f)l[YO[f]>>c]=u}else for(l=new ru(n),i=0;i<n;++i)t[i]&&(l[i]=YO[o[t[i]-1]++]>>15-t[i]);return l}),c0=new Qd(288);for(var $i=0;$i<144;++$i)c0[$i]=8;for(var $i=144;$i<256;++$i)c0[$i]=9;for(var $i=256;$i<280;++$i)c0[$i]=7;for(var $i=280;$i<288;++$i)c0[$i]=8;var $S=new Qd(32);for(var $i=0;$i<32;++$i)$S[$i]=5;var rYe=fb(c0,9,0),nYe=fb($S,5,0),Ffe=function(t){return(t+7)/8|0},sYe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Qd(t.subarray(e,r))},Nf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},bv=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Gk=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:Ufe,l:0};if(i==1){var o=new Qd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(O,L){return O.f-L.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var v=new ru(y+1),S=KO(r[h-1],v,0);if(S>e){var n=0,w=0,N=S-e,_=1<<N;for(a.sort(function(L,B){return v[B.s]-v[L.s]||L.f-B.f});n<i;++n){var E=a[n].s;if(v[E]>e)w+=_-(1<<S-v[E]),v[E]=e;else break}for(w>>=N;w>0;){var T=a[n].s;v[T]<e?w-=1<<e-v[T]++-1:++n}for(;n>=0&&w;--n){var M=a[n].s;v[M]==e&&(--v[M],++w)}S=e}return{t:new Qd(v),l:S}},KO=function(t,e,r){return t.s==-1?Math.max(KO(t.l,e,r+1),KO(t.r,e,r+1)):e[t.s]=r},OG=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ru(++e),n=0,i=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},wv=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Bfe=function(t,e,r){var n=r.length,i=Ffe(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},MG=function(t,e,r,n,i,a,o,l,c,u,h){Nf(e,h++,r),++i[256];for(var f=Gk(i,15),y=f.t,v=f.l,S=Gk(a,15),w=S.t,N=S.l,_=OG(y),E=_.c,T=_.n,M=OG(w),O=M.c,L=M.n,B=new ru(19),U=0;U<E.length;++U)++B[E[U]&31];for(var U=0;U<O.length;++U)++B[O[U]&31];for(var $=Gk(B,7),K=$.t,q=$.l,H=19;H>4&&!K[PG[H-1]];--H);var Q=u+5<<3,Z=wv(i,c0)+wv(a,$S)+o,J=wv(i,y)+wv(a,w)+o+14+3*H+wv(B,K)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&Q<=Z&&Q<=J)return Bfe(e,h,t.subarray(c,c+u));var ye,ge,oe,re;if(Nf(e,h,1+(J<Z)),h+=2,J<Z){ye=fb(y,v,0),ge=y,oe=fb(w,N,0),re=w;var me=fb(K,q,0);Nf(e,h,T-257),Nf(e,h+5,L-1),Nf(e,h+10,H-4),h+=14;for(var U=0;U<H;++U)Nf(e,h+3*U,K[PG[U]]);h+=3*H;for(var ne=[E,O],G=0;G<2;++G)for(var se=ne[G],U=0;U<se.length;++U){var ue=se[U]&31;Nf(e,h,me[ue]),h+=K[ue],ue>15&&(Nf(e,h,se[U]>>5&127),h+=se[U]>>12)}}else ye=rYe,ge=c0,oe=nYe,re=$S;for(var U=0;U<l;++U){var je=n[U];if(je>255){var ue=je>>18&31;bv(e,h,ye[ue+257]),h+=ge[ue+257],ue>7&&(Nf(e,h,je>>23&31),h+=DD[ue]);var Ce=je&31;bv(e,h,oe[Ce]),h+=re[Ce],Ce>3&&(bv(e,h,je>>5&8191),h+=LD[Ce])}else bv(e,h,ye[je]),h+=ge[je]}return bv(e,h,ye[256]),h+ge[256]},iYe=new RD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ufe=new Qd(0),aYe=function(t,e,r,n,i,a){var o=a.z||t.length,l=new Qd(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var f=iYe[e-1],y=f>>13,v=f&8191,S=(1<<r)-1,w=a.p||new ru(32768),N=a.h||new ru(S+1),_=Math.ceil(r/3),E=2*_,T=function(Ve){return(t[Ve]^t[Ve+1]<<_^t[Ve+2]<<E)&S},M=new RD(25e3),O=new ru(288),L=new ru(32),B=0,U=0,$=a.i||0,K=0,q=a.w||0,H=0;$+2<o;++$){var Q=T($),Z=$&32767,J=N[Q];if(w[Z]=J,N[Q]=Z,q<=$){var ye=o-$;if((B>7e3||K>24576)&&(ye>423||!u)){h=MG(t,c,0,M,O,L,U,K,H,$-H,h),K=B=U=0,H=$;for(var ge=0;ge<286;++ge)O[ge]=0;for(var ge=0;ge<30;++ge)L[ge]=0}var oe=2,re=0,me=v,ne=Z-J&32767;if(ye>2&&Q==T($-ne))for(var G=Math.min(y,ye)-1,se=Math.min(32767,$),ue=Math.min(258,ye);ne<=se&&--me&&Z!=J;){if(t[$+oe]==t[$+oe-ne]){for(var je=0;je<ue&&t[$+je]==t[$+je-ne];++je);if(je>oe){if(oe=je,re=ne,je>G)break;for(var Ce=Math.min(ne,je-2),ae=0,ge=0;ge<Ce;++ge){var de=$-ne+ge&32767,pe=w[de],Oe=de-pe&32767;Oe>ae&&(ae=Oe,J=de)}}}Z=J,J=w[Z],ne+=Z-J&32767}if(re){M[K++]=268435456|GO[oe]<<18|IG[re];var ze=GO[oe]&31,qe=IG[re]&31;U+=DD[ze]+LD[qe],++O[257+ze],++L[qe],q=$+oe,++B}else M[K++]=t[$],++O[t[$]]}}for($=Math.max($,q);$<o;++$)M[K++]=t[$],++O[t[$]];h=MG(t,c,u,M,O,L,U,K,H,$-H,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=N,a.p=w,a.i=$,a.w=q)}else{for(var $=a.w||0;$<o+u;$+=65535){var $e=$+65535;$e>=o&&(c[h/8|0]=u,$e=o),h=Bfe(c,h+1,t.subarray($,$e))}a.i=o}return sYe(l,0,n+Ffe(h)+i)},$fe=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},oYe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Qd(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return aYe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},zfe=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},lYe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=$fe();i.p(e.dictionary),zfe(t,2,i.d())}};function XO(t,e){e||(e={});var r=$fe();r.p(t);var n=oYe(t,e,e.dictionary?6:2,4);return lYe(n,e),zfe(n,n.length-4,r.d()),n}var cYe=typeof TextDecoder<"u"&&new TextDecoder,uYe=0;try{cYe.decode(Ufe,{stream:!0}),uYe=1}catch{}function dYe(t){if(Array.isArray(t))return t}function hYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function RG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fYe(t,e){if(t){if(typeof t=="string")return RG(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RG(t,e):void 0}}function mYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(t,e){return dYe(t)||hYe(t,e)||fYe(t,e)||mYe()}function LG(t,e="utf8"){return new TextDecoder(e).decode(t)}const pYe=new TextEncoder;function gYe(t){return pYe.encode(t)}const xYe=1024*8,yYe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Yk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class FD{constructor(e=xYe,r={}){Ne(this,"buffer");Ne(this,"byteLength");Ne(this,"byteOffset");Ne(this,"length");Ne(this,"offset");Ne(this,"lastWrittenByte");Ne(this,"littleEndian");Ne(this,"_data");Ne(this,"_mark");Ne(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof FD)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Yk[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===yYe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new Yk[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Yk[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return LG(this.readBytes(e))}decodeText(e=1,r="utf8"){return LG(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(gYe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sy(t){let e=t.length;for(;--e>=0;)t[e]=0}const vYe=3,bYe=258,qfe=29,wYe=256,NYe=wYe+1+qfe,Vfe=30,jYe=512,SYe=new Array((NYe+2)*2);Sy(SYe);const CYe=new Array(Vfe*2);Sy(CYe);const AYe=new Array(jYe);Sy(AYe);const _Ye=new Array(bYe-vYe+1);Sy(_Ye);const EYe=new Array(qfe);Sy(EYe);const TYe=new Array(Vfe);Sy(TYe);const kYe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var ZO=kYe;const PYe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},IYe=new Uint32Array(PYe()),OYe=(t,e,r,n)=>{const i=IYe,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var xh=OYe,QO={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hfe={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MYe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var RYe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)MYe(r,n)&&(t[n]=r[n])}}return t},DYe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},Wfe={assign:RYe,flattenChunks:DYe};let Gfe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Gfe=!1}const Iw=new Uint8Array(256);for(let t=0;t<256;t++)Iw[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Iw[254]=Iw[254]=1;var LYe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const FYe=(t,e)=>{if(e<65534&&t.subarray&&Gfe)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var BYe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=Iw[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return FYe(a,i)},UYe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Iw[t[r]]>e?r:e},JO={string2buf:LYe,buf2string:BYe,utf8border:UYe};function $Ye(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zYe=$Ye;const gj=16209,qYe=16191;var VYe=function(e,r){let n,i,a,o,l,c,u,h,f,y,v,S,w,N,_,E,T,M,O,L,B,U,$,K;const q=e.state;n=e.next_in,$=e.input,i=n+(e.avail_in-5),a=e.next_out,K=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=q.dmax,u=q.wsize,h=q.whave,f=q.wnext,y=q.window,v=q.hold,S=q.bits,w=q.lencode,N=q.distcode,_=(1<<q.lenbits)-1,E=(1<<q.distbits)-1;e:do{S<15&&(v+=$[n++]<<S,S+=8,v+=$[n++]<<S,S+=8),T=w[v&_];t:for(;;){if(M=T>>>24,v>>>=M,S-=M,M=T>>>16&255,M===0)K[a++]=T&65535;else if(M&16){O=T&65535,M&=15,M&&(S<M&&(v+=$[n++]<<S,S+=8),O+=v&(1<<M)-1,v>>>=M,S-=M),S<15&&(v+=$[n++]<<S,S+=8,v+=$[n++]<<S,S+=8),T=N[v&E];r:for(;;){if(M=T>>>24,v>>>=M,S-=M,M=T>>>16&255,M&16){if(L=T&65535,M&=15,S<M&&(v+=$[n++]<<S,S+=8,S<M&&(v+=$[n++]<<S,S+=8)),L+=v&(1<<M)-1,L>c){e.msg="invalid distance too far back",q.mode=gj;break e}if(v>>>=M,S-=M,M=a-o,L>M){if(M=L-M,M>h&&q.sane){e.msg="invalid distance too far back",q.mode=gj;break e}if(B=0,U=y,f===0){if(B+=u-M,M<O){O-=M;do K[a++]=y[B++];while(--M);B=a-L,U=K}}else if(f<M){if(B+=u+f-M,M-=f,M<O){O-=M;do K[a++]=y[B++];while(--M);if(B=0,f<O){M=f,O-=M;do K[a++]=y[B++];while(--M);B=a-L,U=K}}}else if(B+=f-M,M<O){O-=M;do K[a++]=y[B++];while(--M);B=a-L,U=K}for(;O>2;)K[a++]=U[B++],K[a++]=U[B++],K[a++]=U[B++],O-=3;O&&(K[a++]=U[B++],O>1&&(K[a++]=U[B++]))}else{B=a-L;do K[a++]=K[B++],K[a++]=K[B++],K[a++]=K[B++],O-=3;while(O>2);O&&(K[a++]=K[B++],O>1&&(K[a++]=K[B++]))}}else if((M&64)===0){T=N[(T&65535)+(v&(1<<M)-1)];continue r}else{e.msg="invalid distance code",q.mode=gj;break e}break}}else if((M&64)===0){T=w[(T&65535)+(v&(1<<M)-1)];continue t}else if(M&32){q.mode=qYe;break e}else{e.msg="invalid literal/length code",q.mode=gj;break e}break}}while(n<i&&a<l);O=S>>3,n-=O,S-=O<<3,v&=(1<<S)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),q.hold=v,q.bits=S};const ex=15,FG=852,BG=592,UG=0,Kk=1,$G=2,HYe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),WYe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),GYe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),YYe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KYe=(t,e,r,n,i,a,o,l)=>{const c=l.bits;let u=0,h=0,f=0,y=0,v=0,S=0,w=0,N=0,_=0,E=0,T,M,O,L,B,U=null,$;const K=new Uint16Array(ex+1),q=new Uint16Array(ex+1);let H=null,Q,Z,J;for(u=0;u<=ex;u++)K[u]=0;for(h=0;h<n;h++)K[e[r+h]]++;for(v=c,y=ex;y>=1&&K[y]===0;y--);if(v>y&&(v=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<y&&K[f]===0;f++);for(v<f&&(v=f),N=1,u=1;u<=ex;u++)if(N<<=1,N-=K[u],N<0)return-1;if(N>0&&(t===UG||y!==1))return-1;for(q[1]=0,u=1;u<ex;u++)q[u+1]=q[u]+K[u];for(h=0;h<n;h++)e[r+h]!==0&&(o[q[e[r+h]]++]=h);if(t===UG?(U=H=o,$=20):t===Kk?(U=HYe,H=WYe,$=257):(U=GYe,H=YYe,$=0),E=0,h=0,u=f,B=a,S=v,w=0,O=-1,_=1<<v,L=_-1,t===Kk&&_>FG||t===$G&&_>BG)return 1;for(;;){Q=u-w,o[h]+1<$?(Z=0,J=o[h]):o[h]>=$?(Z=H[o[h]-$],J=U[o[h]-$]):(Z=96,J=0),T=1<<u-w,M=1<<S,f=M;do M-=T,i[B+(E>>w)+M]=Q<<24|Z<<16|J|0;while(M!==0);for(T=1<<u-1;E&T;)T>>=1;if(T!==0?(E&=T-1,E+=T):E=0,h++,--K[u]===0){if(u===y)break;u=e[r+o[h]]}if(u>v&&(E&L)!==O){for(w===0&&(w=v),B+=f,S=u-w,N=1<<S;S+w<y&&(N-=K[S+w],!(N<=0));)S++,N<<=1;if(_+=1<<S,t===Kk&&_>FG||t===$G&&_>BG)return 1;O=E&L,i[O]=v<<24|S<<16|B-a|0}}return E!==0&&(i[B+E]=u-w<<24|64<<16|0),l.bits=v,0};var mb=KYe;const XYe=0,Yfe=1,Kfe=2,{Z_FINISH:zG,Z_BLOCK:ZYe,Z_TREES:xj,Z_OK:u0,Z_STREAM_END:QYe,Z_NEED_DICT:JYe,Z_STREAM_ERROR:Qu,Z_DATA_ERROR:Xfe,Z_MEM_ERROR:Zfe,Z_BUF_ERROR:eKe,Z_DEFLATED:qG}=Hfe,IC=16180,VG=16181,HG=16182,WG=16183,GG=16184,YG=16185,KG=16186,XG=16187,ZG=16188,QG=16189,zS=16190,jf=16191,Xk=16192,JG=16193,Zk=16194,eY=16195,tY=16196,rY=16197,nY=16198,yj=16199,vj=16200,sY=16201,iY=16202,aY=16203,oY=16204,lY=16205,Qk=16206,cY=16207,uY=16208,Wi=16209,Qfe=16210,Jfe=16211,tKe=852,rKe=592,nKe=15,sKe=nKe,dY=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function iKe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const N0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<IC||e.mode>Jfe?1:0},eme=t=>{if(N0(t))return Qu;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=IC,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(tKe),e.distcode=e.distdyn=new Int32Array(rKe),e.sane=1,e.back=-1,u0},tme=t=>{if(N0(t))return Qu;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,eme(t)},rme=(t,e)=>{let r;if(N0(t))return Qu;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qu:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,tme(t))},nme=(t,e)=>{if(!t)return Qu;const r=new iKe;t.state=r,r.strm=t,r.window=null,r.mode=IC;const n=rme(t,e);return n!==u0&&(t.state=null),n},aKe=t=>nme(t,sKe);let hY=!0,Jk,eP;const oKe=t=>{if(hY){Jk=new Int32Array(512),eP=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(mb(Yfe,t.lens,0,288,Jk,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;mb(Kfe,t.lens,0,32,eP,0,t.work,{bits:5}),hY=!1}t.lencode=Jk,t.lenbits=9,t.distcode=eP,t.distbits=5},sme=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},lKe=(t,e)=>{let r,n,i,a,o,l,c,u,h,f,y,v,S,w,N=0,_,E,T,M,O,L,B,U;const $=new Uint8Array(4);let K,q;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(N0(t)||!t.output||!t.input&&t.avail_in!==0)return Qu;r=t.state,r.mode===jf&&(r.mode=Xk),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,h=r.bits,f=l,y=c,U=u0;e:for(;;)switch(r.mode){case IC:if(r.wrap===0){r.mode=Xk;break}for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=u&255,$[1]=u>>>8&255,r.check=xh(r.check,$,2,0),u=0,h=0,r.mode=VG;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Wi;break}if((u&15)!==qG){t.msg="unknown compression method",r.mode=Wi;break}if(u>>>=4,h-=4,B=(u&15)+8,r.wbits===0&&(r.wbits=B),B>15||B>r.wbits){t.msg="invalid window size",r.mode=Wi;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?QG:jf,u=0,h=0;break;case VG:for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==qG){t.msg="unknown compression method",r.mode=Wi;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Wi;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=xh(r.check,$,2,0)),u=0,h=0,r.mode=HG;case HG:for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,$[2]=u>>>16&255,$[3]=u>>>24&255,r.check=xh(r.check,$,4,0)),u=0,h=0,r.mode=WG;case WG:for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=xh(r.check,$,2,0)),u=0,h=0,r.mode=GG;case GG:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&($[0]=u&255,$[1]=u>>>8&255,r.check=xh(r.check,$,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=YG;case YG:if(r.flags&1024&&(v=r.length,v>l&&(v=l),v&&(r.head&&(B=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+v),B)),r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,v,a)),l-=v,a+=v,r.length-=v),r.length))break e;r.length=0,r.mode=KG;case KG:if(r.flags&2048){if(l===0)break e;v=0;do B=n[a+v++],r.head&&B&&r.length<65536&&(r.head.name+=String.fromCharCode(B));while(B&&v<l);if(r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,v,a)),l-=v,a+=v,B)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=XG;case XG:if(r.flags&4096){if(l===0)break e;v=0;do B=n[a+v++],r.head&&B&&r.length<65536&&(r.head.comment+=String.fromCharCode(B));while(B&&v<l);if(r.flags&512&&r.wrap&4&&(r.check=xh(r.check,n,v,a)),l-=v,a+=v,B)break e}else r.head&&(r.head.comment=null);r.mode=ZG;case ZG:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Wi;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=jf;break;case QG:for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}t.adler=r.check=dY(u),u=0,h=0,r.mode=zS;case zS:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,JYe;t.adler=r.check=1,r.mode=jf;case jf:if(e===ZYe||e===xj)break e;case Xk:if(r.last){u>>>=h&7,h-=h&7,r.mode=Qk;break}for(;h<3;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=JG;break;case 1:if(oKe(r),r.mode=yj,e===xj){u>>>=2,h-=2;break e}break;case 2:r.mode=tY;break;case 3:t.msg="invalid block type",r.mode=Wi}u>>>=2,h-=2;break;case JG:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Wi;break}if(r.length=u&65535,u=0,h=0,r.mode=Zk,e===xj)break e;case Zk:r.mode=eY;case eY:if(v=r.length,v){if(v>l&&(v=l),v>c&&(v=c),v===0)break e;i.set(n.subarray(a,a+v),o),l-=v,a+=v,c-=v,o+=v,r.length-=v;break}r.mode=jf;break;case tY:for(;h<14;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Wi;break}r.have=0,r.mode=rY;case rY:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.lens[H[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},U=mb(XYe,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,U){t.msg="invalid code lengths set",r.mode=Wi;break}r.have=0,r.mode=nY;case nY:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[u&(1<<r.lenbits)-1],_=N>>>24,E=N>>>16&255,T=N&65535,!(_<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(T<16)u>>>=_,h-=_,r.lens[r.have++]=T;else{if(T===16){for(q=_+2;h<q;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(u>>>=_,h-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=Wi;break}B=r.lens[r.have-1],v=3+(u&3),u>>>=2,h-=2}else if(T===17){for(q=_+3;h<q;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=_,h-=_,B=0,v=3+(u&7),u>>>=3,h-=3}else{for(q=_+7;h<q;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=_,h-=_,B=0,v=11+(u&127),u>>>=7,h-=7}if(r.have+v>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Wi;break}for(;v--;)r.lens[r.have++]=B}}if(r.mode===Wi)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Wi;break}if(r.lenbits=9,K={bits:r.lenbits},U=mb(Yfe,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,U){t.msg="invalid literal/lengths set",r.mode=Wi;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},U=mb(Kfe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,U){t.msg="invalid distances set",r.mode=Wi;break}if(r.mode=yj,e===xj)break e;case yj:r.mode=vj;case vj:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,VYe(t,y),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,h=r.bits,r.mode===jf&&(r.back=-1);break}for(r.back=0;N=r.lencode[u&(1<<r.lenbits)-1],_=N>>>24,E=N>>>16&255,T=N&65535,!(_<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(E&&(E&240)===0){for(M=_,O=E,L=T;N=r.lencode[L+((u&(1<<M+O)-1)>>M)],_=N>>>24,E=N>>>16&255,T=N&65535,!(M+_<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=M,h-=M,r.back+=M}if(u>>>=_,h-=_,r.back+=_,r.length=T,E===0){r.mode=lY;break}if(E&32){r.back=-1,r.mode=jf;break}if(E&64){t.msg="invalid literal/length code",r.mode=Wi;break}r.extra=E&15,r.mode=sY;case sY:if(r.extra){for(q=r.extra;h<q;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=iY;case iY:for(;N=r.distcode[u&(1<<r.distbits)-1],_=N>>>24,E=N>>>16&255,T=N&65535,!(_<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if((E&240)===0){for(M=_,O=E,L=T;N=r.distcode[L+((u&(1<<M+O)-1)>>M)],_=N>>>24,E=N>>>16&255,T=N&65535,!(M+_<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=M,h-=M,r.back+=M}if(u>>>=_,h-=_,r.back+=_,E&64){t.msg="invalid distance code",r.mode=Wi;break}r.offset=T,r.extra=E&15,r.mode=aY;case aY:if(r.extra){for(q=r.extra;h<q;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Wi;break}r.mode=oY;case oY:if(c===0)break e;if(v=y-c,r.offset>v){if(v=r.offset-v,v>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Wi;break}v>r.wnext?(v-=r.wnext,S=r.wsize-v):S=r.wnext-v,v>r.length&&(v=r.length),w=r.window}else w=i,S=o-r.offset,v=r.length;v>c&&(v=c),c-=v,r.length-=v;do i[o++]=w[S++];while(--v);r.length===0&&(r.mode=vj);break;case lY:if(c===0)break e;i[o++]=r.length,c--,r.mode=vj;break;case Qk:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[a++]<<h,h+=8}if(y-=c,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?xh(r.check,i,y,o-y):ZO(r.check,i,y,o-y)),y=c,r.wrap&4&&(r.flags?u:dY(u))!==r.check){t.msg="incorrect data check",r.mode=Wi;break}u=0,h=0}r.mode=cY;case cY:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Wi;break}u=0,h=0}r.mode=uY;case uY:U=QYe;break e;case Wi:U=Xfe;break e;case Qfe:return Zfe;case Jfe:default:return Qu}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,(r.wsize||y!==t.avail_out&&r.mode<Wi&&(r.mode<Qk||e!==zG))&&sme(t,t.output,t.next_out,y-t.avail_out),f-=t.avail_in,y-=t.avail_out,t.total_in+=f,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?xh(r.check,i,y,t.next_out-y):ZO(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===jf?128:0)+(r.mode===yj||r.mode===Zk?256:0),(f===0&&y===0||e===zG)&&U===u0&&(U=eKe),U},cKe=t=>{if(N0(t))return Qu;let e=t.state;return e.window&&(e.window=null),t.state=null,u0},uKe=(t,e)=>{if(N0(t))return Qu;const r=t.state;return(r.wrap&2)===0?Qu:(r.head=e,e.done=!1,u0)},dKe=(t,e)=>{const r=e.length;let n,i,a;return N0(t)||(n=t.state,n.wrap!==0&&n.mode!==zS)?Qu:n.mode===zS&&(i=1,i=ZO(i,e,r,0),i!==n.check)?Xfe:(a=sme(t,e,r,r),a?(n.mode=Qfe,Zfe):(n.havedict=1,u0))};var hKe=tme,fKe=rme,mKe=eme,pKe=aKe,gKe=nme,xKe=lKe,yKe=cKe,vKe=uKe,bKe=dKe,wKe="pako inflate (from Nodeca project)",Tf={inflateReset:hKe,inflateReset2:fKe,inflateResetKeep:mKe,inflateInit:pKe,inflateInit2:gKe,inflate:xKe,inflateEnd:yKe,inflateGetHeader:vKe,inflateSetDictionary:bKe,inflateInfo:wKe};function NKe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var jKe=NKe;const ime=Object.prototype.toString,{Z_NO_FLUSH:SKe,Z_FINISH:CKe,Z_OK:Ow,Z_STREAM_END:tP,Z_NEED_DICT:rP,Z_STREAM_ERROR:AKe,Z_DATA_ERROR:fY,Z_MEM_ERROR:_Ke}=Hfe;function H2(t){this.options=Wfe.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zYe,this.strm.avail_out=0;let r=Tf.inflateInit2(this.strm,e.windowBits);if(r!==Ow)throw new Error(QO[r]);if(this.header=new jKe,Tf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=JO.string2buf(e.dictionary):ime.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Tf.inflateSetDictionary(this.strm,e.dictionary),r!==Ow)))throw new Error(QO[r])}H2.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?CKe:SKe,ime.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Tf.inflate(r,o),a===rP&&i&&(a=Tf.inflateSetDictionary(r,i),a===Ow?a=Tf.inflate(r,o):a===fY&&(a=rP));r.avail_in>0&&a===tP&&r.state.wrap>0&&t[r.next_in]!==0;)Tf.inflateReset(r),a=Tf.inflate(r,o);switch(a){case AKe:case fY:case rP:case _Ke:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===tP))if(this.options.to==="string"){let c=JO.utf8border(r.output,r.next_out),u=r.next_out-c,h=JO.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Ow&&l===0)){if(a===tP)return a=Tf.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};H2.prototype.onData=function(t){this.chunks.push(t)};H2.prototype.onEnd=function(t){t===Ow&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wfe.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function EKe(t,e){const r=new H2(e);if(r.push(t),r.err)throw r.msg||QO[r.err];return r.result}var TKe=H2,kKe=EKe,PKe={Inflate:TKe,inflate:kKe};const{Inflate:IKe,inflate:OKe}=PKe;var mY=IKe,MKe=OKe;const ame=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;ame[t]=e}const pY=4294967295;function RKe(t,e,r){let n=t;for(let i=0;i<r;i++)n=ame[(n^e[i])&255]^n>>>8;return n}function DKe(t,e){return(RKe(pY,t,e)^pY)>>>0}function gY(t,e,r){const n=t.readUint32(),i=DKe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function ome(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function lme(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function cme(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function ume(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function dme(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+LKe(e[a-i],r[a],r[a-i])&255}}function LKe(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function FKe(t,e,r,n,i,a){switch(t){case 0:ome(e,r,i);break;case 1:lme(e,r,i,a);break;case 2:cme(e,r,n,i);break;case 3:ume(e,r,n,i,a);break;case 4:dme(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const BKe=new Uint16Array([255]),UKe=new Uint8Array(BKe.buffer),$Ke=UKe[0]===255;function zKe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const f=o[h],y=Math.ceil((r-f.x)/f.xStep),v=Math.ceil((n-f.y)/f.yStep);if(y<=0||v<=0)continue;const S=y*l,w=new Uint8Array(S);for(let N=0;N<v;N++){const _=e[u++],E=e.subarray(u,u+S);u+=S;const T=new Uint8Array(S);FKe(_,E,T,w,S,l),w.set(T);for(let M=0;M<y;M++){const O=f.x+M*f.xStep,L=f.y+N*f.yStep;if(!(O>=r||L>=n))for(let B=0;B<l;B++)c[(L*r+O)*l+B]=T[M*l+B]}}}if(a===16){const h=new Uint16Array(c.buffer);if($Ke)for(let f=0;f<h.length;f++)h[f]=qKe(h[f]);return h}else return c}function qKe(t){return(t&255)<<8|t>>8&255}const VKe=new Uint16Array([255]),HKe=new Uint8Array(VKe.buffer),WKe=HKe[0]===255,GKe=new Uint8Array(0);function xY(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let u=GKe,h=0,f,y;for(let v=0;v<n;v++){switch(f=e.subarray(h+1,h+1+l),y=c.subarray(v*l,(v+1)*l),e[h]){case 0:ome(f,y,l);break;case 1:lme(f,y,l,o);break;case 2:cme(f,y,u,l);break;case 3:ume(f,y,u,l,o);break;case 4:dme(f,y,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=y,h+=l+1}if(a===16){const v=new Uint16Array(c.buffer);if(WKe)for(let S=0;S<v.length;S++)v[S]=YKe(v[S]);return v}else return c}function YKe(t){return(t&255)<<8|t>>8&255}const Hj=Uint8Array.of(137,80,78,71,13,10,26,10);function yY(t){if(!KKe(t.readBytes(Hj.length)))throw new Error("wrong PNG signature")}function KKe(t){if(t.length<Hj.length)return!1;for(let e=0;e<Hj.length;e++)if(t[e]!==Hj[e])return!1;return!0}const XKe="tEXt",ZKe=0,hme=new TextDecoder("latin1");function QKe(t){if(eXe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const JKe=/^[\u0000-\u00FF]*$/;function eXe(t){if(!JKe.test(t))throw new Error("invalid latin1 text")}function tXe(t,e,r){const n=fme(e);t[n]=rXe(e,r-n.length-1)}function fme(t){for(t.mark();t.readByte()!==ZKe;);const e=t.offset;t.reset();const r=hme.decode(t.readBytes(e-t.offset-1));return t.skip(1),QKe(r),r}function rXe(t,e){return hme.decode(t.readBytes(e))}const Hc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nP={UNKNOWN:-1,DEFLATE:0},vY={UNKNOWN:-1,ADAPTIVE:0},sP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bj={NONE:0,BACKGROUND:1,PREVIOUS:2},iP={SOURCE:0,OVER:1};class nXe extends FD{constructor(r,n={}){super(r);Ne(this,"_checkCrc");Ne(this,"_inflator");Ne(this,"_png");Ne(this,"_apng");Ne(this,"_end");Ne(this,"_hasPalette");Ne(this,"_palette");Ne(this,"_hasTransparency");Ne(this,"_transparency");Ne(this,"_compressionMethod");Ne(this,"_filterMethod");Ne(this,"_interlaceMethod");Ne(this,"_colorType");Ne(this,"_isAnimated");Ne(this,"_numberOfFrames");Ne(this,"_numberOfPlays");Ne(this,"_frames");Ne(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new mY,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nP.UNKNOWN,this._filterMethod=vY.UNKNOWN,this._interlaceMethod=sP.UNKNOWN,this._colorType=Hc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yY(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(yY(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case XKe:tXe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gY(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gY(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=sXe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Hc.GREYSCALE:i=1;break;case Hc.TRUECOLOUR:i=3;break;case Hc.INDEXED_COLOUR:i=1;break;case Hc.GREYSCALE_ALPHA:i=2;break;case Hc.TRUECOLOUR_ALPHA:i=4;break;case Hc.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==nP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Hc.GREYSCALE:case Hc.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Hc.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Hc.UNKNOWN:case Hc.GREYSCALE_ALPHA:case Hc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=fme(this),i=this.readUint8();if(i!==nP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:MKe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=xY({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case bj.NONE:break;case bj.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case bj.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case iP.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let h=0;h<this._png.channels;h++)r.data[c+h]=n.data[u+h]}break;case iP.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let h=0;h<this._png.channels;h++){const f=n.data[u+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:n.data[u+h],v=Math.floor(f*y+(1-f)*r.data[c+h]);r.data[c+h]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==vY.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===sP.NO_INTERLACE)this._png.data=xY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===sP.ADAM7)this._png.data=zKe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bj.NONE,blendOp:iP.SOURCE,data:r}),this._inflator=new mY,this._writingDataChunks=!1}}function sXe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var bY;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(bY||(bY={}));function iXe(t,e){return new nXe(t,e).decode()}var Sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function aP(){Sn.console&&typeof Sn.console.log=="function"&&Sn.console.log.apply(Sn.console,arguments)}var hi={log:aP,warn:function(t){Sn.console&&(typeof Sn.console.warn=="function"?Sn.console.warn.apply(Sn.console,arguments):aP.call(null,arguments))},error:function(t){Sn.console&&(typeof Sn.console.error=="function"?Sn.console.error.apply(Sn.console,arguments):aP(t))}};function oP(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ug(n.response,e,r)},n.onerror=function(){hi.error("could not download file")},n.send()}function wY(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wj(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ug=Sn.saveAs||((typeof window>"u"?"undefined":Js(window))!=="object"||window!==Sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Sn.URL||Sn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?wY(i.href)?oP(t,e,r):wj(i,i.target="_blank"):wj(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){wj(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(wY(t))oP(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){wj(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Js(a)!=="object"&&(hi.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return oP(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Sn.HTMLElement)||Sn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Js(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(t)}else{var c=Sn.URL||Sn.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mme(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Wj=Sn.atob.bind(Sn),NY=Sn.btoa.bind(Sn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lP(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=jl(r,n,i,a,e[0],7,-680876936),a=jl(a,r,n,i,e[1],12,-389564586),i=jl(i,a,r,n,e[2],17,606105819),n=jl(n,i,a,r,e[3],22,-1044525330),r=jl(r,n,i,a,e[4],7,-176418897),a=jl(a,r,n,i,e[5],12,1200080426),i=jl(i,a,r,n,e[6],17,-1473231341),n=jl(n,i,a,r,e[7],22,-45705983),r=jl(r,n,i,a,e[8],7,1770035416),a=jl(a,r,n,i,e[9],12,-1958414417),i=jl(i,a,r,n,e[10],17,-42063),n=jl(n,i,a,r,e[11],22,-1990404162),r=jl(r,n,i,a,e[12],7,1804603682),a=jl(a,r,n,i,e[13],12,-40341101),i=jl(i,a,r,n,e[14],17,-1502002290),r=Sl(r,n=jl(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Sl(a,r,n,i,e[6],9,-1069501632),i=Sl(i,a,r,n,e[11],14,643717713),n=Sl(n,i,a,r,e[0],20,-373897302),r=Sl(r,n,i,a,e[5],5,-701558691),a=Sl(a,r,n,i,e[10],9,38016083),i=Sl(i,a,r,n,e[15],14,-660478335),n=Sl(n,i,a,r,e[4],20,-405537848),r=Sl(r,n,i,a,e[9],5,568446438),a=Sl(a,r,n,i,e[14],9,-1019803690),i=Sl(i,a,r,n,e[3],14,-187363961),n=Sl(n,i,a,r,e[8],20,1163531501),r=Sl(r,n,i,a,e[13],5,-1444681467),a=Sl(a,r,n,i,e[2],9,-51403784),i=Sl(i,a,r,n,e[7],14,1735328473),r=Cl(r,n=Sl(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Cl(a,r,n,i,e[8],11,-2022574463),i=Cl(i,a,r,n,e[11],16,1839030562),n=Cl(n,i,a,r,e[14],23,-35309556),r=Cl(r,n,i,a,e[1],4,-1530992060),a=Cl(a,r,n,i,e[4],11,1272893353),i=Cl(i,a,r,n,e[7],16,-155497632),n=Cl(n,i,a,r,e[10],23,-1094730640),r=Cl(r,n,i,a,e[13],4,681279174),a=Cl(a,r,n,i,e[0],11,-358537222),i=Cl(i,a,r,n,e[3],16,-722521979),n=Cl(n,i,a,r,e[6],23,76029189),r=Cl(r,n,i,a,e[9],4,-640364487),a=Cl(a,r,n,i,e[12],11,-421815835),i=Cl(i,a,r,n,e[15],16,530742520),r=Al(r,n=Cl(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Al(a,r,n,i,e[7],10,1126891415),i=Al(i,a,r,n,e[14],15,-1416354905),n=Al(n,i,a,r,e[5],21,-57434055),r=Al(r,n,i,a,e[12],6,1700485571),a=Al(a,r,n,i,e[3],10,-1894986606),i=Al(i,a,r,n,e[10],15,-1051523),n=Al(n,i,a,r,e[1],21,-2054922799),r=Al(r,n,i,a,e[8],6,1873313359),a=Al(a,r,n,i,e[15],10,-30611744),i=Al(i,a,r,n,e[6],15,-1560198380),n=Al(n,i,a,r,e[13],21,1309151649),r=Al(r,n,i,a,e[4],6,-145523070),a=Al(a,r,n,i,e[11],10,-1120210379),i=Al(i,a,r,n,e[2],15,718787259),n=Al(n,i,a,r,e[9],21,-343485551),t[0]=hp(r,t[0]),t[1]=hp(n,t[1]),t[2]=hp(i,t[2]),t[3]=hp(a,t[3])}function OC(t,e,r,n,i,a){return e=hp(hp(e,t),hp(n,a)),hp(e<<i|e>>>32-i,r)}function jl(t,e,r,n,i,a,o){return OC(e&r|~e&n,t,e,i,a,o)}function Sl(t,e,r,n,i,a,o){return OC(e&n|r&~n,t,e,i,a,o)}function Cl(t,e,r,n,i,a,o){return OC(e^r^n,t,e,i,a,o)}function Al(t,e,r,n,i,a,o){return OC(r^(e|~n),t,e,i,a,o)}function pme(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)lP(n,aXe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(lP(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,lP(n,i),n}function aXe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var jY="0123456789abcdef".split("");function oXe(t){for(var e="",r=0;r<4;r++)e+=jY[t>>8*r+4&15]+jY[t>>8*r&15];return e}function lXe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function e8(t){return pme(t).map(lXe).join("")}var cXe=(function(t){for(var e=0;e<t.length;e++)t[e]=oXe(t[e]);return t.join("")})(pme("hello"))!="5d41402abc4b2a76b9719d911017c592";function hp(t,e){if(cXe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function t8(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}r=t,n=l}else l=n;var f=e.length,y=0,v=0,S="";for(c=0;c<f;c++)v=(v+(h=l[y=(y+1)%256]))%256,l[y]=l[v],l[v]=h,o=l[(l[y]+l[v])%256],S+=String.fromCharCode(e.charCodeAt(c)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var SY={print:4,modify:8,copy:16,"annot-forms":32};function ix(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(SY.perm!==void 0)throw new Error("Invalid permission: "+l);i+=SY[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=e8(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=t8(this.encryptionKey,this.padding)}function ax(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function CY(t){if(Js(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){Sn.console&&hi.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qS(t){if(!(this instanceof qS))return new qS(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function gme(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fg(t,e,r,n,i){if(!(this instanceof fg))return new fg(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,gme.call(this,n,i)}function vx(t,e,r,n,i){if(!(this instanceof vx))return new vx(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,gme.call(this,n,i)}function $r(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",h=null;Js(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=CY;var S="1.3",w=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(z){S=z};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return N};var _=v.__private__.getPageFormat=function(z){return N[z]};i=i||"a4";var E="compat",T="advanced",M=E;function O(){this.saveGraphicsState(),Ee(new Gr(ur,0,0,-ur,0,fl()*ur).toString()+" cm"),this.setFontSize(this.getFontSize()/ur),u="n",M=T}function L(){this.restoreGraphicsState(),u="S",M=E}var B=v.__private__.combineFontStyleAndFontWeight=function(z,he){if(z=="bold"&&he=="normal"||z=="bold"&&he==400||z=="normal"&&he=="italic"||z=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(z=he==400||he==="normal"?z==="italic"?"italic":"normal":he!=700&&he!=="bold"||z!=="normal"?(he==700?"bold":he)+""+z:"bold"),z};v.advancedAPI=function(z){var he=M===E;return he&&O.call(this),typeof z!="function"||(z(this),he&&L.call(this)),this},v.compatAPI=function(z){var he=M===T;return he&&L.call(this),typeof z!="function"||(z(this),he&&O.call(this)),this},v.isAdvancedAPI=function(){return M===T};var U,$=function(z){if(M!==T)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=v.roundToPrecision=v.__private__.roundToPrecision=function(z,he){var De=e||he;if(isNaN(z)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(De).replace(/0+$/,"")};U=v.hpf=v.__private__.hpf=typeof c=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return K(z,c)}:c==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return K(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return K(z,16)};var q=v.f2=v.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return K(z,2)},H=v.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return K(z,3)},Q=v.scale=v.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return M===E?z*ur:M===T?z:void 0},Z=function(z){return Q((function(he){return M===E?fl()-he:M===T?he:void 0})(z))};v.__private__.setPrecision=v.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(e=parseInt(z,10))};var J,ye="00000000000000000000000000000000",ge=v.__private__.getFileId=function(){return ye},oe=v.__private__.setFileId=function(z){return ye=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Ls=new ix(h.userPermissions,h.userPassword,h.ownerPassword,ye)),ye};v.setFileId=function(z){return oe(z),this},v.getFileId=function(){return ge()};var re=v.__private__.convertDateToPDFDate=function(z){var he=z.getTimezoneOffset(),De=he<0?"+":"-",We=Math.floor(Math.abs(he/60)),rt=Math.abs(he%60),jt=[De,ue(We),"'",ue(rt),"'"].join("");return["D:",z.getFullYear(),ue(z.getMonth()+1),ue(z.getDate()),ue(z.getHours()),ue(z.getMinutes()),ue(z.getSeconds()),jt].join("")},me=v.__private__.convertPDFDateToDate=function(z){var he=parseInt(z.substr(2,4),10),De=parseInt(z.substr(6,2),10)-1,We=parseInt(z.substr(8,2),10),rt=parseInt(z.substr(10,2),10),jt=parseInt(z.substr(12,2),10),Ut=parseInt(z.substr(14,2),10);return new Date(he,De,We,rt,jt,Ut,0)},ne=v.__private__.setCreationDate=function(z){var he;if(z===void 0&&(z=new Date),z instanceof Date)he=re(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=z}return J=he},G=v.__private__.getCreationDate=function(z){var he=J;return z==="jsDate"&&(he=me(J)),he};v.setCreationDate=function(z){return ne(z),this},v.getCreationDate=function(z){return G(z)};var se,ue=v.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},je=v.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},Ce=0,ae=[],de=[],pe=0,Oe=[],ze=[],qe=!1,$e=de;v.__private__.setCustomOutputDestination=function(z){qe=!0,$e=z};var Ve=function(z){qe||($e=z)};v.__private__.resetCustomOutputDestination=function(){qe=!1,$e=de};var Ee=v.__private__.out=function(z){return z=z.toString(),pe+=z.length+1,$e.push(z),$e},sr=v.__private__.write=function(z){return Ee(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},Zt=v.__private__.getArrayBuffer=function(z){for(var he=z.length,De=new ArrayBuffer(he),We=new Uint8Array(De);he--;)We[he]=z.charCodeAt(he);return De},Gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Gt};var mt=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(z){return mt=M===T?z/ur:z,this};var dr,ht=v.__private__.getFontSize=v.getFontSize=function(){return M===E?mt:mt*ur},Fe=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(z){return Fe=z,this},v.__private__.getR2L=v.getR2L=function(){return Fe};var Xe,ot=v.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))dr=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');dr=z}else dr=parseInt(z,10)};v.__private__.getZoomMode=function(){return dr};var Et,vt=v.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');Xe=z};v.__private__.getPageMode=function(){return Xe};var Tt=v.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Et=z};v.__private__.getLayoutMode=function(){return Et},v.__private__.setDisplayMode=v.setDisplayMode=function(z,he,De){return ot(z),Tt(he),vt(De),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(z){if(Object.keys(It).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[z]},v.__private__.getDocumentProperties=function(){return It},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(z){for(var he in It)It.hasOwnProperty(he)&&z[he]&&(It[he]=z[he]);return this},v.__private__.setDocumentProperty=function(z,he){if(Object.keys(It).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[z]=he};var $t,ur,tr,_s,qr,pt={},Ar={},Rr=[],or={},vn={},cn={},ri={},Wr=null,Rn=0,un=[],rs=new CY(v),da=t.hotfixes||[],Xi={},Hs={},ja=[],Gr=function z(he,De,We,rt,jt,Ut){if(!(this instanceof z))return new z(he,De,We,rt,jt,Ut);isNaN(he)&&(he=1),isNaN(De)&&(De=0),isNaN(We)&&(We=0),isNaN(rt)&&(rt=1),isNaN(jt)&&(jt=0),isNaN(Ut)&&(Ut=0),this._matrix=[he,De,We,rt,jt,Ut]};Object.defineProperty(Gr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Gr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Gr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Gr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Gr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Gr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Gr.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Gr.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Gr.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Gr.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Gr.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Gr.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Gr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gr.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(z)},Gr.prototype.multiply=function(z){var he=z.sx*this.sx+z.shy*this.shx,De=z.sx*this.shy+z.shy*this.sy,We=z.shx*this.sx+z.sy*this.shx,rt=z.shx*this.shy+z.sy*this.sy,jt=z.tx*this.sx+z.ty*this.shx+this.tx,Ut=z.tx*this.shy+z.ty*this.sy+this.ty;return new Gr(he,De,We,rt,jt,Ut)},Gr.prototype.decompose=function(){var z=this.sx,he=this.shy,De=this.shx,We=this.sy,rt=this.tx,jt=this.ty,Ut=Math.sqrt(z*z+he*he),br=(z/=Ut)*De+(he/=Ut)*We;De-=z*br,We-=he*br;var nr=Math.sqrt(De*De+We*We);return br/=nr,z*(We/=nr)<he*(De/=nr)&&(z=-z,he=-he,br=-br,Ut=-Ut),{scale:new Gr(Ut,0,0,nr,0,0),translate:new Gr(1,0,0,1,rt,jt),rotate:new Gr(z,he,-he,z,0,0),skew:new Gr(1,0,br,1,0,0)}},Gr.prototype.toString=function(z){return this.join(" ")},Gr.prototype.inversed=function(){var z=this.sx,he=this.shy,De=this.shx,We=this.sy,rt=this.tx,jt=this.ty,Ut=1/(z*We-he*De),br=We*Ut,nr=-he*Ut,rn=-De*Ut,pr=z*Ut;return new Gr(br,nr,rn,pr,-br*rt-rn*jt,-nr*rt-pr*jt)},Gr.prototype.applyToPoint=function(z){var he=z.x*this.sx+z.y*this.shx+this.tx,De=z.x*this.shy+z.y*this.sy+this.ty;return new li(he,De)},Gr.prototype.applyToRectangle=function(z){var he=this.applyToPoint(z),De=this.applyToPoint(new li(z.x+z.w,z.y+z.h));return new gu(he.x,he.y,De.x-he.x,De.y-he.y)},Gr.prototype.clone=function(){var z=this.sx,he=this.shy,De=this.shx,We=this.sy,rt=this.tx,jt=this.ty;return new Gr(z,he,De,We,rt,jt)},v.Matrix=Gr;var pi=v.matrixMult=function(z,he){return he.multiply(z)},Bl=new Gr(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Bl;var gi=function(z,he){if(!vn[z]){var De=(he instanceof fg?"Sh":"P")+(Object.keys(or).length+1).toString(10);he.id=De,vn[z]=De,or[De]=he,rs.publish("addPattern",he)}};v.ShadingPattern=fg,v.TilingPattern=vx,v.addShadingPattern=function(z,he){return $("addShadingPattern()"),gi(z,he),this},v.beginTilingPattern=function(z){$("beginTilingPattern()"),Xo(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},v.endTilingPattern=function(z,he){$("endTilingPattern()"),he.stream=ze[se].join(`
`),gi(z,he),rs.publish("endTilingPattern",he),ja.pop().restore()};var bo,In=v.__private__.newObject=function(){var z=Ps();return os(z,!0),z},Ps=v.__private__.newObjectDeferred=function(){return Ce++,ae[Ce]=function(){return pe},Ce},os=function(z,he){return he=typeof he=="boolean"&&he,ae[z]=pe,he&&Ee(z+" 0 obj"),z},lr=v.__private__.newAdditionalObject=function(){var z={objId:Ps(),content:""};return Oe.push(z),z},Vo=Ps(),Ho=Ps(),ai=v.__private__.decodeColorString=function(z){var he=z.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length!==5||he[4]!=="k"&&he[4]!=="K"||(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var De=parseFloat(he[0]);he=[De,De,De,"r"]}for(var We="#",rt=0;rt<3;rt++)We+=("0"+Math.floor(255*parseFloat(he[rt])).toString(16)).slice(-2);return We},xi=v.__private__.encodeColorString=function(z){var he;typeof z=="string"&&(z={ch1:z});var De=z.ch1,We=z.ch2,rt=z.ch3,jt=z.ch4,Ut=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var br=new mme(De);if(br.ok)De=br.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var nr=parseInt(De.substr(1),16);De=nr>>16&255,We=nr>>8&255,rt=255&nr}if(We===void 0||jt===void 0&&De===We&&We===rt)he=typeof De=="string"?De+" "+Ut[0]:z.precision===2?q(De/255)+" "+Ut[0]:H(De/255)+" "+Ut[0];else if(jt===void 0||Js(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return["1.","1.","1.",Ut[1]].join(" ");he=typeof De=="string"?[De,We,rt,Ut[1]].join(" "):z.precision===2?[q(De/255),q(We/255),q(rt/255),Ut[1]].join(" "):[H(De/255),H(We/255),H(rt/255),Ut[1]].join(" ")}else he=typeof De=="string"?[De,We,rt,jt,Ut[2]].join(" "):z.precision===2?[q(De),q(We),q(rt),q(jt),Ut[2]].join(" "):[H(De),H(We),H(rt),H(jt),Ut[2]].join(" ");return he},ro=v.__private__.getFilters=function(){return o},Ua=v.__private__.putStream=function(z){var he=(z=z||{}).data||"",De=z.filters||ro(),We=z.alreadyAppliedFilters||[],rt=z.addLength1||!1,jt=he.length,Ut=z.objectId,br=function(Qi){return Qi};if(h!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(br=Ls.encryptor(Ut,0));var nr={};De===!0&&(De=["FlateEncode"]);var rn=z.additionalKeyValues||[],pr=(nr=$r.API.processDataByFilters!==void 0?$r.API.processDataByFilters(he,De):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(We)?We.join(" "):We.toString());if(nr.data.length!==0&&(rn.push({key:"Length",value:nr.data.length}),rt===!0&&rn.push({key:"Length1",value:jt})),pr.length!=0)if(pr.split("/").length-1==1)rn.push({key:"Filter",value:pr});else{rn.push({key:"Filter",value:"["+pr+"]"});for(var Kn=0;Kn<rn.length;Kn+=1)if(rn[Kn].key==="DecodeParms"){for(var bs=[],hn=0;hn<nr.reverseChain.split("/").length-1;hn+=1)bs.push("null");bs.push(rn[Kn].value),rn[Kn].value="["+bs.join(" ")+"]"}}Ee("<<");for(var ir=0;ir<rn.length;ir++)Ee("/"+rn[ir].key+" "+rn[ir].value);Ee(">>"),nr.data.length!==0&&(Ee("stream"),Ee(br(nr.data)),Ee("endstream"))},$a=v.__private__.putPage=function(z){var he=z.number,De=z.data,We=z.objId,rt=z.contentsObjId;os(We,!0),Ee("<</Type /Page"),Ee("/Parent "+z.rootDictionaryObjId+" 0 R"),Ee("/Resources "+z.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(U(z.mediaBox.bottomLeftX))+" "+parseFloat(U(z.mediaBox.bottomLeftY))+" "+U(z.mediaBox.topRightX)+" "+U(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&Ee("/CropBox ["+U(z.cropBox.bottomLeftX)+" "+U(z.cropBox.bottomLeftY)+" "+U(z.cropBox.topRightX)+" "+U(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&Ee("/BleedBox ["+U(z.bleedBox.bottomLeftX)+" "+U(z.bleedBox.bottomLeftY)+" "+U(z.bleedBox.topRightX)+" "+U(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&Ee("/TrimBox ["+U(z.trimBox.bottomLeftX)+" "+U(z.trimBox.bottomLeftY)+" "+U(z.trimBox.topRightX)+" "+U(z.trimBox.topRightY)+"]"),z.artBox!==null&&Ee("/ArtBox ["+U(z.artBox.bottomLeftX)+" "+U(z.artBox.bottomLeftY)+" "+U(z.artBox.topRightX)+" "+U(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&Ee("/UserUnit "+z.userUnit),rs.publish("putPage",{objId:We,pageContext:un[he],pageNumber:he,page:De}),Ee("/Contents "+rt+" 0 R"),Ee(">>"),Ee("endobj");var jt=De.join(`
`);return M===T&&(jt+=`
Q`),os(rt,!0),Ua({data:jt,filters:ro(),objectId:rt}),Ee("endobj"),We},Ul=v.__private__.putPages=function(){var z,he,De=[];for(z=1;z<=Rn;z++)un[z].objId=Ps(),un[z].contentsObjId=Ps();for(z=1;z<=Rn;z++)De.push($a({number:z,data:ze[z],objId:un[z].objId,contentsObjId:un[z].contentsObjId,mediaBox:un[z].mediaBox,cropBox:un[z].cropBox,bleedBox:un[z].bleedBox,trimBox:un[z].trimBox,artBox:un[z].artBox,userUnit:un[z].userUnit,rootDictionaryObjId:Vo,resourceDictionaryObjId:Ho}));os(Vo,!0),Ee("<</Type /Pages");var We="/Kids [";for(he=0;he<Rn;he++)We+=De[he]+" 0 R ";Ee(We+"]"),Ee("/Count "+Rn),Ee(">>"),Ee("endobj"),rs.publish("postPutPages")},hu=function(z){rs.publish("putFont",{font:z,out:Ee,newObject:In,putStream:Ua}),z.isAlreadyPutted!==!0&&(z.objectNumber=In(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+ax(z.postScriptName)),Ee("/Subtype /Type1"),typeof z.encoding=="string"&&Ee("/Encoding /"+z.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},za=function(z){z.objectNumber=In();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[U(z.x),U(z.y),U(z.x+z.width),U(z.y+z.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var De=z.pages[1].join(`
`);Ua({data:De,additionalKeyValues:he,objectId:z.objectNumber}),Ee("endobj")},Ii=function(z,he){he||(he=21);var De=In(),We=(function(Ut,br){var nr,rn=[],pr=1/(br-1);for(nr=0;nr<1;nr+=pr)rn.push(nr);if(rn.push(1),Ut[0].offset!=0){var Kn={offset:0,color:Ut[0].color};Ut.unshift(Kn)}if(Ut[Ut.length-1].offset!=1){var bs={offset:1,color:Ut[Ut.length-1].color};Ut.push(bs)}for(var hn="",ir=0,Qi=0;Qi<rn.length;Qi++){for(nr=rn[Qi];nr>Ut[ir+1].offset;)ir++;var pn=Ut[ir].offset,ui=(nr-pn)/(Ut[ir+1].offset-pn),Ca=Ut[ir].color,jo=Ut[ir+1].color;hn+=je(Math.round((1-ui)*Ca[0]+ui*jo[0]).toString(16))+je(Math.round((1-ui)*Ca[1]+ui*jo[1]).toString(16))+je(Math.round((1-ui)*Ca[2]+ui*jo[2]).toString(16))}return hn.trim()})(z.colors,he),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+he+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ua({data:We,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),Ee("endobj"),z.objectNumber=In(),Ee("<< /ShadingType "+z.type),Ee("/ColorSpace /DeviceRGB");var jt="/Coords ["+U(parseFloat(z.coords[0]))+" "+U(parseFloat(z.coords[1]))+" ";z.type===2?jt+=U(parseFloat(z.coords[2]))+" "+U(parseFloat(z.coords[3])):jt+=U(parseFloat(z.coords[2]))+" "+U(parseFloat(z.coords[3]))+" "+U(parseFloat(z.coords[4]))+" "+U(parseFloat(z.coords[5])),Ee(jt+="]"),z.matrix&&Ee("/Matrix ["+z.matrix.toString()+"]"),Ee("/Function "+De+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},ys=function(z,he){var De=Ps(),We=In();he.push({resourcesOid:De,objectOid:We}),z.objectNumber=We;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+z.boundingBox.map(U).join(" ")+"]"}),rt.push({key:"XStep",value:U(z.xStep)}),rt.push({key:"YStep",value:U(z.yStep)}),rt.push({key:"Resources",value:De+" 0 R"}),z.matrix&&rt.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Ua({data:z.stream,additionalKeyValues:rt,objectId:z.objectNumber}),Ee("endobj")},gm=function(z){for(var he in z.objectNumber=In(),Ee("<<"),z)switch(he){case"opacity":Ee("/ca "+q(z[he]));break;case"stroke-opacity":Ee("/CA "+q(z[he]))}Ee(">>"),Ee("endobj")},ns=function(z){os(z.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var he in Ee("/Font <<"),pt)pt.hasOwnProperty(he)&&(f===!1||f===!0&&y.hasOwnProperty(he))&&Ee("/"+he+" "+pt[he].objectNumber+" 0 R");Ee(">>")})(),(function(){if(Object.keys(or).length>0){for(var he in Ee("/Shading <<"),or)or.hasOwnProperty(he)&&or[he]instanceof fg&&or[he].objectNumber>=0&&Ee("/"+he+" "+or[he].objectNumber+" 0 R");rs.publish("putShadingPatternDict"),Ee(">>")}})(),(function(he){if(Object.keys(or).length>0){for(var De in Ee("/Pattern <<"),or)or.hasOwnProperty(De)&&or[De]instanceof v.TilingPattern&&or[De].objectNumber>=0&&or[De].objectNumber<he&&Ee("/"+De+" "+or[De].objectNumber+" 0 R");rs.publish("putTilingPatternDict"),Ee(">>")}})(z.objectOid),(function(){if(Object.keys(cn).length>0){var he;for(he in Ee("/ExtGState <<"),cn)cn.hasOwnProperty(he)&&cn[he].objectNumber>=0&&Ee("/"+he+" "+cn[he].objectNumber+" 0 R");rs.publish("putGStateDict"),Ee(">>")}})(),(function(){for(var he in Ee("/XObject <<"),Xi)Xi.hasOwnProperty(he)&&Xi[he].objectNumber>=0&&Ee("/"+he+" "+Xi[he].objectNumber+" 0 R");rs.publish("putXobjectDict"),Ee(">>")})(),Ee(">>"),Ee("endobj")},ah=function(z){Ar[z.fontName]=Ar[z.fontName]||{},Ar[z.fontName][z.fontStyle]=z.id},Dt=function(z,he,De,We,rt){var jt={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:z,fontName:he,fontStyle:De,encoding:We,isStandardFont:rt||!1,metadata:{}};return rs.publish("addFont",{font:jt,instance:this}),pt[jt.id]=jt,ah(jt),jt.id},Wo=v.__private__.pdfEscape=v.pdfEscape=function(z,he){return(function(De,We){var rt,jt,Ut,br,nr,rn,pr,Kn,bs;if(Ut=(We=We||{}).sourceEncoding||"Unicode",nr=We.outputEncoding,(We.autoencode||nr)&&pt[$t].metadata&&pt[$t].metadata[Ut]&&pt[$t].metadata[Ut].encoding&&(br=pt[$t].metadata[Ut].encoding,!nr&&pt[$t].encoding&&(nr=pt[$t].encoding),!nr&&br.codePages&&(nr=br.codePages[0]),typeof nr=="string"&&(nr=br[nr]),nr)){for(pr=!1,rn=[],rt=0,jt=De.length;rt<jt;rt++)(Kn=nr[De.charCodeAt(rt)])?rn.push(String.fromCharCode(Kn)):rn.push(De[rt]),rn[rt].charCodeAt(0)>>8&&(pr=!0);De=rn.join("")}for(rt=De.length;pr===void 0&&rt!==0;)De.charCodeAt(rt-1)>>8&&(pr=!0),rt--;if(!pr)return De;for(rn=We.noBOM?[]:[254,255],rt=0,jt=De.length;rt<jt;rt++){if((bs=(Kn=De.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+De+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rn.push(bs),rn.push(Kn-(bs<<8))}return String.fromCharCode.apply(void 0,rn)})(z,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vs=v.__private__.beginPage=function(z){ze[++Rn]=[],un[Rn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},$n(Rn),Ve(ze[se])},Pc=function(z,he){var De,We,rt;switch(r=he||r,typeof z=="string"&&(De=_(z.toLowerCase()),Array.isArray(De)&&(We=De[0],rt=De[1])),Array.isArray(z)&&(We=z[0]*ur,rt=z[1]*ur),isNaN(We)&&(We=i[0],rt=i[1]),(We>14400||rt>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),We=Math.min(14400,We),rt=Math.min(14400,rt)),i=[We,rt],r.substr(0,1)){case"l":rt>We&&(i=[rt,We]);break;case"p":We>rt&&(i=[rt,We])}vs(i),$l(hl),Ee(pu),lh!==0&&Ee(lh+" J"),Mc!==0&&Ee(Mc+" j"),rs.publish("addPage",{pageNumber:Rn})},oh=function(z){z>0&&z<=Rn&&(ze.splice(z,1),un.splice(z,1),Rn--,se>Rn&&(se=Rn),this.setPage(se))},$n=function(z){z>0&&z<=Rn&&(se=z)},wn=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return ze.length-1},Dn=function(z,he,De){var We,rt=void 0;return De=De||{},z=z!==void 0?z:pt[$t].fontName,he=he!==void 0?he:pt[$t].fontStyle,We=z.toLowerCase(),Ar[We]!==void 0&&Ar[We][he]!==void 0?rt=Ar[We][he]:Ar[z]!==void 0&&Ar[z][he]!==void 0?rt=Ar[z][he]:De.disableWarning===!1&&hi.warn("Unable to look up font label for font '"+z+"', '"+he+"'. Refer to getFontList() for available fonts."),rt||De.noFallback||(rt=Ar.times[he])==null&&(rt=Ar.times.normal),rt},ha=v.__private__.putInfo=function(){var z=In(),he=function(We){return We};for(var De in h!==null&&(he=Ls.encryptor(z,0)),Ee("<<"),Ee("/Producer ("+Wo(he("jsPDF "+$r.version))+")"),It)It.hasOwnProperty(De)&&It[De]&&Ee("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+Wo(he(It[De]))+")");Ee("/CreationDate ("+Wo(he(J))+")"),Ee(">>"),Ee("endobj")},af=v.__private__.putCatalog=function(z){var he=(z=z||{}).rootDictionaryObjId||Vo;switch(In(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+he+" 0 R"),dr||(dr="fullwidth"),dr){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+dr;De.substr(De.length-1)==="%"&&(dr=parseInt(dr)/100),typeof dr=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+q(dr)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}Xe&&Ee("/PageMode /"+Xe),rs.publish("putCatalog"),Ee(">>"),Ee("endobj")},yi=v.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(Ce+1)),Ee("/Root "+Ce+" 0 R"),Ee("/Info "+(Ce-1)+" 0 R"),h!==null&&Ee("/Encrypt "+Ls.oid+" 0 R"),Ee("/ID [ <"+ye+"> <"+ye+"> ]"),Ee(">>")},vi=v.__private__.putHeader=function(){Ee("%PDF-"+S),Ee("%")},wo=v.__private__.putXRef=function(){var z="0000000000";Ee("xref"),Ee("0 "+(Ce+1)),Ee("0000000000 65535 f ");for(var he=1;he<=Ce;he++)typeof ae[he]=="function"?Ee((z+ae[he]()).slice(-10)+" 00000 n "):ae[he]!==void 0?Ee((z+ae[he]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},dl=v.__private__.buildDocument=function(){var z;Ce=0,pe=0,de=[],ae=[],Oe=[],Vo=Ps(),Ho=Ps(),Ve(de),rs.publish("buildDocument"),vi(),Ul(),(function(){rs.publish("putAdditionalObjects");for(var De=0;De<Oe.length;De++){var We=Oe[De];os(We.objId,!0),Ee(We.content),Ee("endobj")}rs.publish("postPutAdditionalObjects")})(),z=[],(function(){for(var De in pt)pt.hasOwnProperty(De)&&(f===!1||f===!0&&y.hasOwnProperty(De))&&hu(pt[De])})(),(function(){var De;for(De in cn)cn.hasOwnProperty(De)&&gm(cn[De])})(),(function(){for(var De in Xi)Xi.hasOwnProperty(De)&&za(Xi[De])})(),(function(De){var We;for(We in or)or.hasOwnProperty(We)&&(or[We]instanceof fg?Ii(or[We]):or[We]instanceof vx&&ys(or[We],De))})(z),rs.publish("putResources"),z.forEach(ns),ns({resourcesOid:Ho,objectOid:Number.MAX_SAFE_INTEGER}),rs.publish("postPutResources"),h!==null&&(Ls.oid=In(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+Ls.v),Ee("/R "+Ls.r),Ee("/U <"+Ls.toHexString(Ls.U)+">"),Ee("/O <"+Ls.toHexString(Ls.O)+">"),Ee("/P "+Ls.P),Ee(">>"),Ee("endobj")),ha(),af();var he=pe;return wo(),yi(),Ee("startxref"),Ee(""+he),Ee("%%EOF"),Ve(ze[se]),de.join(`
`)},ls=v.__private__.getBlob=function(z){return new Blob([Zt(z)],{type:"application/pdf"})},Oi=v.output=v.__private__.output=(bo=function(z,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",z){case void 0:return dl();case"save":v.save(he.filename);break;case"arraybuffer":return Zt(dl());case"blob":return ls(dl());case"bloburi":case"bloburl":if(Sn.URL!==void 0&&typeof Sn.URL.createObjectURL=="function")return Sn.URL&&Sn.URL.createObjectURL(ls(dl()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",We=dl();try{De=NY(We)}catch{De=NY(unescape(encodeURIComponent(We)))}return"data:application/pdf;filename="+he.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(rt=he.pdfObjectUrl,jt="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",br=Sn.open();return br!==null&&br.document.write(Ut),br}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',rn=Sn.open();if(rn!==null){rn.document.write(nr);var pr=this;rn.document.documentElement.querySelector("#pdfViewer").onload=function(){rn.document.title=he.filename,rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',bs=Sn.open();if(bs!==null&&(bs.document.write(Kn),bs.document.title=he.filename),bs||typeof safari>"u")return bs;break;case"datauri":case"dataurl":return Sn.document.location.href=this.output("datauristring",he);default:return null}},bo.foo=function(){try{return bo.apply(this,arguments)}catch(De){var z=De.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var he="Error in function "+z.split(`
`)[0].split("<")[0]+": "+De.message;if(!Sn.console)throw new Error(he);Sn.console.error(he,De),Sn.alert&&alert(he)}},bo.foo.bar=bo,bo.foo),td=function(z){return Array.isArray(da)===!0&&da.indexOf(z)>-1};switch(n){case"pt":ur=1;break;case"mm":ur=72/25.4;break;case"cm":ur=72/2.54;break;case"in":ur=72;break;case"px":ur=td("px_scaling")==1?.75:96/72;break;case"pc":case"em":ur=12;break;case"ex":ur=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ur=n}var Ls=null;ne(),oe();var ss=v.__private__.getPageInfo=v.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:un[z].objId,pageNumber:z,pageContext:un[z]}},Zi=v.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in un)if(un[he].objId===z)break;return ss(he)},it=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:un[se].objId,pageNumber:se,pageContext:un[se]}};v.addPage=function(){return Pc.apply(this,arguments),this},v.setPage=function(){return $n.apply(this,arguments),Ve.call(this,ze[se]),this},v.insertPage=function(z){return this.addPage(),this.movePage(se,z),this},v.movePage=function(z,he){var De,We;if(z>he){De=ze[z],We=un[z];for(var rt=z;rt>he;rt--)ze[rt]=ze[rt-1],un[rt]=un[rt-1];ze[he]=De,un[he]=We,this.setPage(he)}else if(z<he){De=ze[z],We=un[z];for(var jt=z;jt<he;jt++)ze[jt]=ze[jt+1],un[jt]=un[jt+1];ze[he]=De,un[he]=We,this.setPage(he)}return this},v.deletePage=function(){return oh.apply(this,arguments),this},v.__private__.text=v.text=function(z,he,De,We,rt){var jt,Ut,br,nr,rn,pr,Kn,bs,hn,ir=(We=We||{}).scope||this;if(typeof z=="number"&&typeof he=="number"&&(typeof De=="string"||Array.isArray(De))){var Qi=De;De=he,he=z,z=Qi}if(arguments[3]instanceof Gr==0?(br=arguments[4],nr=arguments[5],Js(Kn=arguments[3])==="object"&&Kn!==null||(typeof br=="string"&&(nr=br,br=null),typeof Kn=="string"&&(nr=Kn,Kn=null),typeof Kn=="number"&&(br=Kn,Kn=null),We={flags:Kn,angle:br,align:nr})):($("The transform parameter of text() with a Matrix value"),hn=rt),isNaN(he)||isNaN(De)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return ir;var pn,ui="",Ca=typeof We.lineHeightFactor=="number"?We.lineHeightFactor:Va,jo=ir.internal.scaleFactor;function Qo(St){return St=St.split("	").join(Array(We.TabLen||9).join(" ")),Wo(St,Kn)}function uc(St){for(var Pt,At=St.concat(),Vr=[],Jr=At.length;Jr--;)typeof(Pt=At.shift())=="string"?Vr.push(Pt):Array.isArray(St)&&(Pt.length===1||Pt[1]===void 0&&Pt[2]===void 0)?Vr.push(Pt[0]):Vr.push([Pt[0],Pt[1],Pt[2]]);return Vr}function vu(St,Pt){var At;if(typeof St=="string")At=Pt(St)[0];else if(Array.isArray(St)){for(var Vr,Jr,fa=St.concat(),Ha=[],wi=fa.length;wi--;)typeof(Vr=fa.shift())=="string"?Ha.push(Pt(Vr)[0]):Array.isArray(Vr)&&typeof Vr[0]=="string"&&(Jr=Pt(Vr[0],Vr[1],Vr[2]),Ha.push([Jr[0],Jr[1],Jr[2]]));At=Ha}return At}var dc=!1,bu=!0;if(typeof z=="string")dc=!0;else if(Array.isArray(z)){var Dc=z.concat();Ut=[];for(var sd,Mi=Dc.length;Mi--;)(typeof(sd=Dc.shift())!="string"||Array.isArray(sd)&&typeof sd[0]!="string")&&(bu=!1);dc=bu}if(dc===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Lc=mt/ir.internal.scaleFactor,id=Lc*(Ca-1);switch(We.baseline){case"bottom":De-=id;break;case"top":De+=Lc-id;break;case"hanging":De+=Lc-2*id;break;case"middle":De+=Lc/2-id}if((pr=We.maxWidth||0)>0&&(typeof z=="string"?z=ir.splitTextToSize(z,pr):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(St,Pt){return St.concat(ir.splitTextToSize(Pt,pr))},[]))),jt={text:z,x:he,y:De,options:We,mutex:{pdfEscape:Wo,activeFontKey:$t,fonts:pt,activeFontSize:mt}},rs.publish("preProcessText",jt),z=jt.text,br=(We=jt.options).angle,hn instanceof Gr==0&&br&&typeof br=="number"){br*=Math.PI/180,We.rotationDirection===0&&(br=-br),M===T&&(br=-br);var Fc=Math.cos(br),lf=Math.sin(br);hn=new Gr(Fc,lf,-lf,Fc,0,0)}else br&&br instanceof Gr&&(hn=br);M!==T||hn||(hn=Bl),(rn=We.charSpace||no)!==void 0&&(ui+=U(Q(rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(bs=We.horizontalScale)!==void 0&&(ui+=U(100*bs)+` Tz
`),We.lang;var ws=-1,So=We.renderingMode!==void 0?We.renderingMode:We.stroke,Ri=ir.internal.getCurrentPageInfo().pageContext;switch(So){case 0:case!1:case"fill":ws=0;break;case 1:case!0:case"stroke":ws=1;break;case 2:case"fillThenStroke":ws=2;break;case 3:case"invisible":ws=3;break;case 4:case"fillAndAddForClipping":ws=4;break;case 5:case"strokeAndAddPathForClipping":ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ws=6;break;case 7:case"addToPathForClipping":ws=7}var cf=Ri.usedRenderingMode!==void 0?Ri.usedRenderingMode:-1;ws!==-1?ui+=ws+` Tr
`:cf!==-1&&(ui+=`0 Tr
`),ws!==-1&&(Ri.usedRenderingMode=ws),nr=We.align||"left";var bi,wu=mt*Ca,Nu=ir.internal.pageSize.getWidth(),ch=pt[$t];rn=We.charSpace||no,pr=We.maxWidth||0,Kn=Object.assign({autoencode:!0,noBOM:!0},We.flags);var hc=[],Di=function(St){return ir.getStringUnitWidth(St,{font:ch,charSpace:rn,fontSize:mt,doKerning:!1})*mt/jo};if(Object.prototype.toString.call(z)==="[object Array]"){var Jo;Ut=uc(z),nr!=="left"&&(bi=Ut.map(Di));var so,ml=0;if(nr==="right"){he-=bi[0],z=[],Mi=Ut.length;for(var Cn=0;Cn<Mi;Cn++)Cn===0?(so=Qr(he),Jo=Ws(De)):(so=Q(ml-bi[Cn]),Jo=-wu),z.push([Ut[Cn],so,Jo]),ml=bi[Cn]}else if(nr==="center"){he-=bi[0]/2,z=[],Mi=Ut.length;for(var pl=0;pl<Mi;pl++)pl===0?(so=Qr(he),Jo=Ws(De)):(so=Q((ml-bi[pl])/2),Jo=-wu),z.push([Ut[pl],so,Jo]),ml=bi[pl]}else if(nr==="left"){z=[],Mi=Ut.length;for(var le=0;le<Mi;le++)z.push(Ut[le])}else if(nr==="justify"&&ch.encoding==="Identity-H"){z=[],Mi=Ut.length,pr=pr!==0?pr:Nu;for(var d=0,m=0;m<Mi;m++)if(Jo=m===0?Ws(De):-wu,so=m===0?Qr(he):d,m<Mi-1){var g=Q((pr-bi[m])/(Ut[m].split(" ").length-1)),b=Ut[m].split(" ");z.push([b[0]+" ",so,Jo]),d=0;for(var j=1;j<b.length;j++){var C=(Di(b[j-1]+" "+b[j])-Di(b[j]))*jo+g;j==b.length-1?z.push([b[j],C,0]):z.push([b[j]+" ",C,0]),d-=C}}else z.push([Ut[m],so,Jo]);z.push(["",d,0])}else{if(nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],Mi=Ut.length,pr=pr!==0?pr:Nu,m=0;m<Mi;m++){Jo=m===0?Ws(De):-wu,so=m===0?Qr(he):0;var I=Ut[m].split(" ").length-1,F=I>0?(pr-bi[m])/I:0;m<Mi-1?hc.push(U(Q(F))):hc.push(0),z.push([Ut[m],so,Jo])}}}(typeof We.R2L=="boolean"?We.R2L:Fe)===!0&&(z=vu(z,function(St,Pt,At){return[St.split("").reverse().join(""),Pt,At]})),jt={text:z,x:he,y:De,options:We,mutex:{pdfEscape:Wo,activeFontKey:$t,fonts:pt,activeFontSize:mt}},rs.publish("postProcessText",jt),z=jt.text,pn=jt.mutex.isHex||!1;var V=pt[$t].encoding;V!=="WinAnsiEncoding"&&V!=="StandardEncoding"||(z=vu(z,function(St,Pt,At){return[Qo(St),Pt,At]})),Ut=uc(z),z=[];for(var te,ce,be,Me=Array.isArray(Ut[0])?1:0,He="",Ke=function(St,Pt,At){var Vr="";return At instanceof Gr?(At=typeof We.angle=="number"?pi(At,new Gr(1,0,0,1,St,Pt)):pi(new Gr(1,0,0,1,St,Pt),At),M===T&&(At=pi(new Gr(1,0,0,-1,0,0),At)),Vr=At.join(" ")+` Tm
`):Vr=U(St)+" "+U(Pt)+` Td
`,Vr},tt=0;tt<Ut.length;tt++){switch(He="",Me){case 1:be=(pn?"<":"(")+Ut[tt][0]+(pn?">":")"),te=parseFloat(Ut[tt][1]),ce=parseFloat(Ut[tt][2]);break;case 0:be=(pn?"<":"(")+Ut[tt]+(pn?">":")"),te=Qr(he),ce=Ws(De)}hc!==void 0&&hc[tt]!==void 0&&(He=hc[tt]+` Tw
`),tt===0?z.push(He+Ke(te,ce,hn)+be):Me===0?z.push(He+be):Me===1&&z.push(He+Ke(te,ce,hn)+be)}z=Me===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var ut=`BT
/`;return ut+=$t+" "+mt+` Tf
`,ut+=U(mt*Ca)+` TL
`,ut+=ql+`
`,ut+=ui,ut+=z,Ee(ut+="ET"),y[$t]=!0,ir};var ke=v.__private__.clip=v.clip=function(z){return Ee(z==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return ke("evenodd")},v.__private__.discardPath=v.discardPath=function(){return Ee("n"),this};var vr=v.__private__.isValidStyle=function(z){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(he=!0),he};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(z){return vr(z)&&(u=z),this};var oi=v.__private__.getStyle=v.getStyle=function(z){var he=u;switch(z){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=z}return he},Nn=v.close=function(){return Ee("h"),this};v.stroke=function(){return Ee("S"),this},v.fill=function(z){return Ic("f",z),this},v.fillEvenOdd=function(z){return Ic("f*",z),this},v.fillStroke=function(z){return Ic("B",z),this},v.fillStrokeEvenOdd=function(z){return Ic("B*",z),this};var Ic=function(z,he){Js(he)==="object"?Br(he,z):Ee(z)},fu=function(z){z===null||M===T&&z===void 0||(z=oi(z),Ee(z))};function qa(z,he,De,We,rt){var jt=new vx(he||this.boundingBox,De||this.xStep,We||this.yStep,this.gState,rt||this.matrix);jt.stream=this.stream;var Ut=z+"$$"+this.cloneIndex+++"$$";return gi(Ut,jt),jt}var Br=function(z,he){var De=vn[z.key],We=or[De];if(We instanceof fg)Ee("q"),Ee(Fs(he)),We.gState&&v.setGState(We.gState),Ee(z.matrix.toString()+" cm"),Ee("/"+De+" sh"),Ee("Q");else if(We instanceof vx){var rt=new Gr(1,0,0,-1,0,fl());z.matrix&&(rt=rt.multiply(z.matrix||Bl),De=qa.call(We,z.key,z.boundingBox,z.xStep,z.yStep,rt).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+De+" scn"),We.gState&&v.setGState(We.gState),Ee(he),Ee("Q")}},Fs=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rd=v.moveTo=function(z,he){return Ee(U(Q(z))+" "+U(Z(he))+" m"),this},Oc=v.lineTo=function(z,he){return Ee(U(Q(z))+" "+U(Z(he))+" l"),this},Go=v.curveTo=function(z,he,De,We,rt,jt){return Ee([U(Q(z)),U(Z(he)),U(Q(De)),U(Z(We)),U(Q(rt)),U(Z(jt)),"c"].join(" ")),this};v.__private__.line=v.line=function(z,he,De,We,rt){if(isNaN(z)||isNaN(he)||isNaN(De)||isNaN(We)||!vr(rt))throw new Error("Invalid arguments passed to jsPDF.line");return M===E?this.lines([[De-z,We-he]],z,he,[1,1],rt||"S"):this.lines([[De-z,We-he]],z,he,[1,1]).stroke()},v.__private__.lines=v.lines=function(z,he,De,We,rt,jt){var Ut,br,nr,rn,pr,Kn,bs,hn,ir,Qi,pn,ui;if(typeof z=="number"&&(ui=De,De=he,he=z,z=ui),We=We||[1,1],jt=jt||!1,isNaN(he)||isNaN(De)||!Array.isArray(z)||!Array.isArray(We)||!vr(rt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rd(he,De),Ut=We[0],br=We[1],rn=z.length,Qi=he,pn=De,nr=0;nr<rn;nr++)(pr=z[nr]).length===2?(Qi=pr[0]*Ut+Qi,pn=pr[1]*br+pn,Oc(Qi,pn)):(Kn=pr[0]*Ut+Qi,bs=pr[1]*br+pn,hn=pr[2]*Ut+Qi,ir=pr[3]*br+pn,Qi=pr[4]*Ut+Qi,pn=pr[5]*br+pn,Go(Kn,bs,hn,ir,Qi,pn));return jt&&Nn(),fu(rt),this},v.path=function(z){for(var he=0;he<z.length;he++){var De=z[he],We=De.c;switch(De.op){case"m":rd(We[0],We[1]);break;case"l":Oc(We[0],We[1]);break;case"c":Go.apply(this,We);break;case"h":Nn()}}return this},v.__private__.rect=v.rect=function(z,he,De,We,rt){if(isNaN(z)||isNaN(he)||isNaN(De)||isNaN(We)||!vr(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return M===E&&(We=-We),Ee([U(Q(z)),U(Z(he)),U(Q(De)),U(Q(We)),"re"].join(" ")),fu(rt),this},v.__private__.triangle=v.triangle=function(z,he,De,We,rt,jt,Ut){if(isNaN(z)||isNaN(he)||isNaN(De)||isNaN(We)||isNaN(rt)||isNaN(jt)||!vr(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-z,We-he],[rt-De,jt-We],[z-rt,he-jt]],z,he,[1,1],Ut,!0),this},v.__private__.roundedRect=v.roundedRect=function(z,he,De,We,rt,jt,Ut){if(isNaN(z)||isNaN(he)||isNaN(De)||isNaN(We)||isNaN(rt)||isNaN(jt)||!vr(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var br=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*De),jt=Math.min(jt,.5*We),this.lines([[De-2*rt,0],[rt*br,0,rt,jt-jt*br,rt,jt],[0,We-2*jt],[0,jt*br,-rt*br,jt,-rt,jt],[2*rt-De,0],[-rt*br,0,-rt,-jt*br,-rt,-jt],[0,2*jt-We],[0,-jt*br,rt*br,-jt,rt,-jt]],z+rt,he,[1,1],Ut,!0),this},v.__private__.ellipse=v.ellipse=function(z,he,De,We,rt){if(isNaN(z)||isNaN(he)||isNaN(De)||isNaN(We)||!vr(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*De,Ut=4/3*(Math.SQRT2-1)*We;return rd(z+De,he),Go(z+De,he-Ut,z+jt,he-We,z,he-We),Go(z-jt,he-We,z-De,he-Ut,z-De,he),Go(z-De,he+Ut,z-jt,he+We,z,he+We),Go(z+jt,he+We,z+De,he+Ut,z+De,he),fu(rt),this},v.__private__.circle=v.circle=function(z,he,De,We){if(isNaN(z)||isNaN(he)||isNaN(De)||!vr(We))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,he,De,De,We)},v.setFont=function(z,he,De){return De&&(he=B(he,De)),$t=Dn(z,he,{disableWarning:!1}),this};var Yo=v.__private__.getFont=v.getFont=function(){return pt[Dn.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var z,he,De={};for(z in Ar)if(Ar.hasOwnProperty(z))for(he in De[z]=[],Ar[z])Ar[z].hasOwnProperty(he)&&De[z].push(he);return De},v.addFont=function(z,he,De,We,rt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?rt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(De=B(De,We)),Dt.call(this,z,he,De,rt=rt||"Identity-H")};var Va,hl=t.lineWidth||.200025,gr=v.__private__.getLineWidth=v.getLineWidth=function(){return hl},$l=v.__private__.setLineWidth=v.setLineWidth=function(z){return hl=z,Ee(U(Q(z))+" w"),this};v.__private__.setLineDash=$r.API.setLineDash=$r.API.setLineDashPattern=function(z,he){if(z=z||[],he=he||0,isNaN(he)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(De){return U(Q(De))}).join(" "),he=U(Q(he)),Ee("["+z+"] "+he+" d"),this};var Sa=v.__private__.getLineHeight=v.getLineHeight=function(){return mt*Va};v.__private__.getLineHeight=v.getLineHeight=function(){return mt*Va};var en=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Va=z),this},xm=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Va};en(t.lineHeight);var Qr=v.__private__.getHorizontalCoordinate=function(z){return Q(z)},Ws=v.__private__.getVerticalCoordinate=function(z){return M===T?z:un[se].mediaBox.topRightY-un[se].mediaBox.bottomLeftY-Q(z)},ym=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(z){return U(Qr(z))},mu=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(z){return U(Ws(z))},pu=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ai(pu)},v.__private__.setStrokeColor=v.setDrawColor=function(z,he,De,We){return pu=xi({ch1:z,ch2:he,ch3:De,ch4:We,pdfColorType:"draw",precision:2}),Ee(pu),this};var zl=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ai(zl)},v.__private__.setFillColor=v.setFillColor=function(z,he,De,We){return zl=xi({ch1:z,ch2:he,ch3:De,ch4:We,pdfColorType:"fill",precision:2}),Ee(zl),this};var ql=t.textColor||"0 g",No=v.__private__.getTextColor=v.getTextColor=function(){return ai(ql)};v.__private__.setTextColor=v.setTextColor=function(z,he,De,We){return ql=xi({ch1:z,ch2:he,ch3:De,ch4:We,pdfColorType:"text",precision:3}),this};var no=t.charSpace,cc=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(no||0)};v.__private__.setCharSpace=v.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=z,this};var lh=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(z){var he=v.CapJoinStyles[z];if(he===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lh=he,Ee(he+" J"),this};var Mc=0;v.__private__.setLineJoin=v.setLineJoin=function(z){var he=v.CapJoinStyles[z];if(he===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mc=he,Ee(he+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(U(Q(z))+" M"),this},v.GState=qS,v.setGState=function(z){(z=typeof z=="string"?cn[ri[z]]:Ko(null,z)).equals(Wr)||(Ee("/"+z.id+" gs"),Wr=z)};var Ko=function(z,he){if(!z||!ri[z]){var De=!1;for(var We in cn)if(cn.hasOwnProperty(We)&&cn[We].equals(he)){De=!0;break}if(De)he=cn[We];else{var rt="GS"+(Object.keys(cn).length+1).toString(10);cn[rt]=he,he.id=rt}return z&&(ri[z]=he.id),rs.publish("addGState",he),he}};v.addGState=function(z,he){return Ko(z,he),this},v.saveGraphicsState=function(){return Ee("q"),Rr.push({key:$t,size:mt,color:ql}),this},v.restoreGraphicsState=function(){Ee("Q");var z=Rr.pop();return $t=z.key,mt=z.size,ql=z.color,Wr=null,this},v.setCurrentTransformationMatrix=function(z){return Ee(z.toString()+" cm"),this},v.comment=function(z){return Ee("#"+z),this};var li=function(z,he){var De=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(jt){isNaN(jt)||(De=parseFloat(jt))}});var We=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return We},set:function(jt){isNaN(jt)||(We=parseFloat(jt))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(jt){rt=jt.toString()}}),this},gu=function(z,he,De,We){li.call(this,z,he),this.type="rect";var rt=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(Ut){isNaN(Ut)||(rt=parseFloat(Ut))}});var jt=We||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Ut){isNaN(Ut)||(jt=parseFloat(Ut))}}),this},xu=function(){this.page=Rn,this.currentPage=se,this.pages=ze.slice(0),this.pagesContext=un.slice(0),this.x=tr,this.y=_s,this.matrix=qr,this.width=nd(se),this.height=On(se),this.outputDestination=$e,this.id="",this.objectNumber=-1};xu.prototype.restore=function(){Rn=this.page,se=this.currentPage,un=this.pagesContext,ze=this.pages,tr=this.x,_s=this.y,qr=this.matrix,of(se,this.width),Zo(se,this.height),$e=this.outputDestination};var Xo=function(z,he,De,We,rt){ja.push(new xu),Rn=se=0,ze=[],tr=z,_s=he,qr=rt,vs([De,We])};for(var Rc in v.beginFormObject=function(z,he,De,We,rt){return Xo(z,he,De,We,rt),this},v.endFormObject=function(z){return(function(he){if(Hs[he])ja.pop().restore();else{var De=new xu,We="Xo"+(Object.keys(Xi).length+1).toString(10);De.id=We,Hs[he]=We,Xi[We]=De,rs.publish("addFormObject",De),ja.pop().restore()}})(z),this},v.doFormObject=function(z,he){var De=Xi[Hs[z]];return Ee("q"),Ee(he.toString()+" cm"),Ee("/"+De.id+" Do"),Ee("Q"),this},v.getFormObject=function(z){var he=Xi[Hs[z]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},v.save=function(z,he){return z=z||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(ug(ls(dl()),z),typeof ug.unload=="function"&&Sn.setTimeout&&setTimeout(ug.unload,911),this):new Promise(function(De,We){try{var rt=ug(ls(dl()),z);typeof ug.unload=="function"&&Sn.setTimeout&&setTimeout(ug.unload,911),De(rt)}catch(jt){We(jt.message)}})},$r.API)$r.API.hasOwnProperty(Rc)&&(Rc==="events"&&$r.API.events.length?(function(z,he){var De,We,rt;for(rt=he.length-1;rt!==-1;rt--)De=he[rt][0],We=he[rt][1],z.subscribe.apply(z,[De].concat(typeof We=="function"?[We]:We))})(rs,$r.API.events):v[Rc]=$r.API[Rc]);function nd(z){return un[z].mediaBox.topRightX-un[z].mediaBox.bottomLeftX}function of(z,he){un[z].mediaBox.topRightX=he+un[z].mediaBox.bottomLeftX}function On(z){return un[z].mediaBox.topRightY-un[z].mediaBox.bottomLeftY}function Zo(z,he){un[z].mediaBox.topRightY=he+un[z].mediaBox.bottomLeftY}var yu=v.getPageWidth=function(z){return nd(z=z||se)/ur},ci=v.setPageWidth=function(z,he){of(z,he*ur)},fl=v.getPageHeight=function(z){return On(z=z||se)/ur},ft=v.setPageHeight=function(z,he){Zo(z,he*ur)};return v.internal={pdfEscape:Wo,getStyle:oi,getFont:Yo,getFontSize:ht,getCharSpace:cc,getTextColor:No,getLineHeight:Sa,getLineHeightFactor:xm,getLineWidth:gr,write:sr,getHorizontalCoordinate:Qr,getVerticalCoordinate:Ws,getCoordinateString:ym,getVerticalCoordinateString:mu,collections:{},newObject:In,newAdditionalObject:lr,newObjectDeferred:Ps,newObjectDeferredBegin:os,getFilters:ro,putStream:Ua,events:rs,scaleFactor:ur,pageSize:{getWidth:function(){return yu(se)},setWidth:function(z){ci(se,z)},getHeight:function(){return fl(se)},setHeight:function(z){ft(se,z)}},encryptionOptions:h,encryption:Ls,getEncryptor:function(z){return h!==null?Ls.encryptor(z,0):function(he){return he}},output:Oi,getNumberOfPages:wn,pages:ze,out:Ee,f2:q,f3:H,getPageInfo:ss,getPageInfoByObjId:Zi,getCurrentPageInfo:it,getPDFVersion:w,Point:li,Rectangle:gu,Matrix:Gr,hasHotfix:td},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return yu(se)},set:function(z){ci(se,z)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return fl(se)},set:function(z){ft(se,z)},enumerable:!0,configurable:!0}),(function(z){for(var he=0,De=Gt.length;he<De;he++){var We=Dt.call(this,z[he][0],z[he][1],z[he][2],Gt[he][3],!0);f===!1&&(y[We]=!0);var rt=z[he][0].split("-");ah({id:We,fontName:rt[0],fontStyle:rt[1]||""})}rs.publish("addFonts",{fonts:pt,dictionary:Ar})}).call(v,Gt),$t="F1",Pc(i,r),rs.publish("initialized"),v}ix.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ix.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ix.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ix.prototype.processOwnerPassword=function(t,e){return t8(e8(e).substr(0,5),t)},ix.prototype.encryptor=function(t,e){var r=e8(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return t8(r,n)}},qS.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Js(t)!==Js(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},$r.API={events:[]},$r.version="3.0.3";var va=$r.API,BD=1,j0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(t){return t.toFixed(2)},Um=function(t){return t.toFixed(5)};va.__acroform__={};var kc=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},AY=function(t){return t*BD},vh=function(t){var e=new yme,r=Ir.internal.getHeight(t)||0,n=Ir.internal.getWidth(t)||0;return e.BBox=[0,0,Number(En(n)),Number(En(r))],e},uXe=va.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},dXe=va.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},hXe=va.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Oa=va.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hXe(t,e-1)},Ma=va.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uXe(t,e-1)},Ra=va.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dXe(t,e-1)},fXe=va.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(En(c.lowerLeft_X)),Number(En(c.lowerLeft_Y)),Number(En(c.upperRight_X)),Number(En(c.upperRight_Y))]},mXe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=r8(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+En(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=vh(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},r8=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var a=r,o=Ir.internal.getHeight(t)||0;o=o<0?-o:o;var l=Ir.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(q,H,Q){if(q+1<i.length){var Z=H+" "+i[q+1][0];return Nj(Z,t,Q).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,h,f=Nj("3",t,a).height,y=t.multiline?o-a:(o-f)/2,v=y+=2,S=0,w=0,N=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Nj(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var _="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var M=!1;if(i[T].length!==1&&N!==i[T].length-1){if((f+2)*(E+2)+2>o)continue e;_+=i[T][N],M=!0,w=T,T--}else{_=(_+=i[T][N]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var O=parseInt(T),L=c(O,_,a),B=T>=i.length-1;if(L&&!B){_+=" ",N=0;continue}if(L||B){if(B)w=O;else if(t.multiline&&(f+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(E+2)+2>o)continue e;w=O}}for(var U="",$=S;$<=w;$++){var K=i[$];if(t.multiline){if($===w){U+=K[N]+" ",N=(N+1)%K.length;continue}if($===S){U+=K[K.length-1]+" ";continue}}U+=K[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=Nj(U,t,a).width,t.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}e+=En(u)+" "+En(v)+` Td
`,e+="("+j0(U)+`) Tj
`,e+=-En(u)+` 0 Td
`,v=-(a+2),h=0,S=M?w:w+1,E++,_=""}break}return n.text=e,n.fontSize=a,n},Nj=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},pXe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gXe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},xXe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(sh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(pXe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new vme,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&gXe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=fXe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ir.createDefaultAppearanceStream(l),Js(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=mXe(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var v=l.appearanceStreamContent[y];if(f+="/"+y+" ",f+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var S=v[o];typeof S=="function"&&(S=S.call(i,l)),f+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(i,l)),f+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(w,N){for(var _ in w)if(w.hasOwnProperty(_)){var E=_,T=w[_];N.internal.newObjectDeferredBegin(T.objId,!0),Js(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete w[E]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},xme=va.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Js(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+j0(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cP=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+j0(n(t))+")"},Bh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bh.prototype.toString=function(){return this.objId+" 0 R"},Bh.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Bh.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:xme(i,this.objId,this.scope)}):i instanceof Bh?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var yme=function(){Bh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};kc(yme,Bh);var vme=function(){Bh.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+j0(r(t))+")"}},set:function(r){t=r}})};kc(vme,Bh);var sh=function t(){Bh.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oa(e,3)},set:function(_){_?this.F=Ma(e,3):this.F=Ra(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof VS)return;a="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+j0(_(a))+")"},set:function(_){a=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(_){a=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/BD:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof VS||this instanceof Wg))return cP(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Mo==0?cP(y,this.objId,this.scope):y},set:function(_){_=_.toString(),y=this instanceof Mo==0?_.substr(0,1)==="("?tx(_.substr(1,_.length-2)):tx(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo==1?tx(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof Mo==1?"/"+_:_}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Mo==0?cP(v,this.objId,this.scope):v},set:function(_){_=_.toString(),v=this instanceof Mo==0?_.substr(0,1)==="("?tx(_.substr(1,_.length-2)):tx(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo==1?tx(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Mo==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){_=!!_,w=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,1)},set:function(_){_?this.Ff=Ma(this.Ff,1):this.Ff=Ra(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,2)},set:function(_){_?this.Ff=Ma(this.Ff,2):this.Ff=Ra(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,3)},set:function(_){_?this.Ff=Ma(this.Ff,3):this.Ff=Ra(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');N=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(N){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};kc(sh,Bh);var Mx=function(){sh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xme(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,18)},set:function(r){r?this.Ff=Ma(this.Ff,18):this.Ff=Ra(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ma(this.Ff,19):this.Ff=Ra(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,20)},set:function(r){r?(this.Ff=Ma(this.Ff,20),e.sort()):this.Ff=Ra(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,22)},set:function(r){r?this.Ff=Ma(this.Ff,22):this.Ff=Ra(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(r){r?this.Ff=Ma(this.Ff,23):this.Ff=Ra(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,27)},set:function(r){r?this.Ff=Ma(this.Ff,27):this.Ff=Ra(this.Ff,27)}}),this.hasAppearanceStream=!1};kc(Mx,sh);var Rx=function(){Mx.call(this),this.fontName="helvetica",this.combo=!1};kc(Rx,Mx);var Dx=function(){Rx.call(this),this.combo=!0};kc(Dx,Rx);var Gj=function(){Dx.call(this),this.edit=!0};kc(Gj,Dx);var Mo=function(){sh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,15)},set:function(r){r?this.Ff=Ma(this.Ff,15):this.Ff=Ra(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,16)},set:function(r){r?this.Ff=Ma(this.Ff,16):this.Ff=Ra(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,17)},set:function(r){r?this.Ff=Ma(this.Ff,17):this.Ff=Ra(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(r){r?this.Ff=Ma(this.Ff,26):this.Ff=Ra(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+j0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Js(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};kc(Mo,sh);var Yj=function(){Mo.call(this),this.pushButton=!0};kc(Yj,Mo);var Lx=function(){Mo.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};kc(Lx,Mo);var VS=function(){var t,e;sh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+j0(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Js(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kc(VS,sh),Lx.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Lx.prototype.createOption=function(t){var e=new VS;return e.Parent=this,e.optionName=t,this.Kids.push(e),yXe.call(this.scope,e),e};var Kj=function(){Mo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ir.CheckBox.createAppearanceStream()};kc(Kj,Mo);var Wg=function(){sh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,13)},set:function(e){e?this.Ff=Ma(this.Ff,13):this.Ff=Ra(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,21)},set:function(e){e?this.Ff=Ma(this.Ff,21):this.Ff=Ra(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(e){e?this.Ff=Ma(this.Ff,23):this.Ff=Ra(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,24)},set:function(e){e?this.Ff=Ma(this.Ff,24):this.Ff=Ra(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,25)},set:function(e){e?this.Ff=Ma(this.Ff,25):this.Ff=Ra(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(e){e?this.Ff=Ma(this.Ff,26):this.Ff=Ra(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kc(Wg,sh);var Xj=function(){Wg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,14)},set:function(t){t?this.Ff=Ma(this.Ff,14):this.Ff=Ra(this.Ff,14)}}),this.password=!0};kc(Xj,Wg);var Ir={CheckBox:{createAppearanceStream:function(){return{N:{On:Ir.CheckBox.YesNormal},D:{On:Ir.CheckBox.YesPushDown,Off:Ir.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=r8(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+En(Ir.internal.getWidth(t))+" "+En(Ir.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+En(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=vh(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Ir.internal.getHeight(t),o=Ir.internal.getWidth(t),l=r8(t,t.caption);return i.push("1 g"),i.push("0 0 "+En(o)+" "+En(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+En(o-1)+" "+En(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+En(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Ir.internal.getWidth(t))+" "+En(Ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ir.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ir.RadioButton.Circle.YesNormal,e.D[t]=Ir.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vh(t);e.scope=t.scope;var r=[],n=Ir.internal.getWidth(t)<=Ir.internal.getHeight(t)?Ir.internal.getWidth(t)/4:Ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ir.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Um(Ir.internal.getWidth(t)/2)+" "+Um(Ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=[],n=Ir.internal.getWidth(t)<=Ir.internal.getHeight(t)?Ir.internal.getWidth(t)/4:Ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ir.internal.Bezier_C).toFixed(5)),o=Number((n*Ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Um(Ir.internal.getWidth(t)/2)+" "+Um(Ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Um(Ir.internal.getWidth(t)/2)+" "+Um(Ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=[],n=Ir.internal.getWidth(t)<=Ir.internal.getHeight(t)?Ir.internal.getWidth(t)/4:Ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Um(Ir.internal.getWidth(t)/2)+" "+Um(Ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ir.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ir.RadioButton.Cross.YesNormal,e.D[t]=Ir.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vh(t);e.scope=t.scope;var r=[],n=Ir.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+En(Ir.internal.getWidth(t)-2)+" "+En(Ir.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=Ir.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+En(Ir.internal.getWidth(t))+" "+En(Ir.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+En(Ir.internal.getWidth(t)-2)+" "+En(Ir.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=vh(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Ir.internal.getWidth(t))+" "+En(Ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ir.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ir.internal.getWidth(t),r=Ir.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ir.internal.getWidth=function(t){var e=0;return Js(t)==="object"&&(e=AY(t.Rect[2])),e},Ir.internal.getHeight=function(t){var e=0;return Js(t)==="object"&&(e=AY(t.Rect[3])),e};var yXe=va.addField=function(t){if(xXe(this,t),!(t instanceof sh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};va.AcroFormChoiceField=Mx,va.AcroFormListBox=Rx,va.AcroFormComboBox=Dx,va.AcroFormEditBox=Gj,va.AcroFormButton=Mo,va.AcroFormPushButton=Yj,va.AcroFormRadioButton=Lx,va.AcroFormCheckBox=Kj,va.AcroFormTextField=Wg,va.AcroFormPasswordField=Xj,va.AcroFormAppearance=Ir,va.AcroForm={ChoiceField:Mx,ListBox:Rx,ComboBox:Dx,EditBox:Gj,Button:Mo,PushButton:Yj,RadioButton:Lx,CheckBox:Kj,TextField:Wg,PasswordField:Xj,Appearance:Ir},$r.AcroForm={ChoiceField:Mx,ListBox:Rx,ComboBox:Dx,EditBox:Gj,Button:Mo,PushButton:Yj,RadioButton:Lx,CheckBox:Kj,TextField:Wg,PasswordField:Xj,Appearance:Ir};$r.AcroForm;function bme(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(q,H){var Q,Z,J,ye,ge,oe=r;if((H=H||r)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(L(q))for(ge in n)for(J=n[ge],Q=0;Q<J.length;Q+=1){for(ye=!0,Z=0;Z<J[Q].length;Z+=1)if(J[Q][Z]!==void 0&&J[Q][Z]!==q[Z]){ye=!1;break}if(ye===!0){oe=ge;break}}else for(ge in n)for(J=n[ge],Q=0;Q<J.length;Q+=1){for(ye=!0,Z=0;Z<J[Q].length;Z+=1)if(J[Q][Z]!==void 0&&J[Q][Z]!==q.charCodeAt(Z)){ye=!1;break}if(ye===!0){oe=ge;break}}return oe===r&&H!==r&&(oe=H),oe},a=function q(H){for(var Q=this.internal.write,Z=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:H.width}),ye.push({key:"Height",value:H.height}),H.colorSpace===_.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===_.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var ge="",oe=0,re=H.transparency.length;oe<re;oe++)ge+=H.transparency[oe]+" "+H.transparency[oe]+" ";ye.push({key:"Mask",value:"["+ge+"]"})}H.sMask!==void 0&&ye.push({key:"SMask",value:H.objectId+1+" 0 R"});var me=H.filter!==void 0?["/"+H.filter]:void 0;if(Z({data:H.data,additionalKeyValues:ye,alreadyAppliedFilters:me,objectId:H.objectId}),Q("endobj"),"sMask"in H&&H.sMask!==void 0){var ne,G=(ne=H.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:H.bitsPerComponent,se={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:G,data:H.sMask};"filter"in H&&(se.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(G," /Columns ").concat(H.width),se.filter=H.filter),q.call(this,se)}if(H.colorSpace===_.INDEXED){var ue=this.internal.newObject();Z({data:U(new Uint8Array(H.palette)),objectId:ue}),Q("endobj")}},o=function(){var q=this.internal.collections[e+"images"];for(var H in q)a.call(this,q[H])},l=function(){var q,H=this.internal.collections[e+"images"],Q=this.internal.write;for(var Z in H)Q("/I"+(q=H[Z]).index,q.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var q=this.internal.collections[e+"images"];return c.call(this),q},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(q){return typeof t["process"+q.toUpperCase()]=="function"},y=function(q){return Js(q)==="object"&&q.nodeType===1},v=function(q,H){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var Q=""+q.getAttribute("src");if(Q.indexOf("data:image/")===0)return Wj(unescape(Q).split("base64,").pop());var Z=t.loadFile(Q,!0);if(Z!==void 0)return Z}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var J;switch(H){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return Wj(q.toDataURL(J,1).split("base64,").pop())}},S=function(q){var H=this.internal.collections[e+"images"];if(H){for(var Q in H)if(q===H[Q].alias)return H[Q]}},w=function(q,H,Q){return q||H||(q=-96,H=-96),q<0&&(q=-1*Q.width*72/q/this.internal.scaleFactor),H<0&&(H=-1*Q.height*72/H/this.internal.scaleFactor),q===0&&(q=H*Q.width/Q.height),H===0&&(H=q*Q.height/Q.width),[q,H]},N=function(q,H,Q,Z,J,ye){var ge=w.call(this,Q,Z,J),oe=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,me=u.call(this);if(Q=ge[0],Z=ge[1],me[J.index]=J,ye){ye*=Math.PI/180;var ne=Math.cos(ye),G=Math.sin(ye),se=function(je){return je.toFixed(4)},ue=[se(ne),se(G),se(-1*G),se(ne),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,oe(q),re(H+Z),"cm"].join(" ")),this.internal.write(ue.join(" ")),this.internal.write([oe(Q),"0","0",oe(Z),"0","0","cm"].join(" "))):this.internal.write([oe(Q),"0","0",oe(Z),oe(q),re(H+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(q){var H,Q,Z=0;if(typeof q=="string")for(Q=q.length,H=0;H<Q;H++)Z=(Z<<5)-Z+q.charCodeAt(H),Z|=0;else if(L(q))for(Q=q.byteLength/2,H=0;H<Q;H++)Z=(Z<<5)-Z+q[H],Z|=0;return Z},M=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var H=!0;return q.length===0&&(H=!1),q.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(H=!1),H},O=t.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var H=q.indexOf(",");return H<0?null:q.substring(0,H).trim().endsWith("base64")?q.substring(H+1):null};t.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(q){for(var H=q.length,Q=new Uint8Array(H),Z=0;Z<H;Z++)Q[Z]=q.charCodeAt(Z);return Q},U=t.__addimage__.arrayBufferToBinaryString=function(q){for(var H="",Q=L(q)?q:new Uint8Array(q),Z=0;Z<Q.length;Z+=8192)H+=String.fromCharCode.apply(null,Q.subarray(Z,Z+8192));return H};t.addImage=function(){var q,H,Q,Z,J,ye,ge,oe,re;if(typeof arguments[1]=="number"?(H=r,Q=arguments[1],Z=arguments[2],J=arguments[3],ye=arguments[4],ge=arguments[5],oe=arguments[6],re=arguments[7]):(H=arguments[1],Q=arguments[2],Z=arguments[3],J=arguments[4],ye=arguments[5],ge=arguments[6],oe=arguments[7],re=arguments[8]),Js(q=arguments[0])==="object"&&!y(q)&&"imageData"in q){var me=q;q=me.imageData,H=me.format||H||r,Q=me.x||Q||0,Z=me.y||Z||0,J=me.w||me.width||J,ye=me.h||me.height||ye,ge=me.alias||ge,oe=me.compression||oe,re=me.rotation||me.angle||re}var ne=this.internal.getFilters();if(oe===void 0&&ne.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(Q)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var G=$.call(this,q,H,ge,oe);return N.call(this,Q,Z,J,ye,G,re),this};var $=function(q,H,Q,Z){var J,ye,ge;if(typeof q=="string"&&i(q)===r){q=unescape(q);var oe=K(q,!1);(oe!==""||(oe=t.loadFile(q,!0))!==void 0)&&(q=oe)}if(y(q)&&(q=v(q,H)),H=i(q,H),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((ge=Q)==null||ge.length===0)&&(Q=(function(re){return typeof re=="string"||L(re)?T(re):L(re.data)?T(re.data):null})(q)),(J=S.call(this,Q))||(q instanceof Uint8Array||H==="RGBA"||(ye=q,q=B(q)),J=this["process"+H.toUpperCase()](q,h.call(this),Q,(function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:E.NONE})(Z),ye)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},K=t.__addimage__.convertBase64ToBinaryString=function(q,H){H=typeof H!="boolean"||H;var Q,Z="";if(typeof q=="string"){var J;Q=(J=O(q))!==null&&J!==void 0?J:q;try{Z=Wj(Q)}catch(ye){if(H)throw M(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(q){var H,Q,Z="";if(y(q)&&(q=v(q)),typeof q=="string"&&i(q)===r&&((Z=K(q,!1))===""&&(Z=t.loadFile(q)||""),q=Z),Q=i(q),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(q instanceof Uint8Array||(q=B(q)),!(H=this["process"+Q.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=Q,H}})($r.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};$r.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(w.objId),E=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+v(_(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+v(_(E))+") >>",w.content=a;var T=w.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(w.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var M=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(S(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var L=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})($r.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(w){var N=0,_=r,E="",T=0;for(N=0;N<w.length;N+=1)_[w.charCodeAt(N)]!==void 0?(T++,typeof(_=_[w.charCodeAt(N)])=="number"&&(E+=String.fromCharCode(_),_=r,T=0),N===w.length-1&&(_=r,E+=w.charAt(N-(T-1)),N-=T-1,T=0)):(_=r,E+=w.charAt(N-T),N-=T,T=0);return E};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(w,N,_){return o(w)?a(w)===!1?-1:!u(w)||!o(N)&&!o(_)||!o(_)&&l(N)||l(w)&&!o(N)||l(w)&&c(N)||l(w)&&l(N)?0:h(w)&&o(N)&&!l(N)&&o(_)&&u(_)?3:l(w)||!o(_)?1:2:-1},v=function(w){var N=0,_=0,E=0,T="",M="",O="",L=(w=w||"").split("\\s+"),B=[];for(N=0;N<L.length;N+=1){for(B.push(""),_=0;_<L[N].length;_+=1)T=L[N][_],M=L[N][_-1],O=L[N][_+1],o(T)?(E=y(T,M,O),B[N]+=E!==-1?String.fromCharCode(e[T.charCodeAt(0)][E]):T):B[N]+=T;B[N]=f(B[N])}return B.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var w,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(N)){var E=0;for(_=[],E=0;E<N.length;E+=1)Array.isArray(N[E])?_.push([v(N[E][0]),N[E][1],N[E][2]]):_.push([v(N[E])]);w=_}else w=v(N);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",S])})($r.API),$r.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})($r.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(w){S=w}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,v=0,S=0,w=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=u.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(T,M){return T.concat(N.splitTextToSize(M,_))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)v<(w=this.getStringUnitWidth(c[E],{font:f})*h)&&(v=w);return v!==0&&(S=c.length),{w:v/=y,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,v&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,h,f,y){if(n.call(this),!h)throw new Error("No data for PDF table.");var v,S,w,N,_=[],E=[],T=[],M={},O={},L=[],B=[],U=(y=y||{}).autoSize||!1,$=y.printHeaders!==!1,K=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,q=y.margins||Object.assign({width:this.getPageWidth()},e),H=typeof y.padding=="number"?y.padding:3,Q=y.headerBackgroundColor||"#c8c8c8",Z=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=Z,this.setFontSize(K),f==null)E=_=Object.keys(h[0]),T=_.map(function(){return"left"});else if(Array.isArray(f)&&Js(f[0])==="object")for(_=f.map(function(me){return me.name}),E=f.map(function(me){return me.prompt||me.name||""}),T=f.map(function(me){return me.align||"left"}),v=0;v<f.length;v+=1)O[f[v].name]=.7499990551181103*f[v].width;else Array.isArray(f)&&typeof f[0]=="string"&&(E=_=f,T=_.map(function(){return"left"}));if(U||Array.isArray(f)&&typeof f[0]=="string")for(v=0;v<_.length;v+=1){for(M[N=_[v]]=h.map(function(me){return me[N]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(E[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=M[N],this.setFont(void 0,"normal"),w=0;w<S.length;w+=1)L.push(this.getTextDimensions(S[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[N]=Math.max.apply(null,L)+H+H,L=[]}if($){var J={};for(v=0;v<_.length;v+=1)J[_[v]]={},J[_[v]].text=E[v],J[_[v]].align=T[v];var ye=l.call(this,J,O);B=_.map(function(me){return new a(c,u,O[me],ye,J[me].text,void 0,J[me].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var ge=f.reduce(function(me,ne){return me[ne.name]=ne.align,me},{});for(v=0;v<h.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:h[v]},this);var oe=l.call(this,h[v],O);for(w=0;w<_.length;w+=1){var re=h[v][_[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:w,data:re},this),o.call(this,new a(c,u,O[_[w]],oe,re,v+2,ge[_[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(v){var S=c[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[v]-h-h)},this).map(function(v){return this.getLineHeightFactor()*v.length*f/y+h+h},this).reduce(function(v,S){return Math.max(v,S)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){h=this.internal.__cell__.tableHeaderRow[v].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})($r.API);var wme={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Nme=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n8=bme(Nme),jme=[100,200,300,400,500,600,700,800,900],vXe=bme(jme);function uP(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return wme[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof n8[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function _Y(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var bXe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TY(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function kY(t){return t.trimLeft()}function wXe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function NXe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jj,PY,IY,rx,Sj,OY,MY,RY,dP=["times"];function DY(t,e,r,n,i){var a=4,o=FY;switch(i){case $r.API.image_compression.FAST:a=1,o=LY;break;case $r.API.image_compression.MEDIUM:a=6,o=BY;break;case $r.API.image_compression.SLOW:a=9,o=UY}t=(function(c,u,h,f){for(var y,v=c.length/u,S=new Uint8Array(c.length+v),w=[jXe,LY,FY,BY,UY],N=0;N<v;N+=1){var _=N*u,E=c.subarray(_,_+u);if(f)S.set(f(E,h,y),_+N);else{for(var T=w.length,M=[],O=0;O<T;O+=1)M[O]=w[O](E,h,y);var L=CXe(M.concat());S.set(M[L],_+N)}y=E}return S})(t,e,Math.ceil(r*n/8),o);var l=XO(t,{level:a});return $r.API.__addimage__.arrayBufferToBinaryString(l)}function jXe(t){var e=Array.apply([],t);return e.unshift(0),e}function LY(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function FY(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function BY(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function UY(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=SXe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function SXe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function CXe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function hP(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return Sme(t,i)>>a&o}function $Y(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,h,f){if(h+1<u.byteLength)u.setUint16(h,f,!1);else{var y=f>>8&255;u.setUint8(h,y)}})(t,a,Sme(t,a)&~(l<<o)&65535|c)}function Sme(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function AXe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,h=[],f=0,y=null,v=0,S=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];f=t[e++]|t[e++]<<8,y=t[e++],1&w||(y=null),v=w>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,M=t[e++],O=M>>6&1,L=1<<1+(7&M),B=l,U=c,$=!1;M>>7&&($=!0,B=e,U=L,e+=3*L);var K=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}h.push({x:N,y:_,width:E,height:T,has_local_palette:$,palette_offset:B,palette_size:U,data_offset:K,data_length:e-K,transparent_index:y,interlaced:!!O,delay:f,disposal:v});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,Q){var Z=this.frameInfo(H),J=Z.width*Z.height,ye=new Uint8Array(J);zY(t,Z.data_offset,ye,J);var ge=Z.palette_offset,oe=Z.transparent_index;oe===null&&(oe=256);var re=Z.width,me=r-re,ne=re,G=4*(Z.y*r+Z.x),se=4*((Z.y+Z.height)*r+Z.x),ue=G,je=4*me;Z.interlaced===!0&&(je+=4*r*7);for(var Ce=8,ae=0,de=ye.length;ae<de;++ae){var pe=ye[ae];if(ne===0&&(ne=re,(ue+=je)>=se&&(je=4*me+4*r*(Ce-1),ue=G+(re+me)*(Ce<<1),Ce>>=1)),pe===oe)ue+=4;else{var Oe=t[ge+3*pe],ze=t[ge+3*pe+1],qe=t[ge+3*pe+2];Q[ue++]=qe,Q[ue++]=ze,Q[ue++]=Oe,Q[ue++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(H,Q){var Z=this.frameInfo(H),J=Z.width*Z.height,ye=new Uint8Array(J);zY(t,Z.data_offset,ye,J);var ge=Z.palette_offset,oe=Z.transparent_index;oe===null&&(oe=256);var re=Z.width,me=r-re,ne=re,G=4*(Z.y*r+Z.x),se=4*((Z.y+Z.height)*r+Z.x),ue=G,je=4*me;Z.interlaced===!0&&(je+=4*r*7);for(var Ce=8,ae=0,de=ye.length;ae<de;++ae){var pe=ye[ae];if(ne===0&&(ne=re,(ue+=je)>=se&&(je=4*me+4*r*(Ce-1),ue=G+(re+me)*(Ce<<1),Ce>>=1)),pe===oe)ue+=4;else{var Oe=t[ge+3*pe],ze=t[ge+3*pe+1],qe=t[ge+3*pe+2];Q[ue++]=Oe,Q[ue++]=ze,Q[ue++]=qe,Q[ue++]=255}--ne}}}function zY(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,h=0,f=0,y=0,v=t[e++],S=new Int32Array(4096),w=null;;){for(;h<16&&v!==0;)f|=t[e++]<<h,h+=8,v===1?v=t[e++]:--v;if(h<c)break;var N=f&u;if(f>>=c,h-=c,N!==a){if(N===o)break;for(var _=N<l?N:w,E=0,T=_;T>a;)T=S[T]>>8,++E;var M=T;if(y+E+(_!==N?1:0)>n)return void hi.log("Warning, gif stream longer than expected.");r[y++]=M;var O=y+=E;for(_!==N&&(r[y++]=M),T=_;E--;)T=S[T],r[--O]=255&T,T>>=8;w!==null&&l<4096&&(S[l++]=w<<8|M,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=N}else l=o+1,u=(1<<(c=i+1))-1,w=null}return y!==n&&hi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fP(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),y=new Array(65535),v=new Array(64),S=new Array(64),w=[],N=0,_=7,E=new Array(64),T=new Array(64),M=new Array(64),O=new Array(256),L=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(G,se){for(var ue=0,je=0,Ce=new Array,ae=1;ae<=16;ae++){for(var de=1;de<=G[ae];de++)Ce[se[je]]=[],Ce[se[je]][0]=ue,Ce[se[je]][1]=ae,je++,ue++;ue*=2}return Ce}function ge(G){for(var se=G[0],ue=G[1]-1;ue>=0;)se&1<<ue&&(N|=1<<_),ue--,--_<0&&(N==255?(oe(255),oe(0)):oe(N),_=7,N=0)}function oe(G){w.push(G)}function re(G){oe(G>>8&255),oe(255&G)}function me(G,se,ue,je,Ce){for(var ae,de=Ce[0],pe=Ce[240],Oe=(function(mt,dr){var ht,Fe,Xe,ot,Et,vt,Tt,It,$t,ur,tr=0;for($t=0;$t<8;++$t){ht=mt[tr],Fe=mt[tr+1],Xe=mt[tr+2],ot=mt[tr+3],Et=mt[tr+4],vt=mt[tr+5],Tt=mt[tr+6];var _s=ht+(It=mt[tr+7]),qr=ht-It,pt=Fe+Tt,Ar=Fe-Tt,Rr=Xe+vt,or=Xe-vt,vn=ot+Et,cn=ot-Et,ri=_s+vn,Wr=_s-vn,Rn=pt+Rr,un=pt-Rr;mt[tr]=ri+Rn,mt[tr+4]=ri-Rn;var rs=.707106781*(un+Wr);mt[tr+2]=Wr+rs,mt[tr+6]=Wr-rs;var da=.382683433*((ri=cn+or)-(un=Ar+qr)),Xi=.5411961*ri+da,Hs=1.306562965*un+da,ja=.707106781*(Rn=or+Ar),Gr=qr+ja,pi=qr-ja;mt[tr+5]=pi+Xi,mt[tr+3]=pi-Xi,mt[tr+1]=Gr+Hs,mt[tr+7]=Gr-Hs,tr+=8}for(tr=0,$t=0;$t<8;++$t){ht=mt[tr],Fe=mt[tr+8],Xe=mt[tr+16],ot=mt[tr+24],Et=mt[tr+32],vt=mt[tr+40],Tt=mt[tr+48];var Bl=ht+(It=mt[tr+56]),gi=ht-It,bo=Fe+Tt,In=Fe-Tt,Ps=Xe+vt,os=Xe-vt,lr=ot+Et,Vo=ot-Et,Ho=Bl+lr,ai=Bl-lr,xi=bo+Ps,ro=bo-Ps;mt[tr]=Ho+xi,mt[tr+32]=Ho-xi;var Ua=.707106781*(ro+ai);mt[tr+16]=ai+Ua,mt[tr+48]=ai-Ua;var $a=.382683433*((Ho=Vo+os)-(ro=In+gi)),Ul=.5411961*Ho+$a,hu=1.306562965*ro+$a,za=.707106781*(xi=os+In),Ii=gi+za,ys=gi-za;mt[tr+40]=ys+Ul,mt[tr+24]=ys-Ul,mt[tr+8]=Ii+hu,mt[tr+56]=Ii-hu,tr++}for($t=0;$t<64;++$t)ur=mt[$t]*dr[$t],v[$t]=ur>0?ur+.5|0:ur-.5|0;return v})(G,se),ze=0;ze<64;++ze)S[B[ze]]=Oe[ze];var qe=S[0]-ue;ue=S[0],qe==0?ge(je[0]):(ge(je[y[ae=32767+qe]]),ge(f[ae]));for(var $e=63;$e>0&&S[$e]==0;)$e--;if($e==0)return ge(de),ue;for(var Ve,Ee=1;Ee<=$e;){for(var sr=Ee;S[Ee]==0&&Ee<=$e;)++Ee;var Zt=Ee-sr;if(Zt>=16){Ve=Zt>>4;for(var Gt=1;Gt<=Ve;++Gt)ge(pe);Zt&=15}ae=32767+S[Ee],ge(Ce[(Zt<<4)+y[ae]]),ge(f[ae]),Ee++}return $e!=63&&ge(de),ue}function ne(G){G=Math.min(Math.max(G,1),100),a!=G&&((function(se){for(var ue=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],je=0;je<64;je++){var Ce=o((ue[je]*se+50)/100);Ce=Math.min(Math.max(Ce,1),255),l[B[je]]=Ce}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var pe=o((ae[de]*se+50)/100);pe=Math.min(Math.max(pe,1),255),c[B[de]]=pe}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,qe=0;qe<8;qe++)for(var $e=0;$e<8;$e++)u[ze]=1/(l[B[ze]]*Oe[qe]*Oe[$e]*8),h[ze]=1/(c[B[ze]]*Oe[qe]*Oe[$e]*8),ze++})(G<50?Math.floor(5e3/G):Math.floor(200-2*G)),a=G)}this.encode=function(G,se){se&&ne(se),w=new Array,N=0,_=7,re(65496),re(65504),re(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),re(1),re(1),oe(0),oe(0),(function(){re(65499),re(132),oe(0);for(var Fe=0;Fe<64;Fe++)oe(l[Fe]);oe(1);for(var Xe=0;Xe<64;Xe++)oe(c[Xe])})(),(function(Fe,Xe){re(65472),re(17),oe(8),re(Xe),re(Fe),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(G.width,G.height),(function(){re(65476),re(418),oe(0);for(var Fe=0;Fe<16;Fe++)oe(U[Fe+1]);for(var Xe=0;Xe<=11;Xe++)oe($[Xe]);oe(16);for(var ot=0;ot<16;ot++)oe(K[ot+1]);for(var Et=0;Et<=161;Et++)oe(q[Et]);oe(1);for(var vt=0;vt<16;vt++)oe(H[vt+1]);for(var Tt=0;Tt<=11;Tt++)oe(Q[Tt]);oe(17);for(var It=0;It<16;It++)oe(Z[It+1]);for(var $t=0;$t<=161;$t++)oe(J[$t])})(),re(65498),re(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var ue=0,je=0,Ce=0;N=0,_=7,this.encode.displayName="_encode_";for(var ae,de,pe,Oe,ze,qe,$e,Ve,Ee,sr=G.data,Zt=G.width,Gt=G.height,mt=4*Zt,dr=0;dr<Gt;){for(ae=0;ae<mt;){for(ze=mt*dr+ae,$e=-1,Ve=0,Ee=0;Ee<64;Ee++)qe=ze+(Ve=Ee>>3)*mt+($e=4*(7&Ee)),dr+Ve>=Gt&&(qe-=mt*(dr+1+Ve-Gt)),ae+$e>=mt&&(qe-=ae+$e-mt+4),de=sr[qe++],pe=sr[qe++],Oe=sr[qe++],E[Ee]=(L[de]+L[pe+256|0]+L[Oe+512|0]>>16)-128,T[Ee]=(L[de+768|0]+L[pe+1024|0]+L[Oe+1280|0]>>16)-128,M[Ee]=(L[de+1280|0]+L[pe+1536|0]+L[Oe+1792|0]>>16)-128;ue=me(E,u,ue,e,n),je=me(T,h,je,r,i),Ce=me(M,h,Ce,r,i),ae+=32}dr+=8}if(_>=0){var ht=[];ht[1]=_+1,ht[0]=(1<<_+1)-1,ge(ht)}return re(65497),new Uint8Array(w)},t=t||50,(function(){for(var G=String.fromCharCode,se=0;se<256;se++)O[se]=G(se)})(),e=ye(U,$),r=ye(H,Q),n=ye(K,q),i=ye(Z,J),(function(){for(var G=1,se=2,ue=1;ue<=15;ue++){for(var je=G;je<se;je++)y[32767+je]=ue,f[32767+je]=[],f[32767+je][1]=ue,f[32767+je][0]=je;for(var Ce=-(se-1);Ce<=-G;Ce++)y[32767+Ce]=ue,f[32767+Ce]=[],f[32767+Ce][1]=ue,f[32767+Ce][0]=se-1+Ce;G<<=1,se<<=1}})(),(function(){for(var G=0;G<256;G++)L[G]=19595*G,L[G+256|0]=38470*G,L[G+512|0]=7471*G+32768,L[G+768|0]=-11059*G,L[G+1024|0]=-21709*G,L[G+1280|0]=32768*G+8421375,L[G+1536|0]=-27439*G,L[G+1792|0]=-5329*G})(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qY(t){function e($){if(!$)throw Error("assert :P")}function r($,K,q){for(var H=0;4>H;H++)if($[K+H]!=q.charCodeAt(H))return!0;return!1}function n($,K,q,H,Q){for(var Z=0;Z<Q;Z++)$[K+Z]=q[H+Z]}function i($,K,q,H){for(var Q=0;Q<H;Q++)$[K+Q]=q}function a($){return new Int32Array($)}function o($,K){for(var q=[],H=0;H<$;H++)q.push(new K);return q}function l($,K){var q=[];return(function H(Q,Z,J){for(var ye=J[Z],ge=0;ge<ye&&(Q.push(J.length>Z+1?[]:new K),!(J.length<Z+1));ge++)H(Q[ge],Z+1,J)})(q,0,$),q}var c=function(){var $=this;function K(k,D){for(var Y=1<<D-1>>>0;k&Y;)Y>>>=1;return Y?(k&Y-1)+Y:k}function q(k,D,Y,ee,fe){e(!(ee%Y));do k[D+(ee-=Y)]=fe;while(0<ee)}function H(k,D,Y,ee,fe){if(e(2328>=fe),512>=fe)var ve=a(512);else if((ve=a(fe))==null)return 0;return(function(we,Se,Ae,Pe,Ze,at){var Re,Je,st=Se,Nt=1<<Ae,ct=a(16),yt=a(16);for(e(Ze!=0),e(Pe!=null),e(we!=null),e(0<Ae),Je=0;Je<Ze;++Je){if(15<Pe[Je])return 0;++ct[Pe[Je]]}if(ct[0]==Ze)return 0;for(yt[1]=0,Re=1;15>Re;++Re){if(ct[Re]>1<<Re)return 0;yt[Re+1]=yt[Re]+ct[Re]}for(Je=0;Je<Ze;++Je)Re=Pe[Je],0<Pe[Je]&&(at[yt[Re]++]=Je);if(yt[15]==1)return(Pe=new Q).g=0,Pe.value=at[0],q(we,st,1,Nt,Pe),Nt;var bt,kt=-1,Mt=Nt-1,Lr=0,jr=1,An=1,kr=1<<Ae;for(Je=0,Re=1,Ze=2;Re<=Ae;++Re,Ze<<=1){if(jr+=An<<=1,0>(An-=ct[Re]))return 0;for(;0<ct[Re];--ct[Re])(Pe=new Q).g=Re,Pe.value=at[Je++],q(we,st+Lr,Ze,kr,Pe),Lr=K(Lr,Re)}for(Re=Ae+1,Ze=2;15>=Re;++Re,Ze<<=1){if(jr+=An<<=1,0>(An-=ct[Re]))return 0;for(;0<ct[Re];--ct[Re]){if(Pe=new Q,(Lr&Mt)!=kt){for(st+=kr,bt=1<<(kt=Re)-Ae;15>kt&&!(0>=(bt-=ct[kt]));)++kt,bt<<=1;Nt+=kr=1<<(bt=kt-Ae),we[Se+(kt=Lr&Mt)].g=bt+Ae,we[Se+kt].value=st-Se-kt}Pe.g=Re-Ae,Pe.value=at[Je++],q(we,st+(Lr>>Ae),Ze,kr,Pe),Lr=K(Lr,Re)}}return jr!=2*yt[15]-1?0:Nt})(k,D,Y,ee,fe,ve)}function Q(){this.value=this.g=0}function Z(){this.value=this.g=0}function J(){this.G=o(5,Q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Di,Z)}function ye(k,D,Y,ee){e(k!=null),e(D!=null),e(2147483648>ee),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=D,k.pa=Y,k.Jd=D,k.Yc=Y+ee,k.Zc=4<=ee?Y+ee-4+1:Y,de(k)}function ge(k,D){for(var Y=0;0<D--;)Y|=Oe(k,128)<<D;return Y}function oe(k,D){var Y=ge(k,D);return pe(k)?-Y:Y}function re(k,D,Y,ee){var fe,ve=0;for(e(k!=null),e(D!=null),e(4294967288>ee),k.Sb=ee,k.Ra=0,k.u=0,k.h=0,4<ee&&(ee=4),fe=0;fe<ee;++fe)ve+=D[Y+fe]<<8*fe;k.Ra=ve,k.bb=ee,k.oa=D,k.pa=Y}function me(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<ml-8>>>0,++k.bb,k.u-=8;je(k)&&(k.h=1,k.u=0)}function ne(k,D){if(e(0<=D),!k.h&&D<=so){var Y=ue(k)&Jo[D];return k.u+=D,me(k),Y}return k.h=1,k.u=0}function G(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function se(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ue(k){return k.Ra>>>(k.u&ml-1)>>>0}function je(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>ml}function Ce(k,D){k.u=D,k.h=je(k)}function ae(k){k.u>=Cn&&(e(k.u>=Cn),me(k))}function de(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function pe(k){return ge(k,1)}function Oe(k,D){var Y=k.Ca;0>k.b&&de(k);var ee=k.b,fe=Y*D>>>8,ve=(k.I>>>ee>fe)+0;for(ve?(Y-=fe,k.I-=fe+1<<ee>>>0):Y=fe+1,ee=Y,fe=0;256<=ee;)fe+=8,ee>>=8;return ee=7^fe+pl[ee],k.b-=ee,k.Ca=(Y<<ee)-1,ve}function ze(k,D,Y){k[D+0]=Y>>24&255,k[D+1]=Y>>16&255,k[D+2]=Y>>8&255,k[D+3]=255&Y}function qe(k,D){return k[D+0]|k[D+1]<<8}function $e(k,D){return qe(k,D)|k[D+2]<<16}function Ve(k,D){return qe(k,D)|qe(k,D+2)<<16}function Ee(k,D){var Y=1<<D;return e(k!=null),e(0<D),k.X=a(Y),k.X==null?0:(k.Mb=32-D,k.Xa=D,1)}function sr(k,D){e(k!=null),e(D!=null),e(k.Xa==D.Xa),n(D.X,0,k.X,0,1<<D.Xa)}function Zt(){this.X=[],this.Xa=this.Mb=0}function Gt(k,D,Y,ee){e(Y!=null),e(ee!=null);var fe=Y[0],ve=ee[0];return fe==0&&(fe=(k*ve+D/2)/D),ve==0&&(ve=(D*fe+k/2)/k),0>=fe||0>=ve?0:(Y[0]=fe,ee[0]=ve,1)}function mt(k,D){return k+(1<<D)-1>>>D}function dr(k,D){return((4278255360&k)+(4278255360&D)>>>0&4278255360)+((16711935&k)+(16711935&D)>>>0&16711935)>>>0}function ht(k,D){$[D]=function(Y,ee,fe,ve,we,Se,Ae){var Pe;for(Pe=0;Pe<we;++Pe){var Ze=$[k](Se[Ae+Pe-1],fe,ve+Pe);Se[Ae+Pe]=dr(Y[ee+Pe],Ze)}}}function Fe(){this.ud=this.hd=this.jd=0}function Xe(k,D){return((4278124286&(k^D))>>>1)+(k&D)>>>0}function ot(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Et(k,D){return ot(k+(k-D+.5>>1))}function vt(k,D,Y){return Math.abs(D-Y)-Math.abs(k-Y)}function Tt(k,D,Y,ee,fe,ve,we){for(ee=ve[we-1],Y=0;Y<fe;++Y)ve[we+Y]=ee=dr(k[D+Y],ee)}function It(k,D,Y,ee,fe){var ve;for(ve=0;ve<Y;++ve){var we=k[D+ve],Se=we>>8&255,Ae=16711935&(Ae=(Ae=16711935&we)+((Se<<16)+Se));ee[fe+ve]=(4278255360&we)+Ae>>>0}}function $t(k,D){D.jd=255&k,D.hd=k>>8&255,D.ud=k>>16&255}function ur(k,D,Y,ee,fe,ve){var we;for(we=0;we<ee;++we){var Se=D[Y+we],Ae=Se>>>8,Pe=Se,Ze=255&(Ze=(Ze=Se>>>16)+((k.jd<<24>>24)*(Ae<<24>>24)>>>5));Pe=255&(Pe=(Pe+=(k.hd<<24>>24)*(Ae<<24>>24)>>>5)+((k.ud<<24>>24)*(Ze<<24>>24)>>>5)),fe[ve+we]=(4278255360&Se)+(Ze<<16)+Pe}}function tr(k,D,Y,ee,fe){$[D]=function(ve,we,Se,Ae,Pe,Ze,at,Re,Je){for(Ae=at;Ae<Re;++Ae)for(at=0;at<Je;++at)Pe[Ze++]=fe(Se[ee(ve[we++])])},$[k]=function(ve,we,Se,Ae,Pe,Ze,at){var Re=8>>ve.b,Je=ve.Ea,st=ve.K[0],Nt=ve.w;if(8>Re)for(ve=(1<<ve.b)-1,Nt=(1<<Re)-1;we<Se;++we){var ct,yt=0;for(ct=0;ct<Je;++ct)ct&ve||(yt=ee(Ae[Pe++])),Ze[at++]=fe(st[yt&Nt]),yt>>=Re}else $["VP8LMapColor"+Y](Ae,Pe,st,Nt,Ze,at,we,Se,Je)}}function _s(k,D,Y,ee,fe){for(Y=D+Y;D<Y;){var ve=k[D++];ee[fe++]=ve>>16&255,ee[fe++]=ve>>8&255,ee[fe++]=255&ve}}function qr(k,D,Y,ee,fe){for(Y=D+Y;D<Y;){var ve=k[D++];ee[fe++]=ve>>16&255,ee[fe++]=ve>>8&255,ee[fe++]=255&ve,ee[fe++]=ve>>24&255}}function pt(k,D,Y,ee,fe){for(Y=D+Y;D<Y;){var ve=(we=k[D++])>>16&240|we>>12&15,we=240&we|we>>28&15;ee[fe++]=ve,ee[fe++]=we}}function Ar(k,D,Y,ee,fe){for(Y=D+Y;D<Y;){var ve=(we=k[D++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;ee[fe++]=ve,ee[fe++]=we}}function Rr(k,D,Y,ee,fe){for(Y=D+Y;D<Y;){var ve=k[D++];ee[fe++]=255&ve,ee[fe++]=ve>>8&255,ee[fe++]=ve>>16&255}}function or(k,D,Y,ee,fe,ve){if(ve==0)for(Y=D+Y;D<Y;)ze(ee,((ve=k[D++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),fe+=32;else n(ee,fe,k,D,Y)}function vn(k,D){$[D][0]=$[k+"0"],$[D][1]=$[k+"1"],$[D][2]=$[k+"2"],$[D][3]=$[k+"3"],$[D][4]=$[k+"4"],$[D][5]=$[k+"5"],$[D][6]=$[k+"6"],$[D][7]=$[k+"7"],$[D][8]=$[k+"8"],$[D][9]=$[k+"9"],$[D][10]=$[k+"10"],$[D][11]=$[k+"11"],$[D][12]=$[k+"12"],$[D][13]=$[k+"13"],$[D][14]=$[k+"0"],$[D][15]=$[k+"0"]}function cn(k){return k==bm||k==uf||k==$p||k==zp}function ri(){this.eb=[],this.size=this.A=this.fb=0}function Wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ri,this.f.kb=new Wr,this.sd=null}function un(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function da(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Xi(k,D){var Y=k.T,ee=D.ba.f.RGBA,fe=ee.eb,ve=ee.fb+k.ka*ee.A,we=xl[D.ba.S],Se=k.y,Ae=k.O,Pe=k.f,Ze=k.N,at=k.ea,Re=k.W,Je=D.cc,st=D.dc,Nt=D.Mc,ct=D.Nc,yt=k.ka,bt=k.ka+k.T,kt=k.U,Mt=kt+1>>1;for(yt==0?we(Se,Ae,null,null,Pe,Ze,at,Re,Pe,Ze,at,Re,fe,ve,null,null,kt):(we(D.ec,D.fc,Se,Ae,Je,st,Nt,ct,Pe,Ze,at,Re,fe,ve-ee.A,fe,ve,kt),++Y);yt+2<bt;yt+=2)Je=Pe,st=Ze,Nt=at,ct=Re,Ze+=k.Rc,Re+=k.Rc,ve+=2*ee.A,we(Se,(Ae+=2*k.fa)-k.fa,Se,Ae,Je,st,Nt,ct,Pe,Ze,at,Re,fe,ve-ee.A,fe,ve,kt);return Ae+=k.fa,k.j+bt<k.o?(n(D.ec,D.fc,Se,Ae,kt),n(D.cc,D.dc,Pe,Ze,Mt),n(D.Mc,D.Nc,at,Re,Mt),Y--):1&bt||we(Se,Ae,null,null,Pe,Ze,at,Re,Pe,Ze,at,Re,fe,ve+ee.A,null,null,kt),Y}function Hs(k,D,Y){var ee=k.F,fe=[k.J];if(ee!=null){var ve=k.U,we=D.ba.S,Se=we==Up||we==$p;D=D.ba.f.RGBA;var Ae=[0],Pe=k.ka;Ae[0]=k.T,k.Kb&&(Pe==0?--Ae[0]:(--Pe,fe[0]-=k.width),k.j+k.ka+k.T==k.o&&(Ae[0]=k.o-k.j-Pe));var Ze=D.eb;Pe=D.fb+Pe*D.A,k=Fp(ee,fe[0],k.width,ve,Ae,Ze,Pe+(Se?0:3),D.A),e(Y==Ae),k&&cn(we)&&od(Ze,Pe,Se,ve,Ae,D.A)}return 0}function ja(k){var D=k.ma,Y=D.ba.S,ee=11>Y,fe=Y==uh||Y==Bp||Y==Up||Y==Gs||Y==12||cn(Y);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Nu(D.Oa,k,fe?11:12))return 0;if(fe&&cn(Y)&&Qo(),k.da)alert("todo:use_scaling");else{if(ee){if(D.Ib=da,k.Kb){if(Y=k.U+1>>1,D.memory=a(k.U+2*Y),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+k.U,D.Mc=D.cc,D.Nc=D.dc+Y,D.Ib=Xi,Qo()}}else alert("todo:EmitYUV");fe&&(D.Jb=Hs,ee&&Ca())}if(ee&&!io){for(k=0;256>k;++k)yl[k]=89858*(k-128)+Bc>>ld,vl[k]=-22014*(k-128)+Bc,Sm[k]=-45773*(k-128),mf[k]=113618*(k-128)+Bc>>ld;for(k=Is;k<Bs;++k)D=76283*(k-16)+Bc>>ld,E0[k-Is]=ws(D,255),Z2[k-Is]=ws(D+8>>4,15);io=1}return 1}function Gr(k){var D=k.ma,Y=k.U,ee=k.T;return e(!(1&k.ka)),0>=Y||0>=ee?0:(Y=D.Ib(k,D),D.Jb!=null&&D.Jb(k,D,Y),D.Dc+=Y,1)}function pi(k){k.ma.memory=null}function Bl(k,D,Y,ee){return ne(k,8)!=47?0:(D[0]=ne(k,14)+1,Y[0]=ne(k,14)+1,ee[0]=ne(k,1),ne(k,3)!=0?0:!k.h)}function gi(k,D){if(4>k)return k+1;var Y=k-2>>1;return(2+(1&k)<<Y)+ne(D,Y)+1}function bo(k,D){return 120<D?D-120:1<=(Y=((Y=BC[D-1])>>4)*k+(8-(15&Y)))?Y:1;var Y}function In(k,D,Y){var ee=ue(Y),fe=k[D+=255&ee].g-8;return 0<fe&&(Ce(Y,Y.u+8),ee=ue(Y),D+=k[D].value,D+=ee&(1<<fe)-1),Ce(Y,Y.u+k[D].g),k[D].value}function Ps(k,D,Y){return Y.g+=k.g,Y.value+=k.value<<D>>>0,e(8>=Y.g),k.g}function os(k,D,Y){var ee=k.xc;return e((D=ee==0?0:k.vc[k.md*(Y>>ee)+(D>>ee)])<k.Wb),k.Ya[D]}function lr(k,D,Y,ee){var fe=k.ab,ve=k.c*D,we=k.C;D=we+D;var Se=Y,Ae=ee;for(ee=k.Ta,Y=k.Ua;0<fe--;){var Pe=k.gc[fe],Ze=we,at=D,Re=Se,Je=Ae,st=(Ae=ee,Se=Y,Pe.Ea);switch(e(Ze<at),e(at<=Pe.nc),Pe.hc){case 2:m(Re,Je,(at-Ze)*st,Ae,Se);break;case 0:var Nt=Ze,ct=at,yt=Ae,bt=Se,kt=(kr=Pe).Ea;Nt==0&&(le(Re,Je,null,null,1,yt,bt),Tt(Re,Je+1,0,0,kt-1,yt,bt+1),Je+=kt,bt+=kt,++Nt);for(var Mt=1<<kr.b,Lr=Mt-1,jr=mt(kt,kr.b),An=kr.K,kr=kr.w+(Nt>>kr.b)*jr;Nt<ct;){var Xn=An,qi=kr,_n=1;for(d(Re,Je,yt,bt-kt,1,yt,bt);_n<kt;){var Sr=(_n&~Lr)+Mt;Sr>kt&&(Sr=kt),(0,I[Xn[qi++]>>8&15])(Re,Je+ +_n,yt,bt+_n-kt,Sr-_n,yt,bt+_n),_n=Sr}Je+=kt,bt+=kt,++Nt&Lr||(kr+=jr)}at!=Pe.nc&&n(Ae,Se-st,Ae,Se+(at-Ze-1)*st,st);break;case 1:for(st=Re,ct=Je,kt=(Re=Pe.Ea)-(bt=Re&~(yt=(Je=1<<Pe.b)-1)),Nt=mt(Re,Pe.b),Mt=Pe.K,Pe=Pe.w+(Ze>>Pe.b)*Nt;Ze<at;){for(Lr=Mt,jr=Pe,An=new Fe,kr=ct+bt,Xn=ct+Re;ct<kr;)$t(Lr[jr++],An),F(An,st,ct,Je,Ae,Se),ct+=Je,Se+=Je;ct<Xn&&($t(Lr[jr++],An),F(An,st,ct,kt,Ae,Se),ct+=kt,Se+=kt),++Ze&yt||(Pe+=Nt)}break;case 3:if(Re==Ae&&Je==Se&&0<Pe.b){for(ct=Ae,Re=st=Se+(at-Ze)*st-(bt=(at-Ze)*mt(Pe.Ea,Pe.b)),Je=Ae,yt=Se,Nt=[],bt=(kt=bt)-1;0<=bt;--bt)Nt[bt]=Je[yt+bt];for(bt=kt-1;0<=bt;--bt)ct[Re+bt]=Nt[bt];g(Pe,Ze,at,Ae,st,Ae,Se)}else g(Pe,Ze,at,Re,Je,Ae,Se)}Se=ee,Ae=Y}Ae!=Y&&n(ee,Y,Se,Ae,ve)}function Vo(k,D){var Y=k.V,ee=k.Ba+k.c*k.C,fe=D-k.C;if(e(D<=k.l.o),e(16>=fe),0<fe){var ve=k.l,we=k.Ta,Se=k.Ua,Ae=ve.width;if(lr(k,fe,Y,ee),fe=Se=[Se],e((Y=k.C)<(ee=D)),e(ve.v<ve.va),ee>ve.o&&(ee=ve.o),Y<ve.j){var Pe=ve.j-Y;Y=ve.j,fe[0]+=Pe*Ae}if(Y>=ee?Y=0:(fe[0]+=4*ve.v,ve.ka=Y-ve.j,ve.U=ve.va-ve.v,ve.T=ee-Y,Y=1),Y){if(Se=Se[0],11>(Y=k.ca).S){var Ze=Y.f.RGBA,at=(ee=Y.S,fe=ve.U,ve=ve.T,Pe=Ze.eb,Ze.A),Re=ve;for(Ze=Ze.fb+k.Ma*Ze.A;0<Re--;){var Je=we,st=Se,Nt=fe,ct=Pe,yt=Ze;switch(ee){case S0:V(Je,st,Nt,ct,yt);break;case uh:te(Je,st,Nt,ct,yt);break;case bm:te(Je,st,Nt,ct,yt),od(ct,yt,0,Nt,1,0);break;case W2:Me(Je,st,Nt,ct,yt);break;case Bp:or(Je,st,Nt,ct,yt,1);break;case uf:or(Je,st,Nt,ct,yt,1),od(ct,yt,0,Nt,1,0);break;case Up:or(Je,st,Nt,ct,yt,0);break;case $p:or(Je,st,Nt,ct,yt,0),od(ct,yt,1,Nt,1,0);break;case Gs:ce(Je,st,Nt,ct,yt);break;case zp:ce(Je,st,Nt,ct,yt),Cy(ct,yt,Nt,1,0);break;case C0:be(Je,st,Nt,ct,yt);break;default:e(0)}Se+=Ae,Ze+=at}k.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=Y.height)}}k.C=D,e(k.C<=k.i)}function Ho(k){var D;if(0<k.ua)return 0;for(D=0;D<k.Wb;++D){var Y=k.Ya[D].G,ee=k.Ya[D].H;if(0<Y[1][ee[1]+0].g||0<Y[2][ee[2]+0].g||0<Y[3][ee[3]+0].g)return 0}return 1}function ai(k,D,Y,ee,fe,ve){if(k.Z!=0){var we=k.qd,Se=k.rd;for(e(Co[k.Z]!=null);D<Y;++D)Co[k.Z](we,Se,ee,fe,ee,fe,ve),we=ee,Se=fe,fe+=ve;k.qd=we,k.rd=Se}}function xi(k,D){var Y=k.l.ma,ee=Y.Z==0||Y.Z==1?k.l.j:k.C;if(ee=k.C<ee?ee:k.C,e(D<=k.l.o),D>ee){var fe=k.l.width,ve=Y.ca,we=Y.tb+fe*ee,Se=k.V,Ae=k.Ba+k.c*ee,Pe=k.gc;e(k.ab==1),e(Pe[0].hc==3),j(Pe[0],ee,D,Se,Ae,ve,we),ai(Y,ee,D,ve,we,fe)}k.C=k.Ma=D}function ro(k,D,Y,ee,fe,ve,we){var Se=k.$/ee,Ae=k.$%ee,Pe=k.m,Ze=k.s,at=Y+k.$,Re=at;fe=Y+ee*fe;var Je=Y+ee*ve,st=280+Ze.ua,Nt=k.Pb?Se:16777216,ct=0<Ze.ua?Ze.Wa:null,yt=Ze.wc,bt=at<Je?os(Ze,Ae,Se):null;e(k.C<ve),e(Je<=fe);var kt=!1;e:for(;;){for(;kt||at<Je;){var Mt=0;if(Se>=Nt){var Lr=at-Y;e((Nt=k).Pb),Nt.wd=Nt.m,Nt.xd=Lr,0<Nt.s.ua&&sr(Nt.s.Wa,Nt.s.vb),Nt=Se+_0}if(Ae&yt||(bt=os(Ze,Ae,Se)),e(bt!=null),bt.Qb&&(D[at]=bt.qb,kt=!0),!kt)if(ae(Pe),bt.jc){Mt=Pe,Lr=D;var jr=at,An=bt.pd[ue(Mt)&Di-1];e(bt.jc),256>An.g?(Ce(Mt,Mt.u+An.g),Lr[jr]=An.value,Mt=0):(Ce(Mt,Mt.u+An.g-256),e(256<=An.value),Mt=An.value),Mt==0&&(kt=!0)}else Mt=In(bt.G[0],bt.H[0],Pe);if(Pe.h)break;if(kt||256>Mt){if(!kt)if(bt.nd)D[at]=(bt.qb|Mt<<8)>>>0;else{if(ae(Pe),kt=In(bt.G[1],bt.H[1],Pe),ae(Pe),Lr=In(bt.G[2],bt.H[2],Pe),jr=In(bt.G[3],bt.H[3],Pe),Pe.h)break;D[at]=(jr<<24|kt<<16|Mt<<8|Lr)>>>0}if(kt=!1,++at,++Ae>=ee&&(Ae=0,++Se,we!=null&&Se<=ve&&!(Se%16)&&we(k,Se),ct!=null))for(;Re<at;)Mt=D[Re++],ct.X[(506832829*Mt&4294967295)>>>ct.Mb]=Mt}else if(280>Mt){if(Mt=gi(Mt-256,Pe),Lr=In(bt.G[4],bt.H[4],Pe),ae(Pe),Lr=bo(ee,Lr=gi(Lr,Pe)),Pe.h)break;if(at-Y<Lr||fe-at<Mt)break e;for(jr=0;jr<Mt;++jr)D[at+jr]=D[at+jr-Lr];for(at+=Mt,Ae+=Mt;Ae>=ee;)Ae-=ee,++Se,we!=null&&Se<=ve&&!(Se%16)&&we(k,Se);if(e(at<=fe),Ae&yt&&(bt=os(Ze,Ae,Se)),ct!=null)for(;Re<at;)Mt=D[Re++],ct.X[(506832829*Mt&4294967295)>>>ct.Mb]=Mt}else{if(!(Mt<st))break e;for(kt=Mt-280,e(ct!=null);Re<at;)Mt=D[Re++],ct.X[(506832829*Mt&4294967295)>>>ct.Mb]=Mt;Mt=at,e(!(kt>>>(Lr=ct).Xa)),D[Mt]=Lr.X[kt],kt=!0}kt||e(Pe.h==je(Pe))}if(k.Pb&&Pe.h&&at<fe)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&sr(k.s.vb,k.s.Wa);else{if(Pe.h)break e;we!=null&&we(k,Se>ve?ve:Se),k.a=0,k.$=at-Y}return 1}return k.a=3,0}function Ua(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var D=k.Wa;D!=null&&(D.X=null),k.vb=null,e(k!=null)}function $a(){var k=new nr;return k==null?null:(k.a=0,k.xb=Nm,vn("Predictor","VP8LPredictors"),vn("Predictor","VP8LPredictors_C"),vn("PredictorAdd","VP8LPredictorsAdd"),vn("PredictorAdd","VP8LPredictorsAdd_C"),m=It,F=ur,V=_s,te=qr,ce=pt,be=Ar,Me=Rr,$.VP8LMapColor32b=b,$.VP8LMapColor8b=C,k)}function Ul(k,D,Y,ee,fe){var ve=1,we=[k],Se=[D],Ae=ee.m,Pe=ee.s,Ze=null,at=0;e:for(;;){if(Y)for(;ve&&ne(Ae,1);){var Re=we,Je=Se,st=ee,Nt=1,ct=st.m,yt=st.gc[st.ab],bt=ne(ct,2);if(st.Oc&1<<bt)ve=0;else{switch(st.Oc|=1<<bt,yt.hc=bt,yt.Ea=Re[0],yt.nc=Je[0],yt.K=[null],++st.ab,e(4>=st.ab),bt){case 0:case 1:yt.b=ne(ct,3)+2,Nt=Ul(mt(yt.Ea,yt.b),mt(yt.nc,yt.b),0,st,yt.K),yt.K=yt.K[0];break;case 3:var kt,Mt=ne(ct,8)+1,Lr=16<Mt?0:4<Mt?1:2<Mt?2:3;if(Re[0]=mt(yt.Ea,Lr),yt.b=Lr,kt=Nt=Ul(Mt,1,0,st,yt.K)){var jr,An=Mt,kr=yt,Xn=1<<(8>>kr.b),qi=a(Xn);if(qi==null)kt=0;else{var _n=kr.K[0],Sr=kr.w;for(qi[0]=kr.K[0][0],jr=1;jr<1*An;++jr)qi[jr]=dr(_n[Sr+jr],qi[jr-1]);for(;jr<4*Xn;++jr)qi[jr]=0;kr.K[0]=null,kr.K[0]=qi,kt=1}}Nt=kt;break;case 2:break;default:e(0)}ve=Nt}}if(we=we[0],Se=Se[0],ve&&ne(Ae,1)&&!(ve=1<=(at=ne(Ae,4))&&11>=at)){ee.a=3;break e}var rr;if(rr=ve)t:{var Ji,gn,Hn,ni=ee,Ga=we,ma=Se,Li=at,Aa=Y,Ya=ni.m,ji=ni.s,ts=[null],Ns=1,Si=0,js=Y2[Li];r:for(;;){if(Aa&&ne(Ya,1)){var Vi=ne(Ya,3)+2,Hi=mt(Ga,Vi),Ys=mt(ma,Vi),Ao=Hi*Ys;if(!Ul(Hi,Ys,0,ni,ts))break r;for(ts=ts[0],ji.xc=Vi,Ji=0;Ji<Ao;++Ji){var Us=ts[Ji]>>8&65535;ts[Ji]=Us,Us>=Ns&&(Ns=Us+1)}}if(Ya.h)break r;for(gn=0;5>gn;++gn){var Ks=df[gn];!gn&&0<Li&&(Ks+=1<<Li),Si<Ks&&(Si=Ks)}var pa=o(Ns*js,Q),ao=Ns,bl=o(ao,J);if(bl==null)var ea=null;else e(65536>=ao),ea=bl;var ta=a(Si);if(ea==null||ta==null||pa==null){ni.a=1;break r}var _o=pa;for(Ji=Hn=0;Ji<Ns;++Ji){var Xs=ea[Ji],Eo=Xs.G,gc=Xs.H,Uc=0,Ka=1,ra=0;for(gn=0;5>gn;++gn){Ks=df[gn],Eo[gn]=_o,gc[gn]=Hn,!gn&&0<Li&&(Ks+=1<<Li);s:{var fh,ud=Ks,Cm=ni,Au=ta,J2=_o,Ly=Hn,di=0,$c=Cm.m,Fy=ne($c,1);if(i(Au,0,0,ud),Fy){var By=ne($c,1)+1,T0=ne($c,1),k0=ne($c,T0==0?1:8);Au[k0]=1,By==2&&(Au[k0=ne($c,8)]=1);var _u=1}else{var Ci=a(19),ga=ne($c,4)+4;if(19<ga){Cm.a=3;var na=0;break s}for(fh=0;fh<ga;++fh)Ci[FC[fh]]=ne($c,3);var Am=void 0,dd=void 0,_m=Cm,VC=Ci,_a=ud,P0=Au,Gp=0,Eu=_m.m,zc=8,Vl=o(128,Q);n:for(;H(Vl,0,7,VC,19);){if(ne(Eu,1)){var Yp=2+2*ne(Eu,3);if((Am=2+ne(Eu,Yp))>_a)break n}else Am=_a;for(dd=0;dd<_a&&Am--;){ae(Eu);var I0=Vl[0+(127&ue(Eu))];Ce(Eu,Eu.u+I0.g);var mh=I0.value;if(16>mh)P0[dd++]=mh,mh!=0&&(zc=mh);else{var eN=mh==16,Uy=mh-16,tN=A0[Uy],$y=ne(Eu,qp[Uy])+tN;if(dd+$y>_a)break n;for(var rN=eN?zc:0;0<$y--;)P0[dd++]=rN}}Gp=1;break n}Gp||(_m.a=3),_u=Gp}(_u=_u&&!$c.h)&&(di=H(J2,Ly,8,Au,ud)),_u&&di!=0?na=di:(Cm.a=3,na=0)}if(na==0)break r;if(Ka&&G2[gn]==1&&(Ka=_o[Hn].g==0),Uc+=_o[Hn].g,Hn+=na,3>=gn){var Em,O0=ta[0];for(Em=1;Em<Ks;++Em)ta[Em]>O0&&(O0=ta[Em]);ra+=O0}}if(Xs.nd=Ka,Xs.Qb=0,Ka&&(Xs.qb=(Eo[3][gc[3]+0].value<<24|Eo[1][gc[1]+0].value<<16|Eo[2][gc[2]+0].value)>>>0,Uc==0&&256>Eo[0][gc[0]+0].value&&(Xs.Qb=1,Xs.qb+=Eo[0][gc[0]+0].value<<8)),Xs.jc=!Xs.Qb&&6>ra,Xs.jc){var Kp,Hl=Xs;for(Kp=0;Kp<Di;++Kp){var hd=Kp,qc=Hl.pd[hd],gf=Hl.G[0][Hl.H[0]+hd];256<=gf.value?(qc.g=gf.g+256,qc.value=gf.value):(qc.g=0,qc.value=0,hd>>=Ps(gf,8,qc),hd>>=Ps(Hl.G[1][Hl.H[1]+hd],16,qc),hd>>=Ps(Hl.G[2][Hl.H[2]+hd],0,qc),Ps(Hl.G[3][Hl.H[3]+hd],24,qc))}}}ji.vc=ts,ji.Wb=Ns,ji.Ya=ea,ji.yc=pa,rr=1;break t}rr=0}if(!(ve=rr)){ee.a=3;break e}if(0<at){if(Pe.ua=1<<at,!Ee(Pe.Wa,at)){ee.a=1,ve=0;break e}}else Pe.ua=0;var M0=ee,R0=we,nN=Se,D0=M0.s,L0=D0.xc;if(M0.c=R0,M0.i=nN,D0.md=mt(R0,L0),D0.wc=L0==0?-1:(1<<L0)-1,Y){ee.xb=Cu;break e}if((Ze=a(we*Se))==null){ee.a=1,ve=0;break e}ve=(ve=ro(ee,Ze,0,we,Se,Se,null))&&!Ae.h;break e}return ve?(fe!=null?fe[0]=Ze:(e(Ze==null),e(Y)),ee.$=0,Y||Ua(Pe)):Ua(Pe),ve}function hu(k,D){var Y=k.c*k.i,ee=Y+D+16*D;return e(k.c<=D),k.V=a(ee),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+Y+D,1)}function za(k,D){var Y=k.C,ee=D-Y,fe=k.V,ve=k.Ba+k.c*Y;for(e(D<=k.l.o);0<ee;){var we=16<ee?16:ee,Se=k.l.ma,Ae=k.l.width,Pe=Ae*we,Ze=Se.ca,at=Se.tb+Ae*Y,Re=k.Ta,Je=k.Ua;lr(k,we,fe,ve),Ay(Re,Je,Ze,at,Pe),ai(Se,Y,Y+we,Ze,at,Ae),ee-=we,fe+=we*k.c,Y+=we}e(Y==D),k.C=k.Ma=D}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function ys(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gm(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ns(){this.Yb=(function(){var k=[];return(function D(Y,ee,fe){for(var ve=fe[ee],we=0;we<ve&&(Y.push(fe.length>ee+1?[]:0),!(fe.length<ee+1));we++)D(Y[we],ee+1,fe)})(k,0,[3,11]),k})()}function ah(){this.jb=a(3),this.Wc=l([4,8],ns),this.Xc=l([4,17],ns)}function Dt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Wo(){this.ld=this.La=this.dd=this.tc=0}function vs(){this.Na=this.la=0}function Pc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oh(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $n(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wo),this.Y=0,this.ya=Array(new oh),this.aa=0,this.l=new ha}function wn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Dn(){this.cb=this.a=0,this.sc="",this.m=new G,this.Od=new Ii,this.Kc=new ys,this.ed=new Dt,this.Qa=new gm,this.Ic=this.$c=this.Aa=0,this.D=new $n,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,G),this.ia=0,this.pb=o(4,Pc),this.Pa=new ah,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wn),this.Hd=0,this.rb=Array(new vs),this.sb=0,this.wa=Array(new Wo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oh),this.L=this.aa=0,this.gd=l([4,2],Wo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ha(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function af(){var k=new Dn;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,hf||(hf=dl)),k}function yi(k,D,Y){return k.a==0&&(k.a=D,k.sc=Y,k.cb=0),0}function vi(k,D,Y){return 3<=Y&&k[D+0]==157&&k[D+1]==1&&k[D+2]==42}function wo(k,D){if(k==null)return 0;if(k.a=0,k.sc="OK",D==null)return yi(k,2,"null VP8Io passed to VP8GetHeaders()");var Y=D.data,ee=D.w,fe=D.ha;if(4>fe)return yi(k,7,"Truncated header.");var ve=Y[ee+0]|Y[ee+1]<<8|Y[ee+2]<<16,we=k.Od;if(we.Rb=!(1&ve),we.td=ve>>1&7,we.yd=ve>>4&1,we.ub=ve>>5,3<we.td)return yi(k,3,"Incorrect keyframe parameters.");if(!we.yd)return yi(k,4,"Frame not displayable.");ee+=3,fe-=3;var Se=k.Kc;if(we.Rb){if(7>fe)return yi(k,7,"cannot parse picture header");if(!vi(Y,ee,fe))return yi(k,3,"Bad code word");Se.c=16383&(Y[ee+4]<<8|Y[ee+3]),Se.Td=Y[ee+4]>>6,Se.i=16383&(Y[ee+6]<<8|Y[ee+5]),Se.Ud=Y[ee+6]>>6,ee+=7,fe-=7,k.za=Se.c+15>>4,k.Ub=Se.i+15>>4,D.width=Se.c,D.height=Se.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,i((ve=k.Pa).jb,0,255,ve.jb.length),e((ve=k.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,i(ve.Zb,0,0,ve.Zb.length),i(ve.Lb,0,0,ve.Lb)}if(we.ub>fe)return yi(k,7,"bad partition length");ye(ve=k.m,Y,ee,we.ub),ee+=we.ub,fe-=we.ub,we.Rb&&(Se.Ld=pe(ve),Se.Kd=pe(ve)),Se=k.Qa;var Ae,Pe=k.Pa;if(e(ve!=null),e(Se!=null),Se.Cb=pe(ve),Se.Cb){if(Se.Bb=pe(ve),pe(ve)){for(Se.Fb=pe(ve),Ae=0;4>Ae;++Ae)Se.Zb[Ae]=pe(ve)?oe(ve,7):0;for(Ae=0;4>Ae;++Ae)Se.Lb[Ae]=pe(ve)?oe(ve,6):0}if(Se.Bb)for(Ae=0;3>Ae;++Ae)Pe.jb[Ae]=pe(ve)?ge(ve,8):255}else Se.Bb=0;if(ve.Ka)return yi(k,3,"cannot parse segment header");if((Se=k.ed).zd=pe(ve),Se.Tb=ge(ve,6),Se.wb=ge(ve,3),Se.Pc=pe(ve),Se.Pc&&pe(ve)){for(Pe=0;4>Pe;++Pe)pe(ve)&&(Se.vd[Pe]=oe(ve,6));for(Pe=0;4>Pe;++Pe)pe(ve)&&(Se.od[Pe]=oe(ve,6))}if(k.L=Se.Tb==0?0:Se.zd?1:2,ve.Ka)return yi(k,3,"cannot parse filter header");var Ze=fe;if(fe=Ae=ee,ee=Ae+Ze,Se=Ze,k.Xb=(1<<ge(k.m,2))-1,Ze<3*(Pe=k.Xb))Y=7;else{for(Ae+=3*Pe,Se-=3*Pe,Ze=0;Ze<Pe;++Ze){var at=Y[fe+0]|Y[fe+1]<<8|Y[fe+2]<<16;at>Se&&(at=Se),ye(k.Jc[+Ze],Y,Ae,at),Ae+=at,Se-=at,fe+=3}ye(k.Jc[+Pe],Y,Ae,Se),Y=Ae<ee?0:5}if(Y!=0)return yi(k,Y,"cannot parse partitions");for(Y=ge(Ae=k.m,7),fe=pe(Ae)?oe(Ae,4):0,ee=pe(Ae)?oe(Ae,4):0,Se=pe(Ae)?oe(Ae,4):0,Pe=pe(Ae)?oe(Ae,4):0,Ae=pe(Ae)?oe(Ae,4):0,Ze=k.Qa,at=0;4>at;++at){if(Ze.Cb){var Re=Ze.Zb[at];Ze.Fb||(Re+=Y)}else{if(0<at){k.pb[at]=k.pb[0];continue}Re=Y}var Je=k.pb[at];Je.Sc[0]=wm[ws(Re+fe,127)],Je.Sc[1]=Vp[ws(Re+0,127)],Je.Eb[0]=2*wm[ws(Re+ee,127)],Je.Eb[1]=101581*Vp[ws(Re+Se,127)]>>16,8>Je.Eb[1]&&(Je.Eb[1]=8),Je.Qc[0]=wm[ws(Re+Pe,117)],Je.Qc[1]=Vp[ws(Re+Ae,127)],Je.lc=Re+Ae}if(!we.Rb)return yi(k,4,"Not a key frame.");for(pe(ve),we=k.Pa,Y=0;4>Y;++Y){for(fe=0;8>fe;++fe)for(ee=0;3>ee;++ee)for(Se=0;11>Se;++Se)Pe=Oe(ve,$C[Y][fe][ee][Se])?ge(ve,8):X2[Y][fe][ee][Se],we.Wc[Y][fe].Yb[ee][Se]=Pe;for(fe=0;17>fe;++fe)we.Xc[Y][fe]=we.Wc[Y][My[fe]]}return k.kc=pe(ve),k.kc&&(k.Bd=ge(ve,8)),k.cb=1}function dl(k,D,Y,ee,fe,ve,we){var Se=D[fe].Yb[Y];for(Y=0;16>fe;++fe){if(!Oe(k,Se[Y+0]))return fe;for(;!Oe(k,Se[Y+1]);)if(Se=D[++fe].Yb[0],Y=0,fe==16)return 16;var Ae=D[fe+1].Yb;if(Oe(k,Se[Y+2])){var Pe=k,Ze=0;if(Oe(Pe,(Re=Se)[(at=Y)+3]))if(Oe(Pe,Re[at+6])){for(Se=0,at=2*(Ze=Oe(Pe,Re[at+8]))+(Re=Oe(Pe,Re[at+9+Ze])),Ze=0,Re=Iy[at];Re[Se];++Se)Ze+=Ze+Oe(Pe,Re[Se]);Ze+=3+(8<<at)}else Oe(Pe,Re[at+7])?(Ze=7+2*Oe(Pe,165),Ze+=Oe(Pe,145)):Ze=5+Oe(Pe,159);else Ze=Oe(Pe,Re[at+4])?3+Oe(Pe,Re[at+5]):2;Se=Ae[2]}else Ze=1,Se=Ae[1];Ae=we+Oy[fe],0>(Pe=k).b&&de(Pe);var at,Re=Pe.b,Je=(at=Pe.Ca>>1)-(Pe.I>>Re)>>31;--Pe.b,Pe.Ca+=Je,Pe.Ca|=1,Pe.I-=(at+1&Je)<<Re,ve[Ae]=((Ze^Je)-Je)*ee[(0<fe)+0]}return 16}function ls(k){var D=k.rb[k.sb-1];D.la=0,D.Na=0,i(k.zc,0,0,k.zc.length),k.ja=0}function Oi(k,D,Y,ee,fe){fe=k[D+Y+32*ee]+(fe>>3),k[D+Y+32*ee]=-256&fe?0>fe?0:255:fe}function td(k,D,Y,ee,fe,ve){Oi(k,D,0,Y,ee+fe),Oi(k,D,1,Y,ee+ve),Oi(k,D,2,Y,ee-ve),Oi(k,D,3,Y,ee-fe)}function Ls(k){return(20091*k>>16)+k}function ss(k,D,Y,ee){var fe,ve=0,we=a(16);for(fe=0;4>fe;++fe){var Se=k[D+0]+k[D+8],Ae=k[D+0]-k[D+8],Pe=(35468*k[D+4]>>16)-Ls(k[D+12]),Ze=Ls(k[D+4])+(35468*k[D+12]>>16);we[ve+0]=Se+Ze,we[ve+1]=Ae+Pe,we[ve+2]=Ae-Pe,we[ve+3]=Se-Ze,ve+=4,D++}for(fe=ve=0;4>fe;++fe)Se=(k=we[ve+0]+4)+we[ve+8],Ae=k-we[ve+8],Pe=(35468*we[ve+4]>>16)-Ls(we[ve+12]),Oi(Y,ee,0,0,Se+(Ze=Ls(we[ve+4])+(35468*we[ve+12]>>16))),Oi(Y,ee,1,0,Ae+Pe),Oi(Y,ee,2,0,Ae-Pe),Oi(Y,ee,3,0,Se-Ze),ve++,ee+=32}function Zi(k,D,Y,ee){var fe=k[D+0]+4,ve=35468*k[D+4]>>16,we=Ls(k[D+4]),Se=35468*k[D+1]>>16;td(Y,ee,0,fe+we,k=Ls(k[D+1]),Se),td(Y,ee,1,fe+ve,k,Se),td(Y,ee,2,fe-ve,k,Se),td(Y,ee,3,fe-we,k,Se)}function it(k,D,Y,ee,fe){ss(k,D,Y,ee),fe&&ss(k,D+16,Y,ee+4)}function ke(k,D,Y,ee){Ke(k,D+0,Y,ee,1),Ke(k,D+32,Y,ee+128,1)}function vr(k,D,Y,ee){var fe;for(k=k[D+0]+4,fe=0;4>fe;++fe)for(D=0;4>D;++D)Oi(Y,ee,D,fe,k)}function oi(k,D,Y,ee){k[D+0]&&St(k,D+0,Y,ee),k[D+16]&&St(k,D+16,Y,ee+4),k[D+32]&&St(k,D+32,Y,ee+128),k[D+48]&&St(k,D+48,Y,ee+128+4)}function Nn(k,D,Y,ee){var fe,ve=a(16);for(fe=0;4>fe;++fe){var we=k[D+0+fe]+k[D+12+fe],Se=k[D+4+fe]+k[D+8+fe],Ae=k[D+4+fe]-k[D+8+fe],Pe=k[D+0+fe]-k[D+12+fe];ve[0+fe]=we+Se,ve[8+fe]=we-Se,ve[4+fe]=Pe+Ae,ve[12+fe]=Pe-Ae}for(fe=0;4>fe;++fe)we=(k=ve[0+4*fe]+3)+ve[3+4*fe],Se=ve[1+4*fe]+ve[2+4*fe],Ae=ve[1+4*fe]-ve[2+4*fe],Pe=k-ve[3+4*fe],Y[ee+0]=we+Se>>3,Y[ee+16]=Pe+Ae>>3,Y[ee+32]=we-Se>>3,Y[ee+48]=Pe-Ae>>3,ee+=64}function Ic(k,D,Y){var ee,fe=D-32,ve=el,we=255-k[fe-1];for(ee=0;ee<Y;++ee){var Se,Ae=ve,Pe=we+k[D-1];for(Se=0;Se<Y;++Se)k[D+Se]=Ae[Pe+k[fe+Se]];D+=32}}function fu(k,D){Ic(k,D,4)}function qa(k,D){Ic(k,D,8)}function Br(k,D){Ic(k,D,16)}function Fs(k,D){var Y;for(Y=0;16>Y;++Y)n(k,D+32*Y,k,D-32,16)}function rd(k,D){var Y;for(Y=16;0<Y;--Y)i(k,D,k[D-1],16),D+=32}function Oc(k,D,Y){var ee;for(ee=0;16>ee;++ee)i(D,Y+32*ee,k,16)}function Go(k,D){var Y,ee=16;for(Y=0;16>Y;++Y)ee+=k[D-1+32*Y]+k[D+Y-32];Oc(ee>>5,k,D)}function Yo(k,D){var Y,ee=8;for(Y=0;16>Y;++Y)ee+=k[D-1+32*Y];Oc(ee>>4,k,D)}function Va(k,D){var Y,ee=8;for(Y=0;16>Y;++Y)ee+=k[D+Y-32];Oc(ee>>4,k,D)}function hl(k,D){Oc(128,k,D)}function gr(k,D,Y){return k+2*D+Y+2>>2}function $l(k,D){var Y,ee=D-32;for(ee=new Uint8Array([gr(k[ee-1],k[ee+0],k[ee+1]),gr(k[ee+0],k[ee+1],k[ee+2]),gr(k[ee+1],k[ee+2],k[ee+3]),gr(k[ee+2],k[ee+3],k[ee+4])]),Y=0;4>Y;++Y)n(k,D+32*Y,ee,0,ee.length)}function Sa(k,D){var Y=k[D-1],ee=k[D-1+32],fe=k[D-1+64],ve=k[D-1+96];ze(k,D+0,16843009*gr(k[D-1-32],Y,ee)),ze(k,D+32,16843009*gr(Y,ee,fe)),ze(k,D+64,16843009*gr(ee,fe,ve)),ze(k,D+96,16843009*gr(fe,ve,ve))}function en(k,D){var Y,ee=4;for(Y=0;4>Y;++Y)ee+=k[D+Y-32]+k[D-1+32*Y];for(ee>>=3,Y=0;4>Y;++Y)i(k,D+32*Y,ee,4)}function xm(k,D){var Y=k[D-1+0],ee=k[D-1+32],fe=k[D-1+64],ve=k[D-1-32],we=k[D+0-32],Se=k[D+1-32],Ae=k[D+2-32],Pe=k[D+3-32];k[D+0+96]=gr(ee,fe,k[D-1+96]),k[D+1+96]=k[D+0+64]=gr(Y,ee,fe),k[D+2+96]=k[D+1+64]=k[D+0+32]=gr(ve,Y,ee),k[D+3+96]=k[D+2+64]=k[D+1+32]=k[D+0+0]=gr(we,ve,Y),k[D+3+64]=k[D+2+32]=k[D+1+0]=gr(Se,we,ve),k[D+3+32]=k[D+2+0]=gr(Ae,Se,we),k[D+3+0]=gr(Pe,Ae,Se)}function Qr(k,D){var Y=k[D+1-32],ee=k[D+2-32],fe=k[D+3-32],ve=k[D+4-32],we=k[D+5-32],Se=k[D+6-32],Ae=k[D+7-32];k[D+0+0]=gr(k[D+0-32],Y,ee),k[D+1+0]=k[D+0+32]=gr(Y,ee,fe),k[D+2+0]=k[D+1+32]=k[D+0+64]=gr(ee,fe,ve),k[D+3+0]=k[D+2+32]=k[D+1+64]=k[D+0+96]=gr(fe,ve,we),k[D+3+32]=k[D+2+64]=k[D+1+96]=gr(ve,we,Se),k[D+3+64]=k[D+2+96]=gr(we,Se,Ae),k[D+3+96]=gr(Se,Ae,Ae)}function Ws(k,D){var Y=k[D-1+0],ee=k[D-1+32],fe=k[D-1+64],ve=k[D-1-32],we=k[D+0-32],Se=k[D+1-32],Ae=k[D+2-32],Pe=k[D+3-32];k[D+0+0]=k[D+1+64]=ve+we+1>>1,k[D+1+0]=k[D+2+64]=we+Se+1>>1,k[D+2+0]=k[D+3+64]=Se+Ae+1>>1,k[D+3+0]=Ae+Pe+1>>1,k[D+0+96]=gr(fe,ee,Y),k[D+0+64]=gr(ee,Y,ve),k[D+0+32]=k[D+1+96]=gr(Y,ve,we),k[D+1+32]=k[D+2+96]=gr(ve,we,Se),k[D+2+32]=k[D+3+96]=gr(we,Se,Ae),k[D+3+32]=gr(Se,Ae,Pe)}function ym(k,D){var Y=k[D+0-32],ee=k[D+1-32],fe=k[D+2-32],ve=k[D+3-32],we=k[D+4-32],Se=k[D+5-32],Ae=k[D+6-32],Pe=k[D+7-32];k[D+0+0]=Y+ee+1>>1,k[D+1+0]=k[D+0+64]=ee+fe+1>>1,k[D+2+0]=k[D+1+64]=fe+ve+1>>1,k[D+3+0]=k[D+2+64]=ve+we+1>>1,k[D+0+32]=gr(Y,ee,fe),k[D+1+32]=k[D+0+96]=gr(ee,fe,ve),k[D+2+32]=k[D+1+96]=gr(fe,ve,we),k[D+3+32]=k[D+2+96]=gr(ve,we,Se),k[D+3+64]=gr(we,Se,Ae),k[D+3+96]=gr(Se,Ae,Pe)}function mu(k,D){var Y=k[D-1+0],ee=k[D-1+32],fe=k[D-1+64],ve=k[D-1+96];k[D+0+0]=Y+ee+1>>1,k[D+2+0]=k[D+0+32]=ee+fe+1>>1,k[D+2+32]=k[D+0+64]=fe+ve+1>>1,k[D+1+0]=gr(Y,ee,fe),k[D+3+0]=k[D+1+32]=gr(ee,fe,ve),k[D+3+32]=k[D+1+64]=gr(fe,ve,ve),k[D+3+64]=k[D+2+64]=k[D+0+96]=k[D+1+96]=k[D+2+96]=k[D+3+96]=ve}function pu(k,D){var Y=k[D-1+0],ee=k[D-1+32],fe=k[D-1+64],ve=k[D-1+96],we=k[D-1-32],Se=k[D+0-32],Ae=k[D+1-32],Pe=k[D+2-32];k[D+0+0]=k[D+2+32]=Y+we+1>>1,k[D+0+32]=k[D+2+64]=ee+Y+1>>1,k[D+0+64]=k[D+2+96]=fe+ee+1>>1,k[D+0+96]=ve+fe+1>>1,k[D+3+0]=gr(Se,Ae,Pe),k[D+2+0]=gr(we,Se,Ae),k[D+1+0]=k[D+3+32]=gr(Y,we,Se),k[D+1+32]=k[D+3+64]=gr(ee,Y,we),k[D+1+64]=k[D+3+96]=gr(fe,ee,Y),k[D+1+96]=gr(ve,fe,ee)}function zl(k,D){var Y;for(Y=0;8>Y;++Y)n(k,D+32*Y,k,D-32,8)}function ql(k,D){var Y;for(Y=0;8>Y;++Y)i(k,D,k[D-1],8),D+=32}function No(k,D,Y){var ee;for(ee=0;8>ee;++ee)i(D,Y+32*ee,k,8)}function no(k,D){var Y,ee=8;for(Y=0;8>Y;++Y)ee+=k[D+Y-32]+k[D-1+32*Y];No(ee>>4,k,D)}function cc(k,D){var Y,ee=4;for(Y=0;8>Y;++Y)ee+=k[D+Y-32];No(ee>>3,k,D)}function lh(k,D){var Y,ee=4;for(Y=0;8>Y;++Y)ee+=k[D-1+32*Y];No(ee>>3,k,D)}function Mc(k,D){No(128,k,D)}function Ko(k,D,Y){var ee=k[D-Y],fe=k[D+0],ve=3*(fe-ee)+Su[1020+k[D-2*Y]-k[D+Y]],we=vm[112+(ve+4>>3)];k[D-Y]=el[255+ee+vm[112+(ve+3>>3)]],k[D+0]=el[255+fe-we]}function li(k,D,Y,ee){var fe=k[D+0],ve=k[D+Y];return mc[255+k[D-2*Y]-k[D-Y]]>ee||mc[255+ve-fe]>ee}function gu(k,D,Y,ee){return 4*mc[255+k[D-Y]-k[D+0]]+mc[255+k[D-2*Y]-k[D+Y]]<=ee}function xu(k,D,Y,ee,fe){var ve=k[D-3*Y],we=k[D-2*Y],Se=k[D-Y],Ae=k[D+0],Pe=k[D+Y],Ze=k[D+2*Y],at=k[D+3*Y];return 4*mc[255+Se-Ae]+mc[255+we-Pe]>ee?0:mc[255+k[D-4*Y]-ve]<=fe&&mc[255+ve-we]<=fe&&mc[255+we-Se]<=fe&&mc[255+at-Ze]<=fe&&mc[255+Ze-Pe]<=fe&&mc[255+Pe-Ae]<=fe}function Xo(k,D,Y,ee){var fe=2*ee+1;for(ee=0;16>ee;++ee)gu(k,D+ee,Y,fe)&&Ko(k,D+ee,Y)}function Rc(k,D,Y,ee){var fe=2*ee+1;for(ee=0;16>ee;++ee)gu(k,D+ee*Y,1,fe)&&Ko(k,D+ee*Y,1)}function nd(k,D,Y,ee){var fe;for(fe=3;0<fe;--fe)Xo(k,D+=4*Y,Y,ee)}function of(k,D,Y,ee){var fe;for(fe=3;0<fe;--fe)Rc(k,D+=4,Y,ee)}function On(k,D,Y,ee,fe,ve,we,Se){for(ve=2*ve+1;0<fe--;){if(xu(k,D,Y,ve,we))if(li(k,D,Y,Se))Ko(k,D,Y);else{var Ae=k,Pe=D,Ze=Y,at=Ae[Pe-2*Ze],Re=Ae[Pe-Ze],Je=Ae[Pe+0],st=Ae[Pe+Ze],Nt=Ae[Pe+2*Ze],ct=27*(bt=Su[1020+3*(Je-Re)+Su[1020+at-st]])+63>>7,yt=18*bt+63>>7,bt=9*bt+63>>7;Ae[Pe-3*Ze]=el[255+Ae[Pe-3*Ze]+bt],Ae[Pe-2*Ze]=el[255+at+yt],Ae[Pe-Ze]=el[255+Re+ct],Ae[Pe+0]=el[255+Je-ct],Ae[Pe+Ze]=el[255+st-yt],Ae[Pe+2*Ze]=el[255+Nt-bt]}D+=ee}}function Zo(k,D,Y,ee,fe,ve,we,Se){for(ve=2*ve+1;0<fe--;){if(xu(k,D,Y,ve,we))if(li(k,D,Y,Se))Ko(k,D,Y);else{var Ae=k,Pe=D,Ze=Y,at=Ae[Pe-Ze],Re=Ae[Pe+0],Je=Ae[Pe+Ze],st=vm[112+(4+(Nt=3*(Re-at))>>3)],Nt=vm[112+(Nt+3>>3)],ct=st+1>>1;Ae[Pe-2*Ze]=el[255+Ae[Pe-2*Ze]+ct],Ae[Pe-Ze]=el[255+at+Nt],Ae[Pe+0]=el[255+Re-st],Ae[Pe+Ze]=el[255+Je-ct]}D+=ee}}function yu(k,D,Y,ee,fe,ve){On(k,D,Y,1,16,ee,fe,ve)}function ci(k,D,Y,ee,fe,ve){On(k,D,1,Y,16,ee,fe,ve)}function fl(k,D,Y,ee,fe,ve){var we;for(we=3;0<we;--we)Zo(k,D+=4*Y,Y,1,16,ee,fe,ve)}function ft(k,D,Y,ee,fe,ve){var we;for(we=3;0<we;--we)Zo(k,D+=4,1,Y,16,ee,fe,ve)}function z(k,D,Y,ee,fe,ve,we,Se){On(k,D,fe,1,8,ve,we,Se),On(Y,ee,fe,1,8,ve,we,Se)}function he(k,D,Y,ee,fe,ve,we,Se){On(k,D,1,fe,8,ve,we,Se),On(Y,ee,1,fe,8,ve,we,Se)}function De(k,D,Y,ee,fe,ve,we,Se){Zo(k,D+4*fe,fe,1,8,ve,we,Se),Zo(Y,ee+4*fe,fe,1,8,ve,we,Se)}function We(k,D,Y,ee,fe,ve,we,Se){Zo(k,D+4,1,fe,8,ve,we,Se),Zo(Y,ee+4,1,fe,8,ve,we,Se)}function rt(){this.ba=new Rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function br(){this.ua=0,this.Wa=new Zt,this.vb=new Zt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new Q}function nr(){this.xb=this.a=0,this.l=new ha,this.ca=new Rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new se,this.Pb=0,this.wd=new se,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new br,this.ab=0,this.gc=o(4,Ut),this.Oc=0}function rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ha,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pr(k,D,Y,ee,fe,ve,we){for(k=k==null?0:k[D+0],D=0;D<we;++D)fe[ve+D]=k+Y[ee+D]&255,k=fe[ve+D]}function Kn(k,D,Y,ee,fe,ve,we){var Se;if(k==null)pr(null,null,Y,ee,fe,ve,we);else for(Se=0;Se<we;++Se)fe[ve+Se]=k[D+Se]+Y[ee+Se]&255}function bs(k,D,Y,ee,fe,ve,we){if(k==null)pr(null,null,Y,ee,fe,ve,we);else{var Se,Ae=k[D+0],Pe=Ae,Ze=Ae;for(Se=0;Se<we;++Se)Pe=Ze+(Ae=k[D+Se])-Pe,Ze=Y[ee+Se]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Ae,fe[ve+Se]=Ze}}function hn(k,D,Y,ee){var fe=D.width,ve=D.o;if(e(k!=null&&D!=null),0>Y||0>=ee||Y+ee>ve)return null;if(!k.Cc){if(k.ga==null){var we;if(k.ga=new rn,(we=k.ga==null)||(we=D.width*D.o,e(k.Gb.length==0),k.Gb=a(we),k.Uc=0,k.Gb==null?we=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,we=1),we=!we),!we){we=k.ga;var Se=k.Fa,Ae=k.P,Pe=k.qc,Ze=k.mb,at=k.nb,Re=Ae+1,Je=Pe-1,st=we.l;if(e(Se!=null&&Ze!=null&&D!=null),Co[0]=null,Co[1]=pr,Co[2]=Kn,Co[3]=bs,we.ca=Ze,we.tb=at,we.c=D.width,we.i=D.height,e(0<we.c&&0<we.i),1>=Pe)D=0;else if(we.$a=3&Se[Ae+0],we.Z=Se[Ae+0]>>2&3,we.Lc=Se[Ae+0]>>4&3,Ae=Se[Ae+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Ae)D=0;else if(st.put=Gr,st.ac=ja,st.bc=pi,st.ma=we,st.width=D.width,st.height=D.height,st.Da=D.Da,st.v=D.v,st.va=D.va,st.j=D.j,st.o=D.o,we.$a)e:{e(we.$a==1),D=$a();t:for(;;){if(D==null){D=0;break e}if(e(we!=null),we.mc=D,D.c=we.c,D.i=we.i,D.l=we.l,D.l.ma=we,D.l.width=we.c,D.l.height=we.i,D.a=0,re(D.m,Se,Re,Je),!Ul(we.c,we.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Ho(D.s)?(we.ic=1,Se=D.c*D.i,D.Ta=null,D.Ua=0,D.V=a(Se),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(we.ic=0,D=hu(D,we.c)),!D))break t;D=1;break e}we.mc=null,D=0}else D=Je>=we.c*we.i;we=!D}if(we)return null;k.ga.Lc!=1?k.Ga=0:ee=ve-Y}e(k.ga!=null),e(Y+ee<=ve);e:{if(D=(Se=k.ga).c,ve=Se.l.o,Se.$a==0){if(Re=k.rc,Je=k.Vc,st=k.Fa,Ae=k.P+1+Y*D,Pe=k.mb,Ze=k.nb+Y*D,e(Ae<=k.P+k.qc),Se.Z!=0)for(e(Co[Se.Z]!=null),we=0;we<ee;++we)Co[Se.Z](Re,Je,st,Ae,Pe,Ze,D),Re=Pe,Je=Ze,Ze+=D,Ae+=D;else for(we=0;we<ee;++we)n(Pe,Ze,st,Ae,D),Re=Pe,Je=Ze,Ze+=D,Ae+=D;k.rc=Re,k.Vc=Je}else{if(e(Se.mc!=null),D=Y+ee,e((we=Se.mc)!=null),e(D<=we.i),we.C>=D)D=1;else if(Se.ic||Ca(),Se.ic){Se=we.V,Re=we.Ba,Je=we.c;var Nt=we.i,ct=(st=1,Ae=we.$/Je,Pe=we.$%Je,Ze=we.m,at=we.s,we.$),yt=Je*Nt,bt=Je*D,kt=at.wc,Mt=ct<bt?os(at,Pe,Ae):null;e(ct<=yt),e(D<=Nt),e(Ho(at));t:for(;;){for(;!Ze.h&&ct<bt;){if(Pe&kt||(Mt=os(at,Pe,Ae)),e(Mt!=null),ae(Ze),256>(Nt=In(Mt.G[0],Mt.H[0],Ze)))Se[Re+ct]=Nt,++ct,++Pe>=Je&&(Pe=0,++Ae<=D&&!(Ae%16)&&xi(we,Ae));else{if(!(280>Nt)){st=0;break t}Nt=gi(Nt-256,Ze);var Lr,jr=In(Mt.G[4],Mt.H[4],Ze);if(ae(Ze),!(ct>=(jr=bo(Je,jr=gi(jr,Ze)))&&yt-ct>=Nt)){st=0;break t}for(Lr=0;Lr<Nt;++Lr)Se[Re+ct+Lr]=Se[Re+ct+Lr-jr];for(ct+=Nt,Pe+=Nt;Pe>=Je;)Pe-=Je,++Ae<=D&&!(Ae%16)&&xi(we,Ae);ct<bt&&Pe&kt&&(Mt=os(at,Pe,Ae))}e(Ze.h==je(Ze))}xi(we,Ae>D?D:Ae);break t}!st||Ze.h&&ct<yt?(st=0,we.a=Ze.h?5:3):we.$=ct,D=st}else D=ro(we,we.V,we.Ba,we.c,we.i,D,za);if(!D){ee=0;break e}}Y+ee>=ve&&(k.Cc=1),ee=1}if(!ee)return null;if(k.Cc&&((ee=k.ga)!=null&&(ee.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+Y*fe}function ir(k,D,Y,ee,fe,ve){for(;0<fe--;){var we,Se=k,Ae=D+(Y?1:0),Pe=k,Ze=D+(Y?0:3);for(we=0;we<ee;++we){var at=Pe[Ze+4*we];at!=255&&(at*=32897,Se[Ae+4*we+0]=Se[Ae+4*we+0]*at>>23,Se[Ae+4*we+1]=Se[Ae+4*we+1]*at>>23,Se[Ae+4*we+2]=Se[Ae+4*we+2]*at>>23)}D+=ve}}function Qi(k,D,Y,ee,fe){for(;0<ee--;){var ve;for(ve=0;ve<Y;++ve){var we=k[D+2*ve+0],Se=15&(Pe=k[D+2*ve+1]),Ae=4369*Se,Pe=(240&Pe|Pe>>4)*Ae>>16;k[D+2*ve+0]=(240&we|we>>4)*Ae>>16&240|(15&we|we<<4)*Ae>>16>>4&15,k[D+2*ve+1]=240&Pe|Se}D+=fe}}function pn(k,D,Y,ee,fe,ve,we,Se){var Ae,Pe,Ze=255;for(Pe=0;Pe<fe;++Pe){for(Ae=0;Ae<ee;++Ae){var at=k[D+Ae];ve[we+4*Ae]=at,Ze&=at}D+=Y,we+=Se}return Ze!=255}function ui(k,D,Y,ee,fe){var ve;for(ve=0;ve<fe;++ve)Y[ee+ve]=k[D+ve]>>8}function Ca(){od=ir,Cy=Qi,Fp=pn,Ay=ui}function jo(k,D,Y){$[k]=function(ee,fe,ve,we,Se,Ae,Pe,Ze,at,Re,Je,st,Nt,ct,yt,bt,kt){var Mt,Lr=kt-1>>1,jr=Se[Ae+0]|Pe[Ze+0]<<16,An=at[Re+0]|Je[st+0]<<16;e(ee!=null);var kr=3*jr+An+131074>>2;for(D(ee[fe+0],255&kr,kr>>16,Nt,ct),ve!=null&&(kr=3*An+jr+131074>>2,D(ve[we+0],255&kr,kr>>16,yt,bt)),Mt=1;Mt<=Lr;++Mt){var Xn=Se[Ae+Mt]|Pe[Ze+Mt]<<16,qi=at[Re+Mt]|Je[st+Mt]<<16,_n=jr+Xn+An+qi+524296,Sr=_n+2*(Xn+An)>>3;kr=Sr+jr>>1,jr=(_n=_n+2*(jr+qi)>>3)+Xn>>1,D(ee[fe+2*Mt-1],255&kr,kr>>16,Nt,ct+(2*Mt-1)*Y),D(ee[fe+2*Mt-0],255&jr,jr>>16,Nt,ct+(2*Mt-0)*Y),ve!=null&&(kr=_n+An>>1,jr=Sr+qi>>1,D(ve[we+2*Mt-1],255&kr,kr>>16,yt,bt+(2*Mt-1)*Y),D(ve[we+2*Mt+0],255&jr,jr>>16,yt,bt+(2*Mt+0)*Y)),jr=Xn,An=qi}1&kt||(kr=3*jr+An+131074>>2,D(ee[fe+kt-1],255&kr,kr>>16,Nt,ct+(kt-1)*Y),ve!=null&&(kr=3*An+jr+131074>>2,D(ve[we+kt-1],255&kr,kr>>16,yt,bt+(kt-1)*Y)))}}function Qo(){xl[S0]=zC,xl[uh]=dh,xl[W2]=qC,xl[Bp]=jm,xl[Up]=ff,xl[Gs]=Hp,xl[C0]=Ry,xl[bm]=dh,xl[uf]=jm,xl[$p]=ff,xl[zp]=Hp}function uc(k){return k&-16384?0>k?0:255:k>>hh}function vu(k,D){return uc((19077*k>>8)+(26149*D>>8)-14234)}function dc(k,D,Y){return uc((19077*k>>8)-(6419*D>>8)-(13320*Y>>8)+8708)}function bu(k,D){return uc((19077*k>>8)+(33050*D>>8)-17685)}function Dc(k,D,Y,ee,fe){ee[fe+0]=vu(k,Y),ee[fe+1]=dc(k,D,Y),ee[fe+2]=bu(k,D)}function sd(k,D,Y,ee,fe){ee[fe+0]=bu(k,D),ee[fe+1]=dc(k,D,Y),ee[fe+2]=vu(k,Y)}function Mi(k,D,Y,ee,fe){var ve=dc(k,D,Y);D=ve<<3&224|bu(k,D)>>3,ee[fe+0]=248&vu(k,Y)|ve>>5,ee[fe+1]=D}function Lc(k,D,Y,ee,fe){var ve=240&bu(k,D)|15;ee[fe+0]=240&vu(k,Y)|dc(k,D,Y)>>4,ee[fe+1]=ve}function id(k,D,Y,ee,fe){ee[fe+0]=255,Dc(k,D,Y,ee,fe+1)}function Fc(k,D,Y,ee,fe){sd(k,D,Y,ee,fe),ee[fe+3]=255}function lf(k,D,Y,ee,fe){Dc(k,D,Y,ee,fe),ee[fe+3]=255}function ws(k,D){return 0>k?0:k>D?D:k}function So(k,D,Y){$[k]=function(ee,fe,ve,we,Se,Ae,Pe,Ze,at){for(var Re=Ze+(-2&at)*Y;Ze!=Re;)D(ee[fe+0],ve[we+0],Se[Ae+0],Pe,Ze),D(ee[fe+1],ve[we+0],Se[Ae+0],Pe,Ze+Y),fe+=2,++we,++Ae,Ze+=2*Y;1&at&&D(ee[fe+0],ve[we+0],Se[Ae+0],Pe,Ze)}}function Ri(k,D,Y){return Y==0?k==0?D==0?6:5:D==0?4:0:Y}function cf(k,D,Y,ee,fe){switch(k>>>30){case 3:Ke(D,Y,ee,fe,0);break;case 2:tt(D,Y,ee,fe);break;case 1:St(D,Y,ee,fe)}}function bi(k,D){var Y,ee,fe=D.M,ve=D.Nb,we=k.oc,Se=k.pc+40,Ae=k.oc,Pe=k.pc+584,Ze=k.oc,at=k.pc+600;for(Y=0;16>Y;++Y)we[Se+32*Y-1]=129;for(Y=0;8>Y;++Y)Ae[Pe+32*Y-1]=129,Ze[at+32*Y-1]=129;for(0<fe?we[Se-1-32]=Ae[Pe-1-32]=Ze[at-1-32]=129:(i(we,Se-32-1,127,21),i(Ae,Pe-32-1,127,9),i(Ze,at-32-1,127,9)),ee=0;ee<k.za;++ee){var Re=D.ya[D.aa+ee];if(0<ee){for(Y=-1;16>Y;++Y)n(we,Se+32*Y-4,we,Se+32*Y+12,4);for(Y=-1;8>Y;++Y)n(Ae,Pe+32*Y-4,Ae,Pe+32*Y+4,4),n(Ze,at+32*Y-4,Ze,at+32*Y+4,4)}var Je=k.Gd,st=k.Hd+ee,Nt=Re.ad,ct=Re.Hc;if(0<fe&&(n(we,Se-32,Je[st].y,0,16),n(Ae,Pe-32,Je[st].f,0,8),n(Ze,at-32,Je[st].ea,0,8)),Re.Za){var yt=we,bt=Se-32+16;for(0<fe&&(ee>=k.za-1?i(yt,bt,Je[st].y[15],4):n(yt,bt,Je[st+1].y,0,4)),Y=0;4>Y;Y++)yt[bt+128+Y]=yt[bt+256+Y]=yt[bt+384+Y]=yt[bt+0+Y];for(Y=0;16>Y;++Y,ct<<=2)yt=we,bt=Se+Dy[Y],pc[Re.Ob[Y]](yt,bt),cf(ct,Nt,16*+Y,yt,bt)}else if(yt=Ri(ee,fe,Re.Ob[0]),tl[yt](we,Se),ct!=0)for(Y=0;16>Y;++Y,ct<<=2)cf(ct,Nt,16*+Y,we,Se+Dy[Y]);for(Y=Re.Gc,yt=Ri(ee,fe,Re.Dd),gl[yt](Ae,Pe),gl[yt](Ze,at),ct=Nt,yt=Ae,bt=Pe,255&(Re=0|Y)&&(170&Re?ut(ct,256,yt,bt):Pt(ct,256,yt,bt)),Re=Ze,ct=at,255&(Y>>=8)&&(170&Y?ut(Nt,320,Re,ct):Pt(Nt,320,Re,ct)),fe<k.Ub-1&&(n(Je[st].y,0,we,Se+480,16),n(Je[st].f,0,Ae,Pe+224,8),n(Je[st].ea,0,Ze,at+224,8)),Y=8*ve*k.B,Je=k.sa,st=k.ta+16*ee+16*ve*k.R,Nt=k.qa,Re=k.ra+8*ee+Y,ct=k.Ha,yt=k.Ia+8*ee+Y,Y=0;16>Y;++Y)n(Je,st+Y*k.R,we,Se+32*Y,16);for(Y=0;8>Y;++Y)n(Nt,Re+Y*k.B,Ae,Pe+32*Y,8),n(ct,yt+Y*k.B,Ze,at+32*Y,8)}}function wu(k,D,Y,ee,fe,ve,we,Se,Ae){var Pe=[0],Ze=[0],at=0,Re=Ae!=null?Ae.kd:0,Je=Ae??new jt;if(k==null||12>Y)return 7;Je.data=k,Je.w=D,Je.ha=Y,D=[D],Y=[Y],Je.gb=[Je.gb];e:{var st=D,Nt=Y,ct=Je.gb;if(e(k!=null),e(Nt!=null),e(ct!=null),ct[0]=0,12<=Nt[0]&&!r(k,st[0],"RIFF")){if(r(k,st[0]+8,"WEBP")){ct=3;break e}var yt=Ve(k,st[0]+4);if(12>yt||4294967286<yt){ct=3;break e}if(Re&&yt>Nt[0]-8){ct=7;break e}ct[0]=yt,st[0]+=12,Nt[0]-=12}ct=0}if(ct!=0)return ct;for(yt=0<Je.gb[0],Y=Y[0];;){e:{var bt=k;Nt=D,ct=Y;var kt=Pe,Mt=Ze,Lr=st=[0];if((kr=at=[at])[0]=0,8>ct[0])ct=7;else{if(!r(bt,Nt[0],"VP8X")){if(Ve(bt,Nt[0]+4)!=10){ct=3;break e}if(18>ct[0]){ct=7;break e}var jr=Ve(bt,Nt[0]+8),An=1+$e(bt,Nt[0]+12);if(2147483648<=An*(bt=1+$e(bt,Nt[0]+15))){ct=3;break e}Lr!=null&&(Lr[0]=jr),kt!=null&&(kt[0]=An),Mt!=null&&(Mt[0]=bt),Nt[0]+=18,ct[0]-=18,kr[0]=1}ct=0}}if(at=at[0],st=st[0],ct!=0)return ct;if(Nt=!!(2&st),!yt&&at)return 3;if(ve!=null&&(ve[0]=!!(16&st)),we!=null&&(we[0]=Nt),Se!=null&&(Se[0]=0),we=Pe[0],st=Ze[0],at&&Nt&&Ae==null){ct=0;break}if(4>Y){ct=7;break}if(yt&&at||!yt&&!at&&!r(k,D[0],"ALPH")){Y=[Y],Je.na=[Je.na],Je.P=[Je.P],Je.Sa=[Je.Sa];e:{jr=k,ct=D,yt=Y;var kr=Je.gb;kt=Je.na,Mt=Je.P,Lr=Je.Sa,An=22,e(jr!=null),e(yt!=null),bt=ct[0];var Xn=yt[0];for(e(kt!=null),e(Lr!=null),kt[0]=null,Mt[0]=null,Lr[0]=0;;){if(ct[0]=bt,yt[0]=Xn,8>Xn){ct=7;break e}var qi=Ve(jr,bt+4);if(4294967286<qi){ct=3;break e}var _n=8+qi+1&-2;if(An+=_n,0<kr&&An>kr){ct=3;break e}if(!r(jr,bt,"VP8 ")||!r(jr,bt,"VP8L")){ct=0;break e}if(Xn[0]<_n){ct=7;break e}r(jr,bt,"ALPH")||(kt[0]=jr,Mt[0]=bt+8,Lr[0]=qi),bt+=_n,Xn-=_n}}if(Y=Y[0],Je.na=Je.na[0],Je.P=Je.P[0],Je.Sa=Je.Sa[0],ct!=0)break}Y=[Y],Je.Ja=[Je.Ja],Je.xa=[Je.xa];e:if(kr=k,ct=D,yt=Y,kt=Je.gb[0],Mt=Je.Ja,Lr=Je.xa,jr=ct[0],bt=!r(kr,jr,"VP8 "),An=!r(kr,jr,"VP8L"),e(kr!=null),e(yt!=null),e(Mt!=null),e(Lr!=null),8>yt[0])ct=7;else{if(bt||An){if(kr=Ve(kr,jr+4),12<=kt&&kr>kt-12){ct=3;break e}if(Re&&kr>yt[0]-8){ct=7;break e}Mt[0]=kr,ct[0]+=8,yt[0]-=8,Lr[0]=An}else Lr[0]=5<=yt[0]&&kr[jr+0]==47&&!(kr[jr+4]>>5),Mt[0]=yt[0];ct=0}if(Y=Y[0],Je.Ja=Je.Ja[0],Je.xa=Je.xa[0],D=D[0],ct!=0)break;if(4294967286<Je.Ja)return 3;if(Se==null||Nt||(Se[0]=Je.xa?2:1),we=[we],st=[st],Je.xa){if(5>Y){ct=7;break}Se=we,Re=st,Nt=ve,k==null||5>Y?k=0:5<=Y&&k[D+0]==47&&!(k[D+4]>>5)?(yt=[0],kr=[0],kt=[0],re(Mt=new se,k,D,Y),Bl(Mt,yt,kr,kt)?(Se!=null&&(Se[0]=yt[0]),Re!=null&&(Re[0]=kr[0]),Nt!=null&&(Nt[0]=kt[0]),k=1):k=0):k=0}else{if(10>Y){ct=7;break}Se=st,k==null||10>Y||!vi(k,D+3,Y-3)?k=0:(Re=k[D+0]|k[D+1]<<8|k[D+2]<<16,Nt=16383&(k[D+7]<<8|k[D+6]),k=16383&(k[D+9]<<8|k[D+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Je.Ja||!Nt||!k?k=0:(we&&(we[0]=Nt),Se&&(Se[0]=k),k=1))}if(!k||(we=we[0],st=st[0],at&&(Pe[0]!=we||Ze[0]!=st)))return 3;Ae!=null&&(Ae[0]=Je,Ae.offset=D-Ae.w,e(4294967286>D-Ae.w),e(Ae.offset==Ae.ha-Y));break}return ct==0||ct==7&&at&&Ae==null?(ve!=null&&(ve[0]|=Je.na!=null&&0<Je.na.length),ee!=null&&(ee[0]=we),fe!=null&&(fe[0]=st),0):ct}function Nu(k,D,Y){var ee=D.width,fe=D.height,ve=0,we=0,Se=ee,Ae=fe;if(D.Da=k!=null&&0<k.Da,D.Da&&(Se=k.cd,Ae=k.bd,ve=k.v,we=k.j,11>Y||(ve&=-2,we&=-2),0>ve||0>we||0>=Se||0>=Ae||ve+Se>ee||we+Ae>fe))return 0;if(D.v=ve,D.j=we,D.va=ve+Se,D.o=we+Ae,D.U=Se,D.T=Ae,D.da=k!=null&&0<k.da,D.da){if(!Gt(Se,Ae,Y=[k.ib],ve=[k.hb]))return 0;D.ib=Y[0],D.hb=ve[0]}return D.ob=k!=null&&k.ob,D.Kb=k==null||!k.Sd,D.da&&(D.ob=D.ib<3*ee/4&&D.hb<3*fe/4,D.Kb=0),1}function ch(k){if(k==null)return 2;if(11>k.S){var D=k.f.RGBA;D.fb+=(k.height-1)*D.A,D.A=-D.A}else D=k.f.kb,k=k.height,D.O+=(k-1)*D.fa,D.fa=-D.fa,D.N+=(k-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(k-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(k-1)*D.lb,D.lb=-D.lb);return 0}function hc(k,D,Y,ee){if(ee==null||0>=k||0>=D)return 2;if(Y!=null){if(Y.Da){var fe=Y.cd,ve=Y.bd,we=-2&Y.v,Se=-2&Y.j;if(0>we||0>Se||0>=fe||0>=ve||we+fe>k||Se+ve>D)return 2;k=fe,D=ve}if(Y.da){if(!Gt(k,D,fe=[Y.ib],ve=[Y.hb]))return 2;k=fe[0],D=ve[0]}}ee.width=k,ee.height=D;e:{var Ae=ee.width,Pe=ee.height;if(k=ee.S,0>=Ae||0>=Pe||!(k>=S0&&13>k))k=2;else{if(0>=ee.Rd&&ee.sd==null){we=ve=fe=D=0;var Ze=(Se=Ae*Wp[k])*Pe;if(11>k||(ve=(Pe+1)/2*(D=(Ae+1)/2),k==12&&(we=(fe=Ae)*Pe)),(Pe=a(Ze+2*ve+we))==null){k=1;break e}ee.sd=Pe,11>k?((Ae=ee.f.RGBA).eb=Pe,Ae.fb=0,Ae.A=Se,Ae.size=Ze):((Ae=ee.f.kb).y=Pe,Ae.O=0,Ae.fa=Se,Ae.Fd=Ze,Ae.f=Pe,Ae.N=0+Ze,Ae.Ab=D,Ae.Cd=ve,Ae.ea=Pe,Ae.W=0+Ze+ve,Ae.Db=D,Ae.Ed=ve,k==12&&(Ae.F=Pe,Ae.J=0+Ze+2*ve),Ae.Tc=we,Ae.lb=fe)}if(D=1,fe=ee.S,ve=ee.width,we=ee.height,fe>=S0&&13>fe)if(11>fe)k=ee.f.RGBA,D&=(Se=Math.abs(k.A))*(we-1)+ve<=k.size,D&=Se>=ve*Wp[fe],D&=k.eb!=null;else{k=ee.f.kb,Se=(ve+1)/2,Ze=(we+1)/2,Ae=Math.abs(k.fa),Pe=Math.abs(k.Ab);var at=Math.abs(k.Db),Re=Math.abs(k.lb),Je=Re*(we-1)+ve;D&=Ae*(we-1)+ve<=k.Fd,D&=Pe*(Ze-1)+Se<=k.Cd,D=(D&=at*(Ze-1)+Se<=k.Ed)&Ae>=ve&Pe>=Se&at>=Se,D&=k.y!=null,D&=k.f!=null,D&=k.ea!=null,fe==12&&(D&=Re>=ve,D&=Je<=k.Tc,D&=k.F!=null)}else D=0;k=D?0:2}}return k!=0||Y!=null&&Y.fd&&(k=ch(ee)),k}var Di=64,Jo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],so=24,ml=32,Cn=8,pl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ht("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(k){return k},$.Predictor2=function(k,D,Y){return D[Y+0]},$.Predictor3=function(k,D,Y){return D[Y+1]},$.Predictor4=function(k,D,Y){return D[Y-1]},$.Predictor5=function(k,D,Y){return Xe(Xe(k,D[Y+1]),D[Y+0])},$.Predictor6=function(k,D,Y){return Xe(k,D[Y-1])},$.Predictor7=function(k,D,Y){return Xe(k,D[Y+0])},$.Predictor8=function(k,D,Y){return Xe(D[Y-1],D[Y+0])},$.Predictor9=function(k,D,Y){return Xe(D[Y+0],D[Y+1])},$.Predictor10=function(k,D,Y){return Xe(Xe(k,D[Y-1]),Xe(D[Y+0],D[Y+1]))},$.Predictor11=function(k,D,Y){var ee=D[Y+0];return 0>=vt(ee>>24&255,k>>24&255,(D=D[Y-1])>>24&255)+vt(ee>>16&255,k>>16&255,D>>16&255)+vt(ee>>8&255,k>>8&255,D>>8&255)+vt(255&ee,255&k,255&D)?ee:k},$.Predictor12=function(k,D,Y){var ee=D[Y+0];return(ot((k>>24&255)+(ee>>24&255)-((D=D[Y-1])>>24&255))<<24|ot((k>>16&255)+(ee>>16&255)-(D>>16&255))<<16|ot((k>>8&255)+(ee>>8&255)-(D>>8&255))<<8|ot((255&k)+(255&ee)-(255&D)))>>>0},$.Predictor13=function(k,D,Y){var ee=D[Y-1];return(Et((k=Xe(k,D[Y+0]))>>24&255,ee>>24&255)<<24|Et(k>>16&255,ee>>16&255)<<16|Et(k>>8&255,ee>>8&255)<<8|Et(255&k,255&ee))>>>0};var le=$.PredictorAdd0;$.PredictorAdd1=Tt,ht("Predictor2","PredictorAdd2"),ht("Predictor3","PredictorAdd3"),ht("Predictor4","PredictorAdd4"),ht("Predictor5","PredictorAdd5"),ht("Predictor6","PredictorAdd6"),ht("Predictor7","PredictorAdd7"),ht("Predictor8","PredictorAdd8"),ht("Predictor9","PredictorAdd9"),ht("Predictor10","PredictorAdd10"),ht("Predictor11","PredictorAdd11"),ht("Predictor12","PredictorAdd12"),ht("Predictor13","PredictorAdd13");var d=$.PredictorAdd2;tr("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),tr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var m,g=$.ColorIndexInverseTransform,b=$.MapARGB,j=$.VP8LColorIndexInverseTransformAlpha,C=$.MapAlpha,I=$.VP8LPredictorsAdd=[];I.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var F,V,te,ce,be,Me,He,Ke,tt,ut,St,Pt,At,Vr,Jr,fa,Ha,wi,fs,Ni,Wa,ju,fc,ad,od,Cy,Fp,Ay,_y=a(511),Ey=a(2041),Ty=a(225),ky=a(767),Py=0,Su=Ey,vm=Ty,el=ky,mc=_y,S0=0,uh=1,W2=2,Bp=3,Up=4,Gs=5,C0=6,bm=7,uf=8,$p=9,zp=10,qp=[2,3,7],A0=[3,3,11],df=[280,256,256,256,40],G2=[0,1,1,1,0],FC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],BC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Y2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_0=8,wm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hf=null,Iy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Oy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],K2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],X2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],UC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$C=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],My=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tl=[],pc=[],gl=[],Cu=1,Nm=2,Co=[],xl=[];jo("UpsampleRgbLinePair",Dc,3),jo("UpsampleBgrLinePair",sd,3),jo("UpsampleRgbaLinePair",lf,4),jo("UpsampleBgraLinePair",Fc,4),jo("UpsampleArgbLinePair",id,4),jo("UpsampleRgba4444LinePair",Lc,2),jo("UpsampleRgb565LinePair",Mi,2);var zC=$.UpsampleRgbLinePair,qC=$.UpsampleBgrLinePair,dh=$.UpsampleRgbaLinePair,jm=$.UpsampleBgraLinePair,ff=$.UpsampleArgbLinePair,Hp=$.UpsampleRgba4444LinePair,Ry=$.UpsampleRgb565LinePair,ld=16,Bc=1<<ld-1,Is=-227,Bs=482,hh=6,io=0,yl=a(256),mf=a(256),Sm=a(256),vl=a(256),E0=a(Bs-Is),Z2=a(Bs-Is);So("YuvToRgbRow",Dc,3),So("YuvToBgrRow",sd,3),So("YuvToRgbaRow",lf,4),So("YuvToBgraRow",Fc,4),So("YuvToArgbRow",id,4),So("YuvToRgba4444Row",Lc,2),So("YuvToRgb565Row",Mi,2);var Dy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pf=[0,2,8],Q2=[8,7,6,4,4,2,2,2,1,1,1,1],cd=1;this.WebPDecodeRGBA=function(k,D,Y,ee,fe){var ve=uh,we=new rt,Se=new Rn;we.ba=Se,Se.S=ve,Se.width=[Se.width],Se.height=[Se.height];var Ae=Se.width,Pe=Se.height,Ze=new un;if(Ze==null||k==null)var at=2;else e(Ze!=null),at=wu(k,D,Y,Ze.width,Ze.height,Ze.Pd,Ze.Qd,Ze.format,null);if(at!=0?Ae=0:(Ae!=null&&(Ae[0]=Ze.width[0]),Pe!=null&&(Pe[0]=Ze.height[0]),Ae=1),Ae){Se.width=Se.width[0],Se.height=Se.height[0],ee!=null&&(ee[0]=Se.width),fe!=null&&(fe[0]=Se.height);e:{if(ee=new ha,(fe=new jt).data=k,fe.w=D,fe.ha=Y,fe.kd=1,D=[0],e(fe!=null),((k=wu(fe.data,fe.w,fe.ha,null,null,null,D,null,fe))==0||k==7)&&D[0]&&(k=4),(D=k)==0){if(e(we!=null),ee.data=fe.data,ee.w=fe.w+fe.offset,ee.ha=fe.ha-fe.offset,ee.put=Gr,ee.ac=ja,ee.bc=pi,ee.ma=we,fe.xa){if((k=$a())==null){we=1;break e}if((function(Re,Je){var st=[0],Nt=[0],ct=[0];t:for(;;){if(Re==null)return 0;if(Je==null)return Re.a=2,0;if(Re.l=Je,Re.a=0,re(Re.m,Je.data,Je.w,Je.ha),!Bl(Re.m,st,Nt,ct)){Re.a=3;break t}if(Re.xb=Nm,Je.width=st[0],Je.height=Nt[0],!Ul(st[0],Nt[0],1,Re,null))break t;return 1}return e(Re.a!=0),0})(k,ee)){if(ee=(D=hc(ee.width,ee.height,we.Oa,we.ba))==0){t:{ee=k;r:for(;;){if(ee==null){ee=0;break t}if(e(ee.s.yc!=null),e(ee.s.Ya!=null),e(0<ee.s.Wb),e((Y=ee.l)!=null),e((fe=Y.ma)!=null),ee.xb!=0){if(ee.ca=fe.ba,ee.tb=fe.tb,e(ee.ca!=null),!Nu(fe.Oa,Y,Bp)){ee.a=2;break r}if(!hu(ee,Y.width)||Y.da)break r;if((Y.da||cn(ee.ca.S))&&Ca(),11>ee.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ee.ca.f.kb.F!=null&&Ca()),ee.Pb&&0<ee.s.ua&&ee.s.vb.X==null&&!Ee(ee.s.vb,ee.s.Wa.Xa)){ee.a=1;break r}ee.xb=0}if(!ro(ee,ee.V,ee.Ba,ee.c,ee.i,Y.o,Vo))break r;fe.Dc=ee.Ma,ee=1;break t}e(ee.a!=0),ee=0}ee=!ee}ee&&(D=k.a)}else D=k.a}else{if((k=new af)==null){we=1;break e}if(k.Fa=fe.na,k.P=fe.P,k.qc=fe.Sa,wo(k,ee)){if((D=hc(ee.width,ee.height,we.Oa,we.ba))==0){if(k.Aa=0,Y=we.Oa,e((fe=k)!=null),Y!=null){if(0<(Ae=0>(Ae=Y.Md)?0:100<Ae?255:255*Ae/100)){for(Pe=Ze=0;4>Pe;++Pe)12>(at=fe.pb[Pe]).lc&&(at.ia=Ae*Q2[0>at.lc?0:at.lc]>>3),Ze|=at.ia;Ze&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=Y.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}(function(Re,Je){if(Re==null)return 0;if(Je==null)return yi(Re,2,"NULL VP8Io parameter in VP8Decode().");if(!Re.cb&&!wo(Re,Je))return 0;if(e(Re.cb),Je.ac==null||Je.ac(Je)){Je.ob&&(Re.L=0);var st=pf[Re.L];if(Re.L==2?(Re.yb=0,Re.zb=0):(Re.yb=Je.v-st>>4,Re.zb=Je.j-st>>4,0>Re.yb&&(Re.yb=0),0>Re.zb&&(Re.zb=0)),Re.Va=Je.o+15+st>>4,Re.Hb=Je.va+15+st>>4,Re.Hb>Re.za&&(Re.Hb=Re.za),Re.Va>Re.Ub&&(Re.Va=Re.Ub),0<Re.L){var Nt=Re.ed;for(st=0;4>st;++st){var ct;if(Re.Qa.Cb){var yt=Re.Qa.Lb[st];Re.Qa.Fb||(yt+=Nt.Tb)}else yt=Nt.Tb;for(ct=0;1>=ct;++ct){var bt=Re.gd[st][ct],kt=yt;if(Nt.Pc&&(kt+=Nt.vd[0],ct&&(kt+=Nt.od[0])),0<(kt=0>kt?0:63<kt?63:kt)){var Mt=kt;0<Nt.wb&&(Mt=4<Nt.wb?Mt>>2:Mt>>1)>9-Nt.wb&&(Mt=9-Nt.wb),1>Mt&&(Mt=1),bt.dd=Mt,bt.tc=2*kt+Mt,bt.ld=40<=kt?2:15<=kt?1:0}else bt.tc=0;bt.La=ct}}}st=0}else yi(Re,6,"Frame setup failed"),st=Re.a;if(st=st==0){if(st){Re.$c=0,0<Re.Aa||(Re.Ic=cd);t:{st=Re.Ic,Nt=4*(Mt=Re.za);var Lr=32*Mt,jr=Mt+1,An=0<Re.L?Mt*(0<Re.Aa?2:1):0,kr=(Re.Aa==2?2:1)*Mt;if((bt=Nt+832+(ct=3*(16*st+pf[Re.L])/2*Lr)+(yt=Re.Fa!=null&&0<Re.Fa.length?Re.Kc.c*Re.Kc.i:0))!=bt)st=0;else{if(bt>Re.Vb){if(Re.Vb=0,Re.Ec=a(bt),Re.Fc=0,Re.Ec==null){st=yi(Re,1,"no memory during frame initialization.");break t}Re.Vb=bt}bt=Re.Ec,kt=Re.Fc,Re.Ac=bt,Re.Bc=kt,kt+=Nt,Re.Gd=o(Lr,wn),Re.Hd=0,Re.rb=o(jr+1,vs),Re.sb=1,Re.wa=An?o(An,Wo):null,Re.Y=0,Re.D.Nb=0,Re.D.wa=Re.wa,Re.D.Y=Re.Y,0<Re.Aa&&(Re.D.Y+=Mt),e(!0),Re.oc=bt,Re.pc=kt,kt+=832,Re.ya=o(kr,oh),Re.aa=0,Re.D.ya=Re.ya,Re.D.aa=Re.aa,Re.Aa==2&&(Re.D.aa+=Mt),Re.R=16*Mt,Re.B=8*Mt,Mt=(Lr=pf[Re.L])*Re.R,Lr=Lr/2*Re.B,Re.sa=bt,Re.ta=kt+Mt,Re.qa=Re.sa,Re.ra=Re.ta+16*st*Re.R+Lr,Re.Ha=Re.qa,Re.Ia=Re.ra+8*st*Re.B+Lr,Re.$c=0,kt+=ct,Re.mb=yt?bt:null,Re.nb=yt?kt:null,e(kt+yt<=Re.Fc+Re.Vb),ls(Re),i(Re.Ac,Re.Bc,0,Nt),st=1}}if(st){if(Je.ka=0,Je.y=Re.sa,Je.O=Re.ta,Je.f=Re.qa,Je.N=Re.ra,Je.ea=Re.Ha,Je.Vd=Re.Ia,Je.fa=Re.R,Je.Rc=Re.B,Je.F=null,Je.J=0,!Py){for(st=-255;255>=st;++st)_y[255+st]=0>st?-st:st;for(st=-1020;1020>=st;++st)Ey[1020+st]=-128>st?-128:127<st?127:st;for(st=-112;112>=st;++st)Ty[112+st]=-16>st?-16:15<st?15:st;for(st=-255;510>=st;++st)ky[255+st]=0>st?0:255<st?255:st;Py=1}He=Nn,Ke=it,ut=ke,St=vr,Pt=oi,tt=Zi,At=yu,Vr=ci,Jr=z,fa=he,Ha=fl,wi=ft,fs=De,Ni=We,Wa=Xo,ju=Rc,fc=nd,ad=of,pc[0]=en,pc[1]=fu,pc[2]=$l,pc[3]=Sa,pc[4]=xm,pc[5]=Ws,pc[6]=Qr,pc[7]=ym,pc[8]=pu,pc[9]=mu,tl[0]=Go,tl[1]=Br,tl[2]=Fs,tl[3]=rd,tl[4]=Yo,tl[5]=Va,tl[6]=hl,gl[0]=no,gl[1]=qa,gl[2]=zl,gl[3]=ql,gl[4]=lh,gl[5]=cc,gl[6]=Mc,st=1}else st=0}st&&(st=(function(Xn,qi){for(Xn.M=0;Xn.M<Xn.Va;++Xn.M){var _n,Sr=Xn.Jc[Xn.M&Xn.Xb],rr=Xn.m,Ji=Xn;for(_n=0;_n<Ji.za;++_n){var gn=rr,Hn=Ji,ni=Hn.Ac,Ga=Hn.Bc+4*_n,ma=Hn.zc,Li=Hn.ya[Hn.aa+_n];if(Hn.Qa.Bb?Li.$b=Oe(gn,Hn.Pa.jb[0])?2+Oe(gn,Hn.Pa.jb[2]):Oe(gn,Hn.Pa.jb[1]):Li.$b=0,Hn.kc&&(Li.Ad=Oe(gn,Hn.Bd)),Li.Za=!Oe(gn,145)+0,Li.Za){var Aa=Li.Ob,Ya=0;for(Hn=0;4>Hn;++Hn){var ji,ts=ma[0+Hn];for(ji=0;4>ji;++ji){ts=UC[ni[Ga+ji]][ts];for(var Ns=K2[Oe(gn,ts[0])];0<Ns;)Ns=K2[2*Ns+Oe(gn,ts[Ns])];ts=-Ns,ni[Ga+ji]=ts}n(Aa,Ya,ni,Ga,4),Ya+=4,ma[0+Hn]=ts}}else ts=Oe(gn,156)?Oe(gn,128)?1:3:Oe(gn,163)?2:0,Li.Ob[0]=ts,i(ni,Ga,ts,4),i(ma,0,ts,4);Li.Dd=Oe(gn,142)?Oe(gn,114)?Oe(gn,183)?1:3:2:0}if(Ji.m.Ka)return yi(Xn,7,"Premature end-of-partition0 encountered.");for(;Xn.ja<Xn.za;++Xn.ja){if(Ji=Sr,gn=(rr=Xn).rb[rr.sb-1],ni=rr.rb[rr.sb+rr.ja],_n=rr.ya[rr.aa+rr.ja],Ga=rr.kc?_n.Ad:0)gn.la=ni.la=0,_n.Za||(gn.Na=ni.Na=0),_n.Hc=0,_n.Gc=0,_n.ia=0;else{var Si,js;if(gn=ni,ni=Ji,Ga=rr.Pa.Xc,ma=rr.ya[rr.aa+rr.ja],Li=rr.pb[ma.$b],Hn=ma.ad,Aa=0,Ya=rr.rb[rr.sb-1],ts=ji=0,i(Hn,Aa,0,384),ma.Za)var Vi=0,Hi=Ga[3];else{Ns=a(16);var Ys=gn.Na+Ya.Na;if(Ys=hf(ni,Ga[1],Ys,Li.Eb,0,Ns,0),gn.Na=Ya.Na=(0<Ys)+0,1<Ys)He(Ns,0,Hn,Aa);else{var Ao=Ns[0]+3>>3;for(Ns=0;256>Ns;Ns+=16)Hn[Aa+Ns]=Ao}Vi=1,Hi=Ga[0]}var Us=15&gn.la,Ks=15&Ya.la;for(Ns=0;4>Ns;++Ns){var pa=1&Ks;for(Ao=js=0;4>Ao;++Ao)Us=Us>>1|(pa=(Ys=hf(ni,Hi,Ys=pa+(1&Us),Li.Sc,Vi,Hn,Aa))>Vi)<<7,js=js<<2|(3<Ys?3:1<Ys?2:Hn[Aa+0]!=0),Aa+=16;Us>>=4,Ks=Ks>>1|pa<<7,ji=(ji<<8|js)>>>0}for(Hi=Us,Vi=Ks>>4,Si=0;4>Si;Si+=2){for(js=0,Us=gn.la>>4+Si,Ks=Ya.la>>4+Si,Ns=0;2>Ns;++Ns){for(pa=1&Ks,Ao=0;2>Ao;++Ao)Ys=pa+(1&Us),Us=Us>>1|(pa=0<(Ys=hf(ni,Ga[2],Ys,Li.Qc,0,Hn,Aa)))<<3,js=js<<2|(3<Ys?3:1<Ys?2:Hn[Aa+0]!=0),Aa+=16;Us>>=2,Ks=Ks>>1|pa<<5}ts|=js<<4*Si,Hi|=Us<<4<<Si,Vi|=(240&Ks)<<Si}gn.la=Hi,Ya.la=Vi,ma.Hc=ji,ma.Gc=ts,ma.ia=43690&ts?0:Li.ia,Ga=!(ji|ts)}if(0<rr.L&&(rr.wa[rr.Y+rr.ja]=rr.gd[_n.$b][_n.Za],rr.wa[rr.Y+rr.ja].La|=!Ga),Ji.Ka)return yi(Xn,7,"Premature end-of-file encountered.")}if(ls(Xn),rr=qi,Ji=1,_n=(Sr=Xn).D,gn=0<Sr.L&&Sr.M>=Sr.zb&&Sr.M<=Sr.Va,Sr.Aa==0)t:{if(_n.M=Sr.M,_n.uc=gn,bi(Sr,_n),Ji=1,_n=(js=Sr.D).Nb,gn=(ts=pf[Sr.L])*Sr.R,ni=ts/2*Sr.B,Ns=16*_n*Sr.R,Ao=8*_n*Sr.B,Ga=Sr.sa,ma=Sr.ta-gn+Ns,Li=Sr.qa,Hn=Sr.ra-ni+Ao,Aa=Sr.Ha,Ya=Sr.Ia-ni+Ao,Ks=(Us=js.M)==0,ji=Us>=Sr.Va-1,Sr.Aa==2&&bi(Sr,js),js.uc)for(pa=(Ys=Sr).D.M,e(Ys.D.uc),js=Ys.yb;js<Ys.Hb;++js){Vi=js,Hi=pa;var ao=(bl=(ra=Ys).D).Nb;Si=ra.R;var bl=bl.wa[bl.Y+Vi],ea=ra.sa,ta=ra.ta+16*ao*Si+16*Vi,_o=bl.dd,Xs=bl.tc;if(Xs!=0)if(e(3<=Xs),ra.L==1)0<Vi&&ju(ea,ta,Si,Xs+4),bl.La&&ad(ea,ta,Si,Xs),0<Hi&&Wa(ea,ta,Si,Xs+4),bl.La&&fc(ea,ta,Si,Xs);else{var Eo=ra.B,gc=ra.qa,Uc=ra.ra+8*ao*Eo+8*Vi,Ka=ra.Ha,ra=ra.Ia+8*ao*Eo+8*Vi;ao=bl.ld,0<Vi&&(Vr(ea,ta,Si,Xs+4,_o,ao),fa(gc,Uc,Ka,ra,Eo,Xs+4,_o,ao)),bl.La&&(wi(ea,ta,Si,Xs,_o,ao),Ni(gc,Uc,Ka,ra,Eo,Xs,_o,ao)),0<Hi&&(At(ea,ta,Si,Xs+4,_o,ao),Jr(gc,Uc,Ka,ra,Eo,Xs+4,_o,ao)),bl.La&&(Ha(ea,ta,Si,Xs,_o,ao),fs(gc,Uc,Ka,ra,Eo,Xs,_o,ao))}}if(Sr.ia&&alert("todo:DitherRow"),rr.put!=null){if(js=16*Us,Us=16*(Us+1),Ks?(rr.y=Sr.sa,rr.O=Sr.ta+Ns,rr.f=Sr.qa,rr.N=Sr.ra+Ao,rr.ea=Sr.Ha,rr.W=Sr.Ia+Ao):(js-=ts,rr.y=Ga,rr.O=ma,rr.f=Li,rr.N=Hn,rr.ea=Aa,rr.W=Ya),ji||(Us-=ts),Us>rr.o&&(Us=rr.o),rr.F=null,rr.J=null,Sr.Fa!=null&&0<Sr.Fa.length&&js<Us&&(rr.J=hn(Sr,rr,js,Us-js),rr.F=Sr.mb,rr.F==null&&rr.F.length==0)){Ji=yi(Sr,3,"Could not decode alpha data.");break t}js<rr.j&&(ts=rr.j-js,js=rr.j,e(!(1&ts)),rr.O+=Sr.R*ts,rr.N+=Sr.B*(ts>>1),rr.W+=Sr.B*(ts>>1),rr.F!=null&&(rr.J+=rr.width*ts)),js<Us&&(rr.O+=rr.v,rr.N+=rr.v>>1,rr.W+=rr.v>>1,rr.F!=null&&(rr.J+=rr.v),rr.ka=js-rr.j,rr.U=rr.va-rr.v,rr.T=Us-js,Ji=rr.put(rr))}_n+1!=Sr.Ic||ji||(n(Sr.sa,Sr.ta-gn,Ga,ma+16*Sr.R,gn),n(Sr.qa,Sr.ra-ni,Li,Hn+8*Sr.B,ni),n(Sr.Ha,Sr.Ia-ni,Aa,Ya+8*Sr.B,ni))}if(!Ji)return yi(Xn,6,"Output aborted.")}return 1})(Re,Je)),Je.bc!=null&&Je.bc(Je),st&=1}return st?(Re.cb=0,st):0})(k,ee)||(D=k.a)}}else D=k.a}D==0&&we.Oa!=null&&we.Oa.fd&&(D=ch(we.ba))}we=D}ve=we!=0?null:11>ve?Se.f.RGBA.eb:Se.f.kb.y}else ve=null;return ve};var Wp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u($,K){for(var q="",H=0;H<4;H++)q+=String.fromCharCode($[K++]);return q}function h($,K){return $[K+0]|$[K+1]<<8}function f($,K){return($[K+0]|$[K+1]<<8|$[K+2]<<16)>>>0}function y($,K){return($[K+0]|$[K+1]<<8|$[K+2]<<16|$[K+3]<<24)>>>0}new c;var v=[0],S=[0],w=[],N=new c,_=t,E=(function($,K){var q={},H=0,Q=!1,Z=0,J=0;if(q.frames=[],!(function(G,se){for(var ue=0;ue<4;ue++)if(G[se+ue]!="RIFF".charCodeAt(ue))return!0;return!1})($,K)){for(y($,K+=4),K+=8;K<$.length;){var ye=u($,K),ge=y($,K+=4);K+=4;var oe=ge+(1&ge);switch(ye){case"VP8 ":case"VP8L":q.frames[H]===void 0&&(q.frames[H]={}),(ne=q.frames[H]).src_off=Q?J:K-8,ne.src_size=Z+ge+8,H++,Q&&(Q=!1,Z=0,J=0);break;case"VP8X":(ne=q.header={}).feature_flags=$[K];var re=K+4;ne.canvas_width=1+f($,re),re+=3,ne.canvas_height=1+f($,re),re+=3;break;case"ALPH":Q=!0,Z=oe+8,J=K-8;break;case"ANIM":(ne=q.header).bgcolor=y($,K),re=K+4,ne.loop_count=h($,re),re+=2;break;case"ANMF":var me,ne;(ne=q.frames[H]={}).offset_x=2*f($,K),K+=3,ne.offset_y=2*f($,K),K+=3,ne.width=1+f($,K),K+=3,ne.height=1+f($,K),K+=3,ne.duration=f($,K),K+=3,me=$[K++],ne.dispose=1&me,ne.blend=me>>1&1}ye!="ANMF"&&(K+=oe)}return q}})(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var T=E.header?E.header:null,M=E.frames?E.frames:null;if(T){T.loop_counter=T.loop_count,v=[T.canvas_height],S=[T.canvas_width];for(var O=0;O<M.length&&M[O].blend!=0;O++);}var L=M[0],B=N.WebPDecodeRGBA(_,L.src_off,L.src_size,S,v);L.rgba=B,L.imgwidth=S[0],L.imgheight=v[0];for(var U=0;U<S[0]*v[0]*4;U++)w[U]=B[U];return this.width=S,this.height=v,this.data=w,this}(function(t){var e,r,n,i,a,o,l,c,u,h=function(G){return G=G||{},this.isStrokeTransparent=G.isStrokeTransparent||!1,this.strokeOpacity=G.strokeOpacity||1,this.strokeStyle=G.strokeStyle||"#000000",this.fillStyle=G.fillStyle||"#000000",this.isFillTransparent=G.isFillTransparent||!1,this.fillOpacity=G.fillOpacity||1,this.font=G.font||"10px sans-serif",this.textBaseline=G.textBaseline||"alphabetic",this.textAlign=G.textAlign||"left",this.lineWidth=G.lineWidth||1,this.lineJoin=G.lineJoin||"miter",this.lineCap=G.lineCap||"butt",this.path=G.path||[],this.transform=G.transform!==void 0?G.transform.clone():new c,this.globalCompositeOperation=G.globalCompositeOperation||"normal",this.globalAlpha=G.globalAlpha||1,this.clip_path=G.clip_path||[],this.currentPoint=G.currentPoint||new o,this.miterLimit=G.miterLimit||10,this.lastPoint=G.lastPoint||new o,this.lineDashOffset=G.lineDashOffset||0,this.lineDash=G.lineDash||[],this.margin=G.margin||[0,0,0,0],this.prevPageLastElemOffset=G.prevPageLastElemOffset||0,this.ignoreClearRect=typeof G.ignoreClearRect!="boolean"||G.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var f=function(G){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var se=G;Object.defineProperty(this,"pdf",{get:function(){return se}});var ue=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ue},set:function(Ve){ue=!!Ve}});var je=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return je},set:function(Ve){je=!!Ve}});var Ce=0;Object.defineProperty(this,"posX",{get:function(){return Ce},set:function(Ve){isNaN(Ve)||(Ce=Ve)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ve){isNaN(Ve)||(ae=Ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ve){var Ee;typeof Ve=="number"?Ee=[Ve,Ve,Ve,Ve]:((Ee=new Array(4))[0]=Ve[0],Ee[1]=Ve.length>=2?Ve[1]:Ee[0],Ee[2]=Ve.length>=3?Ve[2]:Ee[0],Ee[3]=Ve.length>=4?Ve[3]:Ee[1]),u.margin=Ee}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Ve){de=Ve}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Ve){pe=Ve}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Ve){Oe=Ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ve){Ve instanceof h&&(u=Ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ve){u.path=Ve}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Ve){ze=Ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ve){var Ee;Ee=y(Ve),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ve){var Ee=y(Ve);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ve){["butt","round","square"].indexOf(Ve)!==-1&&(this.ctx.lineCap=Ve,this.pdf.setLineCap(Ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ve){isNaN(Ve)||(this.ctx.lineWidth=Ve,this.pdf.setLineWidth(Ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ve){["bevel","round","miter"].indexOf(Ve)!==-1&&(this.ctx.lineJoin=Ve,this.pdf.setLineJoin(Ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ve){isNaN(Ve)||(this.ctx.miterLimit=Ve,this.pdf.setMiterLimit(Ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ve){this.ctx.textBaseline=Ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ve){["right","end","center","left","start"].indexOf(Ve)!==-1&&(this.ctx.textAlign=Ve)}});var qe=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Ve){qe=null,$e=Ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ve){var Ee;if(this.ctx.font=Ve,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ve))!==null){var sr=Ee[1];Ee[2];var Zt=Ee[3],Gt=Ee[4];Ee[5];var mt=Ee[6],dr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Gt)[2];Gt=Math.floor(dr==="px"?parseFloat(Gt)*this.pdf.internal.scaleFactor:dr==="em"?parseFloat(Gt)*this.pdf.getFontSize():parseFloat(Gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Gt);var ht=(function(ur){var tr,_s,qr=[],pt=ur.trim();if(pt==="")return dP;if(pt in EY)return[EY[pt]];for(;pt!=="";){switch(_s=null,tr=(pt=kY(pt)).charAt(0)){case'"':case"'":_s=wXe(pt.substring(1),tr);break;default:_s=NXe(pt)}if(_s===null||(qr.push(_s[0]),(pt=kY(_s[1]))!==""&&pt.charAt(0)!==","))return dP;pt=pt.replace(/^,/,"")}return qr})(mt);if(this.fontFaces){var Fe=(function(ur,tr){if(qe===null){var _s=(function(qr){var pt=[];return Object.keys(qr).forEach(function(Ar){qr[Ar].forEach(function(Rr){var or=null;switch(Rr){case"bold":or={family:Ar,weight:"bold"};break;case"italic":or={family:Ar,style:"italic"};break;case"bolditalic":or={family:Ar,weight:"bold",style:"italic"};break;case"":case"normal":or={family:Ar}}or!==null&&(or.ref={name:Ar,style:Rr},pt.push(or))})}),pt})(ur.getFontList());qe=(function(qr){for(var pt={},Ar=0;Ar<qr.length;++Ar){var Rr=uP(qr[Ar]),or=Rr.family,vn=Rr.stretch,cn=Rr.style,ri=Rr.weight;pt[or]=pt[or]||{},pt[or][vn]=pt[or][vn]||{},pt[or][vn][cn]=pt[or][vn][cn]||{},pt[or][vn][cn][ri]=Rr}return pt})(_s.concat(tr))}return qe})(this.pdf,this.fontFaces),Xe=ht.map(function(ur){return{family:ur,stretch:"normal",weight:Zt,style:sr}}),ot=(function(ur,tr,_s){for(var qr=(_s=_s||{}).defaultFontFamily||"times",pt=Object.assign({},bXe,_s.genericFontFamilies||{}),Ar=null,Rr=null,or=0;or<tr.length;++or)if(pt[(Ar=uP(tr[or])).family]&&(Ar.family=pt[Ar.family]),ur.hasOwnProperty(Ar.family)){Rr=ur[Ar.family];break}if(!(Rr=Rr||ur[qr]))throw new Error("Could not find a font-family for the rule '"+TY(Ar)+"' and default family '"+qr+"'.");if(Rr=(function(vn,cn){if(cn[vn])return cn[vn];var ri=n8[vn],Wr=ri<=n8.normal?-1:1,Rn=_Y(cn,Nme,ri,Wr);if(!Rn)throw new Error("Could not find a matching font-stretch value for "+vn);return Rn})(Ar.stretch,Rr),Rr=(function(vn,cn){if(cn[vn])return cn[vn];for(var ri=wme[vn],Wr=0;Wr<ri.length;++Wr)if(cn[ri[Wr]])return cn[ri[Wr]];throw new Error("Could not find a matching font-style for "+vn)})(Ar.style,Rr),!(Rr=(function(vn,cn){if(cn[vn])return cn[vn];if(vn===400&&cn[500])return cn[500];if(vn===500&&cn[400])return cn[400];var ri=vXe[vn],Wr=_Y(cn,jme,ri,vn<400?-1:1);if(!Wr)throw new Error("Could not find a matching font-weight for value "+vn);return Wr})(Ar.weight,Rr)))throw new Error("Failed to resolve a font for the rule '"+TY(Ar)+"'.");return Rr})(Fe,Xe);this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var Et="";(Zt==="bold"||parseInt(Zt,10)>=700||sr==="bold")&&(Et="bold"),sr==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var vt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<ht.length;It++){if(this.pdf.internal.getFont(ht[It],Et,{noFallback:!0,disableWarning:!0})!==void 0){vt=ht[It];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(ht[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=ht[It],Et="bold";else if(this.pdf.internal.getFont(ht[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=ht[It],Et="normal";break}}if(vt===""){for(var $t=0;$t<ht.length;$t++)if(Tt[ht[$t]]){vt=Tt[ht[$t]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ve){this.ctx.globalCompositeOperation=Ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ve){this.ctx.globalAlpha=Ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ve){this.ctx.lineDashOffset=Ve,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ve){this.ctx.lineDash=Ve,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ve){this.ctx.ignoreClearRect=!!Ve}})};f.prototype.setLineDash=function(G){this.lineDash=G},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){M.call(this,"fill",!1)},f.prototype.stroke=function(){M.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(G,se){if(isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ue=this.ctx.transform.applyToPoint(new o(G,se));this.path.push({type:"mt",x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(G,se)},f.prototype.closePath=function(){var G=new o(0,0),se=0;for(se=this.path.length-1;se!==-1;se--)if(this.path[se].type==="begin"&&Js(this.path[se+1])==="object"&&typeof this.path[se+1].x=="number"){G=new o(this.path[se+1].x,this.path[se+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.lineTo=function(G,se){if(isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ue=this.ctx.transform.applyToPoint(new o(G,se));this.path.push({type:"lt",x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},f.prototype.quadraticCurveTo=function(G,se,ue,je){if(isNaN(ue)||isNaN(je)||isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ce=this.ctx.transform.applyToPoint(new o(ue,je)),ae=this.ctx.transform.applyToPoint(new o(G,se));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new o(Ce.x,Ce.y)},f.prototype.bezierCurveTo=function(G,se,ue,je,Ce,ae){if(isNaN(Ce)||isNaN(ae)||isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(Ce,ae)),pe=this.ctx.transform.applyToPoint(new o(G,se)),Oe=this.ctx.transform.applyToPoint(new o(ue,je));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Oe.x,y2:Oe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(G,se,ue,je,Ce,ae){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je)||isNaN(Ce))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(G,se));G=de.x,se=de.y;var pe=this.ctx.transform.applyToPoint(new o(0,ue)),Oe=this.ctx.transform.applyToPoint(new o(0,0));ue=Math.sqrt(Math.pow(pe.x-Oe.x,2)+Math.pow(pe.y-Oe.y,2))}Math.abs(Ce-je)>=2*Math.PI&&(je=0,Ce=2*Math.PI),this.path.push({type:"arc",x:G,y:se,radius:ue,startAngle:je,endAngle:Ce,counterclockwise:ae})},f.prototype.arcTo=function(G,se,ue,je,Ce){throw new Error("arcTo not implemented.")},f.prototype.rect=function(G,se,ue,je){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(G,se),this.lineTo(G+ue,se),this.lineTo(G+ue,se+je),this.lineTo(G,se+je),this.lineTo(G,se),this.lineTo(G+ue,se),this.lineTo(G,se)},f.prototype.fillRect=function(G,se,ue,je){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var Ce={};this.lineCap!=="butt"&&(Ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(G,se,ue,je),this.fill(),Ce.hasOwnProperty("lineCap")&&(this.lineCap=Ce.lineCap),Ce.hasOwnProperty("lineJoin")&&(this.lineJoin=Ce.lineJoin)}},f.prototype.strokeRect=function(G,se,ue,je){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(G,se,ue,je),this.stroke())},f.prototype.clearRect=function(G,se,ue,je){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(G,se,ue,je))},f.prototype.save=function(G){G=typeof G!="boolean"||G;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,ue=0;ue<this.pdf.internal.getNumberOfPages();ue++)this.pdf.setPage(ue+1),this.pdf.internal.out("q");if(this.pdf.setPage(se),G){this.ctx.fontSize=this.pdf.internal.getFontSize();var je=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=je}},f.prototype.restore=function(G){G=typeof G!="boolean"||G;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,ue=0;ue<this.pdf.internal.getNumberOfPages();ue++)this.pdf.setPage(ue+1),this.pdf.internal.out("Q");this.pdf.setPage(se),G&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(G){var se,ue,je,Ce;if(G.isCanvasGradient===!0&&(G=G.getColor()),!G)return{r:0,g:0,b:0,a:0,style:G};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(G))se=0,ue=0,je=0,Ce=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(G);if(ae!==null)se=parseInt(ae[1]),ue=parseInt(ae[2]),je=parseInt(ae[3]),Ce=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(G))!==null)se=parseInt(ae[1]),ue=parseInt(ae[2]),je=parseInt(ae[3]),Ce=parseFloat(ae[4]);else{if(Ce=1,typeof G=="string"&&G.charAt(0)!=="#"){var de=new mme(G);G=de.ok?de.toHex():"#000000"}G.length===4?(se=G.substring(1,2),se+=se,ue=G.substring(2,3),ue+=ue,je=G.substring(3,4),je+=je):(se=G.substring(1,3),ue=G.substring(3,5),je=G.substring(5,7)),se=parseInt(se,16),ue=parseInt(ue,16),je=parseInt(je,16)}}return{r:se,g:ue,b:je,a:Ce,style:G}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(G,se,ue,je){if(isNaN(se)||isNaN(ue)||typeof G!="string")throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(je=isNaN(je)?void 0:je,!v.call(this)){var Ce=oe(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;H.call(this,{text:G,x:se,y:ue,scale:ae,angle:Ce,align:this.textAlign,maxWidth:je})}},f.prototype.strokeText=function(G,se,ue,je){if(isNaN(se)||isNaN(ue)||typeof G!="string")throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){je=isNaN(je)?void 0:je;var Ce=oe(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;H.call(this,{text:G,x:se,y:ue,scale:ae,renderingMode:"stroke",angle:Ce,align:this.textAlign,maxWidth:je})}},f.prototype.measureText=function(G){if(typeof G!="string")throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var se=this.pdf,ue=this.pdf.internal.scaleFactor,je=se.internal.getFontSize(),Ce=se.getStringUnitWidth(G)*je/se.internal.scaleFactor;return new function(ae){var de=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:Ce*=Math.round(96*ue/72*1e4)/1e4})},f.prototype.scale=function(G,se){if(isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ue=new c(G,0,0,se,0,0);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.rotate=function(G){if(isNaN(G))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var se=new c(Math.cos(G),Math.sin(G),-Math.sin(G),Math.cos(G),0,0);this.ctx.transform=this.ctx.transform.multiply(se)},f.prototype.translate=function(G,se){if(isNaN(G)||isNaN(se))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ue=new c(1,0,0,1,G,se);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.transform=function(G,se,ue,je,Ce,ae){if(isNaN(G)||isNaN(se)||isNaN(ue)||isNaN(je)||isNaN(Ce)||isNaN(ae))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(G,se,ue,je,Ce,ae);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(G,se,ue,je,Ce,ae){G=isNaN(G)?1:G,se=isNaN(se)?0:se,ue=isNaN(ue)?0:ue,je=isNaN(je)?1:je,Ce=isNaN(Ce)?0:Ce,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(G,se,ue,je,Ce,ae)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(G,se,ue,je,Ce,ae,de,pe,Oe){var ze=this.pdf.getImageProperties(G),qe=1,$e=1,Ve=1,Ee=1;je!==void 0&&pe!==void 0&&(Ve=pe/je,Ee=Oe/Ce,qe=ze.width/je*pe/je,$e=ze.height/Ce*Oe/Ce),ae===void 0&&(ae=se,de=ue,se=0,ue=0),je!==void 0&&pe===void 0&&(pe=je,Oe=Ce),je===void 0&&pe===void 0&&(pe=ze.width,Oe=ze.height);for(var sr,Zt=this.ctx.transform.decompose(),Gt=oe(Zt.rotate.shx),mt=new c,dr=(mt=(mt=(mt=mt.multiply(Zt.translate)).multiply(Zt.skew)).multiply(Zt.scale)).applyToRectangle(new l(ae-se*Ve,de-ue*Ee,je*qe,Ce*$e)),ht=N.call(this,dr),Fe=[],Xe=0;Xe<ht.length;Xe+=1)Fe.indexOf(ht[Xe])===-1&&Fe.push(ht[Xe]);if(T(Fe),this.autoPaging)for(var ot=Fe[0],Et=Fe[Fe.length-1],vt=ot;vt<Et+1;vt++){this.pdf.setPage(vt);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=vt===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ur=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tr=vt===1?0:$t+(vt-2)*ur;if(this.ctx.clip_path.length!==0){var _s=this.path;sr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(sr,this.posX+this.margin[3],-tr+It+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=_s}var qr=JSON.parse(JSON.stringify(dr));qr=E([qr],this.posX+this.margin[3],-tr+It+this.ctx.prevPageLastElemOffset)[0];var pt=(vt>ot||vt<Et)&&w.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,ur,null).clip().discardPath()),this.pdf.addImage(G,"JPEG",qr.x,qr.y,qr.w,qr.h,null,null,Gt),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(G,"JPEG",dr.x,dr.y,dr.w,dr.h,null,null,Gt)};var N=function(G,se,ue){var je=[];se=se||this.pdf.internal.pageSize.width,ue=ue||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ce=this.posY+this.ctx.prevPageLastElemOffset;switch(G.type){default:case"mt":case"lt":je.push(Math.floor((G.y+Ce)/ue)+1);break;case"arc":je.push(Math.floor((G.y+Ce-G.radius)/ue)+1),je.push(Math.floor((G.y+Ce+G.radius)/ue)+1);break;case"qct":var ae=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x,G.y);je.push(Math.floor((ae.y+Ce)/ue)+1),je.push(Math.floor((ae.y+ae.h+Ce)/ue)+1);break;case"bct":var de=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x2,G.y2,G.x,G.y);je.push(Math.floor((de.y+Ce)/ue)+1),je.push(Math.floor((de.y+de.h+Ce)/ue)+1);break;case"rect":je.push(Math.floor((G.y+Ce)/ue)+1),je.push(Math.floor((G.y+G.h+Ce)/ue)+1)}for(var pe=0;pe<je.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<je[pe];)_.call(this);return je},_=function(){var G=this.fillStyle,se=this.strokeStyle,ue=this.font,je=this.lineCap,Ce=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=G,this.strokeStyle=se,this.font=ue,this.lineCap=je,this.lineWidth=Ce,this.lineJoin=ae},E=function(G,se,ue){for(var je=0;je<G.length;je++)switch(G[je].type){case"bct":G[je].x2+=se,G[je].y2+=ue;case"qct":G[je].x1+=se,G[je].y1+=ue;default:G[je].x+=se,G[je].y+=ue}return G},T=function(G){return G.sort(function(se,ue){return se-ue})},M=function(G,se){for(var ue,je,Ce=this.fillStyle,ae=this.strokeStyle,de=this.lineCap,pe=this.lineWidth,Oe=Math.abs(pe*this.ctx.transform.scaleX),ze=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),Ve=[],Ee=0;Ee<$e.length;Ee++)if($e[Ee].x!==void 0)for(var sr=N.call(this,$e[Ee]),Zt=0;Zt<sr.length;Zt+=1)Ve.indexOf(sr[Zt])===-1&&Ve.push(sr[Zt]);for(var Gt=0;Gt<Ve.length;Gt++)for(;this.pdf.internal.getNumberOfPages()<Ve[Gt];)_.call(this);if(T(Ve),this.autoPaging)for(var mt=Ve[0],dr=Ve[Ve.length-1],ht=mt;ht<dr+1;ht++){this.pdf.setPage(ht),this.fillStyle=Ce,this.strokeStyle=ae,this.lineCap=de,this.lineWidth=Oe,this.lineJoin=ze;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=ht===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=ht===1?0:ot+(ht-2)*Et;if(this.ctx.clip_path.length!==0){var Tt=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ue,this.posX+this.margin[3],-vt+Xe+this.ctx.prevPageLastElemOffset),O.call(this,G,!0),this.path=Tt}if(je=JSON.parse(JSON.stringify(qe)),this.path=E(je,this.posX+this.margin[3],-vt+Xe+this.ctx.prevPageLastElemOffset),se===!1||ht===0){var It=(ht>mt||ht<dr)&&w.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Et,null).clip().discardPath()),O.call(this,G,se),It&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Oe,O.call(this,G,se),this.lineWidth=pe;this.path=qe},O=function(G,se){if((G!=="stroke"||se||!S.call(this))&&(G==="stroke"||se||!v.call(this))){for(var ue,je,Ce=[],ae=this.path,de=0;de<ae.length;de++){var pe=ae[de];switch(pe.type){case"begin":Ce.push({begin:!0});break;case"close":Ce.push({close:!0});break;case"mt":Ce.push({start:pe,deltas:[],abs:[]});break;case"lt":var Oe=Ce.length;if(ae[de-1]&&!isNaN(ae[de-1].x)&&(ue=[pe.x-ae[de-1].x,pe.y-ae[de-1].y],Oe>0)){for(;Oe>=0;Oe--)if(Ce[Oe-1].close!==!0&&Ce[Oe-1].begin!==!0){Ce[Oe-1].deltas.push(ue),Ce[Oe-1].abs.push(pe);break}}break;case"bct":ue=[pe.x1-ae[de-1].x,pe.y1-ae[de-1].y,pe.x2-ae[de-1].x,pe.y2-ae[de-1].y,pe.x-ae[de-1].x,pe.y-ae[de-1].y],Ce[Ce.length-1].deltas.push(ue);break;case"qct":var ze=ae[de-1].x+2/3*(pe.x1-ae[de-1].x),qe=ae[de-1].y+2/3*(pe.y1-ae[de-1].y),$e=pe.x+2/3*(pe.x1-pe.x),Ve=pe.y+2/3*(pe.y1-pe.y),Ee=pe.x,sr=pe.y;ue=[ze-ae[de-1].x,qe-ae[de-1].y,$e-ae[de-1].x,Ve-ae[de-1].y,Ee-ae[de-1].x,sr-ae[de-1].y],Ce[Ce.length-1].deltas.push(ue);break;case"arc":Ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ce[Ce.length-1].abs)&&Ce[Ce.length-1].abs.push(pe)}}je=se?null:G==="stroke"?"stroke":"fill";for(var Zt=!1,Gt=0;Gt<Ce.length;Gt++)if(Ce[Gt].arc)for(var mt=Ce[Gt].abs,dr=0;dr<mt.length;dr++){var ht=mt[dr];ht.type==="arc"?U.call(this,ht.x,ht.y,ht.radius,ht.startAngle,ht.endAngle,ht.counterclockwise,void 0,se,!Zt):Q.call(this,ht.x,ht.y),Zt=!0}else if(Ce[Gt].close===!0)this.pdf.internal.out("h"),Zt=!1;else if(Ce[Gt].begin!==!0){var Fe=Ce[Gt].start.x,Xe=Ce[Gt].start.y;Z.call(this,Ce[Gt].deltas,Fe,Xe),Zt=!0}je&&$.call(this,je),se&&K.call(this)}},L=function(G){var se=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ue=se*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return G-ue;case"top":return G+se-ue;case"hanging":return G+se-2*ue;case"middle":return G+se/2-ue;default:return G}},B=function(G){return G+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var G=function(){};return G.colorStops=[],G.addColorStop=function(se,ue){this.colorStops.push([se,ue])},G.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},G.isCanvasGradient=!0,G},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(G,se,ue,je,Ce,ae,de,pe,Oe){for(var ze=ye.call(this,ue,je,Ce,ae),qe=0;qe<ze.length;qe++){var $e=ze[qe];qe===0&&(Oe?q.call(this,$e.x1+G,$e.y1+se):Q.call(this,$e.x1+G,$e.y1+se)),J.call(this,G,se,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}pe?K.call(this):$.call(this,de)},$=function(G){switch(G){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(G,se){this.pdf.internal.out(r(G)+" "+n(se)+" m")},H=function(G){var se;switch(G.align){case"right":case"end":se="right";break;case"center":se="center";break;default:se="left"}var ue=this.pdf.getTextDimensions(G.text),je=L.call(this,G.y),Ce=B.call(this,je)-ue.h,ae=this.ctx.transform.applyToPoint(new o(G.x,je)),de=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Oe,ze,qe,$e=this.ctx.transform.applyToRectangle(new l(G.x,je,ue.w,ue.h)),Ve=pe.applyToRectangle(new l(G.x,Ce,ue.w,ue.h)),Ee=N.call(this,Ve),sr=[],Zt=0;Zt<Ee.length;Zt+=1)sr.indexOf(Ee[Zt])===-1&&sr.push(Ee[Zt]);if(T(sr),this.autoPaging)for(var Gt=sr[0],mt=sr[sr.length-1],dr=Gt;dr<mt+1;dr++){this.pdf.setPage(dr);var ht=dr===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],ot=Xe-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],vt=Et-this.margin[3],Tt=dr===1?0:Fe+(dr-2)*ot;if(this.ctx.clip_path.length!==0){var It=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Oe,this.posX+this.margin[3],-1*Tt+ht),O.call(this,"fill",!0),this.path=It}var $t=E([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Tt+ht+this.ctx.prevPageLastElemOffset)[0];G.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*G.scale),qe=this.lineWidth,this.lineWidth=qe*G.scale);var ur=this.autoPaging!=="text";if(ur||$t.y+$t.h<=Xe){if(ur||$t.y>=ht&&$t.x<=Et){var tr=ur?G.text:this.pdf.splitTextToSize(G.text,G.maxWidth||Et-$t.x)[0],_s=E([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Tt+ht+this.ctx.prevPageLastElemOffset)[0],qr=ur&&(dr>Gt||dr<mt)&&w.call(this);qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,ot,null).clip().discardPath()),this.pdf.text(tr,_s.x,_s.y,{angle:G.angle,align:se,renderingMode:G.renderingMode}),qr&&this.pdf.restoreGraphicsState()}}else $t.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-$t.y);G.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=qe)}else G.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*G.scale),qe=this.lineWidth,this.lineWidth=qe*G.scale),this.pdf.text(G.text,ae.x+this.posX,ae.y+this.posY,{angle:G.angle,align:se,renderingMode:G.renderingMode,maxWidth:G.maxWidth}),G.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=qe)},Q=function(G,se,ue,je){ue=ue||0,je=je||0,this.pdf.internal.out(r(G+ue)+" "+n(se+je)+" l")},Z=function(G,se,ue){return this.pdf.lines(G,se,ue,null,null)},J=function(G,se,ue,je,Ce,ae,de,pe){this.pdf.internal.out([e(i(ue+G)),e(a(je+se)),e(i(Ce+G)),e(a(ae+se)),e(i(de+G)),e(a(pe+se)),"c"].join(" "))},ye=function(G,se,ue,je){for(var Ce=2*Math.PI,ae=Math.PI/2;se>ue;)se-=Ce;var de=Math.abs(ue-se);de<Ce&&je&&(de=Ce-de);for(var pe=[],Oe=je?-1:1,ze=se;de>1e-5;){var qe=ze+Oe*Math.min(de,ae);pe.push(ge.call(this,G,ze,qe)),de-=Math.abs(qe-ze),ze=qe}return pe},ge=function(G,se,ue){var je=(ue-se)/2,Ce=G*Math.cos(je),ae=G*Math.sin(je),de=Ce,pe=-ae,Oe=de*de+pe*pe,ze=Oe+de*Ce+pe*ae,qe=4/3*(Math.sqrt(2*Oe*ze)-ze)/(de*ae-pe*Ce),$e=de-qe*pe,Ve=pe+qe*de,Ee=$e,sr=-Ve,Zt=je+se,Gt=Math.cos(Zt),mt=Math.sin(Zt);return{x1:G*Math.cos(se),y1:G*Math.sin(se),x2:$e*Gt-Ve*mt,y2:$e*mt+Ve*Gt,x3:Ee*Gt-sr*mt,y3:Ee*mt+sr*Gt,x4:G*Math.cos(ue),y4:G*Math.sin(ue)}},oe=function(G){return 180*G/Math.PI},re=function(G,se,ue,je,Ce,ae){var de=G+.5*(ue-G),pe=se+.5*(je-se),Oe=Ce+.5*(ue-Ce),ze=ae+.5*(je-ae),qe=Math.min(G,Ce,de,Oe),$e=Math.max(G,Ce,de,Oe),Ve=Math.min(se,ae,pe,ze),Ee=Math.max(se,ae,pe,ze);return new l(qe,Ve,$e-qe,Ee-Ve)},me=function(G,se,ue,je,Ce,ae,de,pe){var Oe,ze,qe,$e,Ve,Ee,sr,Zt,Gt,mt,dr,ht,Fe,Xe,ot=ue-G,Et=je-se,vt=Ce-ue,Tt=ae-je,It=de-Ce,$t=pe-ae;for(ze=0;ze<41;ze++)Gt=(sr=(qe=G+(Oe=ze/40)*ot)+Oe*((Ve=ue+Oe*vt)-qe))+Oe*(Ve+Oe*(Ce+Oe*It-Ve)-sr),mt=(Zt=($e=se+Oe*Et)+Oe*((Ee=je+Oe*Tt)-$e))+Oe*(Ee+Oe*(ae+Oe*$t-Ee)-Zt),ze==0?(dr=Gt,ht=mt,Fe=Gt,Xe=mt):(dr=Math.min(dr,Gt),ht=Math.min(ht,mt),Fe=Math.max(Fe,Gt),Xe=Math.max(Xe,mt));return new l(Math.round(dr),Math.round(ht),Math.round(Fe-dr),Math.round(Xe-ht))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var G,se,ue=(G=this.ctx.lineDash,se=this.ctx.lineDashOffset,JSON.stringify({lineDash:G,lineDashOffset:se}));this.prevLineDash!==ue&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ue)}}})($r.API),(function(t){var e=function(o){var l,c,u,h,f,y,v,S,w,N;for(c=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(f=((f=((f=((f=(f-(N=f%85))/85)-(w=f%85))/85)-(S=f%85))/85)-(v=f%85))/85)%85,c.push(y+33,v+33,S+33,w+33,N+33)):c.push(122);return(function(_,E){for(var T=E;T>0;T--)_.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,h,f,y=String,v="length",S=255,w="charCodeAt",N="slice",_="replace";for(o[N](-2),o=o[N](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],h=0,f=(o+=l="uuuuu"[N](o[v]%5||5))[v];f>h;h+=5)c=52200625*(o[w](h)-33)+614125*(o[w](h+1)-33)+7225*(o[w](h+2)-33)+85*(o[w](h+3)-33)+(o[w](h+4)-33),u.push(S&c>>24,S&c>>16,S&c>>8,S&c);return(function(E,T){for(var M=T;M>0;M--)E.pop()})(u,l[v]),y.fromCharCode.apply(y,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=XO(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})($r.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,h){var f=new XMLHttpRequest,y=0,v=function(S){var w=S.length,N=[],_=String.fromCharCode;for(y=0;y<w;y+=1)N.push(_(255&S.charCodeAt(y)));return N.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(v(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return v(f.responseText)})(i,a,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})($r.API),(function(t){function e(){return(Sn.html2canvas?Promise.resolve(Sn.html2canvas):ab(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Sn.DOMPurify?Promise.resolve(Sn.DOMPurify):ab(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Js(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var v=0;v<h.length;++v){var S=h[v],w=S.src.find(function(N){return N.format==="truetype"});w&&u.addFont(w.url,S.ref.name,S.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||$r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,h){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(h,f){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,f).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),y=u.call(f,l,c);return o.convert(y,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$r.getPageSize=function(l,c,u){if(Js(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,y=(""+u).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var S,w=0,N=0;if(v.hasOwnProperty(y))w=v[y][1]/f,N=v[y][0]/f;else try{w=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",N>w&&(S=N,N=w,w=S);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>N&&(S=N,N=w,w=S)}return{width:N,height:w,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(uP):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})($r.API),$r.API.addJS=function(t){return IY=t,this.internal.events.subscribe("postPutResources",function(){jj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jj!==void 0&&PY!==void 0&&this.internal.out("/Names <</JavaScript "+jj+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var f=r.internal.newObject();h.push(f);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+v+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})($r.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var y,v=256*f.charCodeAt(4)+f.charCodeAt(5),S=f.length,w={width:0,height:0,numcomponents:1},N=4;N<S;N+=2){if(N+=v,e.indexOf(f.charCodeAt(N+1))!==-1){y=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),w={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:y,numcomponents:f.charCodeAt(N+9)};break}v=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}})($r.API),$r.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=iXe(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,h=a.depth;i=u&&c===1?(function(U){for(var $=U.width,K=U.height,q=U.data,H=U.palette,Q=U.depth,Z=!1,J=[],ye=[],ge=void 0,oe=!1,re=0,me=0;me<H.length;me++){var ne=DG(H[me],4),G=ne[0],se=ne[1],ue=ne[2],je=ne[3];J.push(G,se,ue),je!=null&&(je===0?(re++,ye.length<1&&ye.push(me)):je<255&&(oe=!0))}if(oe||re>1){Z=!0,ye=void 0;var Ce=$*K;ge=new Uint8Array(Ce);for(var ae=new DataView(q.buffer),de=0;de<Ce;de++){var pe=hP(ae,de,Q),Oe=DG(H[pe],4)[3];ge[de]=Oe}}else re===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:q,alphaBytes:ge,needSMask:Z,palette:J,mask:ye}})(a):c===2||c===4?(function(U){for(var $=U.data,K=U.width,q=U.height,H=U.channels,Q=U.depth,Z=H===2?"DeviceGray":"DeviceRGB",J=H-1,ye=K*q,ge=J,oe=ye*ge,re=1*ye,me=Math.ceil(oe*Q/8),ne=Math.ceil(re*Q/8),G=new Uint8Array(me),se=new Uint8Array(ne),ue=new DataView($.buffer),je=new DataView(G.buffer),Ce=new DataView(se.buffer),ae=!1,de=0;de<ye;de++){for(var pe=de*H,Oe=0;Oe<ge;Oe++)$Y(je,hP(ue,pe+Oe,Q),de*ge+Oe,Q);var ze=hP(ue,pe+ge,Q);ze<(1<<Q)-1&&(ae=!0),$Y(Ce,ze,1*de,Q)}return{colorSpace:Z,colorsPerPixel:J,sMaskBitsPerComponent:ae?Q:void 0,colorBytes:G,alphaBytes:se,needSMask:ae}})(a):(function(U){var $=U.data,K=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?(function(q){for(var H=q.length,Q=new Uint8Array(2*H),Z=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),J=0;J<H;J++)Z.setUint16(2*J,q[J],!1);return Q})($):$,needSMask:!1}})(a);var f,y,v,S=i,w=S.colorSpace,N=S.colorsPerPixel,_=S.sMaskBitsPerComponent,E=S.colorBytes,T=S.alphaBytes,M=S.needSMask,O=S.palette,L=S.mask,B=null;return n!==$r.API.image_compression.NONE&&typeof XO=="function"?(B=(function(U){var $;switch(U){case $r.API.image_compression.FAST:$=11;break;case $r.API.image_compression.MEDIUM:$=13;break;case $r.API.image_compression.SLOW:$=14;break;default:$=12}return $})(n),f=this.decode.FLATE_DECODE,y="/Predictor ".concat(B," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(o),t=DY(E,Math.ceil(o*N*h/8),N,h,n),M&&(v=DY(T,Math.ceil(o*_/8),1,_,n))):(f=void 0,y=void 0,t=E,M&&(v=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:r,data:t,index:e,filter:f,decodeParameters:y,transparency:L,palette:O,sMask:v,predictor:B,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new AXe(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new fP(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A})($r.API),yd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){hi.log("bit decode error:"+r)}},yd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},yd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},yd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},yd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=t}},yd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},yd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},yd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},yd.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new yd(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new fP(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}})($r.API),qY.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new qY(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new fP(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}})($r.API),$r.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var h=n[u],f=n[u+1],y=n[u+2],v=n[u+3];a[l++]=h,a[l++]=f,a[l++]=y,o[c++]=v}var S=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$r.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rx=$r.API,Sj=rx.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=e.doKerning!==!1,y=0,v=t.length,S=0,w=l[0]||c,N=[];for(r=0;r<v;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(y=f&&Js(u[n])==="object"&&!isNaN(parseInt(u[n][S],10))?u[n][S]/h:0,N.push((l[n]||w)/c+y)),S=n;return N},OY=rx.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rx.processArabic&&(t=rx.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Sj.apply(this,arguments).reduce(function(a,o){return a+o},0)},MY=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},RY=function(t,e,r){r||(r={});var n,i,a,o,l,c,u,h=[],f=[h],y=r.textIndent||0,v=0,S=0,w=t.split(" "),N=Sj.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),E=[];w.map(function(M){(M=M.split(/\s*\n/)).length>1?E=E.concat(M.map(function(O,L){return(L&&O.length?`
`:"")+O})):E.push(M[0])}),w=E,c=OY.apply(this,[_,r])}for(a=0,o=w.length;a<o;a++){var T=0;if(n=w[a],c&&n[0]==`
`&&(n=n.substr(1),T=1),y+v+(S=(i=Sj.apply(this,[n,r])).reduce(function(M,O){return M+O},0))>e||T){if(S>e){for(l=MY.apply(this,[n,i,e-(y+v),e]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);S=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(M,O){return M+O},0)}else h=[n];f.push(h),y=S+c,v=N}else h.push(n),y+=v+S,v=N}return u=c?function(M,O){return(O?_:"")+M.join(" ")}:function(M){return M.join(" ")},f.map(u)},rx.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return f.metadata[y]?{widths:f.metadata[y].widths||{0:1},kerning:f.metadata[y].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(RY.apply(this,[n[l],o,a]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var v,S,w,N,_=["{"];for(var E in y){if(v=y[E],isNaN(parseInt(E,10))?S="'"+E+"'":(E=parseInt(E,10),S=(S=o(E).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof v=="number")v<0?(w=o(v).slice(3),N="-"):(w=o(v).slice(2),N=""),w=N+w.slice(0,-1)+i[w.slice(-1)];else{if(Js(v)!=="object")throw new Error("Don't know what to do with value type "+Js(v)+".");w=l(v)}_.push(S+w)}return _.push("}"),_.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,S,w,N,_={},E=1,T=_,M=[],O="",L="",B=y.length-1,U=1;U<B;U+=1)(N=y[U])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(N):N=="{"?(M.push([T,w]),T={},w=void 0):N=="}"?((S=M.pop())[0][S[1]]=T,w=void 0,T=S[0]):N=="-"?E=-1:w===void 0?n.hasOwnProperty(N)?(O+=n[N],w=parseInt(O,16)*E,E=1,O=""):O+=N:n.hasOwnProperty(N)?(L+=n[N],T[w]=parseInt(L,16)*E,E=1,w=void 0,L=""):L+=N;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,S=f.Unicode[v.postScriptName];S&&(v.metadata.Unicode={},v.metadata.Unicode.widths=S.widths,v.metadata.Unicode.kerning=S.kerning);var w=h.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])})($r.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Wj(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})($r),$r.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Sn.canvg?Promise.resolve(Sn.canvg):ab(()=>import("./index.es-CyUODE2t.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},$r.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},$r.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,f=0;function y(S,w){var N,_=!1;for(N=0;N<S.length;N+=1)S[N]===w&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=l.length;for(f=0;f<v;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Js(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,w=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?w.push("/"+S+" /"+r[S].value):w.push("/"+S+" "+r[S].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})($r.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,y=a.length;f<y;++f){if(l=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(a){var o,l,c,u,h,f,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,y=(l=Object.keys(a).sort(function(v,S){return v-S})).length;f<y;f++)o=l[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",S=0;S<y.length;S++)v+=String.fromCharCode(y[S]);var w=u();h({data:v,addLength1:!0,objectId:w}),c("endobj");var N=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var _=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ax(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var E=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ax(l.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+ax(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,y="",v=0;v<f.length;v++)y+=String.fromCharCode(f[v]);var S=u();h({data:y,addLength1:!0,objectId:S}),c("endobj");var w=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ax(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+ax(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,h=a.options||{},f=a.mutex||{},y=f.pdfEscape,v=f.activeFontKey,S=f.fonts,w=v,N="",_=0,E="",T=S[w].encoding;if(S[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:f};for(E=l,w=v,Array.isArray(l)&&(E=l[0]),_=0;_<E.length;_+=1)S[w].metadata.hasOwnProperty("cmap")&&(o=S[w].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),o||E[_].charCodeAt(0)<256&&S[w].metadata.hasOwnProperty("Unicode")?N+=E[_]:N+="";var M="";return parseInt(w.slice(1))<14||T==="WinAnsiEncoding"?M=y(N,w).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(M=r(N,S[w])),f.isHex=!0,{text:M,x:c,y:u,options:h,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])})($r),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})($r.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,h,f=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var M=function(q){var H=q.charCodeAt(),Q=H>>8,Z=w[Q];return Z!==void 0?f[256*Z+(255&H)]:Q===252||Q===253?"AL":_.test(Q)?"L":Q===8?"R":"N"},O=function(q){for(var H,Q=0;Q<q.length;Q++){if((H=M(q.charAt(Q)))==="L")return!1;if(H==="R")return!0}return!1},L=function(q,H,Q,Z){var J,ye,ge,oe,re=H[Z];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(re="AN");break;case"AL":E=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":Z<1||Z+1>=H.length||(J=Q[Z-1])!=="EN"&&J!=="AN"||(ye=H[Z+1])!=="EN"&&ye!=="AN"?re="N":E&&(ye="AN"),re=ye===J?ye:"N";break;case"ES":re=(J=Z>0?Q[Z-1]:"B")==="EN"&&Z+1<H.length&&H[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&Q[Z-1]==="EN"){re="EN";break}if(E){re="N";break}for(ge=Z+1,oe=H.length;ge<oe&&H[ge]==="ET";)ge++;re=ge<oe&&H[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(oe=H.length,ge=Z+1;ge<oe&&H[ge]==="NSM";)ge++;if(ge<oe){var me=q[Z],ne=me>=1425&&me<=2303||me===64286;if(J=H[ge],ne&&(J==="R"||J==="AL")){re="R";break}}}re=Z<1||(J=H[Z-1])==="B"?"N":Q[Z-1];break;case"B":E=!1,i=!0,re=T;break;case"S":a=!0,re="N"}return re},B=function(q,H,Q){var Z=q.split("");return Q&&U(Z,Q,{hiLevel:T}),Z.reverse(),H&&H.reverse(),Z.join("")},U=function(q,H,Q){var Z,J,ye,ge,oe,re=-1,me=q.length,ne=0,G=[],se=T?v:y,ue=[];for(E=!1,i=!1,a=!1,J=0;J<me;J++)ue[J]=M(q[J]);for(ye=0;ye<me;ye++){if(oe=ne,G[ye]=L(q,ue,G,ye),Z=240&(ne=se[oe][S[G[ye]]]),ne&=15,H[ye]=ge=se[ne][5],Z>0)if(Z===16){for(J=re;J<ye;J++)H[J]=1;re=-1}else re=-1;if(se[ne][6])re===-1&&(re=ye);else if(re>-1){for(J=re;J<ye;J++)H[J]=ge;re=-1}ue[ye]==="B"&&(H[ye]=0),Q.hiLevel|=ge}a&&(function(je,Ce,ae){for(var de=0;de<ae;de++)if(je[de]==="S"){Ce[de]=T;for(var pe=de-1;pe>=0&&je[pe]==="WS";pe--)Ce[pe]=T}})(ue,H,me)},$=function(q,H,Q,Z,J){if(!(J.hiLevel<q)){if(q===1&&T===1&&!i)return H.reverse(),void(Q&&Q.reverse());for(var ye,ge,oe,re,me=H.length,ne=0;ne<me;){if(Z[ne]>=q){for(oe=ne+1;oe<me&&Z[oe]>=q;)oe++;for(re=ne,ge=oe-1;re<ge;re++,ge--)ye=H[re],H[re]=H[ge],H[ge]=ye,Q&&(ye=Q[re],Q[re]=Q[ge],Q[ge]=ye);ne=oe}ne++}}},K=function(q,H,Q){var Z=q.split(""),J={hiLevel:T};return Q||(Q=[]),U(Z,Q,J),(function(ye,ge,oe){if(oe.hiLevel!==0&&h)for(var re,me=0;me<ye.length;me++)ge[me]===1&&(re=N.indexOf(ye[me]))>=0&&(ye[me]=N[re+1])})(Z,Q,J),$(2,Z,H,Q,J),$(1,Z,H,Q,J),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(q,H,Q){if((function(J,ye){if(ye)for(var ge=0;ge<J.length;ge++)ye[ge]=ge;l===void 0&&(l=O(J)),u===void 0&&(u=O(J))})(q,H),o||!c||u)if(o&&c&&l^u)T=l?1:0,q=B(q,H,Q);else if(!o&&c&&u)T=l?1:0,q=K(q,H,Q),q=B(q,H);else if(!o||l||c||u){if(o&&!c&&l^u)q=B(q,H),l?(T=0,q=K(q,H,Q)):(T=1,q=K(q,H,Q),q=B(q,H));else if(o&&l&&!c&&u)T=1,q=K(q,H,Q),q=B(q,H);else if(!o&&!c&&l^u){var Z=h;l?(T=1,q=K(q,H,Q),T=0,h=!1,q=K(q,H,Q),h=Z):(T=0,q=K(q,H,Q),q=B(q,H),T=1,h=!1,q=K(q,H,Q),h=Z,q=B(q,H))}}else T=0,q=K(q,H,Q);else T=l?1:0,q=K(q,H,Q);return q},this.__bidiEngine__.setOptions=function(q){q&&(o=q.isInputVisual,c=q.isOutputVisual,l=q.isInputRtl,u=q.isOutputRtl,h=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})($r),$r.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ap(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $Xe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _Xe(this.contents),this.head=new TXe(this),this.name=new MXe(this),this.cmap=new Cme(this),this.toUnicode={},this.hhea=new kXe(this),this.maxp=new RXe(this),this.hmtx=new DXe(this),this.post=new IXe(this),this.os2=new PXe(this),this.loca=new UXe(this),this.glyf=new LXe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var ih,Ap=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),_Xe=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,c,u,h,f,y,v,S,w;for(w in v=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(v)/c),o=Math.floor(f/c),h=16*v-f,(i=new Ap).writeInt(this.scalarType),i.writeShort(v),i.writeShort(f),i.writeShort(o),i.writeShort(h),a=16*v,u=i.pos+a,l=null,S=[],r)for(y=r[w],i.writeString(w),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),S=S.concat(y),w==="head"&&(l=u),u+=y.length;u%4;)S.push(0),u++;return i.write(S),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=Ame.call(r);r.length%4;)r.push(0);for(a=new Ap(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),EXe={}.hasOwnProperty,nf=function(t,e){for(var r in e)EXe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ih=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var TXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ap).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),VY=(function(){function t(e,r){var n,i,a,o,l,c,u,h,f,y,v,S,w,N,_,E,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(v=e.readUInt16(),y=v/2,e.pos+=6,a=(function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O})(),e.pos+=2,w=(function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O})(),u=(function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O})(),h=(function(){var M,O;for(O=[],c=M=0;0<=y?M<y:M>y;c=0<=y?++M:--M)O.push(e.readUInt16());return O})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var M,O;for(O=[],c=M=0;0<=i?M<i:M>i;c=0<=i?++M:--M)O.push(e.readUInt16());return O})(),c=_=0,T=a.length;_<T;c=++_)for(N=a[c],n=E=S=w[c];S<=N?E<=N:E>=N;n=S<=N?++E:--E)h[c]===0?o=n+u[c]:(o=l[h[c]/2+(n-S)-(y-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,i,a,o,l,c,u,h,f,y,v,S,w,N,_,E,T,M,O,L,B,U,$,K,q,H,Q,Z,J,ye,ge,oe,re,me,ne,G,se,ue,je,Ce,ae,de,pe,Oe,ze,qe;switch(Z=new Ap,o=Object.keys(e).sort(function($e,Ve){return $e-Ve}),r){case"macroman":for(w=0,N=(function(){var $e=[];for(S=0;S<256;++S)$e.push(0);return $e})(),E={0:0},a={},J=0,re=o.length;J<re;J++)E[pe=e[i=o[J]]]==null&&(E[pe]=++w),a[i]={old:e[i],new:E[e[i]]},N[i]=E[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(N),{charMap:a,subtable:Z.data,maxGlyphID:w+1};case"unicode":for(H=[],f=[],T=0,E={},n={},_=u=null,ye=0,me=o.length;ye<me;ye++)E[O=e[i=o[ye]]]==null&&(E[O]=++T),n[i]={old:O,new:E[O]},l=E[O]-i,_!=null&&l===u||(_&&f.push(_),H.push(i),u=l),_=i;for(_&&f.push(_),f.push(65535),H.push(65535),K=2*($=H.length),U=2*Math.pow(Math.log($)/Math.LN2,2),y=Math.log(U/2)/Math.LN2,B=2*$-U,c=[],L=[],v=[],S=ge=0,ne=H.length;ge<ne;S=++ge){if(q=H[S],h=f[S],q===65535){c.push(0),L.push(0);break}if(q-(Q=n[q].new)>=32768)for(c.push(0),L.push(2*(v.length+$-S)),i=oe=q;q<=h?oe<=h:oe>=h;i=q<=h?++oe:--oe)v.push(n[i].new);else c.push(Q-q),L.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*$+2*v.length),Z.writeUInt16(0),Z.writeUInt16(K),Z.writeUInt16(U),Z.writeUInt16(y),Z.writeUInt16(B),ae=0,G=f.length;ae<G;ae++)i=f[ae],Z.writeUInt16(i);for(Z.writeUInt16(0),de=0,se=H.length;de<se;de++)i=H[de],Z.writeUInt16(i);for(Oe=0,ue=c.length;Oe<ue;Oe++)l=c[Oe],Z.writeUInt16(l);for(ze=0,je=L.length;ze<je;ze++)M=L[ze],Z.writeUInt16(M);for(qe=0,Ce=v.length;qe<Ce;qe++)w=v[qe],Z.writeUInt16(w);return{charMap:n,subtable:Z.data,maxGlyphID:T+1}}},t})(),Cme=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new VY(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=VY.encode(e,r),(i=new Ap).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),kXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),PXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),IXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),OXe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,c,u,h,f,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=h=0,f=n.length;h<f;a=++h)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new OXe(u,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),RXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),DXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h})(),this.widths=(function(){var u,h,f,y;for(y=[],u=0,h=(f=this.metrics).length;u<h;u++)a=f[u],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Ame=[].slice,LXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,c,u,h,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new Ap(r.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[e]=o===-1?new BXe(l,u,f,c,h):new FXe(l,o,u,f,c,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t})(),FXe=(function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),BXe=(function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ap(Ame.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),UXe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nf(t,ih),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t})(),$Xe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,c,u,h,f,y,v,S,w,N,_;for(i in n=Cme.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),v={0:0},_=n.charMap)v[(c=_[i]).old]=c.new;for(S in y=n.maxGlyphID,o)S in v||(v[S]=y++);return h=(function(E){var T,M;for(T in M={},E)M[E[T]]=T;return M})(v),f=Object.keys(h).sort(function(E,T){return E-T}),w=(function(){var E,T,M;for(M=[],E=0,T=f.length;E<T;E++)l=f[E],M.push(h[l]);return M})(),a=this.font.glyf.encode(o,w,v),u=this.font.loca.encode(a.offsets,w),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t})();$r.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e})();function zXe(){const[t,e]=P.useState("24h"),r=[{id:1,userId:"admin@alga.et",action:"LOGIN",ipAddress:"196.188.120.45",userAgent:"Mozilla/5.0 (Windows NT 10.0)",timestamp:new Date().toISOString(),success:!0},{id:2,userId:"operator@alga.et",action:"VERIFY_PROPERTY",ipAddress:"196.188.120.46",userAgent:"Mozilla/5.0 (Macintosh)",timestamp:new Date(Date.now()-36e5).toISOString(),success:!0},{id:3,userId:"unknown",action:"LOGIN_FAILED",ipAddress:"198.51.100.23",userAgent:"curl/7.68.0",timestamp:new Date(Date.now()-72e5).toISOString(),success:!1}],{data:n}=Nr({queryKey:["/api/admin/insa/compliance"]}),i=n||[],a=i.filter(u=>u.status==="completed").length,o=i.length,l=o>0?Math.round(a/o*100):0,c=()=>{const u=new $r,h=u.internal.pageSize.getWidth();let f=20;u.setFontSize(18),u.setFont("helvetica","bold"),u.text("INSA Security Compliance Report",h/2,f,{align:"center"}),f+=10,u.setFontSize(12),u.setFont("helvetica","normal"),u.text("Alga One Member PLC",h/2,f,{align:"center"}),f+=6,u.setFontSize(10),u.text("TIN: 0101809194",h/2,f,{align:"center"}),f+=6,u.text(`Generated: ${new Date().toLocaleString("en-ET")}`,h/2,f,{align:"center"}),f+=15,u.setFontSize(14),u.setFont("helvetica","bold"),u.text("Compliance Summary",15,f),f+=8,u.setFontSize(10),u.setFont("helvetica","normal"),u.text(`Overall Compliance Rate: ${l}%`,20,f),f+=6,u.text(`Completed Requirements: ${a}/${o}`,20,f),f+=10,u.setFontSize(12),u.setFont("helvetica","bold"),u.text("Implemented Security Controls",15,f),f+=8,u.setFontSize(10),u.setFont("helvetica","normal"),[" End-to-end encryption (AES-256)"," Multi-factor authentication"," Role-based access control"," Session management with secure cookies"," Input validation and sanitization"," SQL injection prevention"," XSS protection"," CSRF protection"," Rate limiting"," Comprehensive audit logging"].forEach(S=>{u.text(S,20,f),f+=5}),f+=10,u.setFontSize(12),u.setFont("helvetica","bold"),u.text("Recent Access Activity (24h)",15,f),f+=8,u.setFontSize(10),u.setFont("helvetica","normal"),u.text(`Total Access Attempts: ${r.length}`,20,f),f+=6,u.text(`Successful: ${r.filter(S=>S.success).length}`,20,f),f+=6,u.text(`Failed: ${r.filter(S=>!S.success).length}`,20,f),f+=10,u.setFontSize(12),u.setFont("helvetica","bold"),u.text("OWASP Top 10 Mitigation Status",15,f),f+=8,u.setFontSize(10),u.setFont("helvetica","normal"),["1. Injection - MITIGATED (Drizzle ORM parameterized queries)","2. Broken Authentication - MITIGATED (Secure session management)","3. Sensitive Data Exposure - MITIGATED (Encryption at rest & transit)","4. XML External Entities - NOT APPLICABLE (No XML processing)","5. Broken Access Control - MITIGATED (Role-based permissions)","6. Security Misconfiguration - MITIGATED (Helmet.js hardening)","7. Cross-Site Scripting - MITIGATED (Input sanitization)","8. Insecure Deserialization - MITIGATED (JSON-only APIs)","9. Known Vulnerabilities - MITIGATED (Dependency audits)","10. Insufficient Logging - MITIGATED (Comprehensive audit trail)"].forEach(S=>{u.text(S,20,f),f+=5}),f=u.internal.pageSize.getHeight()-15,u.setDrawColor(139,69,19),u.line(15,f,h-15,f),f+=5,u.setFontSize(8),u.setTextColor(100),u.text("This document is confidential and intended for INSA audit purposes only.",h/2,f,{align:"center"}),u.save(`INSA_Compliance_Report_${new Date().toISOString().split("T")[0]}.pdf`),console.log(" INSA Compliance Report downloaded")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4 text-green-600"}),"Compliance Rate"]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[l,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a,"/",o," requirements met"]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ro,{className:"h-4 w-4 text-[#CD7F32]"}),"Security Controls"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"10/10"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"OWASP Top 10 mitigated"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Df,{className:"h-4 w-4 text-[#CD7F32]"}),"Access Logs"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 24 hours"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4 text-orange-600"}),"Failed Attempts"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.filter(u=>!u.success).length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Potential security threats"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5 text-[#CD7F32]"}),"INSA Audit Reports"]}),s.jsx(ar,{children:"Generate compliance reports for security audits"})]}),s.jsxs(Be,{onClick:c,className:"bg-[#5B4032] hover:bg-[#4a3429]","data-testid":"button-generate-compliance-report",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export Compliance Report"]})]})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:"Data Encryption"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"AES-256 at rest & transit"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:"Access Control"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Role-based permissions"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:"Audit Logging"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Comprehensive trail"})]})]})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Df,{className:"h-5 w-5 text-[#CD7F32]"}),"Recent Access Logs"]}),s.jsx(ar,{children:"System access attempts and security events"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(Be,{variant:t==="24h"?"default":"outline",size:"sm",onClick:()=>e("24h"),children:"Last 24h"}),s.jsx(Be,{variant:t==="7d"?"default":"outline",size:"sm",onClick:()=>e("7d"),children:"Last 7 Days"}),s.jsx(Be,{variant:t==="30d"?"default":"outline",size:"sm",onClick:()=>e("30d"),children:"Last 30 Days"})]}),s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Timestamp"}),s.jsx(zt,{children:"User"}),s.jsx(zt,{children:"Action"}),s.jsx(zt,{children:"IP Address"}),s.jsx(zt,{children:"Status"})]})}),s.jsx(Bo,{children:r.map(u=>s.jsxs(Mn,{children:[s.jsx(Ot,{className:"text-sm",children:new Date(u.timestamp).toLocaleString("en-ET")}),s.jsx(Ot,{className:"font-mono text-sm",children:u.userId}),s.jsx(Ot,{children:u.action}),s.jsx(Ot,{className:"font-mono text-sm",children:u.ipAddress}),s.jsx(Ot,{children:u.success?s.jsxs(Rt,{className:"bg-green-100 text-green-800",children:[s.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Success"]}):s.jsxs(Rt,{variant:"destructive",children:[s.jsx(Da,{className:"h-3 w-3 mr-1"}),"Failed"]})})]},u.id))})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Ro,{className:"h-5 w-5 text-[#CD7F32]"}),"System Security Status"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:"Database Encryption"}),s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:"Firewall Protection"}),s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Enabled"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:"Rate Limiting"}),s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Configured"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:"Security Headers"}),s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Enforced"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm",children:"Dependency Audits"}),s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Up to Date"})]})]})})]})]})}function qXe(){const[t,e]=P.useState(!1),[r,n]=P.useState([{id:"welcome",role:"lemlem",content:`! I'm Lemlem, your operations assistant. Ask me anything:

 "Show top agents"
 "List unverified properties"
 "Payment summary"
 "Active alerts"
 "Weekly report"`,timestamp:new Date}]),[i,a]=P.useState(""),[o,l]=P.useState(!1),c=P.useRef(null),{data:u}=Nr({queryKey:["/api/admin/operations/agents"]}),{data:h}=Nr({queryKey:["/api/properties"]}),{data:f}=Nr({queryKey:["/api/admin/operations/alerts"]}),y=()=>{var N;(N=c.current)==null||N.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{y()},[r]);const v=N=>{const _=N.toLowerCase().trim();if(_.includes("top agents")||_.includes("best agents")||_.includes("agent leaderboard")){const E=[...u||[]].sort((T,M)=>parseFloat(M.totalEarnings)-parseFloat(T.totalEarnings)).slice(0,5);return{id:Date.now().toString(),role:"lemlem",content:E.length>0?` Top 5 Agents:

${E.map((T,M)=>`${M+1}. ${T.fullName} - ETB ${parseFloat(T.totalEarnings).toLocaleString()}
   ${T.activeProperties} active properties in ${T.city}`).join(`

`)}`:"No agent data available yet.",timestamp:new Date,data:E}}if(_.includes("unverified")||_.includes("pending properties")||_.includes("verify")){const E=(h==null?void 0:h.filter(T=>!T.operatorVerified&&T.status==="active"))||[];return{id:Date.now().toString(),role:"lemlem",content:E.length>0?` ${E.length} Properties Pending Verification:

${E.slice(0,5).map(T=>` ${T.title}
  ${T.city} - ETB ${T.pricePerNight}/night`).join(`

`)}${E.length>5?`

...and ${E.length-5} more`:""}`:" All active properties are verified!",timestamp:new Date,data:E}}if(_.includes("alerts")||_.includes("warnings")||_.includes("red flags")){const E=f||[];return{id:Date.now().toString(),role:"lemlem",content:E.length>0?` ${E.length} Active Alerts:

${E.map(T=>`${T.severity==="critical"?"":T.severity==="high"?"":""} ${T.title}
${T.description}`).join(`

`)}`:" No active alerts. All systems operational!",timestamp:new Date,data:E}}if(_.includes("payment")||_.includes("revenue")||_.includes("earnings")){const E=(u==null?void 0:u.length)||0,T=(u==null?void 0:u.reduce((O,L)=>O+parseFloat(L.totalEarnings||"0"),0))||0,M=(h==null?void 0:h.length)||0;return{id:Date.now().toString(),role:"lemlem",content:` Payment Summary:

 Active Agents: ${E}
 Total Commissions Paid: ETB ${T.toLocaleString()}
 Properties Earning: ${M}
 Avg Commission/Agent: ETB ${E>0?(T/E).toFixed(0):0}`,timestamp:new Date}}if(_.includes("weekly")||_.includes("report")||_.includes("summary")){const E=(u==null?void 0:u.length)||0,T=(u==null?void 0:u.filter(B=>B.status==="approved").length)||0,M=(h==null?void 0:h.length)||0,O=(h==null?void 0:h.filter(B=>B.operatorVerified).length)||0,L=(f==null?void 0:f.length)||0;return{id:Date.now().toString(),role:"lemlem",content:` Weekly Operations Report:

 Agents: ${T}/${E} active
 Properties: ${O}/${M} verified
 Active Alerts: ${L}

${L>0?" Attention needed on active alerts!":" All systems operational"}`,timestamp:new Date}}return _.includes("help")||_.includes("commands")||_==="?"?{id:Date.now().toString(),role:"lemlem",content:` Available Commands:

 "Show top agents" - View agent leaderboard
 "List unverified properties" - Pending verifications
 "Payment summary" - Financial overview
 "Active alerts" - Current red flags
 "Weekly report" - Operations summary
 "Help" - Show this message`,timestamp:new Date}:{id:Date.now().toString(),role:"lemlem",content:` I didn't understand that command. Try:

 "Show top agents"
 "Active alerts"
 "Help" for more commands`,timestamp:new Date}},S=()=>{if(!i.trim())return;const N={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};n(_=>[..._,N]),a(""),l(!0),setTimeout(()=>{const _=v(i);n(E=>[...E,_]),l(!1)},500)},w=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),S())};return t?s.jsxs(_e,{className:"fixed bottom-6 right-6 w-96 h-[600px] shadow-2xl flex flex-col z-50",children:[s.jsx(Ge,{className:"pb-3 bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ye,{className:"flex items-center gap-2 text-lg",children:[s.jsx(ua,{className:"h-5 w-5"}),"Ask Lemlem",s.jsx(Rt,{variant:"secondary",className:"ml-2",children:"Admin"})]}),s.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>e(!1),className:"text-white hover:bg-white/20","data-testid":"button-close-lemlem-chat",children:s.jsx(Cc,{className:"h-4 w-4"})})]})}),s.jsxs(Te,{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map(N=>s.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${N.role==="user"?"bg-[#5B4032] text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("div",{className:"text-sm whitespace-pre-wrap",children:N.content}),s.jsx("div",{className:"text-xs mt-1 opacity-70",children:N.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},N.id)),o&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),s.jsx("div",{ref:c})]}),s.jsxs("div",{className:"p-4 border-t",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Or,{value:i,onChange:N=>a(N.target.value),onKeyPress:w,placeholder:"Ask Lemlem anything...",className:"flex-1",disabled:o,"data-testid":"input-lemlem-chat"}),s.jsx(Be,{onClick:S,disabled:!i.trim()||o,className:"bg-[#5B4032] hover:bg-[#4a3429]","data-testid":"button-send-lemlem",children:s.jsx(Ab,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2 text-center",children:'Try: "show top agents" or "active alerts"'})]})]}):s.jsx(Be,{className:"fixed bottom-6 right-6 rounded-full h-14 w-14 shadow-lg bg-[#5B4032] hover:bg-[#4a3429]",onClick:()=>e(!0),"data-testid":"button-open-lemlem-chat",children:s.jsx(iM,{className:"h-6 w-6"})})}const VXe="lemlem_operations",HXe=1;class WXe{constructor(){this.db=null,this.onlineListeners=[]}async init(){return new Promise((e,r)=>{const n=indexedDB.open(VXe,HXe);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,this.setupOnlineDetection(),e()},n.onupgradeneeded=i=>{const a=i.target.result;if(!a.objectStoreNames.contains("cached_data")){const o=a.createObjectStore("cached_data",{keyPath:"id"});o.createIndex("type","type",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}a.objectStoreNames.contains("pending_actions")||a.createObjectStore("pending_actions",{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),a.objectStoreNames.contains("analytics")||a.createObjectStore("analytics",{keyPath:"id"})}})}setupOnlineDetection(){window.addEventListener("online",()=>{console.log(" Connection restored - syncing offline data..."),this.syncPendingActions(),this.onlineListeners.forEach(e=>e())}),window.addEventListener("offline",()=>{console.log(" Offline mode activated - caching locally")})}isOnline(){return navigator.onLine}onOnline(e){this.onlineListeners.push(e)}async cacheData(e,r){this.db||await this.init();const n={id:`${e}_${Date.now()}`,type:e,data:r,timestamp:Date.now(),synced:this.isOnline()};return new Promise((i,a)=>{const c=this.db.transaction(["cached_data"],"readwrite").objectStore("cached_data").put(n);c.onsuccess=()=>i(),c.onerror=()=>a(c.error)})}async getCachedData(e){return this.db||await this.init(),new Promise((r,n)=>{const l=this.db.transaction(["cached_data"],"readonly").objectStore("cached_data").index("type").getAll(e);l.onsuccess=()=>{const c=l.result;if(c.length===0)r(null);else{const u=c.sort((h,f)=>f.timestamp-h.timestamp)[0];r(u.data)}},l.onerror=()=>n(l.error)})}async queueAction(e){this.db||await this.init();const r={...e,id:`action_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),retries:0};return new Promise((n,i)=>{const l=this.db.transaction(["pending_actions"],"readwrite").objectStore("pending_actions").put(r);l.onsuccess=()=>{console.log(" Action queued for sync:",e.action),n()},l.onerror=()=>i(l.error)})}async getPendingActions(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction(["pending_actions"],"readonly").objectStore("pending_actions").getAll();a.onsuccess=()=>e(a.result),a.onerror=()=>r(a.error)})}async syncPendingActions(){if(!this.isOnline()){console.log(" Still offline - cannot sync");return}const e=await this.getPendingActions();console.log(` Syncing ${e.length} pending actions...`);for(const r of e)try{(await fetch(`/api/admin/operations/${r.action}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entityType:r.entityType,entityId:r.entityId,payload:r.payload})})).ok?(await this.removePendingAction(r.id),console.log(` Synced action: ${r.action}`)):await this.incrementRetry(r.id)}catch(n){console.error(` Failed to sync action ${r.id}:`,n),await this.incrementRetry(r.id)}}async removePendingAction(e){if(this.db)return new Promise((r,n)=>{const o=this.db.transaction(["pending_actions"],"readwrite").objectStore("pending_actions").delete(e);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async incrementRetry(e){if(!this.db)return;const n=(await this.getPendingActions()).find(i=>i.id===e);if(n){if(n.retries+=1,n.retries>=5){console.warn(` Action ${e} failed 5 times, removing from queue`),await this.removePendingAction(e);return}return new Promise((i,a)=>{const c=this.db.transaction(["pending_actions"],"readwrite").objectStore("pending_actions").put(n);c.onsuccess=()=>i(),c.onerror=()=>a(c.error)})}}async clearOldCache(){this.db||await this.init();const e=Date.now()-10080*60*1e3;return new Promise((r,n)=>{const l=this.db.transaction(["cached_data"],"readwrite").objectStore("cached_data").index("timestamp").openCursor(IDBKeyRange.upperBound(e));l.onsuccess=c=>{const u=c.target.result;u?(u.delete(),u.continue()):r()},l.onerror=()=>n(l.error)})}async storeAnalyticsSnapshot(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction(["analytics"],"readwrite").objectStore("analytics").put({id:`snapshot_${e.timestamp}`,...e});o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getAnalyticsHistory(e=30){this.db||await this.init();const r=Date.now()-e*24*60*60*1e3;return new Promise((n,i)=>{const l=this.db.transaction(["analytics"],"readonly").objectStore("analytics").getAll();l.onsuccess=()=>{const u=l.result.filter(h=>h.timestamp>=r);n(u.sort((h,f)=>h.timestamp-f.timestamp))},l.onerror=()=>i(l.error)})}}const HS=new WXe;HS.init().catch(console.error);class GXe{detectAgentChurnRisk(e){const r=[];for(const n of e)if(n.activeProperties===0&&n.totalProperties>0){const i=Math.floor((Date.now()-new Date(n.createdAt).getTime())/864e5);i>30&&r.push({id:`churn_agent_${n.id}`,type:"agent_decline",severity:"high",title:`Agent Churn Risk: ${n.fullName}`,description:`Agent ${n.fullName} has ${n.totalProperties} registered properties but 0 active listings for ${i} days. High risk of abandonment.`,confidence:85,trend:"increasing",forecastDays:14,recommendedAction:"Re-engage agent with onboarding call or incentives",affectedEntity:{type:"agent",id:n.id,name:n.fullName}})}return r}predictHardwareFailures(e){const r=[];for(const n of e){const i=new Date(n.warrantyExpiry),a=new Date(n.installationDate),o=new Date,l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24)),c=Math.floor((o.getTime()-a.getTime())/(1e3*60*60*24));l<=60&&l>0&&r.push({id:`hardware_warranty_${n.id}`,type:"hardware_failure",severity:l<=30?"critical":"high",title:`Warranty Expiring: ${n.hardwareType}`,description:`${n.hardwareType} (SN: ${n.serialNumber}) warranty expires in ${l} days. High failure risk post-warranty.`,confidence:90,trend:"increasing",forecastDays:l,recommendedAction:"Schedule replacement or renew warranty before expiry",affectedEntity:{type:"hardware",id:n.id,name:`${n.manufacturer} ${n.model}`}}),c>730&&r.push({id:`hardware_age_${n.id}`,type:"hardware_failure",severity:"medium",title:`Aging Hardware: ${n.hardwareType}`,description:`${n.hardwareType} is ${Math.floor(c/365)} years old. Increased failure probability detected.`,confidence:65,trend:"increasing",forecastDays:90,recommendedAction:"Schedule preventive maintenance or replacement",affectedEntity:{type:"hardware",id:n.id,name:`${n.manufacturer} ${n.model}`}})}return r}detectComplianceDelays(e){const r=[];for(const n of e)if(n.status!=="completed"&&n.dueDate){const i=new Date(n.dueDate),a=new Date,o=Math.floor((i.getTime()-a.getTime())/(1e3*60*60*24));o<=14&&o>0&&r.push({id:`compliance_delay_${n.id}`,type:"compliance_delay",severity:o<=7?"critical":"high",title:"INSA Compliance Deadline Approaching",description:`${n.complianceCategory}: "${n.requirement}" due in ${o} days. Status: ${n.status}`,confidence:95,trend:"stable",forecastDays:o,recommendedAction:"Prioritize completion and evidence collection",affectedEntity:{type:"compliance",id:n.id,name:n.complianceCategory}}),o<0&&r.push({id:`compliance_overdue_${n.id}`,type:"compliance_delay",severity:"critical",title:`OVERDUE: ${n.complianceCategory}`,description:`Requirement "${n.requirement}" is ${Math.abs(o)} days overdue! Critical INSA audit risk.`,confidence:100,trend:"increasing",forecastDays:0,recommendedAction:"URGENT: Complete immediately and notify INSA",affectedEntity:{type:"compliance",id:n.id,name:n.complianceCategory}})}return r}detectPaymentAnomalies(e){const r=[],n=e.map(c=>parseFloat(c.amount||"0")),i=n.reduce((c,u)=>c+u,0)/n.length,a=Math.sqrt(n.reduce((c,u)=>c+Math.pow(u-i,2),0)/n.length);for(const c of e){const u=parseFloat(c.amount||"0"),h=Math.abs((u-i)/a);h>2&&r.push({id:`payment_anomaly_${c.id}`,type:"payment_anomaly",severity:"medium",title:"Unusual Payment Detected",description:`Transaction ${c.transactionId} (ETB ${u.toLocaleString()}) is ${h.toFixed(1)}x above average. Potential anomaly.`,confidence:70,trend:"stable",forecastDays:0,recommendedAction:"Review transaction for fraud or data entry error",affectedEntity:{type:"payment",id:c.id,name:c.transactionId}})}const o=e.filter(c=>!c.reconciled).length,l=o/e.length*100;return l>20&&r.push({id:"payment_reconciliation_risk",type:"payment_anomaly",severity:"high",title:"High Unreconciled Payment Rate",description:`${l.toFixed(1)}% of payments (${o}/${e.length}) are unreconciled. Risk of financial discrepancies.`,confidence:85,trend:"increasing",forecastDays:7,recommendedAction:"Urgent: Reconcile all pending payments within 48 hours"}),r}async analyzeTrends(){const e=await HS.getAnalyticsHistory(30);if(e.length<7)return{agentGrowth:"steady",propertyGrowth:"steady",alertTrend:"stable"};const r=e.map(c=>c.agentCount),n=this.calculateSlope(r),i=e.map(c=>c.propertyCount),a=this.calculateSlope(i),o=e.map(c=>c.alertCount),l=this.calculateSlope(o);return{agentGrowth:n>.5?"accelerating":n<-.5?"declining":"steady",propertyGrowth:a>.5?"accelerating":a<-.5?"declining":"steady",alertTrend:l<-.3?"improving":l>.3?"worsening":"stable"}}calculateSlope(e){if(e.length<2)return 0;const r=e[0];return(e[e.length-1]-r)/e.length}async generateAllPredictions(e){const r=[];e.agents&&r.push(...this.detectAgentChurnRisk(e.agents)),e.hardware&&r.push(...this.predictHardwareFailures(e.hardware)),e.compliance&&r.push(...this.detectComplianceDelays(e.compliance)),e.transactions&&r.push(...this.detectPaymentAnomalies(e.transactions));const n={critical:0,high:1,medium:2,low:3};return r.sort((i,a)=>n[i.severity]-n[a.severity])}}const YXe=new GXe;class KXe{constructor(){this.recognition=null,this.isListening=!1,this.currentLanguage="am-ET",this.onCommandCallbacks=[],this.onErrorCallbacks=[],this.initializeRecognition()}initializeRecognition(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){console.warn(" Speech recognition not supported in this browser");return}this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.maxAlternatives=3,this.recognition.onresult=r=>{const n=r.results[0][0],i={command:n.transcript,language:this.currentLanguage,confidence:n.confidence*100,timestamp:new Date};console.log(` Voice command detected: "${i.command}" (${i.confidence.toFixed(0)}% confidence)`),this.onCommandCallbacks.forEach(a=>a(i))},this.recognition.onerror=r=>{console.error(" Speech recognition error:",r.error),this.onErrorCallbacks.forEach(n=>n(r.error)),this.isListening=!1},this.recognition.onend=()=>{this.isListening=!1}}isSupported(){return this.recognition!==null}setLanguage(e){this.currentLanguage=e,this.recognition&&(this.recognition.lang=e)}startListening(){if(!this.recognition){this.onErrorCallbacks.forEach(e=>e("Speech recognition not supported"));return}if(this.isListening){console.warn(" Already listening");return}try{this.recognition.lang=this.currentLanguage,this.recognition.start(),this.isListening=!0,console.log(` Listening for ${this.currentLanguage==="am-ET"?"Amharic":"English"} commands...`)}catch(e){console.error(" Failed to start recognition:",e),this.onErrorCallbacks.forEach(r=>r("Failed to start listening"))}}stopListening(){this.recognition&&this.isListening&&(this.recognition.stop(),this.isListening=!1,console.log(" Stopped listening"))}getIsListening(){return this.isListening}onCommand(e){this.onCommandCallbacks.push(e)}onError(e){this.onErrorCallbacks.push(e)}parseCommand(e){const r=e.toLowerCase(),n={"show top agents":"top_agents","list unverified properties":"unverified_properties","active alerts":"active_alerts","payment summary":"payment_summary","weekly report":"weekly_report",help:"help"},i={"  ":"top_agents","  ":"unverified_properties"," ":"active_alerts"," ":"payment_summary"," ":"weekly_report",:"help"};for(const[a,o]of Object.entries(n))if(r.includes(a))return{action:o,confidence:90};for(const[a,o]of Object.entries(i))if(r.includes(a))return{action:o,confidence:85};return r.match(/agents?|/)?{action:"top_agents",confidence:70}:r.match(/propert(y|ies)|/)?{action:"unverified_properties",confidence:70}:r.match(/alert|/)?{action:"active_alerts",confidence:70}:r.match(/payment|/)?{action:"payment_summary",confidence:70}:r.match(/report|/)?{action:"weekly_report",confidence:70}:null}}const tc=new KXe;class XXe{generatePDF(e,r){const n=new $r,i=n.internal.pageSize.getWidth();let a=20;return n.setFontSize(20),n.setFont("helvetica","bold"),n.text(" Alga - Weekly Performance Pulse",i/2,a,{align:"center"}),a+=10,n.setFontSize(12),n.setFont("helvetica","normal"),n.text(`Week Ending: ${r.toLocaleDateString("en-ET")}`,i/2,a,{align:"center"}),a+=5,n.setFontSize(10),n.setTextColor(100),n.text("Lemlem Operations Dashboard - Confidential",i/2,a,{align:"center"}),n.setTextColor(0),a+=15,n.setDrawColor(139,69,19),n.line(15,a,i-15,a),a+=10,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Executive Summary",15,a),a+=8,n.setFontSize(10),n.setFont("helvetica","normal"),[` Total Agents: ${e.agents.total} (${e.agents.newThisWeek} new this week)`,` Active Properties: ${e.properties.total} (${e.properties.verified} verified)`,` Payment Volume: ETB ${e.payments.totalVolume.toLocaleString()}`,` Critical Alerts: ${e.alerts.critical} requiring immediate attention`].forEach(c=>{n.text(c,20,a),a+=6}),a+=5,this.addSection(n,a,"1. Agent Governance",[`Total Agents: ${e.agents.total}`,`Active Agents: ${e.agents.active}`,`New This Week: ${e.agents.newThisWeek}`,`Total Commissions Paid: ETB ${e.agents.totalCommissions.toLocaleString()}`,e.agents.topAgent?`Top Performer: ${e.agents.topAgent.name} (ETB ${e.agents.topAgent.earnings.toLocaleString()})`:"No agent data available"]),a+=45,this.addSection(n,a,"2. Supply Curation",[`Total Properties: ${e.properties.total}`,`Verified: ${e.properties.verified} (${Math.round(e.properties.verified/e.properties.total*100)}%)`,`Pending Verification: ${e.properties.pendingVerification}`,`New This Week: ${e.properties.newThisWeek}`]),a+=40,this.addSection(n,a,"3. Hardware Deployment",[`Devices Deployed: ${e.hardware.deployed}`,`Warranties Expiring Soon: ${e.hardware.expiringWarranties}`,`Total Investment: ETB ${e.hardware.totalInvestment.toLocaleString()}`]),a+=35,a>240&&(n.addPage(),a=20),this.addSection(n,a,"4. Payments & Compliance",[`Total Transaction Volume: ETB ${e.payments.totalVolume.toLocaleString()}`,`Transactions Processed: ${e.payments.transactions}`,`Unreconciled Payments: ${e.payments.unreconciled}`,e.payments.unreconciled>0?" ACTION REQUIRED: Reconcile pending payments":" All payments reconciled"]),a+=40,this.addSection(n,a,"5. Marketing & Growth",[`Active Campaigns: ${e.marketing.activeCampaigns}`,`Total Budget: ETB ${e.marketing.totalBudget.toLocaleString()}`,`Spent: ETB ${e.marketing.totalSpent.toLocaleString()} (${Math.round(e.marketing.totalSpent/e.marketing.totalBudget*100)}%)`,`Total Impressions: ${e.marketing.totalImpressions.toLocaleString()}`,`Total Conversions: ${e.marketing.totalConversions}`]),a+=45,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Active Alerts & Red Flags",15,a),a+=8,n.setFontSize(10),n.setFont("helvetica","normal"),[` Critical: ${e.alerts.critical}`,` High: ${e.alerts.high}`,` Medium: ${e.alerts.medium}`,` Low: ${e.alerts.low}`,`Total Active Alerts: ${e.alerts.total}`].forEach(c=>{n.text(c,20,a),a+=6}),a+=10,n.setDrawColor(139,69,19),n.line(15,a,i-15,a),a+=5,n.setFontSize(8),n.setTextColor(100),n.text("Alga One Member PLC  TIN: 0101809194  INSA Compliant",i/2,a,{align:"center"}),n.text(`Generated: ${new Date().toLocaleString("en-ET")}`,i/2,a+4,{align:"center"}),n}addSection(e,r,n,i){e.setFontSize(12),e.setFont("helvetica","bold"),e.text(n,15,r),r+=6,e.setFontSize(10),e.setFont("helvetica","normal"),i.forEach(a=>{e.text(`  ${a}`,20,r),r+=5})}async downloadReport(e,r){const n=this.generatePDF(e,r),i=`Alga_Weekly_Report_${r.toISOString().split("T")[0]}.pdf`;n.save(i),console.log(` Weekly report downloaded: ${i}`)}async scheduleWeeklyReport(e){const r=new Date;if(r.getDay()===5){const i=await e();await this.downloadReport(i,r),console.log(" Friday weekly report auto-generated!")}}}const HY=new XXe,ZXe="lemlem_reports",QXe=1,yh="weekly_reports";class JXe{constructor(){this.db=null}async init(){return new Promise((e,r)=>{const n=indexedDB.open(ZXe,QXe);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=i=>{const a=i.target.result;if(!a.objectStoreNames.contains(yh)){const o=a.createObjectStore(yh,{keyPath:"id"});o.createIndex("weekEnding","weekEnding",{unique:!1}),o.createIndex("generatedAt","generatedAt",{unique:!1})}}})}async saveReport(e){this.db||await this.init();const r=`report_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...e,id:r};return new Promise((i,a)=>{const c=this.db.transaction([yh],"readwrite").objectStore(yh).put(n);c.onsuccess=()=>{console.log(` Report saved to IndexedDB: ${r}`),i(r)},c.onerror=()=>a(c.error)})}async getAllReports(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([yh],"readonly").objectStore(yh).getAll();a.onsuccess=()=>{const l=a.result.sort((c,u)=>new Date(u.generatedAt).getTime()-new Date(c.generatedAt).getTime());e(l)},a.onerror=()=>r(a.error)})}async getReport(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([yh],"readonly").objectStore(yh).get(e);o.onsuccess=()=>r(o.result||null),o.onerror=()=>n(o.error)})}async deleteReport(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([yh],"readwrite").objectStore(yh).delete(e);o.onsuccess=()=>{console.log(` Report deleted: ${e}`),r()},o.onerror=()=>n(o.error)})}async downloadReport(e){const r=URL.createObjectURL(e.pdfBlob),n=document.createElement("a");n.href=r,n.download=`Alga_Weekly_Report_${e.weekEnding}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),console.log(` Downloaded report: ${e.weekEnding}`)}async getLastReportDate(){const e=await this.getAllReports();return e.length===0?null:new Date(e[0].weekEnding)}async shouldGenerateToday(){const e=new Date;if(e.getDay()!==5)return!1;const n=await this.getLastReportDate();if(!n)return!0;const i=new Date(e.getTime()-10080*60*1e3);return n<i}async cleanupOldReports(){const e=await this.getAllReports();if(e.length<=12)return;const r=e.slice(12);for(const n of r)await this.deleteReport(n.id);console.log(` Cleaned up ${r.length} old reports`)}}const Gg=new JXe;Gg.init().catch(console.error);const eZe="LemlemOfflineDB",tZe=2,Ts={MESSAGES:"messages",PENDING:"pending_messages",RESPONSES:"cached_responses",PROPERTY_KNOWLEDGE:"property_knowledge"};class rZe{constructor(){this.db=null}async init(){return new Promise((e,r)=>{const n=indexedDB.open(eZe,tZe);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=i=>{const a=i.target.result;if(!a.objectStoreNames.contains(Ts.MESSAGES)){const o=a.createObjectStore(Ts.MESSAGES,{keyPath:"id"});o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("synced","synced",{unique:!1})}if(a.objectStoreNames.contains(Ts.PENDING)||a.createObjectStore(Ts.PENDING,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),a.objectStoreNames.contains(Ts.RESPONSES)||a.createObjectStore(Ts.RESPONSES,{keyPath:"question"}).createIndex("language","language",{unique:!1}),!a.objectStoreNames.contains(Ts.PROPERTY_KNOWLEDGE)){const o=a.createObjectStore(Ts.PROPERTY_KNOWLEDGE,{keyPath:"propertyId"});o.createIndex("lastUpdated","lastUpdated",{unique:!1}),o.createIndex("synced","synced",{unique:!1})}}})}async saveMessage(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.MESSAGES],"readwrite").objectStore(Ts.MESSAGES).put(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()})}async getMessages(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([Ts.MESSAGES],"readonly").objectStore(Ts.MESSAGES).getAll();a.onerror=()=>r(a.error),a.onsuccess=()=>e(a.result||[])})}async clearOldMessages(){const e=await this.getMessages();if(e.length<=100)return;const n=e.sort((i,a)=>i.timestamp-a.timestamp).slice(0,e.length-100);for(const i of n)await this.deleteMessage(i.id)}async deleteMessage(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.MESSAGES],"readwrite").objectStore(Ts.MESSAGES).delete(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()})}async addPendingMessage(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.PENDING],"readwrite").objectStore(Ts.PENDING).put(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()})}async getPendingMessages(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([Ts.PENDING],"readonly").objectStore(Ts.PENDING).getAll();a.onerror=()=>r(a.error),a.onsuccess=()=>e(a.result||[])})}async deletePendingMessage(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.PENDING],"readwrite").objectStore(Ts.PENDING).delete(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()})}async cacheResponse(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.RESPONSES],"readwrite").objectStore(Ts.RESPONSES).put(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()})}async getCachedResponse(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.RESPONSES],"readonly").objectStore(Ts.RESPONSES).get(e.toLowerCase().trim());o.onerror=()=>n(o.error),o.onsuccess=()=>r(o.result||null)})}async preloadOfflineResponses(e="en"){const r=[{question:"what's the lockbox code?",answer:"I need an internet connection to fetch the lockbox code for you, dear. Please try again when you're online, or contact your host directly. ",language:e},{question:"what's the wifi password?",answer:"I need an internet connection to get the WiFi password for you. Please try again when you're online, or ask your host. ",language:e},{question:"when is check-out?",answer:"Check-out time is usually 11:00 AM, but I need an internet connection to confirm your specific property. Please try again when you're online. ",language:e},{question:"emergency contacts",answer:` **Ethiopia Emergency Numbers:**

 Police: 911
 Ambulance: 907
 Fire: 939
 Tourist Police: +251-11-155-0202

Stay safe! I'll get you more details when I'm back online. `,language:e},{question:"where can i eat nearby?",answer:"I need an internet connection to give you restaurant recommendations, dear. When you're back online, I'll share the best local spots with you! ",language:e}];for(const n of r)await this.cacheResponse(n)}async cachePropertyKnowledge(e){this.db||await this.init();const r={...e,lastUpdated:Date.now(),synced:!0};return new Promise((n,i)=>{const l=this.db.transaction([Ts.PROPERTY_KNOWLEDGE],"readwrite").objectStore(Ts.PROPERTY_KNOWLEDGE).put(r);l.onerror=()=>i(l.error),l.onsuccess=()=>{console.log(` Lemlem learned new tips for property #${e.propertyId}`),n()}})}async getPropertyKnowledge(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([Ts.PROPERTY_KNOWLEDGE],"readonly").objectStore(Ts.PROPERTY_KNOWLEDGE).get(e);o.onerror=()=>n(o.error),o.onsuccess=()=>{r(o.result||null)}})}async syncPropertyKnowledge(e,r){try{const n=await this.getPropertyKnowledge(e),i=r==null?void 0:r.nearestRestaurants,a=r==null?void 0:r.nearestAttractions,o=r==null?void 0:r.transportationTips;return n&&n.restaurants===(r==null?void 0:r.nearestRestaurants)&&n.attractions===(r==null?void 0:r.nearestAttractions)&&n.transportation===(r==null?void 0:r.transportationTips)?!1:i||a||o?(await this.cachePropertyKnowledge({propertyId:e,restaurants:r.nearestRestaurants,attractions:r.nearestAttractions,transportation:r.transportationTips,hostTips:r.otherInstructions,lastUpdated:Date.now(),synced:!0}),!0):!1}catch(n){return console.error("Failed to sync property knowledge:",n),!1}}async getAllPropertyKnowledge(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([Ts.PROPERTY_KNOWLEDGE],"readonly").objectStore(Ts.PROPERTY_KNOWLEDGE).getAll();a.onerror=()=>r(a.error),a.onsuccess=()=>e(a.result||[])})}async clearPropertyKnowledge(e){return this.db||await this.init(),new Promise((r,n)=>{const a=this.db.transaction([Ts.PROPERTY_KNOWLEDGE],"readwrite").objectStore(Ts.PROPERTY_KNOWLEDGE);if(e){const o=a.delete(e);o.onerror=()=>n(o.error),o.onsuccess=()=>r()}else{const o=a.clear();o.onerror=()=>n(o.error),o.onsuccess=()=>r()}})}}const bh=new rZe,nZe=()=>navigator.onLine,sZe=t=>{window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1))};function iZe(){const[t,e]=P.useState("overview"),[r,n]=P.useState(navigator.onLine),[i,a]=P.useState(0),[o,l]=P.useState(!1),[c,u]=P.useState("am-ET"),[h,f]=P.useState([]),{toast:y}=Vn(),{data:v}=Nr({queryKey:["/api/admin/operations/kpis"]}),{data:S}=Nr({queryKey:["/api/admin/operations/alerts"]}),{data:w}=Nr({queryKey:["/api/admin/operations/agents"]}),{data:N}=Nr({queryKey:["/api/admin/operations/hardware"]}),{data:_}=Nr({queryKey:["/api/admin/insa/compliance"]}),{data:E}=Nr({queryKey:["/api/admin/operations/payments"]}),T=(S==null?void 0:S.filter(K=>K.status==="active"))||[],M=T.filter(K=>K.severity==="critical"),O=T.filter(K=>K.severity==="high");P.useEffect(()=>{const K=()=>{n(!0),y({title:" Connection Restored",description:"Syncing offline data..."}),HS.syncPendingActions()},q=()=>{n(!1),y({title:" Offline Mode",description:"Data will be cached locally",variant:"destructive"})};return window.addEventListener("online",K),window.addEventListener("offline",q),tc.isSupported()&&(tc.onCommand(H=>{const Q=tc.parseCommand(H.command);Q&&(y({title:` Voice Command: ${H.language==="am-ET"?"":"English"}`,description:`Executing: ${Q.action}`}),U(Q.action))}),tc.onError(H=>{y({title:"Voice Recognition Error",description:H,variant:"destructive"}),l(!1)})),HS.getPendingActions().then(H=>{a(H.length)}),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",q)}},[]),P.useEffect(()=>{(w||N||_||E)&&YXe.generateAllPredictions({agents:w,hardware:N,compliance:_,transactions:E}).then(f)},[w,N,_,E]),P.useEffect(()=>{const K=async()=>{await Gg.shouldGenerateToday()&&v&&(console.log(" Friday detected - Auto-generating weekly report..."),await $(),y({title:" Friday Weekly Report Auto-Generated!",description:"Performance Pulse PDF downloaded successfully"}))};K();const q=setInterval(K,3600*1e3);return()=>clearInterval(q)},[v]);const L=()=>{o?(tc.stopListening(),l(!1)):(tc.setLanguage(c),tc.startListening(),l(!0),y({title:" Voice Activated",description:`Listening for ${c==="am-ET"?"Amharic":"English"} commands...`}))},B=()=>{const K=c==="am-ET"?"en-US":"am-ET";u(K),tc.setLanguage(K)},U=K=>{switch(K){case"top_agents":e("agents");break;case"unverified_properties":e("supply");break;case"active_alerts":e("overview");break;case"payment_summary":e("payments");break;case"weekly_report":$();break;case"help":y({title:"Voice Commands Available",description:"Try: 'Show top agents', 'Payment summary', 'Active alerts'"});break}},$=async()=>{if(!v){y({title:"Error",description:"KPI data not loaded yet",variant:"destructive"});return}try{const K=w||[],q=N||[],H=E||[],Q=[],Z=K.reduce((ue,je)=>ue+(parseFloat(je.commissionEarned)||0),0),J=K.length>0?K.sort((ue,je)=>parseFloat(je.commissionEarned||"0")-parseFloat(ue.commissionEarned||"0"))[0]:null,ye=q.reduce((ue,je)=>ue+(parseFloat(je.purchaseCost)||0),0),ge=H.reduce((ue,je)=>ue+parseFloat(je.amount||"0"),0),oe=Q.reduce((ue,je)=>ue+parseFloat(je.budget||"0"),0),re=Q.reduce((ue,je)=>ue+parseFloat(je.spent||"0"),0),me=Q.reduce((ue,je)=>ue+(je.impressions||0),0),ne={agents:{total:K.length,active:K.filter(ue=>ue.activeProperties>0).length,newThisWeek:v.newAgentsThisWeek||0,totalCommissions:Z,topAgent:J?{name:J.fullName||"Unknown",earnings:parseFloat(J.commissionEarned||"0")}:null},properties:{total:v.totalProperties||0,verified:v.totalProperties-v.pendingVerification||0,pendingVerification:v.pendingVerification||0,newThisWeek:0},hardware:{deployed:q.length,expiringWarranties:v.warrantyExpiring||0,totalInvestment:ye},payments:{totalVolume:ge,unreconciled:v.unreconciledPayments||0,transactions:H.length},marketing:{activeCampaigns:v.activeCampaigns||0,totalBudget:oe,totalSpent:re,totalImpressions:me,totalConversions:v.campaignConversions||0},alerts:{critical:M.length,high:O.length,medium:0,low:0,total:T.length}},se=HY.generatePDF(ne,new Date).output("blob");await Gg.saveReport({weekEnding:new Date().toISOString().split("T")[0],generatedAt:new Date().toISOString(),pdfBlob:se,metadata:{totalAgents:ne.agents.total,totalProperties:ne.properties.total,criticalAlerts:ne.alerts.critical}}),await HY.downloadReport(ne,new Date),await Gg.cleanupOldReports(),console.log(" Weekly Report generated and stored successfully"),y({title:" Weekly Report Generated",description:"PDF downloaded and saved to Reports library"})}catch(K){console.error("Failed to generate report:",K),y({title:"Error Generating Report",description:"Please try again",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-[#F6BD89]/10",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white p-6 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:["Lemlem Operations Dashboard",h.length>0&&s.jsxs(Rt,{className:"bg-orange-500 text-white",children:[s.jsx(Wf,{className:"h-3 w-3 mr-1"}),h.length," Predictions"]})]}),s.jsx("p",{className:"text-white/90",children:"Command Center for Alga Technologies PLC"})]}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r?s.jsxs(Rt,{className:"bg-green-600",children:[s.jsx(p2,{className:"h-3 w-3 mr-1"}),"Online"]}):s.jsxs(Rt,{className:"bg-red-600",children:[s.jsx(A4,{className:"h-3 w-3 mr-1"}),"Offline Mode"]}),i>0&&s.jsxs(Rt,{variant:"outline",className:"text-white border-white",children:[i," pending sync"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Be,{size:"sm",variant:"outline",onClick:B,className:"text-white border-white hover:bg-white/20",disabled:!tc.isSupported(),"data-testid":"button-toggle-language",children:c==="am-ET"?"":"English"}),s.jsxs(Be,{size:"sm",variant:o?"default":"outline",onClick:L,className:o?"bg-red-600 hover:bg-red-700":"text-white border-white hover:bg-white/20",disabled:!tc.isSupported(),"data-testid":"button-toggle-voice",children:[o?s.jsx(yre,{className:"h-4 w-4 mr-1"}):s.jsx(u5,{className:"h-4 w-4 mr-1"}),o?"Stop":"Voice"]}),s.jsxs(Be,{size:"sm",variant:"outline",onClick:$,className:"text-white border-white hover:bg-white/20","data-testid":"button-generate-weekly-report",children:[s.jsx(Dl,{className:"h-4 w-4 mr-1"}),"Weekly Report"]})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[M.length>0&&s.jsxs(Gu,{variant:"destructive",className:"mb-6","data-testid":"alert-critical",children:[s.jsx(Da,{className:"h-5 w-5"}),s.jsxs(k1,{children:["Critical Alerts (",M.length,")"]}),s.jsx(Yu,{children:M.map(K=>K.title).join(", ")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[s.jsxs(_e,{"data-testid":"card-kpi-agents",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-[#CD7F32]"}),"Active Agents"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(v==null?void 0:v.activeAgents)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+",(v==null?void 0:v.newAgentsThisWeek)||0," this week"]})]})]}),s.jsxs(_e,{"data-testid":"card-kpi-properties",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-[#CD7F32]"}),"Properties"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(v==null?void 0:v.totalProperties)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(v==null?void 0:v.pendingVerification)||0," pending verification"]})]})]}),s.jsxs(_e,{"data-testid":"card-kpi-hardware",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kv,{className:"h-4 w-4 text-[#CD7F32]"}),"Hardware"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(v==null?void 0:v.hardwareDeployed)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(v==null?void 0:v.warrantyExpiring)||0," warranty expiring soon"]})]})]}),s.jsxs(_e,{"data-testid":"card-kpi-payments",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ol,{className:"h-4 w-4 text-[#CD7F32]"}),"Payments"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(v==null?void 0:v.unreconciledPayments)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"unreconciled transactions"})]})]}),s.jsxs(_e,{"data-testid":"card-kpi-campaigns",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4 text-[#CD7F32]"}),"Campaigns"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:(v==null?void 0:v.activeCampaigns)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(v==null?void 0:v.campaignConversions)||0," conversions"]})]})]})]}),h.length>0&&s.jsxs(Gu,{className:"mb-6 border-orange-500 bg-orange-50",children:[s.jsx(Wf,{className:"h-5 w-5 text-orange-600"}),s.jsxs(k1,{className:"text-orange-900",children:[h.length," Predictive Insights Available"]}),s.jsxs(Yu,{className:"text-orange-800",children:[h.slice(0,3).map(K=>K.title).join("  "),h.length>3&&`  +${h.length-3} more`]})]}),s.jsxs(oc,{value:t,onValueChange:e,children:[s.jsxs(Fl,{className:"grid w-full grid-cols-7 mb-6",children:[s.jsx(tn,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(tn,{value:"agents","data-testid":"tab-agents",children:"Agents"}),s.jsx(tn,{value:"supply","data-testid":"tab-supply",children:"Supply"}),s.jsx(tn,{value:"hardware","data-testid":"tab-hardware",children:"Hardware"}),s.jsx(tn,{value:"payments","data-testid":"tab-payments",children:"Payments"}),s.jsx(tn,{value:"marketing","data-testid":"tab-marketing",children:"Marketing"}),s.jsxs(tn,{value:"insa","data-testid":"tab-insa",children:[s.jsx(ps,{className:"h-4 w-4 mr-1"}),"INSA"]})]}),s.jsx(Tn,{value:"overview",children:s.jsx(aZe,{alerts:T,predictions:h})}),s.jsx(Tn,{value:"agents",children:s.jsx(KGe,{})}),s.jsx(Tn,{value:"supply",children:s.jsx(XGe,{})}),s.jsx(Tn,{value:"hardware",children:s.jsx(ZGe,{})}),s.jsx(Tn,{value:"payments",children:s.jsx(QGe,{})}),s.jsx(Tn,{value:"marketing",children:s.jsx(JGe,{})}),s.jsx(Tn,{value:"insa",children:s.jsx(zXe,{})})]})]}),s.jsx(lZe,{}),s.jsx(qXe,{})]})}function aZe({alerts:t,predictions:e}){const r=n=>{switch(n){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-5 w-5 text-[#CD7F32]"}),"Active Alerts & Red Flags"]}),s.jsx(ar,{children:"System-wide notifications requiring attention"})]}),s.jsx(Te,{children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Mr,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),s.jsx("p",{children:"All systems operational"})]}):s.jsx("div",{className:"space-y-3",children:t.map(n=>s.jsx("div",{className:`p-3 rounded-lg border ${r(n.severity)}`,"data-testid":`alert-item-${n.id}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:n.title}),s.jsx("div",{className:"text-sm mt-1",children:n.description}),s.jsxs("div",{className:"text-xs mt-2 opacity-75",children:["Pillar: ",n.pillar,"  Type: ",n.alertType]})]}),s.jsx(Rt,{variant:"outline",children:n.severity})]})},n.id))})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Wf,{className:"h-5 w-5 text-[#CD7F32]"}),"Predictive Analytics"]}),s.jsx(ar,{children:"AI-powered insights and early warnings"})]}),s.jsx(Te,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Mr,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),s.jsx("p",{children:"No risks detected"})]}):s.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map((n,i)=>s.jsx("div",{className:`p-3 rounded-lg border ${r(n.severity)}`,"data-testid":`prediction-item-${i}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:n.title}),s.jsx("div",{className:"text-sm mt-1",children:n.description}),s.jsxs("div",{className:"text-xs mt-2 opacity-75 font-medium",children:["Recommended: ",n.recommendedAction]}),s.jsxs("div",{className:"text-xs mt-1 opacity-50",children:[n.confidence,"% confidence  ",n.forecastDays," day forecast"]})]}),s.jsx(Rt,{variant:"outline",children:n.severity})]})},n.id)),e.length>5&&s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["+",e.length-5," more predictions available"]})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-5 w-5 text-[#CD7F32]"}),"Recent Activity"]}),s.jsx(ar,{children:"Last 24 hours system activity"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsx("span",{children:"5 new agents verified"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),s.jsx("span",{children:"12 properties approved"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-purple-500"}),s.jsx("span",{children:"8 lockboxes deployed"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-orange-500"}),s.jsx("span",{children:"23 payments reconciled"})]})]})})]}),s.jsx(oZe,{})]})}function oZe(){const[t,e]=P.useState([]),[r,n]=P.useState(!0),{toast:i}=Vn();P.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await bh.getAllPropertyKnowledge();e(l)}catch(l){console.error("Failed to load cached properties:",l)}finally{n(!1)}},o=async()=>{n(!0),await a(),i({title:" Cache refreshed",description:`${t.length} properties with cached knowledge`,variant:"default"})};return s.jsxs(_e,{className:"lg:col-span-2",children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Wf,{className:"h-5 w-5 text-[#CD7F32]"}),"Lemlem Auto-Learning Mode"]}),s.jsx(ar,{children:"Property-specific knowledge cached for instant offline responses"})]}),s.jsx(Be,{variant:"outline",size:"sm",onClick:o,"data-testid":"button-refresh-cache",children:"Refresh Cache"})]})}),s.jsxs(Te,{children:[s.jsxs(Gu,{className:"mb-4 bg-blue-50 border-blue-200",children:[s.jsx(Wf,{className:"h-4 w-4 text-blue-600"}),s.jsx(k1,{children:"How Auto-Learning Works"}),s.jsx(Yu,{className:"text-sm",children:"When guests ask Lemlem about a property, the system automatically caches host-provided recommendations (restaurants, attractions, transportation). This enables instant offline responses without API costs. Property knowledge syncs automatically when property pages load."})]}),r?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading cached properties..."}):t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wf,{className:"h-12 w-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"No properties cached yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Knowledge will be cached when properties are viewed"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:[t.length," ",t.length===1?"property":"properties"," with cached knowledge"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.slice(0,6).map(l=>s.jsx("div",{className:"p-3 rounded-lg border bg-white","data-testid":`cached-property-${l.propertyId}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-sm",children:["Property #",l.propertyId]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-y-0.5",children:[l.restaurants&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mr,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Restaurants cached"})]}),l.attractions&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mr,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Attractions cached"})]}),l.transportation&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mr,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Transportation cached"})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Last synced: ",new Date(l.lastUpdated).toLocaleDateString()]})]}),s.jsx(Rt,{variant:"outline",className:"text-xs",children:l.synced?"Synced":"Pending"})]})},l.propertyId))}),t.length>6&&s.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-2",children:["+",t.length-6," more properties cached"]})]})]})]})}function lZe(){return s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white py-4 mt-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ps,{className:"h-5 w-5"}),s.jsx("span",{children:"INSA Certified System"}),s.jsx(Rt,{variant:"outline",className:"bg-white/20 text-white border-white/30",children:"Audit Ready"})]}),s.jsxs("div",{className:"text-right opacity-90",children:[s.jsx("div",{children:"Alga One Member PLC"}),s.jsx("div",{className:"text-xs",children:"TIN: 0101809194  INSA Compliant"})]})]})})})}function cZe(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var UD="ScrollArea",[_me]=yo(UD),[uZe,ed]=_me(UD),Eme=P.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=P.useState(null),[u,h]=P.useState(null),[f,y]=P.useState(null),[v,S]=P.useState(null),[w,N]=P.useState(null),[_,E]=P.useState(0),[T,M]=P.useState(0),[O,L]=P.useState(!1),[B,U]=P.useState(!1),$=Pn(e,q=>c(q)),K=m0(i);return s.jsx(uZe,{scope:r,type:n,dir:K,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:y,scrollbarX:v,onScrollbarXChange:S,scrollbarXEnabled:O,onScrollbarXEnabledChange:L,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:B,onScrollbarYEnabledChange:U,onCornerWidthChange:E,onCornerHeightChange:M,children:s.jsx(Tr.div,{dir:K,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});Eme.displayName=UD;var Tme="ScrollAreaViewport",kme=P.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=ed(Tme,r),l=P.useRef(null),c=Pn(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Tr.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});kme.displayName=Tme;var sf="ScrollAreaScrollbar",$D=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ed(sf,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return P.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(dZe,{...n,ref:e,forceMount:r}):i.type==="scroll"?s.jsx(hZe,{...n,ref:e,forceMount:r}):i.type==="auto"?s.jsx(Pme,{...n,ref:e,forceMount:r}):i.type==="always"?s.jsx(zD,{...n,ref:e}):null});$D.displayName=sf;var dZe=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ed(sf,t.__scopeScrollArea),[a,o]=P.useState(!1);return P.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(cl,{present:r||a,children:s.jsx(Pme,{"data-state":a?"visible":"hidden",...n,ref:e})})}),hZe=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ed(sf,t.__scopeScrollArea),a=t.orientation==="horizontal",o=RC(()=>c("SCROLL_END"),100),[l,c]=cZe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),P.useEffect(()=>{const u=i.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const y=()=>{const v=u[h];f!==v&&(c("SCROLL"),o()),f=v};return u.addEventListener("scroll",y),()=>u.removeEventListener("scroll",y)}},[i.viewport,a,c,o]),s.jsx(cl,{present:r||l!=="hidden",children:s.jsx(zD,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Jt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Jt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Pme=P.forwardRef((t,e)=>{const r=ed(sf,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=P.useState(!1),l=t.orientation==="horizontal",c=RC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:h)}},10);return ey(r.viewport,c),ey(r.content,c),s.jsx(cl,{present:n||a,children:s.jsx(zD,{"data-state":a?"visible":"hidden",...i,ref:e})})}),zD=P.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=ed(sf,t.__scopeScrollArea),a=P.useRef(null),o=P.useRef(0),[l,c]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Dme(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:y=>a.current=y,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:y=>o.current=y};function f(y,v){return yZe(y,o.current,l,v)}return r==="horizontal"?s.jsx(fZe,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollLeft,v=WY(y,l,i.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=f(y,i.dir))}}):r==="vertical"?s.jsx(mZe,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollTop,v=WY(y,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=f(y))}}):null}),fZe=P.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ed(sf,t.__scopeScrollArea),[o,l]=P.useState(),c=P.useRef(null),u=Pn(e,c,a.onScrollbarXChange);return P.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Ome,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":MC(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const y=a.viewport.scrollLeft+h.deltaX;t.onWheelScroll(y),Fme(y,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:GS(o.paddingLeft),paddingEnd:GS(o.paddingRight)}})}})}),mZe=P.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ed(sf,t.__scopeScrollArea),[o,l]=P.useState(),c=P.useRef(null),u=Pn(e,c,a.onScrollbarYChange);return P.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Ome,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":MC(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const y=a.viewport.scrollTop+h.deltaY;t.onWheelScroll(y),Fme(y,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:GS(o.paddingTop),paddingEnd:GS(o.paddingBottom)}})}})}),[pZe,Ime]=_me(sf),Ome=P.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...y}=t,v=ed(sf,r),[S,w]=P.useState(null),N=Pn(e,$=>w($)),_=P.useRef(null),E=P.useRef(""),T=v.viewport,M=n.content-n.viewport,O=Gi(h),L=Gi(c),B=RC(f,10);function U($){if(_.current){const K=$.clientX-_.current.left,q=$.clientY-_.current.top;u({x:K,y:q})}}return P.useEffect(()=>{const $=K=>{const q=K.target;(S==null?void 0:S.contains(q))&&O(K,M)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[T,S,M,O]),P.useEffect(L,[n,L]),ey(S,B),ey(v.content,B),s.jsx(pZe,{scope:r,scrollbar:S,hasThumb:i,onThumbChange:Gi(a),onThumbPointerUp:Gi(o),onThumbPositionChange:L,onThumbPointerDown:Gi(l),children:s.jsx(Tr.div,{...y,ref:N,style:{position:"absolute",...y.style},onPointerDown:Jt(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),_.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),U($))}),onPointerMove:Jt(t.onPointerMove,U),onPointerUp:Jt(t.onPointerUp,$=>{const K=$.target;K.hasPointerCapture($.pointerId)&&K.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=E.current,v.viewport&&(v.viewport.style.scrollBehavior=""),_.current=null})})})}),WS="ScrollAreaThumb",Mme=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ime(WS,t.__scopeScrollArea);return s.jsx(cl,{present:r||i.hasThumb,children:s.jsx(gZe,{ref:e,...n})})}),gZe=P.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=ed(WS,r),o=Ime(WS,r),{onThumbPositionChange:l}=o,c=Pn(e,f=>o.onThumbChange(f)),u=P.useRef(void 0),h=RC(()=>{u.current&&(u.current(),u.current=void 0)},100);return P.useEffect(()=>{const f=a.viewport;if(f){const y=()=>{if(h(),!u.current){const v=vZe(f,l);u.current=v,l()}};return l(),f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[a.viewport,h,l]),s.jsx(Tr.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Jt(t.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),S=f.clientX-v.left,w=f.clientY-v.top;o.onThumbPointerDown({x:S,y:w})}),onPointerUp:Jt(t.onPointerUp,o.onThumbPointerUp)})});Mme.displayName=WS;var qD="ScrollAreaCorner",Rme=P.forwardRef((t,e)=>{const r=ed(qD,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(xZe,{...t,ref:e}):null});Rme.displayName=qD;var xZe=P.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=ed(qD,r),[a,o]=P.useState(0),[l,c]=P.useState(0),u=!!(a&&l);return ey(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),ey(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),u?s.jsx(Tr.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function GS(t){return t?parseInt(t,10):0}function Dme(t,e){const r=t/e;return isNaN(r)?0:r}function MC(t){const e=Dme(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function yZe(t,e,r,n="ltr"){const i=MC(r),a=i/2,o=e||a,l=i-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return Lme([c,u],f)(t)}function WY(t,e,r="ltr"){const n=MC(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=L6(t,c);return Lme([0,o],[0,l])(u)}function Lme(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Fme(t,e){return t>0&&t<e}var vZe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function RC(t,e){const r=Gi(t),n=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),P.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ey(t,e){const r=Gi(e);Ba(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var Bme=Eme,bZe=kme,wZe=Rme;const Qf=P.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Bme,{ref:n,className:er("relative overflow-hidden",t),...r,children:[s.jsx(bZe,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(Ume,{}),s.jsx(wZe,{})]}));Qf.displayName=Bme.displayName;const Ume=P.forwardRef(({className:t,orientation:e="vertical",...r},n)=>s.jsx($D,{ref:n,orientation:e,className:er("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:s.jsx(Mme,{className:"relative flex-1 rounded-full bg-border"})}));Ume.displayName=$D.displayName;class NZe{constructor(){this.dbName="lemlem-v3-analytics",this.storeName="usage-events",this.db=null}async init(){return new Promise((e,r)=>{const n=indexedDB.open(this.dbName,1);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=i=>{const a=i.target.result;if(!a.objectStoreNames.contains(this.storeName)){const o=a.createObjectStore(this.storeName,{keyPath:"id"});o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("eventType","eventType",{unique:!1}),o.createIndex("userId","userId",{unique:!1}),o.createIndex("queryCategory","queryCategory",{unique:!1})}}})}async trackQuery(e,r,n){const i={id:`event-${Date.now()}-${Math.random()}`,timestamp:Date.now(),eventType:"query",userId:r,query:e,queryCategory:this.categorizeQuery(e),responseTime:n};await this.saveEvent(i)}async trackVoiceCommand(e,r){const n={id:`event-${Date.now()}-${Math.random()}`,timestamp:Date.now(),eventType:"voice_command",userId:r,query:e,queryCategory:this.categorizeQuery(e)};await this.saveEvent(n)}async trackPdfExport(e){const r={id:`event-${Date.now()}-${Math.random()}`,timestamp:Date.now(),eventType:"pdf_export",userId:e};await this.saveEvent(r)}async trackSummaryView(e){const r={id:`event-${Date.now()}-${Math.random()}`,timestamp:Date.now(),eventType:"summary_view",userId:e};await this.saveEvent(r)}async trackFeedback(e,r,n,i){const a={id:`event-${Date.now()}-${Math.random()}`,timestamp:Date.now(),eventType:"feedback",userId:i,query:e,satisfied:r,feedbackText:n,queryCategory:this.categorizeQuery(e)};await this.saveEvent(a)}categorizeQuery(e){const r=e.toLowerCase();return r.includes("agent")||r.includes("delala")?"agent_management":r.includes("commission")||r.includes("payment")?"commission_tracking":r.includes("property")||r.includes("verification")?"property_management":r.includes("overdue")||r.includes("compliance")||r.includes("tax")?"compliance":r.includes("hardware")||r.includes("warranty")||r.includes("device")?"hardware_deployment":r.includes("revenue")||r.includes("birr")||r.includes("telebirr")?"financial":"general"}async saveEvent(e){return this.db||await this.init(),new Promise((r,n)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(e);o.onsuccess=()=>r(),o.onerror=()=>n(o.error)})}async getAllEvents(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();a.onsuccess=()=>e(a.result),a.onerror=()=>r(a.error)})}async getEventsByDateRange(e,r){return(await this.getAllEvents()).filter(i=>i.timestamp>=e&&i.timestamp<=r)}async getMetrics(e=7){const r=Date.now(),n=r-e*24*60*60*1e3,i=await this.getEventsByDateRange(n,r),a=i.filter(B=>B.eventType==="query"||B.eventType==="voice_command"),o=a.length,c=new Set(i.filter(B=>B.userId).map(B=>B.userId)).size,u=a.filter(B=>B.responseTime).map(B=>B.responseTime),h=u.length>0?u.reduce((B,U)=>B+U,0)/u.length:0,f=i.filter(B=>B.eventType==="voice_command").length,y=i.filter(B=>B.eventType==="pdf_export").length,v={};a.forEach(B=>{B.query&&(v[B.query]=(v[B.query]||0)+1)});const S=Object.entries(v).sort((B,U)=>U[1]-B[1]).slice(0,10).map(([B,U])=>({query:B,count:U})),w={};a.forEach(B=>{B.queryCategory&&(w[B.queryCategory]=(w[B.queryCategory]||0)+1)});const N=i.filter(B=>B.eventType==="feedback"),_=N.filter(B=>B.satisfied).length,E=N.length>0?_/N.length*100:0,T=r-1440*60*1e3,M=i.filter(B=>B.timestamp>=T),L=new Set(M.filter(B=>B.userId).map(B=>B.userId)).size;return{totalQueries:o,uniqueUsers:c,avgResponseTime:Math.round(h),voiceCommandUsage:f,pdfExports:y,topQueries:S,queryCategoryBreakdown:w,userSatisfaction:Math.round(E),dailyActiveUsers:L}}async getFeedbackSummary(){return(await this.getAllEvents()).filter(r=>r.eventType==="feedback").map(r=>({query:r.query||"",satisfied:r.satisfied||!1,feedback:r.feedbackText,timestamp:r.timestamp})).sort((r,n)=>n.timestamp-r.timestamp)}async exportData(){const e=await this.getAllEvents(),r=await this.getMetrics(30);return JSON.stringify({exportDate:new Date().toISOString(),totalEvents:e.length,metrics:r,recentEvents:e.slice(-100)},null,2)}async clearData(){return this.db||await this.init(),new Promise((e,r)=>{const a=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();a.onsuccess=()=>e(),a.onerror=()=>r(a.error)})}}const fp=new NZe;function jZe(){const[t,e]=P.useState(null),[r,n]=P.useState(null),[i,a]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(null),{toast:h}=Vn(),{data:f,isLoading:y}=Nr({queryKey:["/api/lockboxes/pending"]}),{data:v,isLoading:S}=Nr({queryKey:["/api/security-cameras/pending"]}),{data:w,isLoading:N}=Nr({queryKey:["/api/properties/without-hardware"]}),_=Ln({mutationFn:async({id:B,status:U,reason:$})=>xn("POST",`/api/lockboxes/${B}/verify`,{status:U,rejectionReason:$||null}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/lockboxes/pending"]}),zn.invalidateQueries({queryKey:["/api/properties/without-hardware"]}),h({title:" Lockbox Verified",description:"Hardware verification status updated successfully"}),e(null),l(!1),a("")},onError:()=>{h({title:" Verification Failed",description:"Failed to update lockbox verification status",variant:"destructive"})}}),E=Ln({mutationFn:async({id:B,status:U,reason:$})=>xn("POST",`/api/security-cameras/${B}/verify`,{status:U,rejectionReason:$||null}),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/security-cameras/pending"]}),zn.invalidateQueries({queryKey:["/api/properties/without-hardware"]}),h({title:" Security Camera Verified",description:"Hardware verification status updated successfully"}),n(null),l(!1),a("")},onError:()=>{h({title:" Verification Failed",description:"Failed to update camera verification status",variant:"destructive"})}}),T=(B,U)=>{B==="lockbox"?_.mutate({id:U,status:"verified"}):E.mutate({id:U,status:"verified"})},M=(B,U)=>{u(B),B==="lockbox"?e(U):n(U),l(!0)},O=()=>{if(!i.trim()){h({title:" Rejection Reason Required",description:"Please provide a reason for rejection",variant:"destructive"});return}c==="lockbox"&&t?_.mutate({id:t.id,status:"rejected",reason:i}):c==="camera"&&r&&E.mutate({id:r.id,status:"rejected",reason:i})},L=((f==null?void 0:f.length)||0)+((v==null?void 0:v.length)||0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ro,{className:"h-4 w-4 text-[#CD7F32]"}),"Pending Lockboxes"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-[#CD7F32]",children:y?"...":(f==null?void 0:f.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting operator verification"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(qu,{className:"h-4 w-4 text-[#8B4513]"}),"Pending Cameras"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-[#8B4513]",children:S?"...":(v==null?void 0:v.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting operator verification"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4 text-orange-600"}),"Missing Hardware"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:N?"...":(w==null?void 0:w.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Properties without hardware"})]})]})]}),f&&f.length>0&&s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Ro,{className:"h-5 w-5 text-[#CD7F32]"}),"Pending Lockbox Verifications"]}),s.jsx(ar,{children:"Review lockbox installations and approve/reject hardware"})]}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-[400px] pr-4",children:s.jsx("div",{className:"space-y-4",children:f.map(B=>{var U,$;return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3","data-testid":`lockbox-verification-${B.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold","data-testid":`text-lockbox-property-${B.id}`,children:((U=B.property)==null?void 0:U.title)||`Property #${B.propertyId}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:($=B.property)==null?void 0:$.address})]}),s.jsx(Rt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Pending"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Brand:"}),s.jsx("p",{className:"font-medium",children:B.lockboxBrand})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Model:"}),s.jsx("p",{className:"font-medium",children:B.lockboxModel})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Serial:"}),s.jsx("p",{className:"font-medium",children:B.serialNumber})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"}),s.jsx("p",{className:"font-medium",children:B.installationLocation})]})]}),B.verificationPhotoUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Verification Photo:"}),s.jsx("img",{src:B.verificationPhotoUrl,alt:"Lockbox verification",className:"w-full max-w-md rounded-lg border"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(Be,{size:"sm",variant:"default",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>T("lockbox",B.id),disabled:_.isPending,"data-testid":`button-approve-lockbox-${B.id}`,children:[s.jsx(Mh,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(Be,{size:"sm",variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",onClick:()=>M("lockbox",B),disabled:_.isPending,"data-testid":`button-reject-lockbox-${B.id}`,children:[s.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]},B.id)})})})})]}),v&&v.length>0&&s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(qu,{className:"h-5 w-5 text-[#8B4513]"}),"Pending Security Camera Verifications"]}),s.jsx(ar,{children:"Review security camera installations and approve/reject hardware"})]}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-[400px] pr-4",children:s.jsx("div",{className:"space-y-4",children:v.map(B=>{var U,$;return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3","data-testid":`camera-verification-${B.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold","data-testid":`text-camera-property-${B.id}`,children:((U=B.property)==null?void 0:U.title)||`Property #${B.propertyId}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:($=B.property)==null?void 0:$.address})]}),s.jsx(Rt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Pending"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("p",{className:"font-medium",children:B.cameraType})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"}),s.jsx("p",{className:"font-medium",children:B.location})]})]}),B.verificationPhotoUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Verification Photo:"}),s.jsx("img",{src:B.verificationPhotoUrl,alt:"Security camera verification",className:"w-full max-w-md rounded-lg border"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(Be,{size:"sm",variant:"default",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>T("camera",B.id),disabled:E.isPending,"data-testid":`button-approve-camera-${B.id}`,children:[s.jsx(Mh,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(Be,{size:"sm",variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",onClick:()=>M("camera",B),disabled:E.isPending,"data-testid":`button-reject-camera-${B.id}`,children:[s.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]},B.id)})})})})]}),w&&w.length>0&&s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-orange-600"}),"Properties Without Hardware"]}),s.jsx(ar,{children:"These properties are missing lockbox or security cameras"})]}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-[300px] pr-4",children:s.jsx("div",{className:"space-y-2",children:w.map(B=>s.jsxs("div",{className:"border rounded-lg p-3 flex items-center justify-between","data-testid":`property-without-hardware-${B.id}`,children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:B.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:B.address})]}),s.jsx(Rt,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-300",children:"Missing Hardware"})]},B.id))})})})]}),L===0&&!y&&!S&&s.jsx(_e,{children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Mr,{className:"h-16 w-16 mx-auto mb-4 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"All Hardware Verified!"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending lockbox or security camera verifications"})]})}),s.jsx(Uo,{open:o,onOpenChange:l,children:s.jsxs(po,{children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Reject Hardware Verification"}),s.jsxs(Sc,{children:["Please provide a reason for rejecting this ",c==="lockbox"?"lockbox":"security camera"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(_i,{placeholder:"e.g., Photo unclear, device not visible, incorrect model, improper installation...",value:i,onChange:B=>a(B.target.value),rows:4,"data-testid":"input-rejection-reason"})}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>{l(!1),a("")},"data-testid":"button-cancel-rejection",children:"Cancel"}),s.jsx(Be,{variant:"destructive",onClick:O,disabled:_.isPending||E.isPending,"data-testid":"button-confirm-rejection",children:"Confirm Rejection"})]})]})})]})}function SZe(){const[t,e]=P.useState([]),[r,n]=P.useState(""),[i,a]=P.useState(!1),[o,l]=P.useState("en-US"),[c,u]=P.useState(!1),{toast:h}=Vn(),{user:f}=ti();P.useEffect(()=>{fp.init().catch(console.error)},[]);const{data:y,refetch:v}=Nr({queryKey:["/api/admin/lemlem-ops/weekly-summary"],refetchInterval:6e4});P.useEffect(()=>{const E=setInterval(()=>{const T=new Date,M=T.getDay(),O=T.getHours();M===0&&O===6&&(v(),h({title:" Weekly Summary Updated",description:"Sunday 6am automatic refresh complete",variant:"default"}))},36e5);return()=>clearInterval(E)},[v,h]);const S=P.useCallback(async _=>{const E=_||r;if(!E.trim())return;u(!0);const T=Date.now();try{const O=await(await fetch("/api/admin/lemlem-ops/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:E})})).json(),L=Date.now()-T,B={id:`msg-${Date.now()}`,query:E,response:O.response,timestamp:Date.now(),type:_?"voice":"text",insights:O.insights};e(U=>[...U,B]),n(""),_?await fp.trackVoiceCommand(E,f==null?void 0:f.id):await fp.trackQuery(E,f==null?void 0:f.id,L)}catch(M){console.error("Query failed:",M),h({title:"Query Failed",description:"Could not process operations query",variant:"destructive"})}finally{u(!1)}},[r,h,f==null?void 0:f.id]);P.useEffect(()=>{tc.setLanguage(o),tc.onCommand(_=>{n(_.command),a(!1),S(_.command)}),tc.onError(_=>{console.error("Voice error:",_),a(!1),h({title:"Voice Recognition Error",description:_,variant:"destructive"})})},[o,h,S]);const w=()=>{i?(tc.stopListening(),a(!1)):(a(!0),tc.startListening())},N=async()=>{const _=new $r;_.setFontSize(18),_.text("Lemlem Operations Summary",20,20),_.setFontSize(10),_.text(`Generated: ${new Date().toLocaleString()}`,20,30);let E=45;t.forEach((T,M)=>{E>270&&(_.addPage(),E=20),_.setFontSize(12),_.text(`Q${M+1}: ${T.query}`,20,E),E+=10,_.setFontSize(10);const O=_.splitTextToSize(T.response,170);_.text(O,20,E),E+=O.length*5+10}),_.save(`lemlem-ops-${Date.now()}.pdf`),await fp.trackPdfExport(f==null?void 0:f.id),h({title:" PDF Exported",description:"Operations summary downloaded",variant:"default"})};return s.jsxs("div",{className:"min-h-screen bg-[#FFF8DC]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(Be,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"text-white hover:bg-white/20","data-testid":"button-back",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Wf,{className:"h-8 w-8"}),"Ask Lemlem (Operations)"]}),s.jsx("p",{className:"text-white/80 mt-2",children:"AI-powered management assistant  Zero-cost analytics  Offline-first"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>window.location.href="/admin/lemlem-validation",className:"bg-white/10 text-white border-white/30 hover:bg-white/20","data-testid":"button-validation-metrics",children:[s.jsx(nM,{className:"h-4 w-4 mr-2"}),"Metrics"]}),t.length>0&&s.jsxs(Be,{variant:"outline",size:"sm",onClick:N,className:"bg-white/10 text-white border-white/30 hover:bg-white/20","data-testid":"button-export-pdf",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y&&s.jsx(CZe,{summary:y}),s.jsx(AZe,{summary:y}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5 text-[#CD7F32]"}),"Operations Query"]}),s.jsx(ar,{children:"Type your question in plain English or Amharic"})]}),s.jsxs(Te,{children:[s.jsx(Qf,{className:"h-[400px] pr-4 mb-4",children:t.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Wf,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Ask Lemlem anything"}),s.jsx("p",{className:"text-sm mt-2",children:`Try: "Show today's top agents" or "List overdue verifications"`})]}):s.jsx("div",{className:"space-y-4",children:t.map(_=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Rt,{variant:"outline",className:"text-xs",children:_.type==="voice"?"":""}),s.jsx("div",{className:"flex-1 bg-blue-50 p-3 rounded-lg",children:s.jsx("p",{className:"font-medium text-sm",children:_.query})})]}),s.jsxs("div",{className:"flex items-start gap-2 ml-8",children:[s.jsx(Wf,{className:"h-5 w-5 text-[#CD7F32] mt-1"}),s.jsxs("div",{className:"flex-1 bg-white p-3 rounded-lg border",children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.response}),_.insights&&_.insights.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t space-y-1",children:_.insights.map((E,T)=>s.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[s.jsx(ua,{className:"h-3 w-3 text-yellow-500 mt-0.5"}),s.jsx("span",{children:E})]},T))})]})]})]},_.id))})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Or,{placeholder:"Ask about operations, agents, bookings, compliance...",value:r,onChange:_=>n(_.target.value),onKeyDown:_=>_.key==="Enter"&&S(),disabled:c||i,"data-testid":"input-query",className:"flex-1"}),s.jsxs(Be,{onClick:()=>S(),disabled:c||!r.trim(),"data-testid":"button-submit-query",className:"bg-[#CD7F32] hover:bg-[#B87025] text-white",children:[s.jsx(Ab,{className:"h-4 w-4 mr-2"}),"Ask"]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Optional: Voice input (manual activation)"}),i&&s.jsxs(Gu,{className:"bg-red-50 border-red-200 mb-3",children:[s.jsxs(k1,{className:"text-sm font-medium text-red-700 flex items-center gap-2",children:[s.jsx(u5,{className:"h-4 w-4 animate-pulse"}),"Listening... Speak now"]}),s.jsx(Yu,{className:"text-xs text-red-600",children:"Voice recognition active. Click mic to stop."})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(Be,{variant:"outline",size:"sm",onClick:w,className:i?"bg-red-100 border-red-300":"hover:bg-gray-100","data-testid":"button-voice",children:i?s.jsxs(s.Fragment,{children:[s.jsx(yre,{className:"h-4 w-4 mr-2 text-red-600"}),"Stop Listening"]}):s.jsxs(s.Fragment,{children:[s.jsx(u5,{className:"h-4 w-4 mr-2 text-gray-600"}),"Start Voice Input"]})}),!i&&s.jsxs("div",{className:"absolute bottom-full mb-2 left-0 px-3 py-1.5 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:["Click to start voice input",s.jsx("div",{className:"absolute top-full left-4 border-4 border-transparent border-t-gray-900"})]})]}),s.jsxs("select",{value:o,onChange:_=>l(_.target.value),className:"text-xs border rounded px-2 py-1.5 bg-white","data-testid":"select-voice-language",children:[s.jsx("option",{value:"en-US",children:" English"}),s.jsx("option",{value:"am-ET",children:" "})]})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-sm",children:"Quick Queries"})}),s.jsx(Te,{className:"space-y-2",children:["Show today's top agents","List overdue verifications","Generate weekly occupancy","Missing TeleBirr reconciliations","Agent status in CMC","Payment mismatches","Warranty expiring this month","New bookings this week"].map(_=>s.jsx(Be,{variant:"outline",size:"sm",className:"w-full justify-start text-left text-xs",onClick:()=>{n(_),S(_)},"data-testid":`button-quick-${_.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,children:_},_))})]}),s.jsxs(_e,{children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"text-sm flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4"}),"Auto-Refresh"]})}),s.jsxs(Te,{className:"text-xs text-muted-foreground",children:[s.jsx("p",{children:"Weekly summary updates every Sunday at 6:00 AM automatically."}),s.jsxs("p",{className:"mt-2",children:["Next refresh: ",_Ze()]})]})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ro,{className:"h-6 w-6 text-[#CD7F32]"}),"Hardware Deployment"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Verify lockbox and security camera installations for property approval"})]}),s.jsx(jZe,{})]})]})]})}function CZe({summary:t}){return s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-[#CD7F32]"}),"Weekly Executive Summary"]}),s.jsxs(ar,{children:["Automated report  Updated ",new Date(t.generatedAt).toLocaleDateString()]})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(Ki,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),s.jsx("div",{className:"text-2xl font-bold",children:t.agentPerformance.totalActive}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Agents"}),t.agentPerformance.newThisWeek>0&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["+",t.agentPerformance.newThisWeek," new"]})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(mo,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),s.jsxs("div",{className:"text-2xl font-bold",children:[t.bookingGrowth.percentChange>0?"+":"",t.bookingGrowth.percentChange,"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Booking Growth"}),s.jsxs("div",{className:"text-xs mt-1",children:[t.bookingGrowth.thisWeek," this week"]})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(ii,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),s.jsxs("div",{className:"text-2xl font-bold",children:[(t.commissionRevenue.total/1e3).toFixed(1),"k"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Commission ETB"}),s.jsxs("div",{className:"text-xs mt-1 text-orange-600",children:[t.commissionRevenue.pending," pending"]})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(Da,{className:"h-6 w-6 mx-auto mb-2 text-orange-600"}),s.jsx("div",{className:"text-2xl font-bold",children:t.complianceAlerts.length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Alerts"})]})]}),t.agentPerformance.topPerformers.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Top Performers This Week"}),s.jsx("div",{className:"space-y-2",children:t.agentPerformance.topPerformers.slice(0,3).map((e,r)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Rt,{variant:"outline",className:"text-xs",children:["#",r+1]}),s.jsx("span",{className:"font-medium",children:e.agentId})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{children:[e.bookings," bookings"]}),s.jsxs("div",{className:"text-muted-foreground",children:[e.commission," ETB"]})]})]},e.agentId))})]})]})]})}function AZe({summary:t}){if(!t)return null;const e=[];if(t.agentPerformance.newThisWeek>0){const r=(t.agentPerformance.totalActive-t.agentPerformance.newThisWeek)/t.agentPerformance.totalActive*100;e.push(`Agent retention at ${r.toFixed(0)}% - ${r>80?"Strong stability":"Consider engagement programs"}`)}return t.bookingGrowth.percentChange!==0&&(t.bookingGrowth.thisWeek*(1+t.bookingGrowth.percentChange/100)*4,e.push(`Projected ${t.bookingGrowth.percentChange>0?"increase":"decrease"} of ${Math.abs(t.bookingGrowth.percentChange*3).toFixed(0)}% next quarter if trend holds`)),t.commissionRevenue.pending>t.commissionRevenue.paid*.2&&e.push(`High pending commissions (${t.commissionRevenue.pending} ETB) - prioritize reconciliation`),t.complianceAlerts.length>5&&e.push(`${t.complianceAlerts.length} compliance alerts require attention - allocate resources`),s.jsxs(_e,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5 text-purple-600"}),"AI Predictive Insights"]}),s.jsx(ar,{children:"Forward-looking analytics from current trends"})]}),s.jsx(Te,{children:e.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground text-sm",children:[s.jsx(Mr,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),"All metrics within normal range"]}):s.jsx("div",{className:"space-y-3",children:e.map((r,n)=>s.jsxs(Gu,{className:"bg-white/50",children:[s.jsx(ua,{className:"h-4 w-4 text-yellow-500"}),s.jsx(Yu,{className:"text-sm",children:r})]},n))})})]})}function _Ze(){const t=new Date,e=new Date(t);return e.setDate(t.getDate()+((7-t.getDay())%7||7)),e.setHours(6,0,0,0),e.toLocaleString()}function EZe(){const[t,e]=P.useState(null),[r,n]=P.useState([]),[i,a]=P.useState(7),[o,l]=P.useState(!0);P.useEffect(()=>{c()},[i]);const c=async()=>{l(!0);try{await fp.init();const f=await fp.getMetrics(i),y=await fp.getFeedbackSummary();e(f),n(y)}catch(f){console.error("Failed to load metrics:",f)}finally{l(!1)}},u=async()=>{const f=await fp.exportData(),y=new Blob([f],{type:"application/json"}),v=URL.createObjectURL(y),S=document.createElement("a");S.href=v,S.download=`lemlem-v3-metrics-${Date.now()}.json`,S.click(),URL.revokeObjectURL(v)};if(o)return s.jsx("div",{className:"min-h-screen bg-[#FFF8DC] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#CD7F32] mx-auto mb-4"}),s.jsx("p",{className:"text-[#5B4032]",children:"Loading validation metrics..."})]})});const h=t?TZe(t):0;return s.jsxs("div",{className:"min-h-screen bg-[#FFF8DC]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[s.jsxs(Be,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"text-white hover:bg-white/20 mb-4","data-testid":"button-back",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(nM,{className:"h-8 w-8"}),"Lemlem v3 Validation Metrics"]}),s.jsx("p",{className:"text-white/80 mt-2",children:"Real-world usage data to determine v4 readiness"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:i,onChange:f=>a(Number(f.target.value)),className:"bg-white/20 text-white rounded-lg px-4 py-2 border border-white/30","data-testid":"select-days-range",children:[s.jsx("option",{value:7,className:"text-gray-900",children:"Last 7 days"}),s.jsx("option",{value:14,className:"text-gray-900",children:"Last 14 days"}),s.jsx("option",{value:30,className:"text-gray-900",children:"Last 30 days"})]}),s.jsxs(Be,{onClick:u,className:"bg-white text-[#5B4032] hover:bg-white/90","data-testid":"button-export-metrics",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs(_e,{className:"mb-6 border-[#CD7F32] bg-gradient-to-br from-[#FFF8DC] to-white",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{className:"text-2xl text-[#2d1405]",children:"v4 Recommendation Engine Readiness"}),s.jsxs(ar,{children:["Based on ",i," days of real user data"]})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-3xl font-bold text-[#CD7F32]",children:[h,"%"]}),s.jsx(Rt,{className:h>=70?"bg-green-500":h>=50?"bg-yellow-500":"bg-red-500",children:h>=70?" Build v4":h>=50?" More Testing Needed":" Continue v3 Validation"})]}),s.jsx(R4,{value:h,className:"h-3"}),s.jsx("p",{className:"text-sm text-gray-600",children:h>=70?"Strong evidence that users need action recommendations. v4 should be built.":h>=50?"Some indicators suggest v4 value. Continue testing for 1-2 more weeks.":"v3 validation still in progress. Need more usage data to determine v4 necessity."})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs(_e,{className:"border-[#CD7F32]","data-testid":"card-total-queries",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"Total Queries"}),s.jsx(iM,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-[#2d1405]",children:(t==null?void 0:t.totalQueries)||0}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:i===7?"Last 7 days":i===14?"Last 14 days":"Last 30 days"})]})]}),s.jsxs(_e,{className:"border-[#CD7F32]","data-testid":"card-unique-users",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"Active Users"}),s.jsx(Ki,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-[#2d1405]",children:(t==null?void 0:t.uniqueUsers)||0}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[(t==null?void 0:t.dailyActiveUsers)||0," today"]})]})]}),s.jsxs(_e,{className:"border-[#CD7F32]","data-testid":"card-avg-response",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"Avg Response Time"}),s.jsx(ei,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-[#2d1405]",children:[(t==null?void 0:t.avgResponseTime)||0,"ms"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Browser-native speed"})]})]}),s.jsxs(_e,{className:"border-[#CD7F32]","data-testid":"card-satisfaction",children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium text-[#2d1405]",children:"User Satisfaction"}),s.jsx(e9,{className:"h-4 w-4 text-[#CD7F32]"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold text-[#2d1405]",children:[(t==null?void 0:t.userSatisfaction)||0,"%"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Positive feedback rate"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(_e,{className:"border-[#CD7F32]",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-[#2d1405]",children:"Feature Adoption"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u5,{className:"h-4 w-4 text-[#CD7F32]"}),s.jsx("span",{className:"text-sm",children:"Voice Commands"})]}),s.jsxs(Rt,{variant:"outline",children:[(t==null?void 0:t.voiceCommandUsage)||0," uses"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(s2e,{className:"h-4 w-4 text-[#CD7F32]"}),s.jsx("span",{className:"text-sm",children:"PDF Exports"})]}),s.jsxs(Rt,{variant:"outline",children:[(t==null?void 0:t.pdfExports)||0," exports"]})]})]})]}),s.jsxs(_e,{className:"border-[#CD7F32]",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-[#2d1405]",children:"Query Categories"})}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-32",children:s.jsx("div",{className:"space-y-2",children:(t==null?void 0:t.queryCategoryBreakdown)&&Object.entries(t.queryCategoryBreakdown).map(([f,y])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm capitalize",children:f.replace(/_/g," ")}),s.jsx(Rt,{variant:"secondary",children:y})]},f))})})})]})]}),s.jsxs(_e,{className:"border-[#CD7F32] mb-6",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{className:"text-[#2d1405]",children:"Top 10 Most Asked Questions"}),s.jsx(ar,{children:"These indicate where users need the most operational intelligence"})]}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-64",children:s.jsx("div",{className:"space-y-3",children:t==null?void 0:t.topQueries.map((f,y)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#FFF8DC] rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Rt,{className:"bg-[#CD7F32] text-white",children:["#",y+1]}),s.jsx("span",{className:"text-sm",children:f.query})]}),s.jsxs(Rt,{variant:"outline",children:[f.count," times"]})]},y))})})})]}),s.jsxs(_e,{className:"border-[#CD7F32]",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{className:"text-[#2d1405]",children:"Recent Feedback"}),s.jsx(ar,{children:"Direct user feedback on query usefulness"})]}),s.jsx(Te,{children:s.jsx(Qf,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:r.map((f,y)=>s.jsxs("div",{className:"p-4 bg-[#FFF8DC] rounded-lg border border-[#CD7F32]/20",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f.satisfied?s.jsx(e9,{className:"h-4 w-4 text-green-600"}):s.jsx(A2e,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium",children:f.satisfied?"Helpful":"Not Helpful"})]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(f.timestamp).toLocaleDateString()})]}),s.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[s.jsx("strong",{children:"Query:"})," ",f.query]}),f.feedback&&s.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',f.feedback,'"']})]},y))})})})]})]})]})}function TZe(t){let e=0;t.totalQueries>=100?e+=30:t.totalQueries>=50?e+=20:t.totalQueries>=20&&(e+=10),t.userSatisfaction>=80?e+=20:t.userSatisfaction>=60?e+=15:t.userSatisfaction>=40&&(e+=10),t.uniqueUsers>=5?e+=20:t.uniqueUsers>=3?e+=15:t.uniqueUsers>=1&&(e+=10);const r=t.voiceCommandUsage+t.pdfExports;r>=20?e+=15:r>=10?e+=10:r>=5&&(e+=5);const n=Object.keys(t.queryCategoryBreakdown).length;return n>=5?e+=15:n>=3?e+=10:n>=2&&(e+=5),Math.min(100,e)}function kZe(){const[t,e]=P.useState([]),[r,n]=P.useState(!0),{toast:i}=Vn();P.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const c=await Gg.getAllReports();e(c)}catch(c){console.error("Failed to load reports:",c),i({title:"Error Loading Reports",description:"Please try again",variant:"destructive"})}finally{n(!1)}},o=async c=>{try{await Gg.downloadReport(c),i({title:" Report Downloaded",description:`Week ending ${new Date(c.weekEnding).toLocaleDateString("en-ET")}`})}catch(u){console.error("Failed to download report:",u),i({title:"Download Failed",description:"Please try again",variant:"destructive"})}},l=async c=>{if(confirm(`Delete report for week ending ${new Date(c.weekEnding).toLocaleDateString("en-ET")}?`))try{await Gg.deleteReport(c.id),await a(),i({title:" Report Deleted",description:"Report removed from archive"})}catch(u){console.error("Failed to delete report:",u),i({title:"Delete Failed",description:"Please try again",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-[#F6BD89]/10",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white p-6 shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(Vu,{className:"h-8 w-8"}),"Weekly Reports Archive"]}),s.jsx("p",{className:"text-white/90",children:"Historical Performance Pulse Reports"})]}),s.jsx(tb,{href:"/admin/lemlem-ops",children:s.jsxs(Be,{variant:"outline",className:"text-white border-white hover:bg-white/20",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pi,{className:"h-4 w-4 text-[#CD7F32]"}),"Total Reports"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:t.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Archived weekly summaries"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pi,{className:"h-4 w-4 text-[#CD7F32]"}),"Latest Report"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-lg font-bold",children:t.length>0?new Date(t[0].weekEnding).toLocaleDateString("en-ET",{month:"short",day:"numeric"}):"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Most recent week"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mo,{className:"h-4 w-4 text-[#CD7F32]"}),"Coverage"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:Math.min(t.length,12)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weeks tracked (max 12)"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs(Ye,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Dl,{className:"h-4 w-4 text-[#CD7F32]"}),"Storage"]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-lg font-bold",children:"Offline"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"100% browser-native"})]})]})]}),s.jsxs(_e,{children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5 text-[#CD7F32]"}),"Archived Reports"]}),s.jsx(ar,{children:"Weekly Performance Pulse PDFs - Download or delete"})]}),s.jsx(Te,{children:r?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading reports..."}):t.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Vu,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No reports generated yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Reports are automatically generated every Friday"})]}):s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"Week Ending"}),s.jsx(zt,{children:"Generated"}),s.jsx(zt,{children:"Agents"}),s.jsx(zt,{children:"Properties"}),s.jsx(zt,{children:"Critical Alerts"}),s.jsx(zt,{className:"text-right",children:"Actions"})]})}),s.jsx(Bo,{children:t.map(c=>s.jsxs(Mn,{"data-testid":`report-row-${c.id}`,children:[s.jsx(Ot,{className:"font-medium",children:new Date(c.weekEnding).toLocaleDateString("en-ET",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),s.jsx(Ot,{className:"text-sm text-muted-foreground",children:new Date(c.generatedAt).toLocaleString("en-ET",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ki,{className:"h-3 w-3 text-muted-foreground"}),c.metadata.totalAgents]})}),s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(kn,{className:"h-3 w-3 text-muted-foreground"}),c.metadata.totalProperties]})}),s.jsx(Ot,{children:c.metadata.criticalAlerts>0?s.jsxs(Rt,{variant:"destructive",className:"flex items-center gap-1 w-fit",children:[s.jsx(Da,{className:"h-3 w-3"}),c.metadata.criticalAlerts]}):s.jsx(Rt,{className:"bg-green-100 text-green-800",children:"None"})}),s.jsx(Ot,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>o(c),"data-testid":`button-download-${c.id}`,children:[s.jsx(Dl,{className:"h-4 w-4 mr-1"}),"Download"]}),s.jsx(Be,{size:"sm",variant:"outline",onClick:()=>l(c),className:"text-red-600 hover:bg-red-50","data-testid":`button-delete-${c.id}`,children:s.jsx(Nre,{className:"h-4 w-4"})})]})})]},c.id))})]})})]}),s.jsxs(_e,{className:"mt-6 border-[#CD7F32]",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-sm",children:" Automatic Report Generation"})}),s.jsx(Te,{className:"text-sm text-muted-foreground",children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:" Reports are automatically generated every Friday"}),s.jsx("li",{children:" Stored locally in IndexedDB (works offline)"}),s.jsx("li",{children:" Last 12 weeks retained automatically"}),s.jsx("li",{children:" 100% FREE - no cloud storage costs"}),s.jsx("li",{children:" Download manually from Operations Dashboard anytime"})]})})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#5B4032] to-[#CD7F32] text-white py-4 mt-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("div",{children:"Alga One Member PLC  TIN: 0101809194  INSA Compliant"}),s.jsx("div",{className:"text-right opacity-90",children:"Reports Archive System"})]})})})]})}function PZe(){var qe;const{toast:t}=Vn(),[e,r]=P.useState(""),[n,i]=P.useState(""),[a,o]=P.useState(""),[l,c]=P.useState(""),[u,h]=P.useState(""),[f,y]=P.useState(1),[v]=P.useState(50),[S,w]=P.useState(""),[N,_]=P.useState(!1),[E,T]=P.useState(!1),[M,O]=P.useState(!1),[L,B]=P.useState(""),[U,$]=P.useState(null),[K,q]=P.useState(null),[H,Q]=P.useState("csv"),[Z,J]=P.useState(null),[ye,ge]=P.useState(!1),{data:oe}=Nr({queryKey:["/api/admin/signatures/alerts"],queryFn:async()=>{const $e=await fetch("/api/admin/signatures/alerts?resolved=false&limit=100");return $e.ok?$e.json():{total:0,alerts:[]}},refetchInterval:6e4}),re=(oe==null?void 0:oe.total)||0,me=Ln({mutationFn:async()=>{var Ve;const $e=((Ve=oe==null?void 0:oe.alerts)==null?void 0:Ve.map(Ee=>Ee.id))||[];$e.length!==0&&await xn("POST","/api/admin/signatures/alerts/acknowledge",{alertIds:$e})},onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/admin/signatures/alerts"]}),t({title:"Alerts Acknowledged",description:`${re} alert(s) have been acknowledged`}),ge(!0)},onError:$e=>{t({title:"Error",description:$e.message||"Failed to acknowledge alerts",variant:"destructive"})}}),ne=new URLSearchParams;e&&ne.append("userId",e),n&&ne.append("action",n),a&&ne.append("verified",a),l&&ne.append("startDate",l),u&&ne.append("endDate",u),ne.append("page",String(f)),ne.append("pageSize",String(v));const{data:G,isLoading:se}=Nr({queryKey:["/api/admin/signatures",ne.toString()],queryFn:async()=>{const $e=await fetch(`/api/admin/signatures?${ne.toString()}`);if(!$e.ok)throw new Error("Failed to fetch signature logs");return $e.json()}}),ue=Ln({mutationFn:async $e=>await xn("POST",`/api/admin/signatures/verify/${$e}`),onSuccess:$e=>{q($e),O(!0),t({title:$e.isValid?"Signature Valid":"Signature Invalid",description:$e.message,variant:$e.isValid?"default":"destructive"})},onError:$e=>{t({title:"Verification Failed",description:$e.message||"Failed to verify signature",variant:"destructive"})}}),je=Ln({mutationFn:async $e=>{const Ve=await fetch(`/api/admin/signatures/decrypt/${$e}`);if(!Ve.ok){const Ee=await Ve.json();throw new Error(Ee.message||"Failed to decrypt")}return Ve.json()},onSuccess:$e=>{$($e),_(!0);const Ve=window.setTimeout(()=>{_(!1),$(null)},3e4);J(Ve)},onError:$e=>{t({title:"Decryption Failed",description:$e.message||"Failed to decrypt audit information",variant:"destructive"})}}),Ce=Ln({mutationFn:async $e=>{var mt,dr;const Ve={};e&&(Ve.userId=e),n&&(Ve.action=n),a&&(Ve.verified=a==="true"),l&&(Ve.startDate=l),u&&(Ve.endDate=u);const Ee=await fetch("/api/admin/signatures/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:$e,filters:Ve})});if(!Ee.ok){const ht=await Ee.json();throw new Error(ht.message||"Export failed")}const sr=await Ee.blob(),Zt=window.URL.createObjectURL(sr),Gt=document.createElement("a");return Gt.href=Zt,Gt.download=((dr=(mt=Ee.headers.get("Content-Disposition"))==null?void 0:mt.split("filename=")[1])==null?void 0:dr.replace(/"/g,""))||`export.${$e}`,document.body.appendChild(Gt),Gt.click(),document.body.removeChild(Gt),window.URL.revokeObjectURL(Zt),{success:!0}},onSuccess:()=>{T(!1),t({title:"Export Successful",description:"Signature logs have been exported successfully"})},onError:$e=>{t({title:"Export Failed",description:$e.message||"Failed to export signature logs",variant:"destructive"})}}),ae=$e=>{B($e),je.mutate($e)},de=$e=>{B($e),ue.mutate($e)},pe=()=>{Ce.mutate(H)},Oe=()=>{Z&&(clearTimeout(Z),J(null)),_(!1),$(null)},ze=((qe=G==null?void 0:G.logs)==null?void 0:qe.filter($e=>S?$e.userId.toLowerCase().includes(S.toLowerCase())||$e.signatureId.toLowerCase().includes(S.toLowerCase())||$e.action.toLowerCase().includes(S.toLowerCase()):!0))||[];return s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2","data-testid":"title-dashboard",children:"Signature Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"View and verify electronic signature consent logs (INSA Compliance)"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Compliant with Proclamation No. 1072/2018 & No. 1205/2020  Alga Technologies PLC  2025"})]}),re>0&&!ye&&s.jsxs(Gu,{variant:"destructive",className:"mb-6","data-testid":"alert-banner",children:[s.jsx(Da,{className:"h-5 w-5"}),s.jsxs(k1,{className:"flex items-center justify-between",children:[s.jsx("span",{children:" Signature Integrity Alert"}),s.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>ge(!0),className:"h-6 w-6 p-0","data-testid":"button-dismiss-banner",children:s.jsx(Cc,{className:"h-4 w-4"})})]}),s.jsxs(Yu,{children:[s.jsxs("div",{className:"mt-2 mb-4",children:[s.jsx("strong",{children:re})," unresolved signature failure(s) detected in the last 24 hours. Potential tampering or data integrity issues require immediate attention."]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>{o("false"),ge(!0)},className:"bg-background","data-testid":"button-view-failed",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"View Failed Only"]}),s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>{Q("pdf"),T(!0)},className:"bg-background","data-testid":"button-export-failures",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export Failures (PDF)"]}),s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>me.mutate(),disabled:me.isPending,className:"bg-background","data-testid":"button-acknowledge-all",children:[s.jsx(Vd,{className:"h-4 w-4 mr-2"}),me.isPending?"Acknowledging...":"Acknowledge All"]})]})]})]}),s.jsxs(_e,{className:"p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Cb,{className:"h-5 w-5"}),s.jsx("h2",{className:"font-semibold",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"User ID"}),s.jsx(Or,{placeholder:"Filter by user ID",value:e,onChange:$e=>r($e.target.value),"data-testid":"input-filter-userId"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Action"}),s.jsxs(Jn,{value:n||"all",onValueChange:$e=>i($e==="all"?"":$e),children:[s.jsx(Gn,{"data-testid":"select-filter-action",children:s.jsx(es,{placeholder:"All actions"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All actions"}),s.jsx(Vt,{value:"booking",children:"Booking"}),s.jsx(Vt,{value:"payment",children:"Payment"}),s.jsx(Vt,{value:"confirm",children:"Confirm"}),s.jsx(Vt,{value:"submit",children:"Submit"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Verification Status"}),s.jsxs(Jn,{value:a||"all",onValueChange:$e=>o($e==="all"?"":$e),children:[s.jsx(Gn,{"data-testid":"select-filter-verified",children:s.jsx(es,{placeholder:"All statuses"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All statuses"}),s.jsx(Vt,{value:"true",children:"Verified"}),s.jsx(Vt,{value:"false",children:"Not Verified"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Start Date"}),s.jsx(Or,{type:"date",value:l,onChange:$e=>c($e.target.value),"data-testid":"input-filter-startDate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"End Date"}),s.jsx(Or,{type:"date",value:u,onChange:$e=>h($e.target.value),"data-testid":"input-filter-endDate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Or,{placeholder:"Search signatures...",value:S,onChange:$e=>w($e.target.value),className:"pl-10","data-testid":"input-search"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Be,{variant:"outline",onClick:()=>{r(""),i(""),o(""),c(""),h(""),w(""),y(1)},"data-testid":"button-clear-filters",children:"Clear Filters"}),s.jsxs(Be,{onClick:()=>T(!0),"data-testid":"button-export",children:[s.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Total: ",(G==null?void 0:G.total)||0," records | Showing page ",f," of ",(G==null?void 0:G.totalPages)||1]}),s.jsx(_e,{children:s.jsxs(Lo,{children:[s.jsx(Fo,{children:s.jsxs(Mn,{children:[s.jsx(zt,{children:"ID"}),s.jsx(zt,{children:"User ID"}),s.jsx(zt,{children:"Action"}),s.jsx(zt,{children:"Timestamp"}),s.jsx(zt,{children:"Verified"}),s.jsx(zt,{children:"Signature Hash"}),s.jsx(zt,{className:"text-right",children:"Actions"})]})}),s.jsx(Bo,{children:se?s.jsx(Mn,{children:s.jsx(Ot,{colSpan:7,className:"text-center py-8",children:"Loading signature logs..."})}):ze.length===0?s.jsx(Mn,{children:s.jsx(Ot,{colSpan:7,className:"text-center py-8",children:"No signature logs found"})}):ze.map($e=>s.jsxs(Mn,{"data-testid":`row-signature-${$e.id}`,children:[s.jsx(Ot,{className:"font-mono text-xs",children:$e.id}),s.jsxs(Ot,{className:"font-mono text-xs",children:[$e.userId.substring(0,20),"..."]}),s.jsx(Ot,{children:s.jsx(Rt,{variant:"outline",children:$e.action})}),s.jsx(Ot,{className:"text-xs",children:Lh(new Date($e.timestamp),"yyyy-MM-dd HH:mm:ss")}),s.jsx(Ot,{children:$e.verified?s.jsxs(Rt,{className:"bg-green-500",children:[s.jsx(Vd,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsxs(Rt,{variant:"secondary",children:[s.jsx(ll,{className:"h-3 w-3 mr-1"}),"Not Verified"]})}),s.jsxs(Ot,{className:"font-mono text-xs",children:[$e.signatureHash.substring(0,20),"..."]}),s.jsx(Ot,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>de($e.signatureId),"data-testid":`button-verify-${$e.id}`,children:[s.jsx(zg,{className:"h-3 w-3 mr-1"}),"Verify"]}),s.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>ae($e.signatureId),"data-testid":`button-decrypt-${$e.id}`,children:[s.jsx(c2e,{className:"h-3 w-3 mr-1"}),"Decrypt"]})]})})]},$e.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx(Be,{variant:"outline",onClick:()=>y($e=>Math.max(1,$e-1)),disabled:f===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",f," of ",(G==null?void 0:G.totalPages)||1]}),s.jsx(Be,{variant:"outline",onClick:()=>y($e=>$e+1),disabled:f>=((G==null?void 0:G.totalPages)||1),"data-testid":"button-next-page",children:"Next"})]}),s.jsx(Uo,{open:N,onOpenChange:Oe,children:s.jsxs(po,{className:"select-none","data-testid":"modal-decrypt",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Decrypted Audit Information"}),s.jsx(Sc,{children:"This modal will auto-close in 30 seconds for security. Read-only view."})]}),U&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User ID:"}),s.jsx("p",{className:"font-mono text-sm",children:U.userId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"IP Address:"}),s.jsx("p",{className:"font-mono text-sm",children:U.ipAddress})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Device Info:"}),s.jsx("p",{className:"font-mono text-sm text-wrap break-words",children:U.deviceInfo})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Session Verification:"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Rt,{variant:U.sessionInfo.verified?"default":"secondary",children:U.sessionInfo.verified?"Verified":"Not Verified"}),U.sessionInfo.faydaId&&s.jsxs(Rt,{variant:"outline",children:["Fayda ID: ",U.sessionInfo.faydaId]})]})]})]}),s.jsx(Wu,{children:s.jsx(Be,{onClick:Oe,"data-testid":"button-close-decrypt",children:"Close"})})]})}),s.jsx(Uo,{open:M,onOpenChange:O,children:s.jsxs(po,{"data-testid":"modal-verify",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Signature Verification Result"}),s.jsx(Sc,{children:"SHA-256 hash integrity check"})]}),K&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[K.isValid?s.jsx(Vd,{className:"h-6 w-6 text-green-500"}):s.jsx(ll,{className:"h-6 w-6 text-red-500"}),s.jsx("span",{className:`font-semibold ${K.isValid?"text-green-500":"text-red-500"}`,children:K.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Original Hash:"}),s.jsx("p",{className:"font-mono text-xs break-all",children:K.originalHash})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Recomputed Hash:"}),s.jsx("p",{className:"font-mono text-xs break-all",children:K.recomputedHash})]})]}),s.jsx(Wu,{children:s.jsx(Be,{onClick:()=>O(!1),"data-testid":"button-close-verify",children:"Close"})})]})}),s.jsx(Uo,{open:E,onOpenChange:T,children:s.jsxs(po,{"data-testid":"modal-export",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Export Signature Logs"}),s.jsx(Sc,{children:"Choose export format. Current filters will be applied."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Export Format"}),s.jsxs(Jn,{value:H,onValueChange:Q,children:[s.jsx(Gn,{"data-testid":"select-export-format",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"csv",children:"CSV (Spreadsheet)"}),s.jsx(Vt,{value:"pdf",children:"PDF (INSA-Ready Report)"}),s.jsx(Vt,{value:"json",children:"JSON (Developer Format)"})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{children:" Maximum 10,000 records per export"}),s.jsx("p",{children:" Rate limit: 100 exports per day"}),s.jsx("p",{children:" All exports are logged for audit trail"})]})]}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>T(!1),"data-testid":"button-cancel-export",children:"Cancel"}),s.jsx(Be,{onClick:pe,disabled:Ce.isPending,"data-testid":"button-confirm-export",children:Ce.isPending?"Exporting...":"Export"})]})]})})]})}const Ru={overview:{status:"75% Complete",securityScore:"98/100",lastUpdate:"November 12, 2025",tin:"0101809194",company:"Alga One Member PLC"},completed:[{title:"Electronic Signature System",status:"100% COMPLETE",category:"INSPECTION READY",details:["ElectronicSignatureConsent component with exact legal text","consent_logs table with SHA-256 signature hashing","AES-256 encrypted IP addresses & device info","Admin Signature Dashboard (/admin/signatures)","Automated daily integrity checks (2:00 AM EAT)","Three-tier backup system (Neon + Google Cloud Storage)","5-year data retention policy","Multi-format export (CSV, PDF with INSA watermark, JSON)"]},{title:"Security Hardening",status:"100% ACTIVE",category:"PRODUCTION LIVE",details:["HTTP Parameter Pollution protection","NoSQL injection sanitization","XSS detection and blocking","SQL injection pattern detection","Security headers enforced","Rate limiting (100 req/15min)","CSRF protection","Audit logging active"]},{title:"Documentation",status:"EXTENSIVE",category:"COMPLETE",details:["INSA Security Compliance (26 pages)","Electronic Signature Compliance (363 lines)","INSA Submission Package with templates","Admin Signature Dashboard Guide (48 pages)","Weekly security audit scripts","Intrusion detection monitoring","6-month verification schedule"]},{title:"Implementation Features",status:"COMPLETE",category:"VERIFIED",details:["20+ database tables with proper relationships","40+ API endpoints documented","5 user roles (Guest, Host, Dellala, Operator, Admin)","11 functional modules","Third-party integrations documented","Test accounts created and verified"]}],missing:[{title:"Visual Diagrams",priority:"P0 - CRITICAL",estimatedTime:"8-12 hours",items:["Data Flow Diagram (DFD) - Level 0 & Level 1","System Architecture - Professional visual diagram","ERD (Database) - Visual relationship diagram"],tools:"draw.io (free), dbdiagram.io, Lucidchart"},{title:"Legal Documents",priority:"P1 - HIGH",estimatedTime:"1-2 days",items:["Trade License (need from Alga One Member PLC)","Patent Certificate (optional, determine if applicable)"],tools:"Organization administrative team"},{title:"Testing Materials",priority:"P2 - MEDIUM",estimatedTime:"2-3 hours",items:["Document all test accounts formally","Capture live API sample responses for INSA","Complete testing scope documentation"],tools:"Postman, curl, documentation tools"}],proclamations:[{number:"1072/2018",title:"Electronic Signature Proclamation",status:"Fully Compliant",implementation:"ElectronicSignatureConsent component, SHA-256 hashing, AES-256 encryption"},{number:"1205/2020",title:"Electronic Transactions Proclamation",status:"Fully Compliant",implementation:"Audit trail logging, IP tracking, session verification"}],testCredentials:{admin:"test-admin@alga.et / Test@1234 / OTP: 1234",note:"Full test account suite available in docs/insa/INSA_TEST_CREDENTIALS.md"}};function IZe(){const{user:t}=ti(),[e,r]=P.useState(!navigator.onLine),[n,i]=P.useState(!1);P.useEffect(()=>{const l=()=>r(!1),c=()=>r(!0);return window.addEventListener("online",l),window.addEventListener("offline",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[]),P.useEffect(()=>{(async()=>{try{await(await a()).transaction("insa-compliance","readwrite").objectStore("insa-compliance").put({id:"compliance-data",data:Ru,timestamp:Date.now()}),i(!0),console.log("[INSA] Compliance data cached for offline access")}catch(c){console.error("[INSA] Failed to cache data:",c)}})()},[]);const a=()=>new Promise((l,c)=>{const u=indexedDB.open("alga-offline",1);u.onerror=()=>c(u.error),u.onsuccess=()=>l(u.result),u.onupgradeneeded=h=>{const f=h.target.result;f.objectStoreNames.contains("insa-compliance")||f.createObjectStore("insa-compliance",{keyPath:"id"})}}),o=()=>{const l=JSON.stringify(Ru,null,2),c=new Blob([l],{type:"application/json"}),u=URL.createObjectURL(c),h=document.createElement("a");h.href=u,h.download=`insa-compliance-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(u)};return t&&!["operator","admin"].includes(t.role)?s.jsxs("div",{className:"min-h-screen bg-cream dark:bg-gray-950",children:[s.jsx(Zr,{}),s.jsx("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:s.jsxs(Gu,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(ll,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),s.jsx(Yu,{className:"text-amber-900 dark:text-amber-100",children:"This page is restricted to Operators and Administrators only."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-cream dark:bg-gray-950",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-6 pb-24",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h1",{className:"text-3xl font-bold text-dark-brown dark:text-cream flex items-center gap-2",children:[s.jsx(ps,{className:"h-8 w-8 text-medium-brown"}),"INSA Compliance"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e?s.jsxs(Rt,{variant:"outline",className:"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-950 dark:text-amber-300",children:[s.jsx(A4,{className:"h-3 w-3 mr-1"}),"Offline Mode"]}):s.jsxs(Rt,{variant:"outline",className:"bg-green-50 border-green-500 text-green-700 dark:bg-green-950 dark:text-green-300",children:[s.jsx(p2,{className:"h-3 w-3 mr-1"}),"Online"]}),n&&s.jsxs(Rt,{variant:"outline",className:"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-950 dark:text-blue-300",children:[s.jsx(pre,{className:"h-3 w-3 mr-1"}),"Cached"]})]})]}),s.jsx("p",{className:"text-muted-foreground",children:"Ethiopian Information Network Security Agency (INSA) compliance status and inspection readiness."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"Overall Status"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-medium-brown",children:Ru.overview.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Updated ",Ru.overview.lastUpdate]})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"Security Score"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Ru.overview.securityScore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"INSA Grade Security"})]})]}),s.jsxs(_e,{children:[s.jsx(Ge,{className:"pb-3",children:s.jsx(Ye,{className:"text-sm font-medium",children:"Company"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-sm font-semibold",children:Ru.overview.company}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["TIN: ",Ru.overview.tin]})]})]})]}),s.jsxs(oc,{defaultValue:"completed",className:"space-y-6",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-4 gap-2",children:[s.jsxs(tn,{value:"completed",className:"text-xs sm:text-sm",children:[s.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Completed"]}),s.jsxs(tn,{value:"missing",className:"text-xs sm:text-sm",children:[s.jsx(ll,{className:"h-4 w-4 mr-1"}),"Missing"]}),s.jsxs(tn,{value:"legal",className:"text-xs sm:text-sm",children:[s.jsx(Vu,{className:"h-4 w-4 mr-1"}),"Legal"]}),s.jsxs(tn,{value:"test",className:"text-xs sm:text-sm",children:[s.jsx(Ro,{className:"h-4 w-4 mr-1"}),"Test"]})]}),s.jsx(Tn,{value:"completed",className:"space-y-4",children:Ru.completed.map((l,c)=>s.jsxs(_e,{className:"border-green-200 dark:border-green-800",children:[s.jsx(Ge,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ye,{className:"text-lg flex items-center gap-2",children:[s.jsx(Vd,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),l.title]}),s.jsxs(ar,{className:"mt-1",children:[s.jsx(Rt,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:l.status}),s.jsx(Rt,{variant:"outline",className:"ml-2",children:l.category})]})]})})}),s.jsx(Te,{children:s.jsx("ul",{className:"space-y-2",children:l.details.map((u,h)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Sb,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:u})]},h))})})]},c))}),s.jsx(Tn,{value:"missing",className:"space-y-4",children:Ru.missing.map((l,c)=>s.jsxs(_e,{className:"border-amber-200 dark:border-amber-800",children:[s.jsx(Ge,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ye,{className:"text-lg flex items-center gap-2",children:[s.jsx(ll,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),l.title]}),s.jsxs(ar,{className:"mt-1",children:[s.jsx(Rt,{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:l.priority}),s.jsxs("span",{className:"text-xs ml-2",children:["Est. ",l.estimatedTime]})]})]})})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsx("ul",{className:"space-y-2",children:l.items.map((u,h)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Sb,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:u})]},h))}),s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("strong",{children:"Recommended Tools:"})," ",l.tools]})})]})]},c))}),s.jsxs(Tn,{value:"legal",className:"space-y-4",children:[s.jsxs(Gu,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[s.jsx(Vu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx(Yu,{className:"text-blue-900 dark:text-blue-100",children:"Alga complies with Ethiopian Electronic Signature and Electronic Transactions Proclamations."})]}),Ru.proclamations.map((l,c)=>s.jsxs(_e,{className:"border-blue-200 dark:border-blue-800",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ro,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Proclamation No. ",l.number]}),s.jsx(ar,{children:l.title})]}),s.jsxs(Te,{className:"space-y-2",children:[s.jsx("div",{children:s.jsx(Rt,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:l.status})}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Implementation:"})," ",l.implementation]})]})]},c))]}),s.jsxs(Tn,{value:"test",className:"space-y-4",children:[s.jsxs(Gu,{className:"bg-purple-50 dark:bg-purple-950 border-purple-200 dark:border-purple-800",children:[s.jsx(Ro,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),s.jsx(Yu,{className:"text-purple-900 dark:text-purple-100",children:"Test credentials for INSA inspection and auditing purposes."})]}),s.jsxs(_e,{className:"border-purple-200 dark:border-purple-800",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Test Admin Account"}),s.jsx(ar,{children:"For INSA security testing and inspection"})]}),s.jsxs(Te,{className:"space-y-3",children:[s.jsx("div",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-900 p-3 rounded",children:Ru.testCredentials.admin}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ru.testCredentials.note})]})]})]})]}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsxs(Be,{onClick:o,variant:"outline",className:"gap-2","data-testid":"button-download-docs",children:[s.jsx(Dl,{className:"h-4 w-4"}),"Download Full Documentation (JSON)"]})})]})]})}function OZe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn(),[n,i]=P.useState({});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(ps,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Operator Dashboard"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to access the operator dashboard"}),s.jsx(Be,{onClick:()=>e("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})});const{data:a,isLoading:o}=Nr({queryKey:["/api/operator/pending-documents"]}),{data:l,isLoading:c}=Nr({queryKey:["/api/operator/pending-properties"]}),u=Ln({mutationFn:async w=>await xn("POST",`/api/operator/documents/${w}/approve`,{}),onSuccess:()=>{r({title:"Document Approved",description:"Host verification document has been approved successfully."}),zn.invalidateQueries({queryKey:["/api/operator/pending-documents"]})},onError:w=>{r({title:"Approval Failed",description:w.message||"Unable to approve document",variant:"destructive"})}}),h=Ln({mutationFn:async({documentId:w,reason:N})=>await xn("POST",`/api/operator/documents/${w}/reject`,{reason:N}),onSuccess:()=>{r({title:"Document Rejected",description:"Host verification document has been rejected."}),zn.invalidateQueries({queryKey:["/api/operator/pending-documents"]})},onError:w=>{r({title:"Rejection Failed",description:w.message||"Unable to reject document",variant:"destructive"})}}),f=Ln({mutationFn:async w=>await xn("POST",`/api/operator/properties/${w}/approve`,{}),onSuccess:()=>{r({title:"Property Approved",description:"Property has been approved and is now live on the platform."}),zn.invalidateQueries({queryKey:["/api/operator/pending-properties"]})},onError:w=>{r({title:"Approval Failed",description:w.message||"Unable to approve property",variant:"destructive"})}}),y=Ln({mutationFn:async({propertyId:w,reason:N})=>await xn("POST",`/api/operator/properties/${w}/reject`,{reason:N}),onSuccess:()=>{r({title:"Property Rejected",description:"Property has been rejected with feedback to the host."}),zn.invalidateQueries({queryKey:["/api/operator/pending-properties"]})},onError:w=>{r({title:"Rejection Failed",description:w.message||"Unable to reject property",variant:"destructive"})}}),v=w=>{const N=n[`doc-${w}`];if(!N||N.trim()===""){r({title:"Rejection Reason Required",description:"Please provide a reason for rejecting this document.",variant:"destructive"});return}h.mutate({documentId:w,reason:N})},S=w=>{const N=n[`prop-${w}`];if(!N||N.trim()===""){r({title:"Rejection Reason Required",description:"Please provide a reason for rejecting this property.",variant:"destructive"});return}y.mutate({propertyId:w,reason:N})};return s.jsxs("div",{className:"min-h-screen bg-eth-warm-tan flex flex-col",children:[s.jsx(Zr,{hideNavigation:!0}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12 mb-16",children:[s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsx(tf,{})}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-eth-brown mb-2","data-testid":"text-operator-title",children:"Operator Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Review and verify guesthouse owner details and property listings"})]}),s.jsx(_e,{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 border-blue-200 dark:border-blue-800",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ps,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-eth-brown dark:text-cream",children:"INSA Compliance Dashboard"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"View offline compliance status & documentation"})]})]}),s.jsx(Be,{onClick:()=>e("/insa-compliance"),variant:"outline",size:"sm",className:"bg-white dark:bg-gray-900","data-testid":"button-insa-compliance",children:"View"})]})})}),s.jsxs(oc,{defaultValue:"documents",className:"space-y-4 sm:space-y-6",children:[s.jsxs(Fl,{className:"bg-white w-full grid grid-cols-2",children:[s.jsxs(tn,{value:"documents","data-testid":"tab-documents",className:"text-xs sm:text-sm",children:[s.jsx(Vu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Host Verification"}),s.jsx("span",{className:"sm:hidden",children:"Hosts"}),s.jsxs("span",{className:"ml-1",children:["(",(a==null?void 0:a.length)||0,")"]})]}),s.jsxs(tn,{value:"properties","data-testid":"tab-properties",className:"text-xs sm:text-sm",children:[s.jsx(kn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Property Verification"}),s.jsx("span",{className:"sm:hidden",children:"Properties"}),s.jsxs("span",{className:"ml-1",children:["(",(l==null?void 0:l.length)||0,")"]})]})]}),s.jsx(Tn,{value:"documents",className:"space-y-4",children:o?s.jsx(_e,{children:s.jsx(Te,{className:"py-8",children:s.jsx("p",{className:"text-center text-gray-500",children:"Loading pending documents..."})})}):!a||a.length===0?s.jsx(_e,{children:s.jsx(Te,{className:"py-8",children:s.jsx("p",{className:"text-center text-gray-500","data-testid":"text-no-pending-docs",children:"No pending host verification documents"})})}):a.map(w=>{var N,_,E,T;return s.jsxs(_e,{className:"bg-white","data-testid":`card-document-${w.id}`,children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ye,{className:"text-lg text-eth-brown",children:[s.jsx(cu,{className:"inline h-5 w-5 mr-2"}),(N=w.user)==null?void 0:N.firstName," ",(_=w.user)==null?void 0:_.lastName]}),s.jsxs(ar,{children:[(E=w.user)==null?void 0:E.email,"  ",(T=w.user)==null?void 0:T.phoneNumber]})]}),s.jsxs(Rt,{variant:"secondary",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Pending"]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Document Type"}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:w.documentType.replace(/_/g," ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Submitted"}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Preview"}),s.jsx("a",{href:w.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-eth-green hover:underline text-sm","data-testid":`link-view-document-${w.id}`,children:"View Document "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),s.jsx(_i,{placeholder:"Enter reason for rejection...",value:n[`doc-${w.id}`]||"",onChange:M=>i({...n,[`doc-${w.id}`]:M.target.value}),"data-testid":`textarea-rejection-doc-${w.id}`})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs(Be,{onClick:()=>u.mutate(w.id),disabled:u.isPending,className:"bg-eth-green hover:bg-eth-green/90","data-testid":`button-approve-doc-${w.id}`,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve Document"]}),s.jsxs(Be,{onClick:()=>v(w.id),disabled:h.isPending,variant:"destructive","data-testid":`button-reject-doc-${w.id}`,children:[s.jsx(Do,{className:"h-4 w-4 mr-2"}),"Reject Document"]})]})]})]},w.id)})}),s.jsx(Tn,{value:"properties",className:"space-y-4",children:c?s.jsx(_e,{children:s.jsx(Te,{className:"py-8",children:s.jsx("p",{className:"text-center text-gray-500",children:"Loading pending properties..."})})}):!l||l.length===0?s.jsx(_e,{children:s.jsx(Te,{className:"py-8",children:s.jsx("p",{className:"text-center text-gray-500","data-testid":"text-no-pending-properties",children:"No pending property verifications"})})}):l.map(w=>{var N,_,E;return s.jsxs(_e,{className:"bg-white","data-testid":`card-property-${w.id}`,children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Ye,{className:"text-lg text-eth-brown",children:w.title}),s.jsxs(ar,{children:[s.jsx(cu,{className:"inline h-3 w-3 mr-1"}),(N=w.host)==null?void 0:N.firstName," ",(_=w.host)==null?void 0:_.lastName,"  ",(E=w.host)==null?void 0:E.email]})]}),s.jsxs(Rt,{variant:"secondary",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Pending"]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Property Type"}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:w.type.replace(/_/g," ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Location"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx(ki,{className:"inline h-3 w-3 mr-1"}),w.city,", ",w.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Price"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[w.pricePerNight," ETB/night"]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Max Guests"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx(Ki,{className:"inline h-3 w-3 mr-1"}),w.maxGuests," guests"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Bedrooms"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx(C4,{className:"inline h-3 w-3 mr-1"}),w.bedrooms," bedrooms"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Bathrooms"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[w.bathrooms," bathrooms"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:w.description})]}),w.images&&w.images.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Property Images (",w.images.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:w.images.map((T,M)=>s.jsx("img",{src:T,alt:`Property ${M+1}`,className:"w-full h-32 object-cover rounded border-2 border-gray-200 hover:border-eth-brown transition-colors cursor-pointer",onClick:()=>window.open(T,"_blank"),"data-testid":`img-property-${w.id}-${M}`},M))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"}),s.jsx(_i,{placeholder:"Enter reason for rejection (e.g., missing documents, unclear photos, incorrect information)...",value:n[`prop-${w.id}`]||"",onChange:T=>i({...n,[`prop-${w.id}`]:T.target.value}),"data-testid":`textarea-rejection-prop-${w.id}`})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs(Be,{onClick:()=>f.mutate(w.id),disabled:f.isPending,className:"bg-eth-green hover:bg-eth-green/90","data-testid":`button-approve-prop-${w.id}`,children:[s.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Approve & List Property"]}),s.jsxs(Be,{onClick:()=>S(w.id),disabled:y.isPending,variant:"destructive","data-testid":`button-reject-prop-${w.id}`,children:[s.jsx(Do,{className:"h-4 w-4 mr-2"}),"Reject Property"]})]})]})]},w.id)})})]})]}),s.jsx(Ei,{})]})}function MZe(){const[,t]=th();return s.jsxs("div",{className:"min-h-screen bg-cream/30 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-gradient-to-br from-medium-brown to-dark-brown dark:from-gray-800 dark:to-gray-900 text-cream py-20 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:" Become a Delala Agent"}),s.jsxs("p",{className:"text-xl md:text-2xl mb-4 text-cream/90",children:["List Once, Earn for ",s.jsx("span",{className:"font-bold text-yellow-300",children:"3 Years"})]}),s.jsx("p",{className:"text-lg mb-8 text-cream/80",children:"Join Ethiopia's property revolution. Earn 5% commission from every booking for 36 months."}),s.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[s.jsx(Be,{size:"lg",onClick:()=>t("/become-agent"),className:"bg-yellow-500 hover:bg-yellow-600 text-dark-brown font-bold text-lg px-8 py-6","data-testid":"button-register-hero",children:" Register Now - FREE"}),s.jsx(Be,{size:"lg",variant:"outline",onClick:()=>{var e;(e=document.getElementById("how-it-works"))==null||e.scrollIntoView({behavior:"smooth"})},className:"border-cream text-cream hover:bg-cream/10","data-testid":"button-learn-more",children:" Learn More"})]})]})}),s.jsx("div",{className:"py-12 px-4 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 dark:text-green-400 mb-2",children:"5%"}),s.jsx("div",{className:"text-medium-brown dark:text-cream/80",children:"Commission Rate"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"36"}),s.jsx("div",{className:"text-medium-brown dark:text-cream/80",children:"Months of Earnings"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:""}),s.jsx("div",{className:"text-medium-brown dark:text-cream/80",children:"Properties You Can List"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400 mb-2",children:"FREE"}),s.jsx("div",{className:"text-medium-brown dark:text-cream/80",children:"No Setup Costs"})]})]})})}),s.jsxs("div",{className:"py-16 px-4 max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center text-dark-brown dark:text-cream mb-12",children:" Why Join the Delala Agent Program?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-passive-income",children:[s.jsxs(Ge,{children:[s.jsx(mo,{className:"h-12 w-12 text-green-600 dark:text-green-400 mb-4"}),s.jsx(Ye,{children:"Passive Income Stream"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"List a property once and earn commissions every time it's booked - for 3 full years. No ongoing work required!"})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-no-limit",children:[s.jsxs(Ge,{children:[s.jsx(kn,{className:"h-12 w-12 text-blue-600 dark:text-blue-400 mb-4"}),s.jsx(Ye,{children:"No Property Limit"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"List as many properties as you know about. More properties = more earning opportunities. Scale your income!"})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-instant-payout",children:[s.jsxs(Ge,{children:[s.jsx(l5,{className:"h-12 w-12 text-yellow-600 dark:text-yellow-400 mb-4"}),s.jsx(Ye,{children:"TeleBirr Instant Payouts"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Get your commissions paid directly to your TeleBirr account. Fast, secure, and convenient mobile money."})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-verified",children:[s.jsxs(Ge,{children:[s.jsx(ps,{className:"h-12 w-12 text-purple-600 dark:text-purple-400 mb-4"}),s.jsx(Ye,{children:"Verified Agent Status"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Get official verification badge. Build trust with property owners and increase your listing success rate."})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-fast-setup",children:[s.jsxs(Ge,{children:[s.jsx(_4,{className:"h-12 w-12 text-orange-600 dark:text-orange-400 mb-4"}),s.jsx(Ye,{children:"5-Minute Setup"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Simple registration form. Get verified within 24 hours and start listing properties immediately."})})]}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20","data-testid":"card-dashboard",children:[s.jsxs(Ge,{children:[s.jsx(Ki,{className:"h-12 w-12 text-red-600 dark:text-red-400 mb-4"}),s.jsx(Ye,{children:"Real-Time Dashboard"})]}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:"Track all your earnings, properties, and commission history in one beautiful dashboard."})})]})]})]}),s.jsx("div",{id:"how-it-works",className:"py-16 px-4 bg-cream/50 dark:bg-gray-800",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center text-dark-brown dark:text-cream mb-12",children:" How It Works"}),s.jsx("div",{className:"space-y-6",children:[{step:"1",title:"Register as Agent",description:"Fill out the simple registration form with your TeleBirr account. Takes less than 5 minutes.",icon:Ki},{step:"2",title:"Get Verified",description:"Our admin team reviews your application (usually within 24 hours). Verified agents get a badge.",icon:ps},{step:"3",title:"List Properties",description:"Add properties you own or know about. Include photos, details, and pricing. Link them to your agent account.",icon:kn},{step:"4",title:"Earn Automatically",description:"When guests book your listed properties, you automatically earn 5% commission. Tracked in real-time!",icon:e2e},{step:"5",title:"Get Paid to TeleBirr",description:"Commissions are paid directly to your TeleBirr account. Instant, secure, mobile money.",icon:l5},{step:"6",title:"Earn for 3 Years",description:"Keep earning 5% from every booking for 36 months from the first rental. Passive income!",icon:ei}].map(e=>s.jsx(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-medium-brown/10 dark:bg-cream/10 p-3 rounded-lg",children:s.jsx(e.icon,{className:"h-8 w-8 text-medium-brown dark:text-cream"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-2xl",children:e.step}),s.jsx("h3",{className:"text-xl font-bold text-dark-brown dark:text-cream",children:e.title})]}),s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:e.description})]})]})})},e.step))})]})}),s.jsxs("div",{className:"py-16 px-4 max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center text-dark-brown dark:text-cream mb-8",children:" Earnings Calculator"}),s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{children:"Example: 3-Year Earnings from One Property"}),s.jsx(ar,{children:"See how much you could earn from a single property listing"})]}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:"bg-cream/50 dark:bg-gray-800 p-6 rounded-lg space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1",children:"Property Rent"}),s.jsx("p",{className:"text-2xl font-bold text-dark-brown dark:text-cream",children:"5,000 Birr/night"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-medium-brown dark:text-cream/60 mb-1",children:"Your Commission"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"250 Birr/booking"})]})]}),s.jsxs("div",{className:"border-t border-medium-brown/20 dark:border-cream/20 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"10 bookings/month  36 months:"}),s.jsx("span",{className:"font-bold",children:"360 bookings"})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-semibold",children:"Total 3-Year Earnings:"}),s.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:"90,000 Birr"})]})]}),s.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-dark-brown dark:text-cream",children:[s.jsx(Mr,{className:"inline h-4 w-4 mr-1 text-green-600"}),"And you can list unlimited properties! Imagine earning from 5, 10, or even 50 properties!"]})})]})})]})]}),s.jsx("div",{className:"py-16 px-4 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center text-dark-brown dark:text-cream mb-12",children:" Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:[{q:"Do I need to own the property to list it?",a:"No! You can list any property you have permission to market. Many agents work with property owners who don't have time to manage listings."},{q:"How long does verification take?",a:"Usually within 24 hours. We review your application and verify your TeleBirr account details."},{q:"When do I get paid?",a:"Commissions are calculated when bookings are completed and paid directly to your TeleBirr account."},{q:"What happens after 36 months?",a:"Commission expires for that specific property after 3 years from the first booking. But you can keep listing new properties!"},{q:"Is there any cost to join?",a:"Absolutely FREE! No setup fees, no monthly fees, no hidden costs. You only earn when properties get booked."},{q:"Can I track my earnings?",a:"Yes! Your agent dashboard shows real-time earnings, pending commissions, payment history, and all your properties."}].map((e,r)=>s.jsxs(_e,{className:"border-medium-brown/20 dark:border-cream/20",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-lg",children:e.q})}),s.jsx(Te,{children:s.jsx("p",{className:"text-medium-brown dark:text-cream/80",children:e.a})})]},r))})]})}),s.jsx("div",{className:"py-20 px-4 bg-gradient-to-br from-dark-brown to-medium-brown dark:from-gray-900 dark:to-gray-800 text-cream",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:" Ready to Start Earning?"}),s.jsx("p",{className:"text-xl mb-8 text-cream/90",children:"Join thousands of Delala agents earning passive income from property listings."}),s.jsx(Be,{size:"lg",onClick:()=>t("/become-agent"),className:"bg-yellow-500 hover:bg-yellow-600 text-dark-brown font-bold text-lg px-12 py-6","data-testid":"button-register-cta",children:" Register Now - It's FREE!"}),s.jsx("p",{className:"mt-4 text-sm text-cream/70",children:"No credit card required  Setup in 5 minutes  Start earning immediately"})]})})]})}function RZe(){const{user:t}=ti(),e=Ms(),{data:r,isLoading:n}=Nr({queryKey:["/api/my-provider-profile"],enabled:!!t}),{data:i=[],isLoading:a}=Nr({queryKey:["/api/my-provider-bookings"],enabled:!!t&&(r==null?void 0:r.verificationStatus)==="verified"});return t?n?s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"pt-32 pb-20 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eth-brown mx-auto mb-4"}),s.jsx("p",{className:"text-eth-brown/70",children:"Loading your dashboard..."})]})}),s.jsx(Ei,{})]}):r?r.verificationStatus==="pending"?s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"pt-32 pb-20 px-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(_e,{className:"border-0 shadow-xl bg-white",children:[s.jsxs(Ge,{className:"text-center pb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ei,{className:"h-10 w-10 text-yellow-600"})}),s.jsx(Ye,{className:"text-3xl text-eth-brown mb-2",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"Application Under Review"}),s.jsx("p",{className:"text-eth-brown/70 text-lg",children:"Your application is being reviewed by our team"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-[#faf5f0] rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-[#e5ddd5] pb-3",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Business Name"}),s.jsx("span",{className:"font-semibold text-eth-brown","data-testid":"text-business-name",children:r.businessName})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-[#e5ddd5] pb-3",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Service Type"}),s.jsx("span",{className:"font-semibold text-eth-brown","data-testid":"text-service-type",children:r.serviceType.charAt(0).toUpperCase()+r.serviceType.slice(1).replace(/_/g," ")})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-[#e5ddd5] pb-3",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Location"}),s.jsx("span",{className:"font-semibold text-eth-brown","data-testid":"text-location",children:r.city})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Status"}),s.jsxs(Rt,{className:"bg-yellow-100 text-yellow-800","data-testid":"status-pending",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Pending Review"]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:" What happens next?"}),s.jsx("br",{}),"Our team typically reviews applications within 24 hours. You'll receive an email notification once your application has been reviewed."]})}),s.jsx("div",{className:"text-center pt-4",children:s.jsx(Be,{variant:"outline",onClick:()=>e("/my-alga"),"data-testid":"button-back-dashboard",children:"Back to Dashboard"})})]})]})})}),s.jsx(Ei,{})]}):r.verificationStatus==="rejected"?s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"pt-32 pb-20 px-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(_e,{className:"border-0 shadow-xl bg-white",children:[s.jsxs(Ge,{className:"text-center pb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Do,{className:"h-10 w-10 text-red-600"})}),s.jsx(Ye,{className:"text-3xl text-eth-brown mb-2",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"Application Not Approved"}),s.jsx("p",{className:"text-eth-brown/70 text-lg",children:"Unfortunately, we couldn't approve your application at this time"})]}),s.jsxs(Te,{className:"space-y-6",children:[r.rejectionReason&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-red-900 mb-2",children:"Reason for rejection:"}),s.jsx("p",{className:"text-sm text-red-800","data-testid":"text-rejection-reason",children:r.rejectionReason})]}),s.jsxs("div",{className:"bg-[#faf5f0] rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-[#e5ddd5] pb-3",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Business Name"}),s.jsx("span",{className:"font-semibold text-eth-brown",children:r.businessName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-eth-brown/70",children:"Service Type"}),s.jsx("span",{className:"font-semibold text-eth-brown",children:r.serviceType.charAt(0).toUpperCase()+r.serviceType.slice(1).replace(/_/g," ")})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:" What you can do:"}),s.jsx("br",{}),"You can submit a new application after addressing the concerns mentioned above. We're here to help you succeed!"]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Be,{variant:"outline",onClick:()=>e("/my-alga"),className:"flex-1","data-testid":"button-back-dashboard",children:"Back to Dashboard"}),s.jsx(Be,{onClick:()=>e("/become-provider"),className:"flex-1 bg-eth-brown hover:bg-eth-brown/90","data-testid":"button-reapply",children:"Reapply"})]})]})]})})}),s.jsx(Ei,{})]}):s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"pt-24 pb-20",children:[s.jsx("div",{className:"bg-white border-b border-[#e5ddd5]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-eth-brown mb-2",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:r.businessName}),s.jsxs("p",{className:"text-eth-brown/70 flex items-center gap-2",children:[s.jsx(ki,{className:"h-4 w-4"}),r.city,", ",r.region]})]}),s.jsxs(Rt,{className:"bg-green-100 text-green-800","data-testid":"status-verified",children:[s.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Verified Provider"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(_e,{className:"border-0 shadow-lg bg-white",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-eth-brown/70 mb-1",children:"Total Jobs"}),s.jsx("p",{className:"text-3xl font-bold text-eth-brown","data-testid":"text-total-jobs",children:r.totalJobsCompleted})]}),s.jsx("div",{className:"w-12 h-12 bg-eth-brown/10 rounded-full flex items-center justify-center",children:s.jsx(mo,{className:"h-6 w-6 text-eth-brown"})})]})})}),s.jsx(_e,{className:"border-0 shadow-lg bg-white",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-eth-brown/70 mb-1",children:"Rating"}),s.jsxs("p",{className:"text-3xl font-bold text-eth-brown flex items-center gap-1","data-testid":"text-rating",children:[parseFloat(r.rating).toFixed(1)," ",s.jsx(ca,{className:"h-5 w-5 fill-yellow-500 text-yellow-500"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(ca,{className:"h-6 w-6 text-yellow-600"})})]})})}),s.jsx(_e,{className:"border-0 shadow-lg bg-white",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-eth-brown/70 mb-1",children:"Active Bookings"}),s.jsx("p",{className:"text-3xl font-bold text-eth-brown","data-testid":"text-active-bookings",children:i.filter(o=>o.status==="confirmed"||o.status==="in_progress").length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Pi,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(_e,{className:"border-0 shadow-lg bg-white",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-eth-brown/70 mb-1",children:"Hourly Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-eth-brown","data-testid":"text-hourly-rate",children:[r.basePrice," ETB"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ii,{className:"h-6 w-6 text-green-600"})})]})})})]}),s.jsxs(_e,{className:"border-0 shadow-lg bg-white",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-2xl text-eth-brown",style:{fontFamily:"'Playfair Display', 'Georgia', serif"},children:"Recent Bookings"})}),s.jsx(Te,{children:a?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-eth-brown mx-auto"})}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pi,{className:"h-12 w-12 mx-auto mb-4 text-eth-brown/30"}),s.jsx("p",{className:"text-eth-brown/70",children:"No bookings yet"}),s.jsx("p",{className:"text-sm text-eth-brown/50 mt-2",children:"You'll see your upcoming jobs here"})]}):s.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(o=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#faf5f0] rounded-lg hover:bg-[#f5ece3] transition-colors","data-testid":`card-booking-${o.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-eth-brown",children:o.serviceType.charAt(0).toUpperCase()+o.serviceType.slice(1).replace(/_/g," ")}),s.jsxs("p",{className:"text-sm text-eth-brown/70 flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pi,{className:"h-3 w-3"}),new Date(o.scheduledDate).toLocaleDateString()]}),o.scheduledTime&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ei,{className:"h-3 w-3"}),o.scheduledTime]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ki,{className:"h-3 w-3"}),o.propertyLocation]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-eth-brown",children:[o.totalPrice," ETB"]}),s.jsx(Rt,{variant:"outline",className:o.status==="confirmed"?"bg-blue-50 text-blue-700 border-blue-200":o.status==="in_progress"?"bg-purple-50 text-purple-700 border-purple-200":o.status==="completed"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:o.status.replace(/_/g," ")})]})]},o.id))})})]})]})]}),s.jsx(Ei,{})]}):s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"pt-32 pb-20 px-6",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-eth-brown",children:"Not a Service Provider"}),s.jsx("p",{className:"text-eth-brown/70 mb-6",children:"You haven't applied to become a service provider yet."}),s.jsx(Be,{onClick:()=>e("/become-provider"),className:"bg-eth-brown hover:bg-eth-brown/90",children:"Become a Provider"})]})}),s.jsx(Ei,{})]}):s.jsxs("div",{className:"min-h-screen bg-[#faf5f0]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"pt-32 pb-20 px-6",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-eth-brown",children:"Please Sign In"}),s.jsx("p",{className:"text-eth-brown/70 mb-6",children:"You need to sign in to view your provider dashboard."}),s.jsx(Be,{onClick:()=>e("/login"),className:"bg-eth-brown hover:bg-eth-brown/90",children:"Sign In"})]})}),s.jsx(Ei,{})]})}function DZe(){const{user:t}=ti(),e=Ms();if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(Pi,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"My Trips"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to view your bookings"}),s.jsx(Be,{onClick:()=>e("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})});const{data:r=[],isLoading:n}=Nr({queryKey:["/api/bookings"]}),i=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),a=l=>`${parseFloat(l).toLocaleString()} ETB`,o=l=>{switch(l){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(tf,{})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"My Trips"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage your stays"})]}),n?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((l,c)=>s.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 animate-pulse rounded-lg h-32"},c))}):r.length===0?s.jsx(_e,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx(Pi,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No trips yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Start exploring and book your first stay!"}),s.jsx(Be,{asChild:!0,children:s.jsx(Cs,{to:"/properties","data-testid":"button-browse-properties",children:"Browse Properties"})})]})}):s.jsx("div",{className:"space-y-4",children:r.map(l=>s.jsx(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-booking-${l.id}`,children:s.jsx(Te,{className:"p-6",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground","data-testid":`text-booking-id-${l.id}`,children:["Booking #",l.id]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsxs("span",{"data-testid":`text-dates-${l.id}`,children:[i(l.checkIn)," - ",i(l.checkOut)]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsxs("span",{"data-testid":`text-guests-${l.id}`,children:[l.guests," guests"]})]})]})]}),s.jsx(Rt,{className:`${o(l.status)} border`,"data-testid":`badge-status-${l.id}`,children:l.status})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":`text-price-${l.id}`,children:a(l.totalPrice)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Payment: ",s.jsx("span",{className:"font-medium",children:l.paymentStatus})]})]}),s.jsx(Be,{variant:"outline",asChild:!0,children:s.jsxs(Cs,{to:`/bookings/${l.id}`,className:"flex items-center gap-2","data-testid":`button-view-details-${l.id}`,children:["View Details",s.jsx(Sb,{className:"h-4 w-4"})]})})]})]})})})},l.id))})]})]})}const LZe=_t.object({bookingId:_t.number(),rating:_t.number().min(1,"Please select a rating").max(5),comment:_t.string().min(10,"Review must be at least 10 characters"),cleanliness:_t.number().min(1).max(5).optional(),communication:_t.number().min(1).max(5).optional(),accuracy:_t.number().min(1).max(5).optional(),location:_t.number().min(1).max(5).optional(),value:_t.number().min(1).max(5).optional()});function FZe({propertyId:t,bookingId:e,children:r}){const[n,i]=P.useState(!1),{toast:a}=Vn(),o=Gf({resolver:Yf(LZe),defaultValues:{bookingId:e,rating:void 0,comment:"",cleanliness:void 0,communication:void 0,accuracy:void 0,location:void 0,value:void 0}}),l=Ln({mutationFn:async h=>(await xn("POST",`/api/properties/${t}/reviews`,h)).json(),onSuccess:()=>{zn.invalidateQueries({queryKey:[`/api/properties/${t}/reviews`]}),zn.invalidateQueries({queryKey:[`/api/properties/${t}`]}),a({title:"Review submitted!",description:"Thank you for sharing your experience."}),i(!1),o.reset()},onError:()=>{a({title:"Failed to submit review",description:"Please try again later.",variant:"destructive"})}}),c=h=>{l.mutate(h)},u=({value:h,onChange:f,label:y})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:y}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(v=>s.jsx("button",{type:"button",onClick:()=>f(v),className:"focus:outline-none transition-transform hover:scale-110",children:s.jsx(ca,{className:`h-6 w-6 ${v<=h?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},v))})]});return s.jsxs(Uo,{open:n,onOpenChange:i,children:[s.jsx(Tie,{asChild:!0,children:r||s.jsx(Be,{"data-testid":"button-write-review",children:"Write a Review"})}),s.jsxs(po,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Share Your Experience"}),s.jsx(Sc,{children:"Help others by sharing your honest review of this property"})]}),s.jsx(mp,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xr,{control:o.control,name:"rating",render:({field:h})=>s.jsxs(Kr,{children:[s.jsx(u,{value:h.value||0,onChange:f=>{h.onChange(f)},label:"Overall Rating *"}),s.jsx(dn,{})]})}),s.jsx(Xr,{control:o.control,name:"comment",render:({field:h})=>s.jsxs(Kr,{children:[s.jsx(an,{children:"Your Review *"}),s.jsx(on,{children:s.jsx(_i,{...h,placeholder:"Share your experience with this property...",rows:6,"data-testid":"input-review-comment"})}),s.jsx(dn,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Xr,{control:o.control,name:"cleanliness",render:({field:h})=>s.jsx(Kr,{children:s.jsx(u,{value:h.value||0,onChange:h.onChange,label:"Cleanliness"})})}),s.jsx(Xr,{control:o.control,name:"communication",render:({field:h})=>s.jsx(Kr,{children:s.jsx(u,{value:h.value||0,onChange:h.onChange,label:"Communication"})})}),s.jsx(Xr,{control:o.control,name:"accuracy",render:({field:h})=>s.jsx(Kr,{children:s.jsx(u,{value:h.value||0,onChange:h.onChange,label:"Accuracy"})})}),s.jsx(Xr,{control:o.control,name:"location",render:({field:h})=>s.jsx(Kr,{children:s.jsx(u,{value:h.value||0,onChange:h.onChange,label:"Location"})})}),s.jsx(Xr,{control:o.control,name:"value",render:({field:h})=>s.jsx(Kr,{children:s.jsx(u,{value:h.value||0,onChange:h.onChange,label:"Value"})})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-review",children:"Cancel"}),s.jsx(Be,{type:"submit",disabled:l.isPending,"data-testid":"button-submit-review",children:l.isPending?"Submitting...":"Submit Review"})]})]})})]})]})}function BZe(){var v;const{user:t}=ti(),{id:e}=m4(),r=Ms(),{toast:n}=Vn();if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(Vu,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Booking Details"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to view booking details"}),s.jsx(Be,{onClick:()=>r("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})});const{data:i,isLoading:a}=Nr({queryKey:[`/api/bookings/${e}`],enabled:!!e}),{data:o}=Nr({queryKey:[`/api/properties/${i==null?void 0:i.propertyId}`],enabled:!!(i!=null&&i.propertyId)}),l=Ln({mutationFn:async()=>{await xn("PATCH",`/api/bookings/${e}/status`,{status:"cancelled"})},onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/bookings"]}),zn.invalidateQueries({queryKey:[`/api/bookings/${e}`]}),n({title:"Booking cancelled",description:"Your booking has been successfully cancelled."})},onError:()=>{n({title:"Cancellation failed",description:"Unable to cancel booking. Please contact support.",variant:"destructive"})}}),c=S=>new Date(S).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),u=S=>`${parseFloat(S).toLocaleString()} ETB`,h=S=>{switch(S){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=(i==null?void 0:i.status)==="pending"||(i==null?void 0:i.status)==="confirmed";if(a)return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zr,{}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})})]});if(!i)return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zr,{}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsx(_e,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Booking not found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The booking you're looking for doesn't exist."}),s.jsx(Be,{onClick:()=>r("/bookings"),children:"Back to Bookings"})]})})})]});const y=Math.ceil((new Date(i.checkOut).getTime()-new Date(i.checkIn).getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(tf,{})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-booking-title",children:["Booking #",i.id]}),s.jsx(Rt,{className:`${h(i.status)} border text-sm px-3 py-1`,"data-testid":"badge-booking-status",children:i.status})]}),s.jsx("p",{className:"text-muted-foreground",children:"Confirmation details and information"})]}),s.jsxs("div",{className:"space-y-6",children:[o&&s.jsxs(_e,{"data-testid":"card-property-info",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5"}),"Property Details"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground","data-testid":"text-property-title",children:o.title}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(ki,{className:"h-4 w-4"}),o.location,", ",o.city]})]}),s.jsx(Ud,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Property Type"}),s.jsx("p",{className:"font-medium text-foreground capitalize",children:o.type.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Price per Night"}),s.jsx("p",{className:"font-medium text-foreground",children:u(o.pricePerNight)})]})]})]})]}),s.jsxs(_e,{"data-testid":"card-booking-info",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5"}),"Booking Information"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Check-in"}),s.jsx("p",{className:"font-semibold text-foreground","data-testid":"text-checkin-date",children:c(i.checkIn)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Check-out"}),s.jsx("p",{className:"font-semibold text-foreground","data-testid":"text-checkout-date",children:c(i.checkOut)})]})]}),s.jsx(Ud,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Duration"}),s.jsxs("p",{className:"font-semibold text-foreground flex items-center gap-1",children:[s.jsx(Pi,{className:"h-4 w-4"}),y," ",y===1?"night":"nights"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Guests"}),s.jsxs("p",{className:"font-semibold text-foreground flex items-center gap-1",children:[s.jsx(Ki,{className:"h-4 w-4"}),i.guests," ",i.guests===1?"guest":"guests"]})]})]})]})]}),s.jsxs(_e,{"data-testid":"card-payment-info",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"h-5 w-5"}),"Payment Information"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Payment Method"}),s.jsx("p",{className:"font-semibold text-foreground capitalize","data-testid":"text-payment-method",children:((v=i.paymentMethod)==null?void 0:v.replace("_"," "))||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Payment Status"}),s.jsx(Rt,{variant:i.paymentStatus==="paid"?"default":"secondary","data-testid":"badge-payment-status",children:i.paymentStatus})]})]}),s.jsx(Ud,{}),s.jsxs("div",{className:"flex items-center justify-between text-lg",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Total Amount"}),s.jsx("span",{className:"text-2xl font-bold text-foreground","data-testid":"text-total-price",children:u(i.totalPrice)})]})]})]}),i.specialRequests&&s.jsxs(_e,{"data-testid":"card-special-requests",children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5"}),"Special Requests"]})}),s.jsx(Te,{children:s.jsx("p",{className:"text-foreground","data-testid":"text-special-requests",children:i.specialRequests})})]}),i.status==="completed"&&i.propertyId&&s.jsx(_e,{"data-testid":"card-write-review",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Share Your Experience"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Write a review to help other travelers"})]}),s.jsx(FZe,{propertyId:i.propertyId,bookingId:i.id,children:s.jsxs(Be,{"data-testid":"button-write-review",children:[s.jsx(ca,{className:"mr-2 h-4 w-4"}),"Write Review"]})})]})})}),f&&s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Cancel Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancel this booking if your plans have changed"})]}),s.jsxs(Ale,{children:[s.jsx(_le,{asChild:!0,children:s.jsxs(Be,{variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Cancel Booking"]})}),s.jsxs(bR,{children:[s.jsxs(wR,{children:[s.jsx(jR,{children:"Are you sure?"}),s.jsx(SR,{children:"This action cannot be undone. Your booking will be cancelled and you may be subject to cancellation fees."})]}),s.jsxs(NR,{children:[s.jsx(AR,{"data-testid":"button-cancel-dialog-close",children:"No, keep booking"}),s.jsx(CR,{onClick:()=>l.mutate(),disabled:l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-cancel",children:l.isPending?"Cancelling...":"Yes, cancel booking"})]})]})]})]})})})]})]})]})}function UZe(){const t=Ms(),e=new URLSearchParams(window.location.search),r=e.get("bookingId");P.useEffect(()=>{const a=e.get("token");a&&r&&i(a,r)},[]);const{data:n}=Nr({queryKey:["/api/bookings",r,"access-code"],enabled:!!r,retry:3,retryDelay:2e3}),i=async(a,o)=>{try{(await fetch("/api/payment/confirm/paypal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:parseInt(o),orderId:a})})).ok||console.error("Payment confirmation failed")}catch(l){console.error("Error confirming payment:",l)}};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-eth-warm-tan",children:[s.jsx(Zr,{}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(_e,{className:"bg-white shadow-xl",children:[s.jsxs(Ge,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Mr,{className:"h-10 w-10 text-green-600"})}),s.jsx(Ye,{className:"text-3xl text-eth-brown",children:"Booking Confirmed!"}),s.jsx(ar,{className:"text-lg mt-2",children:"Your payment has been processed successfully"})]}),s.jsxs(Te,{className:"space-y-6",children:[n&&s.jsxs("div",{className:"bg-gradient-to-r from-eth-orange/10 to-eth-brown/10 border-2 border-eth-orange rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(xre,{className:"h-8 w-8 text-eth-orange mr-3"}),s.jsx("h3",{className:"text-2xl font-bold text-eth-brown",children:"Your Access Code"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-5xl font-mono font-bold text-eth-orange tracking-widest mb-2","data-testid":"text-access-code",children:n.code}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Valid from ",new Date(n.validFrom).toLocaleDateString()," to ",new Date(n.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[s.jsx("p",{className:"font-semibold mb-2",children:" Use this code to access the property"}),s.jsx("p",{className:"text-xs",children:"Keep this code safe and do not share it with anyone"})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-2",children:"What's Next?"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"You will receive a confirmation email with booking details"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"The host will be notified and may contact you"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:'Check your booking details in "My Bookings"'})]}),n&&s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mr,{className:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Use your access code to enter the property"})]})]})]}),r&&s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Booking Reference: #",r]}),s.jsx(Be,{onClick:()=>t(`/bookings/${r}`),className:"bg-eth-orange hover:bg-eth-orange/90","data-testid":"button-view-booking",children:"View Booking Details"})]}),s.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[s.jsx(Cs,{to:"/",children:s.jsx(Be,{variant:"outline",className:"border-eth-brown text-eth-brown hover:bg-eth-light-tan","data-testid":"link-home",children:"Back to Home"})}),s.jsx(Cs,{to:"/bookings",children:s.jsx(Be,{className:"bg-eth-green hover:bg-eth-green/90","data-testid":"link-my-bookings",children:"My Bookings"})})]})]})]})})}),s.jsx(Ei,{})]})}function $Ze(){const e=new URLSearchParams(window.location.search).get("bookingId");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-eth-warm-tan",children:[s.jsx(Zr,{}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(_e,{className:"bg-white shadow-xl",children:[s.jsxs(Ge,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Do,{className:"h-10 w-10 text-red-600"})}),s.jsx(Ye,{className:"text-3xl text-eth-brown",children:"Payment Cancelled"}),s.jsx(ar,{className:"text-lg mt-2",children:"Your booking payment was not completed"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-2",children:"What happened?"}),s.jsx("p",{className:"text-gray-700",children:"You cancelled the payment or there was an issue processing your transaction. Your booking has not been confirmed."})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-eth-brown mb-3",children:"What can you do?"}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),s.jsx("span",{children:"Try again with the same or different payment method"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),s.jsx("span",{children:"Check your payment details and try again"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),s.jsx("span",{children:"Contact our support team if you need assistance"})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-center pt-4",children:[e&&s.jsx(Cs,{to:`/property/${e}`,children:s.jsxs(Be,{className:"bg-eth-orange hover:bg-eth-orange/90","data-testid":"button-try-again",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),"Try Again"]})}),s.jsx(Cs,{to:"/",children:s.jsx(Be,{variant:"outline",className:"border-eth-brown text-eth-brown hover:bg-eth-light-tan","data-testid":"link-home",children:"Back to Home"})})]})]})]})})}),s.jsx(Ei,{})]})}function zZe(){const{user:t}=ti(),e=Ms();if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsx(_e,{className:"max-w-md w-full mx-4",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx(Nx,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#8a6e4b"}}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"My Favorites"}),s.jsx("p",{className:"text-base mb-6",style:{color:"#5a4a42"},children:"Please sign in to view your favorite properties"}),s.jsx(Be,{onClick:()=>e("/login"),className:"w-full text-lg py-6",style:{background:"#2d1405"},"data-testid":"button-signin",children:"Sign In"})]})})});const{data:r,isLoading:n}=Nr({queryKey:["/api/favorites"]});return s.jsx("div",{className:"min-h-screen bg-[#D4C5B0] dark:bg-gray-900",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-20 bg-gradient-to-b from-[#8B4513] to-[#654321] flex-shrink-0",children:s.jsx("div",{className:"h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTTAgMTBMMTAgMEwyMCAxMEwxMCAyMFoiIGZpbGw9InJnYmEoMjU1LDIxNSwwLDAuMSkiLz48cGF0aCBkPSJNMjAgMzBMMzAgMjBMNDAgMzBMMzAgNDBaIiBmaWxsPSJyZ2JhKDI1NSwyMTUsMCwwLjEpIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-30"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Zr,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Nx,{className:"w-8 h-8 text-[#D2691E] dark:text-[#FFD700]"}),s.jsx("h1",{className:"text-4xl font-bold text-[#654321] dark:text-white",children:"My Favorites"})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Properties you've saved for later"})]}),n?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:[...Array(6)].map((i,a)=>s.jsx("div",{className:"h-96 bg-white/50 dark:bg-gray-800/50 rounded-lg animate-pulse"},a))}):r&&r.length>0?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:r.map(i=>s.jsx(Yie,{property:i},i.id))}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx(Nx,{className:"w-24 h-24 text-gray-300 dark:text-gray-700 mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400 mb-4",children:"No favorites yet"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-8",children:"Start exploring properties and save your favorites!"}),s.jsx("a",{href:"/properties","data-testid":"link-browse-properties",className:"inline-block bg-[#D2691E] hover:bg-[#B8571B] text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Browse Properties"})]})]})]})]})})}var Cr;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Cr||(Cr={}));var GY=new Map([[Cr.QR_CODE,"QR_CODE"],[Cr.AZTEC,"AZTEC"],[Cr.CODABAR,"CODABAR"],[Cr.CODE_39,"CODE_39"],[Cr.CODE_93,"CODE_93"],[Cr.CODE_128,"CODE_128"],[Cr.DATA_MATRIX,"DATA_MATRIX"],[Cr.MAXICODE,"MAXICODE"],[Cr.ITF,"ITF"],[Cr.EAN_13,"EAN_13"],[Cr.EAN_8,"EAN_8"],[Cr.PDF_417,"PDF_417"],[Cr.RSS_14,"RSS_14"],[Cr.RSS_EXPANDED,"RSS_EXPANDED"],[Cr.UPC_A,"UPC_A"],[Cr.UPC_E,"UPC_E"],[Cr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),YY;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(YY||(YY={}));function qZe(t){return Object.values(Cr).includes(t)}var um;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(um||(um={}));var Rd=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[um.SCAN_TYPE_CAMERA,um.SCAN_TYPE_FILE],t})(),$me=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!GY.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,GY.get(e))},t})(),KY=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),s8;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(s8||(s8={}));var zme=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:s8.UNKWOWN_ERROR}},t})(),qme=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Nh(t){return typeof t>"u"||t===null}function VZe(t,e,r){return t>r?r:t<e?e:t}var bx=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Qs=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),XY=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),Vme=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(e),l=0,c=o;l<c.length;l++){var u=c[l];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t})(),Vv={exports:{}},HZe=Vv.exports,ZY;function WZe(){return ZY||(ZY=1,(function(t,e){(function(r,n){n(e)})(HZe,(function(r){function n(le){return le==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,d){le.__proto__=d}||function(le,d){for(var m in d)d.hasOwnProperty(m)&&(le[m]=d[m])};function a(le,d){i(le,d);function m(){this.constructor=le}le.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}function o(le,d){var m=Object.setPrototypeOf;m?m(le,d):le.__proto__=d}function l(le,d){d===void 0&&(d=le.constructor);var m=Error.captureStackTrace;m&&m(le,d)}var c=(function(le){a(d,le);function d(m){var g=this.constructor,b=le.call(this,m)||this;return Object.defineProperty(b,"name",{value:g.name,enumerable:!1}),o(b,g.prototype),l(b),b}return d})(Error);class u extends c{constructor(d=void 0){super(d),this.message=d}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class f extends u{}f.kind="IllegalArgumentException";class y{constructor(d){if(this.binarizer=d,d===null)throw new f("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(d,m){return this.binarizer.getBlackRow(d,m)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(d,m,g,b){const j=this.binarizer.getLuminanceSource().crop(d,m,g,b);return new y(this.binarizer.createBinarizer(j))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const d=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(d))}rotateCounterClockwise45(){const d=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(d))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class v extends u{static getChecksumInstance(){return new v}}v.kind="ChecksumException";class S{constructor(d){this.source=d}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class w{static arraycopy(d,m,g,b,j){for(;j--;)g[b++]=d[m++]}static currentTimeMillis(){return Date.now()}}class N extends u{}N.kind="IndexOutOfBoundsException";class _ extends N{constructor(d=void 0,m=void 0){super(m),this.index=d,this.message=m}}_.kind="ArrayIndexOutOfBoundsException";class E{static fill(d,m){for(let g=0,b=d.length;g<b;g++)d[g]=m}static fillWithin(d,m,g,b){E.rangeCheck(d.length,m,g);for(let j=m;j<g;j++)d[j]=b}static rangeCheck(d,m,g){if(m>g)throw new f("fromIndex("+m+") > toIndex("+g+")");if(m<0)throw new _(m);if(g>d)throw new _(g)}static asList(...d){return d}static create(d,m,g){return Array.from({length:d}).map(j=>Array.from({length:m}).fill(g))}static createInt32Array(d,m,g){return Array.from({length:d}).map(j=>Int32Array.from({length:m}).fill(g))}static equals(d,m){if(!d||!m||!d.length||!m.length||d.length!==m.length)return!1;for(let g=0,b=d.length;g<b;g++)if(d[g]!==m[g])return!1;return!0}static hashCode(d){if(d===null)return 0;let m=1;for(const g of d)m=31*m+g;return m}static fillUint8Array(d,m){for(let g=0;g!==d.length;g++)d[g]=m}static copyOf(d,m){return d.slice(0,m)}static copyOfUint8Array(d,m){if(d.length<=m){const g=new Uint8Array(m);return g.set(d),g}return d.slice(0,m)}static copyOfRange(d,m,g){const b=g-m,j=new Int32Array(b);return w.arraycopy(d,m,j,0,b),j}static binarySearch(d,m,g){g===void 0&&(g=E.numberComparator);let b=0,j=d.length-1;for(;b<=j;){const C=j+b>>1,I=g(m,d[C]);if(I>0)b=C+1;else if(I<0)j=C-1;else return C}return-b-1}static numberComparator(d,m){return d-m}}class T{static numberOfTrailingZeros(d){let m;if(d===0)return 32;let g=31;return m=d<<16,m!==0&&(g-=16,d=m),m=d<<8,m!==0&&(g-=8,d=m),m=d<<4,m!==0&&(g-=4,d=m),m=d<<2,m!==0&&(g-=2,d=m),g-(d<<1>>>31)}static numberOfLeadingZeros(d){if(d===0)return 32;let m=1;return d>>>16||(m+=16,d<<=16),d>>>24||(m+=8,d<<=8),d>>>28||(m+=4,d<<=4),d>>>30||(m+=2,d<<=2),m-=d>>>31,m}static toHexString(d){return d.toString(16)}static toBinaryString(d){return String(parseInt(String(d),2))}static bitCount(d){return d=d-(d>>>1&1431655765),d=(d&858993459)+(d>>>2&858993459),d=d+(d>>>4)&252645135,d=d+(d>>>8),d=d+(d>>>16),d&63}static truncDivision(d,m){return Math.trunc(d/m)}static parseInt(d,m=void 0){return parseInt(d,m)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(d,m){d===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=d,m==null?this.bits=M.makeArray(d):this.bits=m)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(d){if(d>this.bits.length*32){const m=M.makeArray(d);w.arraycopy(this.bits,0,m,0,this.bits.length),this.bits=m}}get(d){return(this.bits[Math.floor(d/32)]&1<<(d&31))!==0}set(d){this.bits[Math.floor(d/32)]|=1<<(d&31)}flip(d){this.bits[Math.floor(d/32)]^=1<<(d&31)}getNextSet(d){const m=this.size;if(d>=m)return m;const g=this.bits;let b=Math.floor(d/32),j=g[b];j&=~((1<<(d&31))-1);const C=g.length;for(;j===0;){if(++b===C)return m;j=g[b]}const I=b*32+T.numberOfTrailingZeros(j);return I>m?m:I}getNextUnset(d){const m=this.size;if(d>=m)return m;const g=this.bits;let b=Math.floor(d/32),j=~g[b];j&=~((1<<(d&31))-1);const C=g.length;for(;j===0;){if(++b===C)return m;j=~g[b]}const I=b*32+T.numberOfTrailingZeros(j);return I>m?m:I}setBulk(d,m){this.bits[Math.floor(d/32)]=m}setRange(d,m){if(m<d||d<0||m>this.size)throw new f;if(m===d)return;m--;const g=Math.floor(d/32),b=Math.floor(m/32),j=this.bits;for(let C=g;C<=b;C++){const I=C>g?0:d&31,V=(2<<(C<b?31:m&31))-(1<<I);j[C]|=V}}clear(){const d=this.bits.length,m=this.bits;for(let g=0;g<d;g++)m[g]=0}isRange(d,m,g){if(m<d||d<0||m>this.size)throw new f;if(m===d)return!0;m--;const b=Math.floor(d/32),j=Math.floor(m/32),C=this.bits;for(let I=b;I<=j;I++){const F=I>b?0:d&31,te=(2<<(I<j?31:m&31))-(1<<F)&4294967295;if((C[I]&te)!==(g?te:0))return!1}return!0}appendBit(d){this.ensureCapacity(this.size+1),d&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(d,m){if(m<0||m>32)throw new f("Num bits must be between 0 and 32");this.ensureCapacity(this.size+m);for(let g=m;g>0;g--)this.appendBit((d>>g-1&1)===1)}appendBitArray(d){const m=d.size;this.ensureCapacity(this.size+m);for(let g=0;g<m;g++)this.appendBit(d.get(g))}xor(d){if(this.size!==d.size)throw new f("Sizes don't match");const m=this.bits;for(let g=0,b=m.length;g<b;g++)m[g]^=d.bits[g]}toBytes(d,m,g,b){for(let j=0;j<b;j++){let C=0;for(let I=0;I<8;I++)this.get(d)&&(C|=1<<7-I),d++;m[g+j]=C}}getBitArray(){return this.bits}reverse(){const d=new Int32Array(this.bits.length),m=Math.floor((this.size-1)/32),g=m+1,b=this.bits;for(let j=0;j<g;j++){let C=b[j];C=C>>1&1431655765|(C&1431655765)<<1,C=C>>2&858993459|(C&858993459)<<2,C=C>>4&252645135|(C&252645135)<<4,C=C>>8&16711935|(C&16711935)<<8,C=C>>16&65535|(C&65535)<<16,d[m-j]=C}if(this.size!==g*32){const j=g*32-this.size;let C=d[0]>>>j;for(let I=1;I<g;I++){const F=d[I];C|=F<<32-j,d[I-1]=C,C=F>>>j}d[g-1]=C}this.bits=d}static makeArray(d){return new Int32Array(Math.floor((d+31)/32))}equals(d){if(!(d instanceof M))return!1;const m=d;return this.size===m.size&&E.equals(this.bits,m.bits)}hashCode(){return 31*this.size+E.hashCode(this.bits)}toString(){let d="";for(let m=0,g=this.size;m<g;m++)(m&7)===0&&(d+=" "),d+=this.get(m)?"X":".";return d}clone(){return new M(this.size,this.bits.slice())}}var O;(function(le){le[le.OTHER=0]="OTHER",le[le.PURE_BARCODE=1]="PURE_BARCODE",le[le.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",le[le.TRY_HARDER=3]="TRY_HARDER",le[le.CHARACTER_SET=4]="CHARACTER_SET",le[le.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",le[le.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",le[le.ASSUME_GS1=7]="ASSUME_GS1",le[le.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",le[le.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",le[le.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(O||(O={}));var L=O;class B extends u{static getFormatInstance(){return new B}}B.kind="FormatException";var U;(function(le){le[le.Cp437=0]="Cp437",le[le.ISO8859_1=1]="ISO8859_1",le[le.ISO8859_2=2]="ISO8859_2",le[le.ISO8859_3=3]="ISO8859_3",le[le.ISO8859_4=4]="ISO8859_4",le[le.ISO8859_5=5]="ISO8859_5",le[le.ISO8859_6=6]="ISO8859_6",le[le.ISO8859_7=7]="ISO8859_7",le[le.ISO8859_8=8]="ISO8859_8",le[le.ISO8859_9=9]="ISO8859_9",le[le.ISO8859_10=10]="ISO8859_10",le[le.ISO8859_11=11]="ISO8859_11",le[le.ISO8859_13=12]="ISO8859_13",le[le.ISO8859_14=13]="ISO8859_14",le[le.ISO8859_15=14]="ISO8859_15",le[le.ISO8859_16=15]="ISO8859_16",le[le.SJIS=16]="SJIS",le[le.Cp1250=17]="Cp1250",le[le.Cp1251=18]="Cp1251",le[le.Cp1252=19]="Cp1252",le[le.Cp1256=20]="Cp1256",le[le.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",le[le.UTF8=22]="UTF8",le[le.ASCII=23]="ASCII",le[le.Big5=24]="Big5",le[le.GB18030=25]="GB18030",le[le.EUC_KR=26]="EUC_KR"})(U||(U={}));class ${constructor(d,m,g,...b){this.valueIdentifier=d,this.name=g,typeof m=="number"?this.values=Int32Array.from([m]):this.values=m,this.otherEncodingNames=b,$.VALUE_IDENTIFIER_TO_ECI.set(d,this),$.NAME_TO_ECI.set(g,this);const j=this.values;for(let C=0,I=j.length;C!==I;C++){const F=j[C];$.VALUES_TO_ECI.set(F,this)}for(const C of b)$.NAME_TO_ECI.set(C,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(d){if(d<0||d>=900)throw new B("incorect value");const m=$.VALUES_TO_ECI.get(d);if(m===void 0)throw new B("incorect value");return m}static getCharacterSetECIByName(d){const m=$.NAME_TO_ECI.get(d);if(m===void 0)throw new B("incorect value");return m}equals(d){if(!(d instanceof $))return!1;const m=d;return this.getName()===m.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(U.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(U.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(U.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(U.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(U.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(U.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(U.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(U.Big5,28,"Big5"),$.GB18030=new $(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(U.EUC_KR,30,"EUC_KR","EUC-KR");class K extends u{}K.kind="UnsupportedOperationException";class q{static decode(d,m){const g=this.encodingName(m);return this.customDecoder?this.customDecoder(d,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(d,g):new TextDecoder(g).decode(d)}static shouldDecodeOnFallback(d){return!q.isBrowser()&&d==="ISO-8859-1"}static encode(d,m){const g=this.encodingName(m);return this.customEncoder?this.customEncoder(d,g):typeof TextEncoder>"u"?this.encodeFallback(d):new TextEncoder().encode(d)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(d){return typeof d=="string"?d:d.getName()}static encodingCharacterSet(d){return d instanceof $?d:$.getCharacterSetECIByName(d)}static decodeFallback(d,m){const g=this.encodingCharacterSet(m);if(q.isDecodeFallbackSupported(g)){let b="";for(let j=0,C=d.length;j<C;j++){let I=d[j].toString(16);I.length<2&&(I="0"+I),b+="%"+I}return decodeURIComponent(b)}if(g.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(d.buffer));throw new K(`Encoding ${this.encodingName(m)} not supported by fallback.`)}static isDecodeFallbackSupported(d){return d.equals($.UTF8)||d.equals($.ISO8859_1)||d.equals($.ASCII)}static encodeFallback(d){const g=btoa(unescape(encodeURIComponent(d))).split(""),b=[];for(let j=0;j<g.length;j++)b.push(g[j].charCodeAt(0));return new Uint8Array(b)}}class H{static castAsNonUtf8Char(d,m=null){const g=m?m.getName():this.ISO88591;return q.decode(new Uint8Array([d]),g)}static guessEncoding(d,m){if(m!=null&&m.get(L.CHARACTER_SET)!==void 0)return m.get(L.CHARACTER_SET).toString();const g=d.length;let b=!0,j=!0,C=!0,I=0,F=0,V=0,te=0,ce=0,be=0,Me=0,He=0,Ke=0,tt=0,ut=0;const St=d.length>3&&d[0]===239&&d[1]===187&&d[2]===191;for(let Pt=0;Pt<g&&(b||j||C);Pt++){const At=d[Pt]&255;C&&(I>0?(At&128)===0?C=!1:I--:(At&128)!==0&&((At&64)===0?C=!1:(I++,(At&32)===0?F++:(I++,(At&16)===0?V++:(I++,(At&8)===0?te++:C=!1))))),b&&(At>127&&At<160?b=!1:At>159&&(At<192||At===215||At===247)&&ut++),j&&(ce>0?At<64||At===127||At>252?j=!1:ce--:At===128||At===160||At>239?j=!1:At>160&&At<224?(be++,He=0,Me++,Me>Ke&&(Ke=Me)):At>127?(ce++,Me=0,He++,He>tt&&(tt=He)):(Me=0,He=0))}return C&&I>0&&(C=!1),j&&ce>0&&(j=!1),C&&(St||F+V+te>0)?H.UTF8:j&&(H.ASSUME_SHIFT_JIS||Ke>=3||tt>=3)?H.SHIFT_JIS:b&&j?Ke===2&&be===2||ut*10>=g?H.SHIFT_JIS:H.ISO88591:b?H.ISO88591:j?H.SHIFT_JIS:C?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(d,...m){let g=-1;function b(C,I,F,V,te,ce){if(C==="%%")return"%";if(m[++g]===void 0)return;C=V?parseInt(V.substr(1)):void 0;let be=te?parseInt(te.substr(1)):void 0,Me;switch(ce){case"s":Me=m[g];break;case"c":Me=m[g][0];break;case"f":Me=parseFloat(m[g]).toFixed(C);break;case"p":Me=parseFloat(m[g]).toPrecision(C);break;case"e":Me=parseFloat(m[g]).toExponential(C);break;case"x":Me=parseInt(m[g]).toString(be||16);break;case"d":Me=parseFloat(parseInt(m[g],be||10).toPrecision(C)).toFixed(0);break}Me=typeof Me=="object"?JSON.stringify(Me):(+Me).toString(be);let He=parseInt(F),Ke=F&&F[0]+""=="0"?"0":" ";for(;Me.length<He;)Me=I!==void 0?Me+Ke:Ke+Me;return Me}let j=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return d.replace(j,b)}static getBytes(d,m){return q.encode(d,m)}static getCharCode(d,m=0){return d.charCodeAt(m)}static getCharAt(d){return String.fromCharCode(d)}}H.SHIFT_JIS=$.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=$.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=$.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class Q{constructor(d=""){this.value=d}enableDecoding(d){return this.encoding=d,this}append(d){return typeof d=="string"?this.value+=d.toString():this.encoding?this.value+=H.castAsNonUtf8Char(d,this.encoding):this.value+=String.fromCharCode(d),this}appendChars(d,m,g){for(let b=m;m<m+g;b++)this.append(d[b]);return this}length(){return this.value.length}charAt(d){return this.value.charAt(d)}deleteCharAt(d){this.value=this.value.substr(0,d)+this.value.substring(d+1)}setCharAt(d,m){this.value=this.value.substr(0,d)+m+this.value.substr(d+1)}substring(d,m){return this.value.substring(d,m)}setLengthToZero(){this.value=""}toString(){return this.value}insert(d,m){this.value=this.value.substr(0,d)+m+this.value.substr(d+m.length)}}class Z{constructor(d,m,g,b){if(this.width=d,this.height=m,this.rowSize=g,this.bits=b,m==null&&(m=d),this.height=m,d<1||m<1)throw new f("Both dimensions must be greater than 0");g==null&&(g=Math.floor((d+31)/32)),this.rowSize=g,b==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(d){const m=d.length,g=d[0].length,b=new Z(g,m);for(let j=0;j<m;j++){const C=d[j];for(let I=0;I<g;I++)C[I]&&b.set(I,j)}return b}static parseFromString(d,m,g){if(d===null)throw new f("stringRepresentation cannot be null");const b=new Array(d.length);let j=0,C=0,I=-1,F=0,V=0;for(;V<d.length;)if(d.charAt(V)===`
`||d.charAt(V)==="\r"){if(j>C){if(I===-1)I=j-C;else if(j-C!==I)throw new f("row lengths do not match");C=j,F++}V++}else if(d.substring(V,V+m.length)===m)V+=m.length,b[j]=!0,j++;else if(d.substring(V,V+g.length)===g)V+=g.length,b[j]=!1,j++;else throw new f("illegal character encountered: "+d.substring(V));if(j>C){if(I===-1)I=j-C;else if(j-C!==I)throw new f("row lengths do not match");F++}const te=new Z(I,F);for(let ce=0;ce<j;ce++)b[ce]&&te.set(Math.floor(ce%I),Math.floor(ce/I));return te}get(d,m){const g=m*this.rowSize+Math.floor(d/32);return(this.bits[g]>>>(d&31)&1)!==0}set(d,m){const g=m*this.rowSize+Math.floor(d/32);this.bits[g]|=1<<(d&31)&4294967295}unset(d,m){const g=m*this.rowSize+Math.floor(d/32);this.bits[g]&=~(1<<(d&31)&4294967295)}flip(d,m){const g=m*this.rowSize+Math.floor(d/32);this.bits[g]^=1<<(d&31)&4294967295}xor(d){if(this.width!==d.getWidth()||this.height!==d.getHeight()||this.rowSize!==d.getRowSize())throw new f("input matrix dimensions do not match");const m=new M(Math.floor(this.width/32)+1),g=this.rowSize,b=this.bits;for(let j=0,C=this.height;j<C;j++){const I=j*g,F=d.getRow(j,m).getBitArray();for(let V=0;V<g;V++)b[I+V]^=F[V]}}clear(){const d=this.bits,m=d.length;for(let g=0;g<m;g++)d[g]=0}setRegion(d,m,g,b){if(m<0||d<0)throw new f("Left and top must be nonnegative");if(b<1||g<1)throw new f("Height and width must be at least 1");const j=d+g,C=m+b;if(C>this.height||j>this.width)throw new f("The region must fit inside the matrix");const I=this.rowSize,F=this.bits;for(let V=m;V<C;V++){const te=V*I;for(let ce=d;ce<j;ce++)F[te+Math.floor(ce/32)]|=1<<(ce&31)&4294967295}}getRow(d,m){m==null||m.getSize()<this.width?m=new M(this.width):m.clear();const g=this.rowSize,b=this.bits,j=d*g;for(let C=0;C<g;C++)m.setBulk(C*32,b[j+C]);return m}setRow(d,m){w.arraycopy(m.getBitArray(),0,this.bits,d*this.rowSize,this.rowSize)}rotate180(){const d=this.getWidth(),m=this.getHeight();let g=new M(d),b=new M(d);for(let j=0,C=Math.floor((m+1)/2);j<C;j++)g=this.getRow(j,g),b=this.getRow(m-1-j,b),g.reverse(),b.reverse(),this.setRow(j,b),this.setRow(m-1-j,g)}getEnclosingRectangle(){const d=this.width,m=this.height,g=this.rowSize,b=this.bits;let j=d,C=m,I=-1,F=-1;for(let V=0;V<m;V++)for(let te=0;te<g;te++){const ce=b[V*g+te];if(ce!==0){if(V<C&&(C=V),V>F&&(F=V),te*32<j){let be=0;for(;(ce<<31-be&4294967295)===0;)be++;te*32+be<j&&(j=te*32+be)}if(te*32+31>I){let be=31;for(;!(ce>>>be);)be--;te*32+be>I&&(I=te*32+be)}}}return I<j||F<C?null:Int32Array.from([j,C,I-j+1,F-C+1])}getTopLeftOnBit(){const d=this.rowSize,m=this.bits;let g=0;for(;g<m.length&&m[g]===0;)g++;if(g===m.length)return null;const b=g/d;let j=g%d*32;const C=m[g];let I=0;for(;(C<<31-I&4294967295)===0;)I++;return j+=I,Int32Array.from([j,b])}getBottomRightOnBit(){const d=this.rowSize,m=this.bits;let g=m.length-1;for(;g>=0&&m[g]===0;)g--;if(g<0)return null;const b=Math.floor(g/d);let j=Math.floor(g%d)*32;const C=m[g];let I=31;for(;!(C>>>I);)I--;return j+=I,Int32Array.from([j,b])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(d){if(!(d instanceof Z))return!1;const m=d;return this.width===m.width&&this.height===m.height&&this.rowSize===m.rowSize&&E.equals(this.bits,m.bits)}hashCode(){let d=this.width;return d=31*d+this.width,d=31*d+this.height,d=31*d+this.rowSize,d=31*d+E.hashCode(this.bits),d}toString(d="X ",m="  ",g=`
`){return this.buildToString(d,m,g)}buildToString(d,m,g){let b=new Q;for(let j=0,C=this.height;j<C;j++){for(let I=0,F=this.width;I<F;I++)b.append(this.get(I,j)?d:m);b.append(g)}return b.toString()}clone(){return new Z(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends u{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class ye extends S{constructor(d){super(d),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(d,m){const g=this.getLuminanceSource(),b=g.getWidth();m==null||m.getSize()<b?m=new M(b):m.clear(),this.initArrays(b);const j=g.getRow(d,this.luminances),C=this.buckets;for(let F=0;F<b;F++)C[(j[F]&255)>>ye.LUMINANCE_SHIFT]++;const I=ye.estimateBlackPoint(C);if(b<3)for(let F=0;F<b;F++)(j[F]&255)<I&&m.set(F);else{let F=j[0]&255,V=j[1]&255;for(let te=1;te<b-1;te++){const ce=j[te+1]&255;(V*4-F-ce)/2<I&&m.set(te),F=V,V=ce}}return m}getBlackMatrix(){const d=this.getLuminanceSource(),m=d.getWidth(),g=d.getHeight(),b=new Z(m,g);this.initArrays(m);const j=this.buckets;for(let F=1;F<5;F++){const V=Math.floor(g*F/5),te=d.getRow(V,this.luminances),ce=Math.floor(m*4/5);for(let be=Math.floor(m/5);be<ce;be++){const Me=te[be]&255;j[Me>>ye.LUMINANCE_SHIFT]++}}const C=ye.estimateBlackPoint(j),I=d.getMatrix();for(let F=0;F<g;F++){const V=F*m;for(let te=0;te<m;te++)(I[V+te]&255)<C&&b.set(te,F)}return b}createBinarizer(d){return new ye(d)}initArrays(d){this.luminances.length<d&&(this.luminances=new Uint8ClampedArray(d));const m=this.buckets;for(let g=0;g<ye.LUMINANCE_BUCKETS;g++)m[g]=0}static estimateBlackPoint(d){const m=d.length;let g=0,b=0,j=0;for(let te=0;te<m;te++)d[te]>j&&(b=te,j=d[te]),d[te]>g&&(g=d[te]);let C=0,I=0;for(let te=0;te<m;te++){const ce=te-b,be=d[te]*ce*ce;be>I&&(C=te,I=be)}if(b>C){const te=b;b=C,C=te}if(C-b<=m/16)throw new J;let F=C-1,V=-1;for(let te=C-1;te>b;te--){const ce=te-b,be=ce*ce*(C-te)*(g-d[te]);be>V&&(F=te,V=be)}return F<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class ge extends ye{constructor(d){super(d),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const d=this.getLuminanceSource(),m=d.getWidth(),g=d.getHeight();if(m>=ge.MINIMUM_DIMENSION&&g>=ge.MINIMUM_DIMENSION){const b=d.getMatrix();let j=m>>ge.BLOCK_SIZE_POWER;(m&ge.BLOCK_SIZE_MASK)!==0&&j++;let C=g>>ge.BLOCK_SIZE_POWER;(g&ge.BLOCK_SIZE_MASK)!==0&&C++;const I=ge.calculateBlackPoints(b,j,C,m,g),F=new Z(m,g);ge.calculateThresholdForBlock(b,j,C,m,g,I,F),this.matrix=F}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(d){return new ge(d)}static calculateThresholdForBlock(d,m,g,b,j,C,I){const F=j-ge.BLOCK_SIZE,V=b-ge.BLOCK_SIZE;for(let te=0;te<g;te++){let ce=te<<ge.BLOCK_SIZE_POWER;ce>F&&(ce=F);const be=ge.cap(te,2,g-3);for(let Me=0;Me<m;Me++){let He=Me<<ge.BLOCK_SIZE_POWER;He>V&&(He=V);const Ke=ge.cap(Me,2,m-3);let tt=0;for(let St=-2;St<=2;St++){const Pt=C[be+St];tt+=Pt[Ke-2]+Pt[Ke-1]+Pt[Ke]+Pt[Ke+1]+Pt[Ke+2]}const ut=tt/25;ge.thresholdBlock(d,He,ce,ut,b,I)}}}static cap(d,m,g){return d<m?m:d>g?g:d}static thresholdBlock(d,m,g,b,j,C){for(let I=0,F=g*j+m;I<ge.BLOCK_SIZE;I++,F+=j)for(let V=0;V<ge.BLOCK_SIZE;V++)(d[F+V]&255)<=b&&C.set(m+V,g+I)}static calculateBlackPoints(d,m,g,b,j){const C=j-ge.BLOCK_SIZE,I=b-ge.BLOCK_SIZE,F=new Array(g);for(let V=0;V<g;V++){F[V]=new Int32Array(m);let te=V<<ge.BLOCK_SIZE_POWER;te>C&&(te=C);for(let ce=0;ce<m;ce++){let be=ce<<ge.BLOCK_SIZE_POWER;be>I&&(be=I);let Me=0,He=255,Ke=0;for(let ut=0,St=te*b+be;ut<ge.BLOCK_SIZE;ut++,St+=b){for(let Pt=0;Pt<ge.BLOCK_SIZE;Pt++){const At=d[St+Pt]&255;Me+=At,At<He&&(He=At),At>Ke&&(Ke=At)}if(Ke-He>ge.MIN_DYNAMIC_RANGE)for(ut++,St+=b;ut<ge.BLOCK_SIZE;ut++,St+=b)for(let Pt=0;Pt<ge.BLOCK_SIZE;Pt++)Me+=d[St+Pt]&255}let tt=Me>>ge.BLOCK_SIZE_POWER*2;if(Ke-He<=ge.MIN_DYNAMIC_RANGE&&(tt=He/2,V>0&&ce>0)){const ut=(F[V-1][ce]+2*F[V][ce-1]+F[V-1][ce-1])/4;He<ut&&(tt=ut)}F[V][ce]=tt}}return F}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class oe{constructor(d,m){this.width=d,this.height=m}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(d,m,g,b){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const d=new Uint8ClampedArray(this.width);let m=new Q;for(let g=0;g<this.height;g++){const b=this.getRow(g,d);for(let j=0;j<this.width;j++){const C=b[j]&255;let I;C<64?I="#":C<128?I="+":C<192?I=".":I=" ",m.append(I)}m.append(`
`)}return m.toString()}}class re extends oe{constructor(d){super(d.getWidth(),d.getHeight()),this.delegate=d}getRow(d,m){const g=this.delegate.getRow(d,m),b=this.getWidth();for(let j=0;j<b;j++)g[j]=255-(g[j]&255);return g}getMatrix(){const d=this.delegate.getMatrix(),m=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(m);for(let b=0;b<m;b++)g[b]=255-(d[b]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(d,m,g,b){return new re(this.delegate.crop(d,m,g,b))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new re(this.delegate.rotateCounterClockwise45())}}class me extends oe{constructor(d){super(d.width,d.height),this.canvas=d,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(d)}static makeBufferFromCanvasImageData(d){const m=d.getContext("2d").getImageData(0,0,d.width,d.height);return me.toGrayscaleBuffer(m.data,d.width,d.height)}static toGrayscaleBuffer(d,m,g){const b=new Uint8ClampedArray(m*g);for(let j=0,C=0,I=d.length;j<I;j+=4,C++){let F;if(d[j+3]===0)F=255;else{const te=d[j],ce=d[j+1],be=d[j+2];F=306*te+601*ce+117*be+512>>10}b[C]=F}return b}getRow(d,m){if(d<0||d>=this.getHeight())throw new f("Requested row is outside the image: "+d);const g=this.getWidth(),b=d*g;return m===null?m=this.buffer.slice(b,b+g):(m.length<g&&(m=new Uint8ClampedArray(g)),m.set(this.buffer.slice(b,b+g))),m}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(d,m,g,b){return super.crop(d,m,g,b),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const d=this.canvas.ownerDocument.createElement("canvas");d.width=this.canvas.width,d.height=this.canvas.height,this.tempCanvasElement=d}return this.tempCanvasElement}rotate(d){const m=this.getTempCanvasElement(),g=m.getContext("2d"),b=d*me.DEGREE_TO_RADIANS,j=this.canvas.width,C=this.canvas.height,I=Math.ceil(Math.abs(Math.cos(b))*j+Math.abs(Math.sin(b))*C),F=Math.ceil(Math.abs(Math.sin(b))*j+Math.abs(Math.cos(b))*C);return m.width=I,m.height=F,g.translate(I/2,F/2),g.rotate(b),g.drawImage(this.canvas,j/-2,C/-2),this.buffer=me.makeBufferFromCanvasImageData(m),this}invert(){return new re(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(d,m,g){this.deviceId=d,this.label=m,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var G=(globalThis||op||self||window||void 0)&&(globalThis||op||self||window||void 0).__awaiter||function(le,d,m,g){function b(j){return j instanceof m?j:new m(function(C){C(j)})}return new(m||(m=Promise))(function(j,C){function I(te){try{V(g.next(te))}catch(ce){C(ce)}}function F(te){try{V(g.throw(te))}catch(ce){C(ce)}}function V(te){te.done?j(te.value):b(te.value).then(I,F)}V((g=g.apply(le,d||[])).next())})};class se{constructor(d,m=500,g){this.reader=d,this.timeBetweenScansMillis=m,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(d){this._timeBetweenDecodingAttempts=d<0?0:d}set hints(d){this._hints=d||null}get hints(){return this._hints}listVideoInputDevices(){return G(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const d=yield navigator.mediaDevices.enumerateDevices(),m=[];for(const g of d){const b=g.kind==="video"?"videoinput":g.kind;if(b!=="videoinput")continue;const j=g.deviceId||g.id,C=g.label||`Video device ${m.length+1}`,I=g.groupId,F={deviceId:j,label:C,kind:b,groupId:I};m.push(F)}return m})}getVideoInputDevices(){return G(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(m=>new ne(m.deviceId,m.label))})}findDeviceById(d){return G(this,void 0,void 0,function*(){const m=yield this.listVideoInputDevices();return m?m.find(g=>g.deviceId===d):null})}decodeFromInputVideoDevice(d,m){return G(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(d,m)})}decodeOnceFromVideoDevice(d,m){return G(this,void 0,void 0,function*(){this.reset();let g;d?g={deviceId:{exact:d}}:g={facingMode:"environment"};const b={video:g};return yield this.decodeOnceFromConstraints(b,m)})}decodeOnceFromConstraints(d,m){return G(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(d);return yield this.decodeOnceFromStream(g,m)})}decodeOnceFromStream(d,m){return G(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(d,m);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(d,m,g){return G(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(d,m,g)})}decodeFromVideoDevice(d,m,g){return G(this,void 0,void 0,function*(){let b;d?b={deviceId:{exact:d}}:b={facingMode:"environment"};const j={video:b};return yield this.decodeFromConstraints(j,m,g)})}decodeFromConstraints(d,m,g){return G(this,void 0,void 0,function*(){const b=yield navigator.mediaDevices.getUserMedia(d);return yield this.decodeFromStream(b,m,g)})}decodeFromStream(d,m,g){return G(this,void 0,void 0,function*(){this.reset();const b=yield this.attachStreamToVideo(d,m);return yield this.decodeContinuously(b,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(d,m){return G(this,void 0,void 0,function*(){const g=this.prepareVideoElement(m);return this.addVideoSource(g,d),this.videoElement=g,this.stream=d,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(d){return new Promise((m,g)=>this.playVideoOnLoad(d,()=>m()))}playVideoOnLoad(d,m){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(d),d.addEventListener("ended",this.videoEndedListener),d.addEventListener("canplay",this.videoCanPlayListener),d.addEventListener("playing",m),this.tryPlayVideo(d)}isVideoPlaying(d){return d.currentTime>0&&!d.paused&&!d.ended&&d.readyState>2}tryPlayVideo(d){return G(this,void 0,void 0,function*(){if(this.isVideoPlaying(d)){console.warn("Trying to play video that is already playing.");return}try{yield d.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(d,m){const g=document.getElementById(d);if(!g)throw new h(`element with id '${d}' not found`);if(g.nodeName.toLowerCase()!==m.toLowerCase())throw new h(`element with id '${d}' must be an ${m} element`);return g}decodeFromImage(d,m){if(!d&&!m)throw new h("either imageElement with a src set or an url must be provided");return m&&!d?this.decodeFromImageUrl(m):this.decodeFromImageElement(d)}decodeFromVideo(d,m){if(!d&&!m)throw new h("Either an element with a src set or an URL must be provided");return m&&!d?this.decodeFromVideoUrl(m):this.decodeFromVideoElement(d)}decodeFromVideoContinuously(d,m,g){if(d===void 0&&m===void 0)throw new h("Either an element with a src set or an URL must be provided");return m&&!d?this.decodeFromVideoUrlContinuously(m,g):this.decodeFromVideoElementContinuously(d,g)}decodeFromImageElement(d){if(!d)throw new h("An image element must be provided.");this.reset();const m=this.prepareImageElement(d);this.imageElement=m;let g;return this.isImageLoaded(m)?g=this.decodeOnce(m,!1,!0):g=this._decodeOnLoadImage(m),g}decodeFromVideoElement(d){const m=this._decodeFromVideoElementSetup(d);return this._decodeOnLoadVideo(m)}decodeFromVideoElementContinuously(d,m){const g=this._decodeFromVideoElementSetup(d);return this._decodeOnLoadVideoContinuously(g,m)}_decodeFromVideoElementSetup(d){if(!d)throw new h("A video element must be provided.");this.reset();const m=this.prepareVideoElement(d);return this.videoElement=m,m}decodeFromImageUrl(d){if(!d)throw new h("An URL must be provided.");this.reset();const m=this.prepareImageElement();this.imageElement=m;const g=this._decodeOnLoadImage(m);return m.src=d,g}decodeFromVideoUrl(d){if(!d)throw new h("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),g=this.decodeFromVideoElement(m);return m.src=d,g}decodeFromVideoUrlContinuously(d,m){if(!d)throw new h("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),b=this.decodeFromVideoElementContinuously(g,m);return g.src=d,b}_decodeOnLoadImage(d){return new Promise((m,g)=>{this.imageLoadedListener=()=>this.decodeOnce(d,!1,!0).then(m,g),d.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(d){return G(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(d),yield this.decodeOnce(d)})}_decodeOnLoadVideoContinuously(d,m){return G(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(d),this.decodeContinuously(d,m)})}isImageLoaded(d){return!(!d.complete||d.naturalWidth===0)}prepareImageElement(d){let m;return typeof d>"u"&&(m=document.createElement("img"),m.width=200,m.height=200),typeof d=="string"&&(m=this.getMediaElement(d,"img")),d instanceof HTMLImageElement&&(m=d),m}prepareVideoElement(d){let m;return!d&&typeof document<"u"&&(m=document.createElement("video"),m.width=200,m.height=200),typeof d=="string"&&(m=this.getMediaElement(d,"video")),d instanceof HTMLVideoElement&&(m=d),m.setAttribute("autoplay","true"),m.setAttribute("muted","true"),m.setAttribute("playsinline","true"),m}decodeOnce(d,m=!0,g=!0){this._stopAsyncDecode=!1;const b=(j,C)=>{if(this._stopAsyncDecode){C(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const I=this.decode(d);j(I)}catch(I){const F=m&&I instanceof J,te=(I instanceof v||I instanceof B)&&g;if(F||te)return setTimeout(b,this._timeBetweenDecodingAttempts,j,C);C(I)}};return new Promise((j,C)=>b(j,C))}decodeContinuously(d,m){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const b=this.decode(d);m(b,null),setTimeout(g,this.timeBetweenScansMillis)}catch(b){m(null,b);const j=b instanceof v||b instanceof B,C=b instanceof J;(j||C)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(d){const m=this.createBinaryBitmap(d);return this.decodeBitmap(m)}_isHTMLVideoElement(d){return d.videoWidth!==0}drawFrameOnCanvas(d,m,g){m||(m={sx:0,sy:0,sWidth:d.videoWidth,sHeight:d.videoHeight,dx:0,dy:0,dWidth:d.videoWidth,dHeight:d.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(d,m.sx,m.sy,m.sWidth,m.sHeight,m.dx,m.dy,m.dWidth,m.dHeight)}drawImageOnCanvas(d,m,g=this.captureCanvasContext){m||(m={sx:0,sy:0,sWidth:d.naturalWidth,sHeight:d.naturalHeight,dx:0,dy:0,dWidth:d.naturalWidth,dHeight:d.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(d,m.sx,m.sy,m.sWidth,m.sHeight,m.dx,m.dy,m.dWidth,m.dHeight)}createBinaryBitmap(d){this.getCaptureCanvasContext(d),this._isHTMLVideoElement(d)?this.drawFrameOnCanvas(d):this.drawImageOnCanvas(d);const m=this.getCaptureCanvas(d),g=new me(m),b=new ge(g);return new y(b)}getCaptureCanvasContext(d){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(d).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(d){if(!this.captureCanvas){const m=this.createCaptureCanvas(d);this.captureCanvas=m}return this.captureCanvas}decodeBitmap(d){return this.reader.decode(d,this._hints)}createCaptureCanvas(d){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const m=document.createElement("canvas");let g,b;return typeof d<"u"&&(d instanceof HTMLVideoElement?(g=d.videoWidth,b=d.videoHeight):d instanceof HTMLImageElement&&(g=d.naturalWidth||d.width,b=d.naturalHeight||d.height)),m.style.width=g+"px",m.style.height=b+"px",m.width=g,m.height=b,m}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(d=>d.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(d,m){try{d.srcObject=m}catch{d.src=URL.createObjectURL(m)}}cleanVideoSource(d){try{d.srcObject=null}catch{d.src=""}this.videoElement.removeAttribute("src")}}class ue{constructor(d,m,g=m==null?0:8*m.length,b,j,C=w.currentTimeMillis()){this.text=d,this.rawBytes=m,this.numBits=g,this.resultPoints=b,this.format=j,this.timestamp=C,this.text=d,this.rawBytes=m,g==null?this.numBits=m==null?0:8*m.length:this.numBits=g,this.resultPoints=b,this.format=j,this.resultMetadata=null,C==null?this.timestamp=w.currentTimeMillis():this.timestamp=C}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(d,m){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(d,m)}putAllMetadata(d){d!==null&&(this.resultMetadata===null?this.resultMetadata=d:this.resultMetadata=new Map(d))}addResultPoints(d){const m=this.resultPoints;if(m===null)this.resultPoints=d;else if(d!==null&&d.length>0){const g=new Array(m.length+d.length);w.arraycopy(m,0,g,0,m.length),w.arraycopy(d,0,g,m.length,d.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var je;(function(le){le[le.AZTEC=0]="AZTEC",le[le.CODABAR=1]="CODABAR",le[le.CODE_39=2]="CODE_39",le[le.CODE_93=3]="CODE_93",le[le.CODE_128=4]="CODE_128",le[le.DATA_MATRIX=5]="DATA_MATRIX",le[le.EAN_8=6]="EAN_8",le[le.EAN_13=7]="EAN_13",le[le.ITF=8]="ITF",le[le.MAXICODE=9]="MAXICODE",le[le.PDF_417=10]="PDF_417",le[le.QR_CODE=11]="QR_CODE",le[le.RSS_14=12]="RSS_14",le[le.RSS_EXPANDED=13]="RSS_EXPANDED",le[le.UPC_A=14]="UPC_A",le[le.UPC_E=15]="UPC_E",le[le.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var Ce=je,ae;(function(le){le[le.OTHER=0]="OTHER",le[le.ORIENTATION=1]="ORIENTATION",le[le.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",le[le.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",le[le.ISSUE_NUMBER=4]="ISSUE_NUMBER",le[le.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",le[le.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",le[le.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",le[le.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",le[le.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",le[le.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ae||(ae={}));var de=ae;class pe{constructor(d,m,g,b,j=-1,C=-1){this.rawBytes=d,this.text=m,this.byteSegments=g,this.ecLevel=b,this.structuredAppendSequenceNumber=j,this.structuredAppendParity=C,this.numBits=d==null?0:8*d.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(d){this.numBits=d}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(d){this.errorsCorrected=d}getErasures(){return this.erasures}setErasures(d){this.erasures=d}getOther(){return this.other}setOther(d){this.other=d}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(d){return this.expTable[d]}log(d){if(d===0)throw new f;return this.logTable[d]}static addOrSubtract(d,m){return d^m}}class ze{constructor(d,m){if(m.length===0)throw new f;this.field=d;const g=m.length;if(g>1&&m[0]===0){let b=1;for(;b<g&&m[b]===0;)b++;b===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-b),w.arraycopy(m,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=m}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(d){return this.coefficients[this.coefficients.length-1-d]}evaluateAt(d){if(d===0)return this.getCoefficient(0);const m=this.coefficients;let g;if(d===1){g=0;for(let C=0,I=m.length;C!==I;C++){const F=m[C];g=Oe.addOrSubtract(g,F)}return g}g=m[0];const b=m.length,j=this.field;for(let C=1;C<b;C++)g=Oe.addOrSubtract(j.multiply(d,g),m[C]);return g}addOrSubtract(d){if(!this.field.equals(d.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero())return d;if(d.isZero())return this;let m=this.coefficients,g=d.coefficients;if(m.length>g.length){const C=m;m=g,g=C}let b=new Int32Array(g.length);const j=g.length-m.length;w.arraycopy(g,0,b,0,j);for(let C=j;C<g.length;C++)b[C]=Oe.addOrSubtract(m[C-j],g[C]);return new ze(this.field,b)}multiply(d){if(!this.field.equals(d.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero()||d.isZero())return this.field.getZero();const m=this.coefficients,g=m.length,b=d.coefficients,j=b.length,C=new Int32Array(g+j-1),I=this.field;for(let F=0;F<g;F++){const V=m[F];for(let te=0;te<j;te++)C[F+te]=Oe.addOrSubtract(C[F+te],I.multiply(V,b[te]))}return new ze(I,C)}multiplyScalar(d){if(d===0)return this.field.getZero();if(d===1)return this;const m=this.coefficients.length,g=this.field,b=new Int32Array(m),j=this.coefficients;for(let C=0;C<m;C++)b[C]=g.multiply(j[C],d);return new ze(g,b)}multiplyByMonomial(d,m){if(d<0)throw new f;if(m===0)return this.field.getZero();const g=this.coefficients,b=g.length,j=new Int32Array(b+d),C=this.field;for(let I=0;I<b;I++)j[I]=C.multiply(g[I],m);return new ze(C,j)}divide(d){if(!this.field.equals(d.field))throw new f("GenericGFPolys do not have same GenericGF field");if(d.isZero())throw new f("Divide by 0");const m=this.field;let g=m.getZero(),b=this;const j=d.getCoefficient(d.getDegree()),C=m.inverse(j);for(;b.getDegree()>=d.getDegree()&&!b.isZero();){const I=b.getDegree()-d.getDegree(),F=m.multiply(b.getCoefficient(b.getDegree()),C),V=d.multiplyByMonomial(I,F),te=m.buildMonomial(I,F);g=g.addOrSubtract(te),b=b.addOrSubtract(V)}return[g,b]}toString(){let d="";for(let m=this.getDegree();m>=0;m--){let g=this.getCoefficient(m);if(g!==0){if(g<0?(d+=" - ",g=-g):d.length>0&&(d+=" + "),m===0||g!==1){const b=this.field.log(g);b===0?d+="1":b===1?d+="a":(d+="a^",d+=b)}m!==0&&(m===1?d+="x":(d+="x^",d+=m))}}return d}}class qe extends u{}qe.kind="ArithmeticException";class $e extends Oe{constructor(d,m,g){super(),this.primitive=d,this.size=m,this.generatorBase=g;const b=new Int32Array(m);let j=1;for(let I=0;I<m;I++)b[I]=j,j*=2,j>=m&&(j^=d,j&=m-1);this.expTable=b;const C=new Int32Array(m);for(let I=0;I<m-1;I++)C[b[I]]=I;this.logTable=C,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(d,m){if(d<0)throw new f;if(m===0)return this.zero;const g=new Int32Array(d+1);return g[0]=m,new ze(this,g)}inverse(d){if(d===0)throw new qe;return this.expTable[this.size-this.logTable[d]-1]}multiply(d,m){return d===0||m===0?0:this.expTable[(this.logTable[d]+this.logTable[m])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(d){return d===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class Ve extends u{}Ve.kind="ReedSolomonException";class Ee extends u{}Ee.kind="IllegalStateException";class sr{constructor(d){this.field=d}decode(d,m){const g=this.field,b=new ze(g,d),j=new Int32Array(m);let C=!0;for(let Me=0;Me<m;Me++){const He=b.evaluateAt(g.exp(Me+g.getGeneratorBase()));j[j.length-1-Me]=He,He!==0&&(C=!1)}if(C)return;const I=new ze(g,j),F=this.runEuclideanAlgorithm(g.buildMonomial(m,1),I,m),V=F[0],te=F[1],ce=this.findErrorLocations(V),be=this.findErrorMagnitudes(te,ce);for(let Me=0;Me<ce.length;Me++){const He=d.length-1-g.log(ce[Me]);if(He<0)throw new Ve("Bad error location");d[He]=$e.addOrSubtract(d[He],be[Me])}}runEuclideanAlgorithm(d,m,g){if(d.getDegree()<m.getDegree()){const Me=d;d=m,m=Me}const b=this.field;let j=d,C=m,I=b.getZero(),F=b.getOne();for(;C.getDegree()>=(g/2|0);){let Me=j,He=I;if(j=C,I=F,j.isZero())throw new Ve("r_{i-1} was zero");C=Me;let Ke=b.getZero();const tt=j.getCoefficient(j.getDegree()),ut=b.inverse(tt);for(;C.getDegree()>=j.getDegree()&&!C.isZero();){const St=C.getDegree()-j.getDegree(),Pt=b.multiply(C.getCoefficient(C.getDegree()),ut);Ke=Ke.addOrSubtract(b.buildMonomial(St,Pt)),C=C.addOrSubtract(j.multiplyByMonomial(St,Pt))}if(F=Ke.multiply(I).addOrSubtract(He),C.getDegree()>=j.getDegree())throw new Ee("Division algorithm failed to reduce polynomial?")}const V=F.getCoefficient(0);if(V===0)throw new Ve("sigmaTilde(0) was zero");const te=b.inverse(V),ce=F.multiplyScalar(te),be=C.multiplyScalar(te);return[ce,be]}findErrorLocations(d){const m=d.getDegree();if(m===1)return Int32Array.from([d.getCoefficient(1)]);const g=new Int32Array(m);let b=0;const j=this.field;for(let C=1;C<j.getSize()&&b<m;C++)d.evaluateAt(C)===0&&(g[b]=j.inverse(C),b++);if(b!==m)throw new Ve("Error locator degree does not match number of roots");return g}findErrorMagnitudes(d,m){const g=m.length,b=new Int32Array(g),j=this.field;for(let C=0;C<g;C++){const I=j.inverse(m[C]);let F=1;for(let V=0;V<g;V++)if(C!==V){const te=j.multiply(m[V],I),ce=(te&1)===0?te|1:te&-2;F=j.multiply(F,ce)}b[C]=j.multiply(d.evaluateAt(I),j.inverse(F)),j.getGeneratorBase()!==0&&(b[C]=j.multiply(b[C],I))}return b}}var Zt;(function(le){le[le.UPPER=0]="UPPER",le[le.LOWER=1]="LOWER",le[le.MIXED=2]="MIXED",le[le.DIGIT=3]="DIGIT",le[le.PUNCT=4]="PUNCT",le[le.BINARY=5]="BINARY"})(Zt||(Zt={}));class Gt{decode(d){this.ddata=d;let m=d.getBits(),g=this.extractBits(m),b=this.correctBits(g),j=Gt.convertBoolArrayToByteArray(b),C=Gt.getEncodedData(b),I=new pe(j,C,null,null);return I.setNumBits(b.length),I}static highLevelDecode(d){return this.getEncodedData(d)}static getEncodedData(d){let m=d.length,g=Zt.UPPER,b=Zt.UPPER,j="",C=0;for(;C<m;)if(b===Zt.BINARY){if(m-C<5)break;let I=Gt.readCode(d,C,5);if(C+=5,I===0){if(m-C<11)break;I=Gt.readCode(d,C,11)+31,C+=11}for(let F=0;F<I;F++){if(m-C<8){C=m;break}const V=Gt.readCode(d,C,8);j+=H.castAsNonUtf8Char(V),C+=8}b=g}else{let I=b===Zt.DIGIT?4:5;if(m-C<I)break;let F=Gt.readCode(d,C,I);C+=I;let V=Gt.getCharacter(b,F);V.startsWith("CTRL_")?(g=b,b=Gt.getTable(V.charAt(5)),V.charAt(6)==="L"&&(g=b)):(j+=V,b=g)}return j}static getTable(d){switch(d){case"L":return Zt.LOWER;case"P":return Zt.PUNCT;case"M":return Zt.MIXED;case"D":return Zt.DIGIT;case"B":return Zt.BINARY;case"U":default:return Zt.UPPER}}static getCharacter(d,m){switch(d){case Zt.UPPER:return Gt.UPPER_TABLE[m];case Zt.LOWER:return Gt.LOWER_TABLE[m];case Zt.MIXED:return Gt.MIXED_TABLE[m];case Zt.PUNCT:return Gt.PUNCT_TABLE[m];case Zt.DIGIT:return Gt.DIGIT_TABLE[m];default:throw new Ee("Bad table")}}correctBits(d){let m,g;this.ddata.getNbLayers()<=2?(g=6,m=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,m=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,m=$e.AZTEC_DATA_10):(g=12,m=$e.AZTEC_DATA_12);let b=this.ddata.getNbDatablocks(),j=d.length/g;if(j<b)throw new B;let C=d.length%g,I=new Int32Array(j);for(let be=0;be<j;be++,C+=g)I[be]=Gt.readCode(d,C,g);try{new sr(m).decode(I,j-b)}catch(be){throw new B(be)}let F=(1<<g)-1,V=0;for(let be=0;be<b;be++){let Me=I[be];if(Me===0||Me===F)throw new B;(Me===1||Me===F-1)&&V++}let te=new Array(b*g-V),ce=0;for(let be=0;be<b;be++){let Me=I[be];if(Me===1||Me===F-1)te.fill(Me>1,ce,ce+g-1),ce+=g-1;else for(let He=g-1;He>=0;--He)te[ce++]=(Me&1<<He)!==0}return te}extractBits(d){let m=this.ddata.isCompact(),g=this.ddata.getNbLayers(),b=(m?11:14)+g*4,j=new Int32Array(b),C=new Array(this.totalBitsInLayer(g,m));if(m)for(let I=0;I<j.length;I++)j[I]=I;else{let I=b+1+2*T.truncDivision(T.truncDivision(b,2)-1,15),F=b/2,V=T.truncDivision(I,2);for(let te=0;te<F;te++){let ce=te+T.truncDivision(te,15);j[F-te-1]=V-ce-1,j[F+te]=V+ce+1}}for(let I=0,F=0;I<g;I++){let V=(g-I)*4+(m?9:12),te=I*2,ce=b-1-te;for(let be=0;be<V;be++){let Me=be*2;for(let He=0;He<2;He++)C[F+Me+He]=d.get(j[te+He],j[te+be]),C[F+2*V+Me+He]=d.get(j[te+be],j[ce-He]),C[F+4*V+Me+He]=d.get(j[ce-He],j[ce-be]),C[F+6*V+Me+He]=d.get(j[ce-be],j[te+He])}F+=V*8}return C}static readCode(d,m,g){let b=0;for(let j=m;j<m+g;j++)b<<=1,d[j]&&(b|=1);return b}static readByte(d,m){let g=d.length-m;return g>=8?Gt.readCode(d,m,8):Gt.readCode(d,m,g)<<8-g}static convertBoolArrayToByteArray(d){let m=new Uint8Array((d.length+7)/8);for(let g=0;g<m.length;g++)m[g]=Gt.readByte(d,8*g);return m}totalBitsInLayer(d,m){return((m?88:112)+16*d)*d}}Gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class mt{constructor(){}static round(d){return d===NaN?0:d<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:d>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:d+(d<0?-.5:.5)|0}static distance(d,m,g,b){const j=d-g,C=m-b;return Math.sqrt(j*j+C*C)}static sum(d){let m=0;for(let g=0,b=d.length;g!==b;g++){const j=d[g];m+=j}return m}}class dr{static floatToIntBits(d){return d}}dr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ht{constructor(d,m){this.x=d,this.y=m}getX(){return this.x}getY(){return this.y}equals(d){if(d instanceof ht){const m=d;return this.x===m.x&&this.y===m.y}return!1}hashCode(){return 31*dr.floatToIntBits(this.x)+dr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(d){const m=this.distance(d[0],d[1]),g=this.distance(d[1],d[2]),b=this.distance(d[0],d[2]);let j,C,I;if(g>=m&&g>=b?(C=d[0],j=d[1],I=d[2]):b>=g&&b>=m?(C=d[1],j=d[0],I=d[2]):(C=d[2],j=d[0],I=d[1]),this.crossProductZ(j,C,I)<0){const F=j;j=I,I=F}d[0]=j,d[1]=C,d[2]=I}static distance(d,m){return mt.distance(d.x,d.y,m.x,m.y)}static crossProductZ(d,m,g){const b=m.x,j=m.y;return(g.x-b)*(d.y-j)-(g.y-j)*(d.x-b)}}class Fe{constructor(d,m){this.bits=d,this.points=m}getBits(){return this.bits}getPoints(){return this.points}}class Xe extends Fe{constructor(d,m,g,b,j){super(d,m),this.compact=g,this.nbDatablocks=b,this.nbLayers=j}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ot{constructor(d,m,g,b){this.image=d,this.height=d.getHeight(),this.width=d.getWidth(),m==null&&(m=ot.INIT_SIZE),g==null&&(g=d.getWidth()/2|0),b==null&&(b=d.getHeight()/2|0);const j=m/2|0;if(this.leftInit=g-j,this.rightInit=g+j,this.upInit=b-j,this.downInit=b+j,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let d=this.leftInit,m=this.rightInit,g=this.upInit,b=this.downInit,j=!1,C=!0,I=!1,F=!1,V=!1,te=!1,ce=!1;const be=this.width,Me=this.height;for(;C;){C=!1;let He=!0;for(;(He||!F)&&m<be;)He=this.containsBlackPoint(g,b,m,!1),He?(m++,C=!0,F=!0):F||m++;if(m>=be){j=!0;break}let Ke=!0;for(;(Ke||!V)&&b<Me;)Ke=this.containsBlackPoint(d,m,b,!0),Ke?(b++,C=!0,V=!0):V||b++;if(b>=Me){j=!0;break}let tt=!0;for(;(tt||!te)&&d>=0;)tt=this.containsBlackPoint(g,b,d,!1),tt?(d--,C=!0,te=!0):te||d--;if(d<0){j=!0;break}let ut=!0;for(;(ut||!ce)&&g>=0;)ut=this.containsBlackPoint(d,m,g,!0),ut?(g--,C=!0,ce=!0):ce||g--;if(g<0){j=!0;break}C&&(I=!0)}if(!j&&I){const He=m-d;let Ke=null;for(let Pt=1;Ke===null&&Pt<He;Pt++)Ke=this.getBlackPointOnSegment(d,b-Pt,d+Pt,b);if(Ke==null)throw new J;let tt=null;for(let Pt=1;tt===null&&Pt<He;Pt++)tt=this.getBlackPointOnSegment(d,g+Pt,d+Pt,g);if(tt==null)throw new J;let ut=null;for(let Pt=1;ut===null&&Pt<He;Pt++)ut=this.getBlackPointOnSegment(m,g+Pt,m-Pt,g);if(ut==null)throw new J;let St=null;for(let Pt=1;St===null&&Pt<He;Pt++)St=this.getBlackPointOnSegment(m,b-Pt,m-Pt,b);if(St==null)throw new J;return this.centerEdges(St,Ke,ut,tt)}else throw new J}getBlackPointOnSegment(d,m,g,b){const j=mt.round(mt.distance(d,m,g,b)),C=(g-d)/j,I=(b-m)/j,F=this.image;for(let V=0;V<j;V++){const te=mt.round(d+V*C),ce=mt.round(m+V*I);if(F.get(te,ce))return new ht(te,ce)}return null}centerEdges(d,m,g,b){const j=d.getX(),C=d.getY(),I=m.getX(),F=m.getY(),V=g.getX(),te=g.getY(),ce=b.getX(),be=b.getY(),Me=ot.CORR;return j<this.width/2?[new ht(ce-Me,be+Me),new ht(I+Me,F+Me),new ht(V-Me,te-Me),new ht(j+Me,C-Me)]:[new ht(ce+Me,be+Me),new ht(I+Me,F-Me),new ht(V-Me,te+Me),new ht(j-Me,C-Me)]}containsBlackPoint(d,m,g,b){const j=this.image;if(b){for(let C=d;C<=m;C++)if(j.get(C,g))return!0}else for(let C=d;C<=m;C++)if(j.get(g,C))return!0;return!1}}ot.INIT_SIZE=10,ot.CORR=1;class Et{static checkAndNudgePoints(d,m){const g=d.getWidth(),b=d.getHeight();let j=!0;for(let C=0;C<m.length&&j;C+=2){const I=Math.floor(m[C]),F=Math.floor(m[C+1]);if(I<-1||I>g||F<-1||F>b)throw new J;j=!1,I===-1?(m[C]=0,j=!0):I===g&&(m[C]=g-1,j=!0),F===-1?(m[C+1]=0,j=!0):F===b&&(m[C+1]=b-1,j=!0)}j=!0;for(let C=m.length-2;C>=0&&j;C-=2){const I=Math.floor(m[C]),F=Math.floor(m[C+1]);if(I<-1||I>g||F<-1||F>b)throw new J;j=!1,I===-1?(m[C]=0,j=!0):I===g&&(m[C]=g-1,j=!0),F===-1?(m[C+1]=0,j=!0):F===b&&(m[C+1]=b-1,j=!0)}}}class vt{constructor(d,m,g,b,j,C,I,F,V){this.a11=d,this.a21=m,this.a31=g,this.a12=b,this.a22=j,this.a32=C,this.a13=I,this.a23=F,this.a33=V}static quadrilateralToQuadrilateral(d,m,g,b,j,C,I,F,V,te,ce,be,Me,He,Ke,tt){const ut=vt.quadrilateralToSquare(d,m,g,b,j,C,I,F);return vt.squareToQuadrilateral(V,te,ce,be,Me,He,Ke,tt).times(ut)}transformPoints(d){const m=d.length,g=this.a11,b=this.a12,j=this.a13,C=this.a21,I=this.a22,F=this.a23,V=this.a31,te=this.a32,ce=this.a33;for(let be=0;be<m;be+=2){const Me=d[be],He=d[be+1],Ke=j*Me+F*He+ce;d[be]=(g*Me+C*He+V)/Ke,d[be+1]=(b*Me+I*He+te)/Ke}}transformPointsWithValues(d,m){const g=this.a11,b=this.a12,j=this.a13,C=this.a21,I=this.a22,F=this.a23,V=this.a31,te=this.a32,ce=this.a33,be=d.length;for(let Me=0;Me<be;Me++){const He=d[Me],Ke=m[Me],tt=j*He+F*Ke+ce;d[Me]=(g*He+C*Ke+V)/tt,m[Me]=(b*He+I*Ke+te)/tt}}static squareToQuadrilateral(d,m,g,b,j,C,I,F){const V=d-g+j-I,te=m-b+C-F;if(V===0&&te===0)return new vt(g-d,j-g,d,b-m,C-b,m,0,0,1);{const ce=g-j,be=I-j,Me=b-C,He=F-C,Ke=ce*He-be*Me,tt=(V*He-be*te)/Ke,ut=(ce*te-V*Me)/Ke;return new vt(g-d+tt*g,I-d+ut*I,d,b-m+tt*b,F-m+ut*F,m,tt,ut,1)}}static quadrilateralToSquare(d,m,g,b,j,C,I,F){return vt.squareToQuadrilateral(d,m,g,b,j,C,I,F).buildAdjoint()}buildAdjoint(){return new vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(d){return new vt(this.a11*d.a11+this.a21*d.a12+this.a31*d.a13,this.a11*d.a21+this.a21*d.a22+this.a31*d.a23,this.a11*d.a31+this.a21*d.a32+this.a31*d.a33,this.a12*d.a11+this.a22*d.a12+this.a32*d.a13,this.a12*d.a21+this.a22*d.a22+this.a32*d.a23,this.a12*d.a31+this.a22*d.a32+this.a32*d.a33,this.a13*d.a11+this.a23*d.a12+this.a33*d.a13,this.a13*d.a21+this.a23*d.a22+this.a33*d.a23,this.a13*d.a31+this.a23*d.a32+this.a33*d.a33)}}class Tt extends Et{sampleGrid(d,m,g,b,j,C,I,F,V,te,ce,be,Me,He,Ke,tt,ut,St,Pt){const At=vt.quadrilateralToQuadrilateral(b,j,C,I,F,V,te,ce,be,Me,He,Ke,tt,ut,St,Pt);return this.sampleGridWithTransform(d,m,g,At)}sampleGridWithTransform(d,m,g,b){if(m<=0||g<=0)throw new J;const j=new Z(m,g),C=new Float32Array(2*m);for(let I=0;I<g;I++){const F=C.length,V=I+.5;for(let te=0;te<F;te+=2)C[te]=te/2+.5,C[te+1]=V;b.transformPoints(C),Et.checkAndNudgePoints(d,C);try{for(let te=0;te<F;te+=2)d.get(Math.floor(C[te]),Math.floor(C[te+1]))&&j.set(te/2,I)}catch{throw new J}}return j}}class It{static setGridSampler(d){It.gridSampler=d}static getInstance(){return It.gridSampler}}It.gridSampler=new Tt;class $t{constructor(d,m){this.x=d,this.y=m}toResultPoint(){return new ht(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ur{constructor(d){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=d}detect(){return this.detectMirror(!1)}detectMirror(d){let m=this.getMatrixCenter(),g=this.getBullsEyeCorners(m);if(d){let C=g[0];g[0]=g[2],g[2]=C}this.extractParameters(g);let b=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),j=this.getMatrixCornerPoints(g);return new Xe(b,j,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(d){if(!this.isValidPoint(d[0])||!this.isValidPoint(d[1])||!this.isValidPoint(d[2])||!this.isValidPoint(d[3]))throw new J;let m=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(d[0],d[1],m),this.sampleLine(d[1],d[2],m),this.sampleLine(d[2],d[3],m),this.sampleLine(d[3],d[0],m)]);this.shift=this.getRotation(g,m);let b=0;for(let C=0;C<4;C++){let I=g[(this.shift+C)%4];this.compact?(b<<=7,b+=I>>1&127):(b<<=10,b+=(I>>2&992)+(I>>1&31))}let j=this.getCorrectedParameterData(b,this.compact);this.compact?(this.nbLayers=(j>>6)+1,this.nbDataBlocks=(j&63)+1):(this.nbLayers=(j>>11)+1,this.nbDataBlocks=(j&2047)+1)}getRotation(d,m){let g=0;d.forEach((b,j,C)=>{let I=(b>>m-2<<1)+(b&1);g=(g<<3)+I}),g=((g&1)<<11)+(g>>1);for(let b=0;b<4;b++)if(T.bitCount(g^this.EXPECTED_CORNER_BITS[b])<=2)return b;throw new J}getCorrectedParameterData(d,m){let g,b;m?(g=7,b=2):(g=10,b=4);let j=g-b,C=new Int32Array(g);for(let F=g-1;F>=0;--F)C[F]=d&15,d>>=4;try{new sr($e.AZTEC_PARAM).decode(C,j)}catch{throw new J}let I=0;for(let F=0;F<b;F++)I=(I<<4)+C[F];return I}getBullsEyeCorners(d){let m=d,g=d,b=d,j=d,C=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ce=this.getFirstDifferent(m,C,1,-1),be=this.getFirstDifferent(g,C,1,1),Me=this.getFirstDifferent(b,C,-1,1),He=this.getFirstDifferent(j,C,-1,-1);if(this.nbCenterLayers>2){let Ke=this.distancePoint(He,ce)*this.nbCenterLayers/(this.distancePoint(j,m)*(this.nbCenterLayers+2));if(Ke<.75||Ke>1.25||!this.isWhiteOrBlackRectangle(ce,be,Me,He))break}m=ce,g=be,b=Me,j=He,C=!C}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let I=new ht(m.getX()+.5,m.getY()-.5),F=new ht(g.getX()+.5,g.getY()+.5),V=new ht(b.getX()-.5,b.getY()+.5),te=new ht(j.getX()-.5,j.getY()-.5);return this.expandSquare([I,F,V,te],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let d,m,g,b;try{let I=new ot(this.image).detect();d=I[0],m=I[1],g=I[2],b=I[3]}catch{let F=this.image.getWidth()/2,V=this.image.getHeight()/2;d=this.getFirstDifferent(new $t(F+7,V-7),!1,1,-1).toResultPoint(),m=this.getFirstDifferent(new $t(F+7,V+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new $t(F-7,V+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new $t(F-7,V-7),!1,-1,-1).toResultPoint()}let j=mt.round((d.getX()+b.getX()+m.getX()+g.getX())/4),C=mt.round((d.getY()+b.getY()+m.getY()+g.getY())/4);try{let I=new ot(this.image,15,j,C).detect();d=I[0],m=I[1],g=I[2],b=I[3]}catch{d=this.getFirstDifferent(new $t(j+7,C-7),!1,1,-1).toResultPoint(),m=this.getFirstDifferent(new $t(j+7,C+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new $t(j-7,C+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new $t(j-7,C-7),!1,-1,-1).toResultPoint()}return j=mt.round((d.getX()+b.getX()+m.getX()+g.getX())/4),C=mt.round((d.getY()+b.getY()+m.getY()+g.getY())/4),new $t(j,C)}getMatrixCornerPoints(d){return this.expandSquare(d,2*this.nbCenterLayers,this.getDimension())}sampleGrid(d,m,g,b,j){let C=It.getInstance(),I=this.getDimension(),F=I/2-this.nbCenterLayers,V=I/2+this.nbCenterLayers;return C.sampleGrid(d,I,I,F,F,V,F,V,V,F,V,m.getX(),m.getY(),g.getX(),g.getY(),b.getX(),b.getY(),j.getX(),j.getY())}sampleLine(d,m,g){let b=0,j=this.distanceResultPoint(d,m),C=j/g,I=d.getX(),F=d.getY(),V=C*(m.getX()-d.getX())/j,te=C*(m.getY()-d.getY())/j;for(let ce=0;ce<g;ce++)this.image.get(mt.round(I+ce*V),mt.round(F+ce*te))&&(b|=1<<g-ce-1);return b}isWhiteOrBlackRectangle(d,m,g,b){let j=3;d=new $t(d.getX()-j,d.getY()+j),m=new $t(m.getX()-j,m.getY()-j),g=new $t(g.getX()+j,g.getY()-j),b=new $t(b.getX()+j,b.getY()+j);let C=this.getColor(b,d);if(C===0)return!1;let I=this.getColor(d,m);return I!==C||(I=this.getColor(m,g),I!==C)?!1:(I=this.getColor(g,b),I===C)}getColor(d,m){let g=this.distancePoint(d,m),b=(m.getX()-d.getX())/g,j=(m.getY()-d.getY())/g,C=0,I=d.getX(),F=d.getY(),V=this.image.get(d.getX(),d.getY()),te=Math.ceil(g);for(let be=0;be<te;be++)I+=b,F+=j,this.image.get(mt.round(I),mt.round(F))!==V&&C++;let ce=C/g;return ce>.1&&ce<.9?0:ce<=.1===V?1:-1}getFirstDifferent(d,m,g,b){let j=d.getX()+g,C=d.getY()+b;for(;this.isValid(j,C)&&this.image.get(j,C)===m;)j+=g,C+=b;for(j-=g,C-=b;this.isValid(j,C)&&this.image.get(j,C)===m;)j+=g;for(j-=g;this.isValid(j,C)&&this.image.get(j,C)===m;)C+=b;return C-=b,new $t(j,C)}expandSquare(d,m,g){let b=g/(2*m),j=d[0].getX()-d[2].getX(),C=d[0].getY()-d[2].getY(),I=(d[0].getX()+d[2].getX())/2,F=(d[0].getY()+d[2].getY())/2,V=new ht(I+b*j,F+b*C),te=new ht(I-b*j,F-b*C);j=d[1].getX()-d[3].getX(),C=d[1].getY()-d[3].getY(),I=(d[1].getX()+d[3].getX())/2,F=(d[1].getY()+d[3].getY())/2;let ce=new ht(I+b*j,F+b*C),be=new ht(I-b*j,F-b*C);return[V,ce,te,be]}isValid(d,m){return d>=0&&d<this.image.getWidth()&&m>0&&m<this.image.getHeight()}isValidPoint(d){let m=mt.round(d.getX()),g=mt.round(d.getY());return this.isValid(m,g)}distancePoint(d,m){return mt.distance(d.getX(),d.getY(),m.getX(),m.getY())}distanceResultPoint(d,m){return mt.distance(d.getX(),d.getY(),m.getX(),m.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class tr{decode(d,m=null){let g=null,b=new ur(d.getBlackMatrix()),j=null,C=null;try{let te=b.detectMirror(!1);j=te.getPoints(),this.reportFoundResultPoints(m,j),C=new Gt().decode(te)}catch(te){g=te}if(C==null)try{let te=b.detectMirror(!0);j=te.getPoints(),this.reportFoundResultPoints(m,j),C=new Gt().decode(te)}catch(te){throw g??te}let I=new ue(C.getText(),C.getRawBytes(),C.getNumBits(),j,Ce.AZTEC,w.currentTimeMillis()),F=C.getByteSegments();F!=null&&I.putMetadata(de.BYTE_SEGMENTS,F);let V=C.getECLevel();return V!=null&&I.putMetadata(de.ERROR_CORRECTION_LEVEL,V),I}reportFoundResultPoints(d,m){if(d!=null){let g=d.get(L.NEED_RESULT_POINT_CALLBACK);g!=null&&m.forEach((b,j,C)=>{g.foundPossibleResultPoint(b)})}}reset(){}}class _s extends se{constructor(d=500){super(new tr,d)}}class qr{decode(d,m){try{return this.doDecode(d,m)}catch{if(m&&m.get(L.TRY_HARDER)===!0&&d.isRotateSupported()){const j=d.rotateCounterClockwise(),C=this.doDecode(j,m),I=C.getResultMetadata();let F=270;I!==null&&I.get(de.ORIENTATION)===!0&&(F=F+I.get(de.ORIENTATION)%360),C.putMetadata(de.ORIENTATION,F);const V=C.getResultPoints();if(V!==null){const te=j.getHeight();for(let ce=0;ce<V.length;ce++)V[ce]=new ht(te-V[ce].getY()-1,V[ce].getX())}return C}else throw new J}}reset(){}doDecode(d,m){const g=d.getWidth(),b=d.getHeight();let j=new M(g);const C=m&&m.get(L.TRY_HARDER)===!0,I=Math.max(1,b>>(C?8:5));let F;C?F=b:F=15;const V=Math.trunc(b/2);for(let te=0;te<F;te++){const ce=Math.trunc((te+1)/2),be=(te&1)===0,Me=V+I*(be?ce:-ce);if(Me<0||Me>=b)break;try{j=d.getBlackRow(Me,j)}catch{continue}for(let He=0;He<2;He++){if(He===1&&(j.reverse(),m&&m.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const Ke=new Map;m.forEach((tt,ut)=>Ke.set(ut,tt)),Ke.delete(L.NEED_RESULT_POINT_CALLBACK),m=Ke}try{const Ke=this.decodeRow(Me,j,m);if(He===1){Ke.putMetadata(de.ORIENTATION,180);const tt=Ke.getResultPoints();tt!==null&&(tt[0]=new ht(g-tt[0].getX()-1,tt[0].getY()),tt[1]=new ht(g-tt[1].getX()-1,tt[1].getY()))}return Ke}catch{}}}throw new J}static recordPattern(d,m,g){const b=g.length;for(let V=0;V<b;V++)g[V]=0;const j=d.getSize();if(m>=j)throw new J;let C=!d.get(m),I=0,F=m;for(;F<j;){if(d.get(F)!==C)g[I]++;else{if(++I===b)break;g[I]=1,C=!C}F++}if(!(I===b||I===b-1&&F===j))throw new J}static recordPatternInReverse(d,m,g){let b=g.length,j=d.get(m);for(;m>0&&b>=0;)d.get(--m)!==j&&(b--,j=!j);if(b>=0)throw new J;qr.recordPattern(d,m+1,g)}static patternMatchVariance(d,m,g){const b=d.length;let j=0,C=0;for(let V=0;V<b;V++)j+=d[V],C+=m[V];if(j<C)return Number.POSITIVE_INFINITY;const I=j/C;g*=I;let F=0;for(let V=0;V<b;V++){const te=d[V],ce=m[V]*I,be=te>ce?te-ce:ce-te;if(be>g)return Number.POSITIVE_INFINITY;F+=be}return F/j}}class pt extends qr{static findStartPattern(d){const m=d.getSize(),g=d.getNextSet(0);let b=0,j=Int32Array.from([0,0,0,0,0,0]),C=g,I=!1;const F=6;for(let V=g;V<m;V++)if(d.get(V)!==I)j[b]++;else{if(b===F-1){let te=pt.MAX_AVG_VARIANCE,ce=-1;for(let be=pt.CODE_START_A;be<=pt.CODE_START_C;be++){const Me=qr.patternMatchVariance(j,pt.CODE_PATTERNS[be],pt.MAX_INDIVIDUAL_VARIANCE);Me<te&&(te=Me,ce=be)}if(ce>=0&&d.isRange(Math.max(0,C-(V-C)/2),C,!1))return Int32Array.from([C,V,ce]);C+=j[0]+j[1],j=j.slice(2,j.length-1),j[b-1]=0,j[b]=0,b--}else b++;j[b]=1,I=!I}throw new J}static decodeCode(d,m,g){qr.recordPattern(d,g,m);let b=pt.MAX_AVG_VARIANCE,j=-1;for(let C=0;C<pt.CODE_PATTERNS.length;C++){const I=pt.CODE_PATTERNS[C],F=this.patternMatchVariance(m,I,pt.MAX_INDIVIDUAL_VARIANCE);F<b&&(b=F,j=C)}if(j>=0)return j;throw new J}decodeRow(d,m,g){const b=g&&g.get(L.ASSUME_GS1)===!0,j=pt.findStartPattern(m),C=j[2];let I=0;const F=new Uint8Array(20);F[I++]=C;let V;switch(C){case pt.CODE_START_A:V=pt.CODE_CODE_A;break;case pt.CODE_START_B:V=pt.CODE_CODE_B;break;case pt.CODE_START_C:V=pt.CODE_CODE_C;break;default:throw new B}let te=!1,ce=!1,be="",Me=j[0],He=j[1];const Ke=Int32Array.from([0,0,0,0,0,0]);let tt=0,ut=0,St=C,Pt=0,At=!0,Vr=!1,Jr=!1;for(;!te;){const fc=ce;switch(ce=!1,tt=ut,ut=pt.decodeCode(m,Ke,He),F[I++]=ut,ut!==pt.CODE_STOP&&(At=!0),ut!==pt.CODE_STOP&&(Pt++,St+=Pt*ut),Me=He,He+=Ke.reduce((ad,od)=>ad+od,0),ut){case pt.CODE_START_A:case pt.CODE_START_B:case pt.CODE_START_C:throw new B}switch(V){case pt.CODE_CODE_A:if(ut<64)Jr===Vr?be+=String.fromCharCode(32+ut):be+=String.fromCharCode(32+ut+128),Jr=!1;else if(ut<96)Jr===Vr?be+=String.fromCharCode(ut-64):be+=String.fromCharCode(ut+64),Jr=!1;else switch(ut!==pt.CODE_STOP&&(At=!1),ut){case pt.CODE_FNC_1:b&&(be.length===0?be+="]C1":be+="");break;case pt.CODE_FNC_2:case pt.CODE_FNC_3:break;case pt.CODE_FNC_4_A:!Vr&&Jr?(Vr=!0,Jr=!1):Vr&&Jr?(Vr=!1,Jr=!1):Jr=!0;break;case pt.CODE_SHIFT:ce=!0,V=pt.CODE_CODE_B;break;case pt.CODE_CODE_B:V=pt.CODE_CODE_B;break;case pt.CODE_CODE_C:V=pt.CODE_CODE_C;break;case pt.CODE_STOP:te=!0;break}break;case pt.CODE_CODE_B:if(ut<96)Jr===Vr?be+=String.fromCharCode(32+ut):be+=String.fromCharCode(32+ut+128),Jr=!1;else switch(ut!==pt.CODE_STOP&&(At=!1),ut){case pt.CODE_FNC_1:b&&(be.length===0?be+="]C1":be+="");break;case pt.CODE_FNC_2:case pt.CODE_FNC_3:break;case pt.CODE_FNC_4_B:!Vr&&Jr?(Vr=!0,Jr=!1):Vr&&Jr?(Vr=!1,Jr=!1):Jr=!0;break;case pt.CODE_SHIFT:ce=!0,V=pt.CODE_CODE_A;break;case pt.CODE_CODE_A:V=pt.CODE_CODE_A;break;case pt.CODE_CODE_C:V=pt.CODE_CODE_C;break;case pt.CODE_STOP:te=!0;break}break;case pt.CODE_CODE_C:if(ut<100)ut<10&&(be+="0"),be+=ut;else switch(ut!==pt.CODE_STOP&&(At=!1),ut){case pt.CODE_FNC_1:b&&(be.length===0?be+="]C1":be+="");break;case pt.CODE_CODE_A:V=pt.CODE_CODE_A;break;case pt.CODE_CODE_B:V=pt.CODE_CODE_B;break;case pt.CODE_STOP:te=!0;break}break}fc&&(V=V===pt.CODE_CODE_A?pt.CODE_CODE_B:pt.CODE_CODE_A)}const fa=He-Me;if(He=m.getNextUnset(He),!m.isRange(He,Math.min(m.getSize(),He+(He-Me)/2),!1))throw new J;if(St-=Pt*tt,St%103!==tt)throw new v;const Ha=be.length;if(Ha===0)throw new J;Ha>0&&At&&(V===pt.CODE_CODE_C?be=be.substring(0,Ha-2):be=be.substring(0,Ha-1));const wi=(j[1]+j[0])/2,fs=Me+fa/2,Ni=F.length,Wa=new Uint8Array(Ni);for(let fc=0;fc<Ni;fc++)Wa[fc]=F[fc];const ju=[new ht(wi,d),new ht(fs,d)];return new ue(be,Wa,0,ju,Ce.CODE_128,new Date().getTime())}}pt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pt.MAX_AVG_VARIANCE=.25,pt.MAX_INDIVIDUAL_VARIANCE=.7,pt.CODE_SHIFT=98,pt.CODE_CODE_C=99,pt.CODE_CODE_B=100,pt.CODE_CODE_A=101,pt.CODE_FNC_1=102,pt.CODE_FNC_2=97,pt.CODE_FNC_3=96,pt.CODE_FNC_4_A=101,pt.CODE_FNC_4_B=100,pt.CODE_START_A=103,pt.CODE_START_B=104,pt.CODE_START_C=105,pt.CODE_STOP=106;class Ar extends qr{constructor(d=!1,m=!1){super(),this.usingCheckDigit=d,this.extendedMode=m,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(d,m,g){let b=this.counters;b.fill(0),this.decodeRowResult="";let j=Ar.findAsteriskPattern(m,b),C=m.getNextSet(j[1]),I=m.getSize(),F,V;do{Ar.recordPattern(m,C,b);let Ke=Ar.toNarrowWidePattern(b);if(Ke<0)throw new J;F=Ar.patternToChar(Ke),this.decodeRowResult+=F,V=C;for(let tt of b)C+=tt;C=m.getNextSet(C)}while(F!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let te=0;for(let Ke of b)te+=Ke;let ce=C-V-te;if(C!==I&&ce*2<te)throw new J;if(this.usingCheckDigit){let Ke=this.decodeRowResult.length-1,tt=0;for(let ut=0;ut<Ke;ut++)tt+=Ar.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ut));if(this.decodeRowResult.charAt(Ke)!==Ar.ALPHABET_STRING.charAt(tt%43))throw new v;this.decodeRowResult=this.decodeRowResult.substring(0,Ke)}if(this.decodeRowResult.length===0)throw new J;let be;this.extendedMode?be=Ar.decodeExtended(this.decodeRowResult):be=this.decodeRowResult;let Me=(j[1]+j[0])/2,He=V+te/2;return new ue(be,null,0,[new ht(Me,d),new ht(He,d)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(d,m){let g=d.getSize(),b=d.getNextSet(0),j=0,C=b,I=!1,F=m.length;for(let V=b;V<g;V++)if(d.get(V)!==I)m[j]++;else{if(j===F-1){if(this.toNarrowWidePattern(m)===Ar.ASTERISK_ENCODING&&d.isRange(Math.max(0,C-Math.floor((V-C)/2)),C,!1))return[C,V];C+=m[0]+m[1],m.copyWithin(0,2,2+j-1),m[j-1]=0,m[j]=0,j--}else j++;m[j]=1,I=!I}throw new J}static toNarrowWidePattern(d){let m=d.length,g=0,b;do{let j=2147483647;for(let F of d)F<j&&F>g&&(j=F);g=j,b=0;let C=0,I=0;for(let F=0;F<m;F++){let V=d[F];V>g&&(I|=1<<m-1-F,b++,C+=V)}if(b===3){for(let F=0;F<m&&b>0;F++){let V=d[F];if(V>g&&(b--,V*2>=C))return-1}return I}}while(b>3);return-1}static patternToChar(d){for(let m=0;m<Ar.CHARACTER_ENCODINGS.length;m++)if(Ar.CHARACTER_ENCODINGS[m]===d)return Ar.ALPHABET_STRING.charAt(m);if(d===Ar.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(d){let m=d.length,g="";for(let b=0;b<m;b++){let j=d.charAt(b);if(j==="+"||j==="$"||j==="%"||j==="/"){let C=d.charAt(b+1),I="\0";switch(j){case"+":if(C>="A"&&C<="Z")I=String.fromCharCode(C.charCodeAt(0)+32);else throw new B;break;case"$":if(C>="A"&&C<="Z")I=String.fromCharCode(C.charCodeAt(0)-64);else throw new B;break;case"%":if(C>="A"&&C<="E")I=String.fromCharCode(C.charCodeAt(0)-38);else if(C>="F"&&C<="J")I=String.fromCharCode(C.charCodeAt(0)-11);else if(C>="K"&&C<="O")I=String.fromCharCode(C.charCodeAt(0)+16);else if(C>="P"&&C<="T")I=String.fromCharCode(C.charCodeAt(0)+43);else if(C==="U")I="\0";else if(C==="V")I="@";else if(C==="W")I="`";else if(C==="X"||C==="Y"||C==="Z")I="";else throw new B;break;case"/":if(C>="A"&&C<="O")I=String.fromCharCode(C.charCodeAt(0)-32);else if(C==="Z")I=":";else throw new B;break}g+=I,b++}else g+=j}return g}}Ar.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ar.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ar.ASTERISK_ENCODING=148;class Rr extends qr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(d,m,g){let b=this.decodeStart(m),j=this.decodeEnd(m),C=new Q;Rr.decodeMiddle(m,b[1],j[0],C);let I=C.toString(),F=null;g!=null&&(F=g.get(L.ALLOWED_LENGTHS)),F==null&&(F=Rr.DEFAULT_ALLOWED_LENGTHS);let V=I.length,te=!1,ce=0;for(let He of F){if(V===He){te=!0;break}He>ce&&(ce=He)}if(!te&&V>ce&&(te=!0),!te)throw new B;const be=[new ht(b[1],d),new ht(j[0],d)];return new ue(I,null,0,be,Ce.ITF,new Date().getTime())}static decodeMiddle(d,m,g,b){let j=new Int32Array(10),C=new Int32Array(5),I=new Int32Array(5);for(j.fill(0),C.fill(0),I.fill(0);m<g;){qr.recordPattern(d,m,j);for(let V=0;V<5;V++){let te=2*V;C[V]=j[te],I[V]=j[te+1]}let F=Rr.decodeDigit(C);b.append(F.toString()),F=this.decodeDigit(I),b.append(F.toString()),j.forEach(function(V){m+=V})}}decodeStart(d){let m=Rr.skipWhiteSpace(d),g=Rr.findGuardPattern(d,m,Rr.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(d,g[0]),g}validateQuietZone(d,m){let g=this.narrowLineWidth*10;g=g<m?g:m;for(let b=m-1;g>0&&b>=0&&!d.get(b);b--)g--;if(g!==0)throw new J}static skipWhiteSpace(d){const m=d.getSize(),g=d.getNextSet(0);if(g===m)throw new J;return g}decodeEnd(d){d.reverse();try{let m=Rr.skipWhiteSpace(d),g;try{g=Rr.findGuardPattern(d,m,Rr.END_PATTERN_REVERSED[0])}catch(j){j instanceof J&&(g=Rr.findGuardPattern(d,m,Rr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(d,g[0]);let b=g[0];return g[0]=d.getSize()-g[1],g[1]=d.getSize()-b,g}finally{d.reverse()}}static findGuardPattern(d,m,g){let b=g.length,j=new Int32Array(b),C=d.getSize(),I=!1,F=0,V=m;j.fill(0);for(let te=m;te<C;te++)if(d.get(te)!==I)j[F]++;else{if(F===b-1){if(qr.patternMatchVariance(j,g,Rr.MAX_INDIVIDUAL_VARIANCE)<Rr.MAX_AVG_VARIANCE)return[V,te];V+=j[0]+j[1],w.arraycopy(j,2,j,0,F-1),j[F-1]=0,j[F]=0,F--}else F++;j[F]=1,I=!I}throw new J}static decodeDigit(d){let m=Rr.MAX_AVG_VARIANCE,g=-1,b=Rr.PATTERNS.length;for(let j=0;j<b;j++){let C=Rr.PATTERNS[j],I=qr.patternMatchVariance(d,C,Rr.MAX_INDIVIDUAL_VARIANCE);I<m?(m=I,g=j):I===m&&(g=-1)}if(g>=0)return g%10;throw new J}}Rr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Rr.MAX_AVG_VARIANCE=.38,Rr.MAX_INDIVIDUAL_VARIANCE=.5,Rr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Rr.START_PATTERN=Int32Array.from([1,1,1,1]),Rr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class or extends qr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(d){let m=!1,g,b=0,j=Int32Array.from([0,0,0]);for(;!m;){j=Int32Array.from([0,0,0]),g=or.findGuardPattern(d,b,!1,this.START_END_PATTERN,j);let C=g[0];b=g[1];let I=C-(b-C);I>=0&&(m=d.isRange(I,C,!1))}return g}static checkChecksum(d){return or.checkStandardUPCEANChecksum(d)}static checkStandardUPCEANChecksum(d){let m=d.length;if(m===0)return!1;let g=parseInt(d.charAt(m-1),10);return or.getStandardUPCEANChecksum(d.substring(0,m-1))===g}static getStandardUPCEANChecksum(d){let m=d.length,g=0;for(let b=m-1;b>=0;b-=2){let j=d.charAt(b).charCodeAt(0)-48;if(j<0||j>9)throw new B;g+=j}g*=3;for(let b=m-2;b>=0;b-=2){let j=d.charAt(b).charCodeAt(0)-48;if(j<0||j>9)throw new B;g+=j}return(1e3-g)%10}static decodeEnd(d,m){return or.findGuardPattern(d,m,!1,or.START_END_PATTERN,new Int32Array(or.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(d,m,g,b){return this.findGuardPattern(d,m,g,b,new Int32Array(b.length))}static findGuardPattern(d,m,g,b,j){let C=d.getSize();m=g?d.getNextUnset(m):d.getNextSet(m);let I=0,F=m,V=b.length,te=g;for(let ce=m;ce<C;ce++)if(d.get(ce)!==te)j[I]++;else{if(I===V-1){if(qr.patternMatchVariance(j,b,or.MAX_INDIVIDUAL_VARIANCE)<or.MAX_AVG_VARIANCE)return Int32Array.from([F,ce]);F+=j[0]+j[1];let be=j.slice(2,j.length-1);for(let Me=0;Me<I-1;Me++)j[Me]=be[Me];j[I-1]=0,j[I]=0,I--}else I++;j[I]=1,te=!te}throw new J}static decodeDigit(d,m,g,b){this.recordPattern(d,g,m);let j=this.MAX_AVG_VARIANCE,C=-1,I=b.length;for(let F=0;F<I;F++){let V=b[F],te=qr.patternMatchVariance(m,V,or.MAX_INDIVIDUAL_VARIANCE);te<j&&(j=te,C=F)}if(C>=0)return C;throw new J}}or.MAX_AVG_VARIANCE=.48,or.MAX_INDIVIDUAL_VARIANCE=.7,or.START_END_PATTERN=Int32Array.from([1,1,1]),or.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),or.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),or.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(d,m,g){let b=this.decodeRowStringBuffer,j=this.decodeMiddle(m,g,b),C=b.toString(),I=vn.parseExtensionString(C),F=[new ht((g[0]+g[1])/2,d),new ht(j,d)],V=new ue(C,null,0,F,Ce.UPC_EAN_EXTENSION,new Date().getTime());return I!=null&&V.putAllMetadata(I),V}decodeMiddle(d,m,g){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let j=d.getSize(),C=m[1],I=0;for(let V=0;V<5&&C<j;V++){let te=or.decodeDigit(d,b,C,or.L_AND_G_PATTERNS);g+=String.fromCharCode(48+te%10);for(let ce of b)C+=ce;te>=10&&(I|=1<<4-V),V!==4&&(C=d.getNextSet(C),C=d.getNextUnset(C))}if(g.length!==5)throw new J;let F=this.determineCheckDigit(I);if(vn.extensionChecksum(g.toString())!==F)throw new J;return C}static extensionChecksum(d){let m=d.length,g=0;for(let b=m-2;b>=0;b-=2)g+=d.charAt(b).charCodeAt(0)-48;g*=3;for(let b=m-1;b>=0;b-=2)g+=d.charAt(b).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(d){for(let m=0;m<10;m++)if(d===this.CHECK_DIGIT_ENCODINGS[m])return m;throw new J}static parseExtensionString(d){if(d.length!==5)return null;let m=vn.parseExtension5String(d);return m==null?null:new Map([[de.SUGGESTED_PRICE,m]])}static parseExtension5String(d){let m;switch(d.charAt(0)){case"0":m="";break;case"5":m="$";break;case"9":switch(d){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}m="";break;default:m="";break}let g=parseInt(d.substring(1)),b=(g/100).toString(),j=g%100,C=j<10?"0"+j:j.toString();return m+b+"."+C}}class cn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(d,m,g){let b=this.decodeRowStringBuffer,j=this.decodeMiddle(m,g,b),C=b.toString(),I=cn.parseExtensionString(C),F=[new ht((g[0]+g[1])/2,d),new ht(j,d)],V=new ue(C,null,0,F,Ce.UPC_EAN_EXTENSION,new Date().getTime());return I!=null&&V.putAllMetadata(I),V}decodeMiddle(d,m,g){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let j=d.getSize(),C=m[1],I=0;for(let F=0;F<2&&C<j;F++){let V=or.decodeDigit(d,b,C,or.L_AND_G_PATTERNS);g+=String.fromCharCode(48+V%10);for(let te of b)C+=te;V>=10&&(I|=1<<1-F),F!==1&&(C=d.getNextSet(C),C=d.getNextUnset(C))}if(g.length!==2)throw new J;if(parseInt(g.toString())%4!==I)throw new J;return C}static parseExtensionString(d){return d.length!==2?null:new Map([[de.ISSUE_NUMBER,parseInt(d)]])}}class ri{static decodeRow(d,m,g){let b=or.findGuardPattern(m,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vn().decodeRow(d,m,b)}catch{return new cn().decodeRow(d,m,b)}}}ri.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Wr extends or{constructor(){super(),this.decodeRowStringBuffer="",Wr.L_AND_G_PATTERNS=Wr.L_PATTERNS.map(d=>Int32Array.from(d));for(let d=10;d<20;d++){let m=Wr.L_PATTERNS[d-10],g=new Int32Array(m.length);for(let b=0;b<m.length;b++)g[b]=m[m.length-b-1];Wr.L_AND_G_PATTERNS[d]=g}}decodeRow(d,m,g){let b=Wr.findStartGuardPattern(m),j=g==null?null:g.get(L.NEED_RESULT_POINT_CALLBACK);if(j!=null){const At=new ht((b[0]+b[1])/2,d);j.foundPossibleResultPoint(At)}let C=this.decodeMiddle(m,b,this.decodeRowStringBuffer),I=C.rowOffset,F=C.resultString;if(j!=null){const At=new ht(I,d);j.foundPossibleResultPoint(At)}let V=this.decodeEnd(m,I);if(j!=null){const At=new ht((V[0]+V[1])/2,d);j.foundPossibleResultPoint(At)}let te=V[1],ce=te+(te-V[0]);if(ce>=m.getSize()||!m.isRange(te,ce,!1))throw new J;let be=F.toString();if(be.length<8)throw new B;if(!Wr.checkChecksum(be))throw new v;let Me=(b[1]+b[0])/2,He=(V[1]+V[0])/2,Ke=this.getBarcodeFormat(),tt=[new ht(Me,d),new ht(He,d)],ut=new ue(be,null,0,tt,Ke,new Date().getTime()),St=0;try{let At=ri.decodeRow(d,m,V[1]);ut.putMetadata(de.UPC_EAN_EXTENSION,At.getText()),ut.putAllMetadata(At.getResultMetadata()),ut.addResultPoints(At.getResultPoints()),St=At.getText().length}catch{}let Pt=g==null?null:g.get(L.ALLOWED_EAN_EXTENSIONS);if(Pt!=null){let At=!1;for(let Vr in Pt)if(St.toString()===Vr){At=!0;break}if(!At)throw new J}return ut}decodeEnd(d,m){return Wr.findGuardPattern(d,m,!1,Wr.START_END_PATTERN,new Int32Array(Wr.START_END_PATTERN.length).fill(0))}static checkChecksum(d){return Wr.checkStandardUPCEANChecksum(d)}static checkStandardUPCEANChecksum(d){let m=d.length;if(m===0)return!1;let g=parseInt(d.charAt(m-1),10);return Wr.getStandardUPCEANChecksum(d.substring(0,m-1))===g}static getStandardUPCEANChecksum(d){let m=d.length,g=0;for(let b=m-1;b>=0;b-=2){let j=d.charAt(b).charCodeAt(0)-48;if(j<0||j>9)throw new B;g+=j}g*=3;for(let b=m-2;b>=0;b-=2){let j=d.charAt(b).charCodeAt(0)-48;if(j<0||j>9)throw new B;g+=j}return(1e3-g)%10}}class Rn extends Wr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(d,m,g){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let j=d.getSize(),C=m[1],I=0;for(let V=0;V<6&&C<j;V++){let te=Wr.decodeDigit(d,b,C,Wr.L_AND_G_PATTERNS);g+=String.fromCharCode(48+te%10);for(let ce of b)C+=ce;te>=10&&(I|=1<<5-V)}g=Rn.determineFirstDigit(g,I),C=Wr.findGuardPattern(d,C,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0))[1];for(let V=0;V<6&&C<j;V++){let te=Wr.decodeDigit(d,b,C,Wr.L_PATTERNS);g+=String.fromCharCode(48+te);for(let ce of b)C+=ce}return{rowOffset:C,resultString:g}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(d,m){for(let g=0;g<10;g++)if(m===this.FIRST_DIGIT_ENCODINGS[g])return d=String.fromCharCode(48+g)+d,d;throw new J}}Rn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class un extends Wr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(d,m,g){const b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let j=d.getSize(),C=m[1];for(let F=0;F<4&&C<j;F++){let V=Wr.decodeDigit(d,b,C,Wr.L_PATTERNS);g+=String.fromCharCode(48+V);for(let te of b)C+=te}C=Wr.findGuardPattern(d,C,!0,Wr.MIDDLE_PATTERN,new Int32Array(Wr.MIDDLE_PATTERN.length).fill(0))[1];for(let F=0;F<4&&C<j;F++){let V=Wr.decodeDigit(d,b,C,Wr.L_PATTERNS);g+=String.fromCharCode(48+V);for(let te of b)C+=te}return{rowOffset:C,resultString:g}}getBarcodeFormat(){return Ce.EAN_8}}class rs extends Wr{constructor(){super(...arguments),this.ean13Reader=new Rn}getBarcodeFormat(){return Ce.UPC_A}decode(d,m){return this.maybeReturnResult(this.ean13Reader.decode(d))}decodeRow(d,m,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(d,m,g))}decodeMiddle(d,m,g){return this.ean13Reader.decodeMiddle(d,m,g)}maybeReturnResult(d){let m=d.getText();if(m.charAt(0)==="0"){let g=new ue(m.substring(1),null,null,d.getResultPoints(),Ce.UPC_A);return d.getResultMetadata()!=null&&g.putAllMetadata(d.getResultMetadata()),g}else throw new J}reset(){this.ean13Reader.reset()}}class da extends Wr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(d,m,g){const b=this.decodeMiddleCounters.map(V=>V);b[0]=0,b[1]=0,b[2]=0,b[3]=0;const j=d.getSize();let C=m[1],I=0;for(let V=0;V<6&&C<j;V++){const te=da.decodeDigit(d,b,C,da.L_AND_G_PATTERNS);g+=String.fromCharCode(48+te%10);for(let ce of b)C+=ce;te>=10&&(I|=1<<5-V)}let F=da.determineNumSysAndCheckDigit(g,I);return{rowOffset:C,resultString:F}}decodeEnd(d,m){return da.findGuardPatternWithoutCounters(d,m,!0,da.MIDDLE_END_PATTERN)}checkChecksum(d){return Wr.checkChecksum(da.convertUPCEtoUPCA(d))}static determineNumSysAndCheckDigit(d,m){for(let g=0;g<=1;g++)for(let b=0;b<10;b++)if(m===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][b]){let j=String.fromCharCode(48+g),C=String.fromCharCode(48+b);return j+d+C}throw J.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(d){const m=d.slice(1,7).split("").map(j=>j.charCodeAt(0)),g=new Q;g.append(d.charAt(0));let b=m[5];switch(b){case 0:case 1:case 2:g.appendChars(m,0,2),g.append(b),g.append("0000"),g.appendChars(m,2,3);break;case 3:g.appendChars(m,0,3),g.append("00000"),g.appendChars(m,3,2);break;case 4:g.appendChars(m,0,4),g.append("00000"),g.append(m[4]);break;default:g.appendChars(m,0,5),g.append("0000"),g.append(b);break}return d.length>=8&&g.append(d.charAt(7)),g.toString()}}da.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),da.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xi extends qr{constructor(d){super();let m=d==null?null:d.get(L.POSSIBLE_FORMATS),g=[];n(m)?(g.push(new Rn),g.push(new rs),g.push(new un),g.push(new da)):(m.indexOf(Ce.EAN_13)>-1&&g.push(new Rn),m.indexOf(Ce.UPC_A)>-1&&g.push(new rs),m.indexOf(Ce.EAN_8)>-1&&g.push(new un),m.indexOf(Ce.UPC_E)>-1&&g.push(new da)),this.readers=g}decodeRow(d,m,g){for(let b of this.readers)try{const j=b.decodeRow(d,m,g),C=j.getBarcodeFormat()===Ce.EAN_13&&j.getText().charAt(0)==="0",I=g==null?null:g.get(L.POSSIBLE_FORMATS),F=I==null||I.includes(Ce.UPC_A);if(C&&F){const V=j.getRawBytes(),te=new ue(j.getText().substring(1),V,V?V.length:null,j.getResultPoints(),Ce.UPC_A);return te.putAllMetadata(j.getResultMetadata()),te}return j}catch{}throw new J}reset(){for(let d of this.readers)d.reset()}}class Hs extends qr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(d,m){for(let g=0;g<m.length;g++)if(qr.patternMatchVariance(d,m[g],Hs.MAX_INDIVIDUAL_VARIANCE)<Hs.MAX_AVG_VARIANCE)return g;throw new J}static count(d){return mt.sum(new Int32Array(d))}static increment(d,m){let g=0,b=m[0];for(let j=1;j<d.length;j++)m[j]>b&&(b=m[j],g=j);d[g]++}static decrement(d,m){let g=0,b=m[0];for(let j=1;j<d.length;j++)m[j]<b&&(b=m[j],g=j);d[g]--}static isFinderPattern(d){let m=d[0]+d[1],g=m+d[2]+d[3],b=m/g;if(b>=Hs.MIN_FINDER_PATTERN_RATIO&&b<=Hs.MAX_FINDER_PATTERN_RATIO){let j=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;for(let I of d)I>C&&(C=I),I<j&&(j=I);return C<10*j}return!1}}Hs.MAX_AVG_VARIANCE=.2,Hs.MAX_INDIVIDUAL_VARIANCE=.45,Hs.MIN_FINDER_PATTERN_RATIO=9.5/12,Hs.MAX_FINDER_PATTERN_RATIO=12.5/14;class ja{constructor(d,m){this.value=d,this.checksumPortion=m}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(d){if(!(d instanceof ja))return!1;const m=d;return this.value===m.value&&this.checksumPortion===m.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gr{constructor(d,m,g,b,j){this.value=d,this.startEnd=m,this.value=d,this.startEnd=m,this.resultPoints=new Array,this.resultPoints.push(new ht(g,j)),this.resultPoints.push(new ht(b,j))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(d){if(!(d instanceof Gr))return!1;const m=d;return this.value===m.value}hashCode(){return this.value}}class pi{constructor(){}static getRSSvalue(d,m,g){let b=0;for(let F of d)b+=F;let j=0,C=0,I=d.length;for(let F=0;F<I-1;F++){let V;for(V=1,C|=1<<F;V<d[F];V++,C&=~(1<<F)){let te=pi.combins(b-V-1,I-F-2);if(g&&C===0&&b-V-(I-F-1)>=I-F-1&&(te-=pi.combins(b-V-(I-F),I-F-2)),I-F-1>1){let ce=0;for(let be=b-V-(I-F-2);be>m;be--)ce+=pi.combins(b-V-be-1,I-F-3);te-=ce*(I-1-F)}else b-V>m&&te--;j+=te}b-=V}return j}static combins(d,m){let g,b;d-m>m?(b=m,g=d-m):(b=d-m,g=m);let j=1,C=1;for(let I=d;I>g;I--)j*=I,C<=b&&(j/=C,C++);for(;C<=b;)j/=C,C++;return j}}class Bl{static buildBitArray(d){let m=d.length*2-1;d[d.length-1].getRightChar()==null&&(m-=1);let g=12*m,b=new M(g),j=0,I=d[0].getRightChar().getValue();for(let F=11;F>=0;--F)(I&1<<F)!=0&&b.set(j),j++;for(let F=1;F<d.length;++F){let V=d[F],te=V.getLeftChar().getValue();for(let ce=11;ce>=0;--ce)(te&1<<ce)!=0&&b.set(j),j++;if(V.getRightChar()!=null){let ce=V.getRightChar().getValue();for(let be=11;be>=0;--be)(ce&1<<be)!=0&&b.set(j),j++}}return b}}class gi{constructor(d,m){m?this.decodedInformation=null:(this.finished=d,this.decodedInformation=m)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bo{constructor(d){this.newPosition=d}getNewPosition(){return this.newPosition}}class In extends bo{constructor(d,m){super(d),this.value=m}getValue(){return this.value}isFNC1(){return this.value===In.FNC1}}In.FNC1="$";class Ps extends bo{constructor(d,m,g){super(d),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=m}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class os extends bo{constructor(d,m,g){if(super(d),m<0||m>10||g<0||g>10)throw new B;this.firstDigit=m,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===os.FNC1}isSecondDigitFNC1(){return this.secondDigit===os.FNC1}isAnyFNC1(){return this.firstDigit===os.FNC1||this.secondDigit===os.FNC1}}os.FNC1=10;class lr{constructor(){}static parseFieldsInGeneralPurpose(d){if(!d)return null;if(d.length<2)throw new J;let m=d.substring(0,2);for(let j of lr.TWO_DIGIT_DATA_LENGTH)if(j[0]===m)return j[1]===lr.VARIABLE_LENGTH?lr.processVariableAI(2,j[2],d):lr.processFixedAI(2,j[1],d);if(d.length<3)throw new J;let g=d.substring(0,3);for(let j of lr.THREE_DIGIT_DATA_LENGTH)if(j[0]===g)return j[1]===lr.VARIABLE_LENGTH?lr.processVariableAI(3,j[2],d):lr.processFixedAI(3,j[1],d);for(let j of lr.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(j[0]===g)return j[1]===lr.VARIABLE_LENGTH?lr.processVariableAI(4,j[2],d):lr.processFixedAI(4,j[1],d);if(d.length<4)throw new J;let b=d.substring(0,4);for(let j of lr.FOUR_DIGIT_DATA_LENGTH)if(j[0]===b)return j[1]===lr.VARIABLE_LENGTH?lr.processVariableAI(4,j[2],d):lr.processFixedAI(4,j[1],d);throw new J}static processFixedAI(d,m,g){if(g.length<d)throw new J;let b=g.substring(0,d);if(g.length<d+m)throw new J;let j=g.substring(d,d+m),C=g.substring(d+m),I="("+b+")"+j,F=lr.parseFieldsInGeneralPurpose(C);return F==null?I:I+F}static processVariableAI(d,m,g){let b=g.substring(0,d),j;g.length<d+m?j=g.length:j=d+m;let C=g.substring(d,j),I=g.substring(j),F="("+b+")"+C,V=lr.parseFieldsInGeneralPurpose(I);return V==null?F:F+V}}lr.VARIABLE_LENGTH=[],lr.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",lr.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",lr.VARIABLE_LENGTH,20],["22",lr.VARIABLE_LENGTH,29],["30",lr.VARIABLE_LENGTH,8],["37",lr.VARIABLE_LENGTH,8],["90",lr.VARIABLE_LENGTH,30],["91",lr.VARIABLE_LENGTH,30],["92",lr.VARIABLE_LENGTH,30],["93",lr.VARIABLE_LENGTH,30],["94",lr.VARIABLE_LENGTH,30],["95",lr.VARIABLE_LENGTH,30],["96",lr.VARIABLE_LENGTH,30],["97",lr.VARIABLE_LENGTH,3],["98",lr.VARIABLE_LENGTH,30],["99",lr.VARIABLE_LENGTH,30]],lr.THREE_DIGIT_DATA_LENGTH=[["240",lr.VARIABLE_LENGTH,30],["241",lr.VARIABLE_LENGTH,30],["242",lr.VARIABLE_LENGTH,6],["250",lr.VARIABLE_LENGTH,30],["251",lr.VARIABLE_LENGTH,30],["253",lr.VARIABLE_LENGTH,17],["254",lr.VARIABLE_LENGTH,20],["400",lr.VARIABLE_LENGTH,30],["401",lr.VARIABLE_LENGTH,30],["402",17],["403",lr.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",lr.VARIABLE_LENGTH,20],["421",lr.VARIABLE_LENGTH,15],["422",3],["423",lr.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],lr.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",lr.VARIABLE_LENGTH,15],["391",lr.VARIABLE_LENGTH,18],["392",lr.VARIABLE_LENGTH,15],["393",lr.VARIABLE_LENGTH,18],["703",lr.VARIABLE_LENGTH,30]],lr.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",lr.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",lr.VARIABLE_LENGTH,20],["8003",lr.VARIABLE_LENGTH,30],["8004",lr.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",lr.VARIABLE_LENGTH,30],["8008",lr.VARIABLE_LENGTH,12],["8018",18],["8020",lr.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",lr.VARIABLE_LENGTH,70],["8200",lr.VARIABLE_LENGTH,70]];class Vo{constructor(d){this.buffer=new Q,this.information=d}decodeAllCodes(d,m){let g=m,b=null;do{let j=this.decodeGeneralPurposeField(g,b),C=lr.parseFieldsInGeneralPurpose(j.getNewString());if(C!=null&&d.append(C),j.isRemaining()?b=""+j.getRemainingValue():b=null,g===j.getNewPosition())break;g=j.getNewPosition()}while(!0);return d.toString()}isStillNumeric(d){if(d+7>this.information.getSize())return d+4<=this.information.getSize();for(let m=d;m<d+3;++m)if(this.information.get(m))return!0;return this.information.get(d+3)}decodeNumeric(d){if(d+7>this.information.getSize()){let j=this.extractNumericValueFromBitArray(d,4);return j===0?new os(this.information.getSize(),os.FNC1,os.FNC1):new os(this.information.getSize(),j-1,os.FNC1)}let m=this.extractNumericValueFromBitArray(d,7),g=(m-8)/11,b=(m-8)%11;return new os(d+7,g,b)}extractNumericValueFromBitArray(d,m){return Vo.extractNumericValueFromBitArray(this.information,d,m)}static extractNumericValueFromBitArray(d,m,g){let b=0;for(let j=0;j<g;++j)d.get(m+j)&&(b|=1<<g-j-1);return b}decodeGeneralPurposeField(d,m){this.buffer.setLengthToZero(),m!=null&&this.buffer.append(m),this.current.setPosition(d);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Ps(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Ps(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let d,m;do{let g=this.current.getPosition();if(this.current.isAlpha()?(m=this.parseAlphaBlock(),d=m.isFinished()):this.current.isIsoIec646()?(m=this.parseIsoIec646Block(),d=m.isFinished()):(m=this.parseNumericBlock(),d=m.isFinished()),!(g!==this.current.getPosition())&&!d)break}while(!d);return m.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let d=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFirstDigitFNC1()){let m;return d.isSecondDigitFNC1()?m=new Ps(this.current.getPosition(),this.buffer.toString()):m=new Ps(this.current.getPosition(),this.buffer.toString(),d.getSecondDigit()),new gi(!0,m)}if(this.buffer.append(d.getFirstDigit()),d.isSecondDigitFNC1()){let m=new Ps(this.current.getPosition(),this.buffer.toString());return new gi(!0,m)}this.buffer.append(d.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new gi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let d=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFNC1()){let m=new Ps(this.current.getPosition(),this.buffer.toString());return new gi(!0,m)}this.buffer.append(d.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new gi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let d=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFNC1()){let m=new Ps(this.current.getPosition(),this.buffer.toString());return new gi(!0,m)}this.buffer.append(d.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new gi(!1)}isStillIsoIec646(d){if(d+5>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(d,5);if(m>=5&&m<16)return!0;if(d+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(d,7);if(g>=64&&g<116)return!0;if(d+8>this.information.getSize())return!1;let b=this.extractNumericValueFromBitArray(d,8);return b>=232&&b<253}decodeIsoIec646(d){let m=this.extractNumericValueFromBitArray(d,5);if(m===15)return new In(d+5,In.FNC1);if(m>=5&&m<15)return new In(d+5,"0"+(m-5));let g=this.extractNumericValueFromBitArray(d,7);if(g>=64&&g<90)return new In(d+7,""+(g+1));if(g>=90&&g<116)return new In(d+7,""+(g+7));let b=this.extractNumericValueFromBitArray(d,8),j;switch(b){case 232:j="!";break;case 233:j='"';break;case 234:j="%";break;case 235:j="&";break;case 236:j="'";break;case 237:j="(";break;case 238:j=")";break;case 239:j="*";break;case 240:j="+";break;case 241:j=",";break;case 242:j="-";break;case 243:j=".";break;case 244:j="/";break;case 245:j=":";break;case 246:j=";";break;case 247:j="<";break;case 248:j="=";break;case 249:j=">";break;case 250:j="?";break;case 251:j="_";break;case 252:j=" ";break;default:throw new B}return new In(d+8,j)}isStillAlpha(d){if(d+5>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(d,5);if(m>=5&&m<16)return!0;if(d+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(d,6);return g>=16&&g<63}decodeAlphanumeric(d){let m=this.extractNumericValueFromBitArray(d,5);if(m===15)return new In(d+5,In.FNC1);if(m>=5&&m<15)return new In(d+5,"0"+(m-5));let g=this.extractNumericValueFromBitArray(d,6);if(g>=32&&g<58)return new In(d+6,""+(g+33));let b;switch(g){case 58:b="*";break;case 59:b=",";break;case 60:b="-";break;case 61:b=".";break;case 62:b="/";break;default:throw new Ee("Decoding invalid alphanumeric value: "+g)}return new In(d+6,b)}isAlphaTo646ToAlphaLatch(d){if(d+1>this.information.getSize())return!1;for(let m=0;m<5&&m+d<this.information.getSize();++m)if(m===2){if(!this.information.get(d+2))return!1}else if(this.information.get(d+m))return!1;return!0}isAlphaOr646ToNumericLatch(d){if(d+3>this.information.getSize())return!1;for(let m=d;m<d+3;++m)if(this.information.get(m))return!1;return!0}isNumericToAlphaNumericLatch(d){if(d+1>this.information.getSize())return!1;for(let m=0;m<4&&m+d<this.information.getSize();++m)if(this.information.get(d+m))return!1;return!0}}class Ho{constructor(d){this.information=d,this.generalDecoder=new Vo(d)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ai extends Ho{constructor(d){super(d)}encodeCompressedGtin(d,m){d.append("(01)");let g=d.length();d.append("9"),this.encodeCompressedGtinWithoutAI(d,m,g)}encodeCompressedGtinWithoutAI(d,m,g){for(let b=0;b<4;++b){let j=this.getGeneralDecoder().extractNumericValueFromBitArray(m+10*b,10);j/100===0&&d.append("0"),j/10===0&&d.append("0"),d.append(j)}ai.appendCheckDigit(d,g)}static appendCheckDigit(d,m){let g=0;for(let b=0;b<13;b++){let j=d.charAt(b+m).charCodeAt(0)-48;g+=(b&1)===0?3*j:j}g=10-g%10,g===10&&(g=0),d.append(g)}}ai.GTIN_SIZE=40;class xi extends ai{constructor(d){super(d)}parseInformation(){let d=new Q;d.append("(01)");let m=d.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(xi.HEADER_SIZE,4);return d.append(g),this.encodeCompressedGtinWithoutAI(d,xi.HEADER_SIZE+4,m),this.getGeneralDecoder().decodeAllCodes(d,xi.HEADER_SIZE+44)}}xi.HEADER_SIZE=4;class ro extends Ho{constructor(d){super(d)}parseInformation(){let d=new Q;return this.getGeneralDecoder().decodeAllCodes(d,ro.HEADER_SIZE)}}ro.HEADER_SIZE=5;class Ua extends ai{constructor(d){super(d)}encodeCompressedWeight(d,m,g){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(m,g);this.addWeightCode(d,b);let j=this.checkWeight(b),C=1e5;for(let I=0;I<5;++I)j/C===0&&d.append("0"),C/=10;d.append(j)}}class $a extends Ua{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()!=$a.HEADER_SIZE+Ua.GTIN_SIZE+$a.WEIGHT_SIZE)throw new J;let d=new Q;return this.encodeCompressedGtin(d,$a.HEADER_SIZE),this.encodeCompressedWeight(d,$a.HEADER_SIZE+Ua.GTIN_SIZE,$a.WEIGHT_SIZE),d.toString()}}$a.HEADER_SIZE=5,$a.WEIGHT_SIZE=15;class Ul extends $a{constructor(d){super(d)}addWeightCode(d,m){d.append("(3103)")}checkWeight(d){return d}}class hu extends $a{constructor(d){super(d)}addWeightCode(d,m){m<1e4?d.append("(3202)"):d.append("(3203)")}checkWeight(d){return d<1e4?d:d-1e4}}class za extends ai{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<za.HEADER_SIZE+ai.GTIN_SIZE)throw new J;let d=new Q;this.encodeCompressedGtin(d,za.HEADER_SIZE);let m=this.getGeneralDecoder().extractNumericValueFromBitArray(za.HEADER_SIZE+ai.GTIN_SIZE,za.LAST_DIGIT_SIZE);d.append("(392"),d.append(m),d.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(za.HEADER_SIZE+ai.GTIN_SIZE+za.LAST_DIGIT_SIZE,null);return d.append(g.getNewString()),d.toString()}}za.HEADER_SIZE=8,za.LAST_DIGIT_SIZE=2;class Ii extends ai{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<Ii.HEADER_SIZE+ai.GTIN_SIZE)throw new J;let d=new Q;this.encodeCompressedGtin(d,Ii.HEADER_SIZE);let m=this.getGeneralDecoder().extractNumericValueFromBitArray(Ii.HEADER_SIZE+ai.GTIN_SIZE,Ii.LAST_DIGIT_SIZE);d.append("(393"),d.append(m),d.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(Ii.HEADER_SIZE+ai.GTIN_SIZE+Ii.LAST_DIGIT_SIZE,Ii.FIRST_THREE_DIGITS_SIZE);g/100==0&&d.append("0"),g/10==0&&d.append("0"),d.append(g);let b=this.getGeneralDecoder().decodeGeneralPurposeField(Ii.HEADER_SIZE+ai.GTIN_SIZE+Ii.LAST_DIGIT_SIZE+Ii.FIRST_THREE_DIGITS_SIZE,null);return d.append(b.getNewString()),d.toString()}}Ii.HEADER_SIZE=8,Ii.LAST_DIGIT_SIZE=2,Ii.FIRST_THREE_DIGITS_SIZE=10;class ys extends Ua{constructor(d,m,g){super(d),this.dateCode=g,this.firstAIdigits=m}parseInformation(){if(this.getInformation().getSize()!=ys.HEADER_SIZE+ys.GTIN_SIZE+ys.WEIGHT_SIZE+ys.DATE_SIZE)throw new J;let d=new Q;return this.encodeCompressedGtin(d,ys.HEADER_SIZE),this.encodeCompressedWeight(d,ys.HEADER_SIZE+ys.GTIN_SIZE,ys.WEIGHT_SIZE),this.encodeCompressedDate(d,ys.HEADER_SIZE+ys.GTIN_SIZE+ys.WEIGHT_SIZE),d.toString()}encodeCompressedDate(d,m){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(m,ys.DATE_SIZE);if(g==38400)return;d.append("("),d.append(this.dateCode),d.append(")");let b=g%32;g/=32;let j=g%12+1;g/=12;let C=g;C/10==0&&d.append("0"),d.append(C),j/10==0&&d.append("0"),d.append(j),b/10==0&&d.append("0"),d.append(b)}addWeightCode(d,m){d.append("("),d.append(this.firstAIdigits),d.append(m/1e5),d.append(")")}checkWeight(d){return d%1e5}}ys.HEADER_SIZE=8,ys.WEIGHT_SIZE=20,ys.DATE_SIZE=16;function gm(le){try{if(le.get(1))return new xi(le);if(!le.get(2))return new ro(le);switch(Vo.extractNumericValueFromBitArray(le,1,4)){case 4:return new Ul(le);case 5:return new hu(le)}switch(Vo.extractNumericValueFromBitArray(le,1,5)){case 12:return new za(le);case 13:return new Ii(le)}switch(Vo.extractNumericValueFromBitArray(le,1,7)){case 56:return new ys(le,"310","11");case 57:return new ys(le,"320","11");case 58:return new ys(le,"310","13");case 59:return new ys(le,"320","13");case 60:return new ys(le,"310","15");case 61:return new ys(le,"320","15");case 62:return new ys(le,"310","17");case 63:return new ys(le,"320","17")}}catch(d){throw console.log(d),new Ee("unknown decoder: "+le)}}class ns{constructor(d,m,g,b){this.leftchar=d,this.rightchar=m,this.finderpattern=g,this.maybeLast=b}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(d,m){return d instanceof ns?ns.equalsOrNull(d.leftchar,m.leftchar)&&ns.equalsOrNull(d.rightchar,m.rightchar)&&ns.equalsOrNull(d.finderpattern,m.finderpattern):!1}static equalsOrNull(d,m){return d===null?m===null:ns.equals(d,m)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ah{constructor(d,m,g){this.pairs=d,this.rowNumber=m,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(d){return this.checkEqualitity(this,d)}toString(){return"{ "+this.pairs+" }"}equals(d,m){return d instanceof ah?this.checkEqualitity(d,m)&&d.wasReversed===m.wasReversed:!1}checkEqualitity(d,m){if(!d||!m)return;let g;return d.forEach((b,j)=>{m.forEach(C=>{b.getLeftChar().getValue()===C.getLeftChar().getValue()&&b.getRightChar().getValue()===C.getRightChar().getValue()&&b.getFinderPatter().getValue()===C.getFinderPatter().getValue()&&(g=!0)})}),g}}class Dt extends Hs{constructor(d){super(...arguments),this.pairs=new Array(Dt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=d===!0}decodeRow(d,m,g){this.pairs.length=0,this.startFromEven=!1;try{return Dt.constructResult(this.decodeRow2pairs(d,m))}catch(b){this.verbose&&console.log(b)}return this.pairs.length=0,this.startFromEven=!0,Dt.constructResult(this.decodeRow2pairs(d,m))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(d,m){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(m,this.pairs,d))}catch(j){if(j instanceof J){if(!this.pairs.length)throw new J;g=!0}}if(this.checkChecksum())return this.pairs;let b;if(this.rows.length?b=!0:b=!1,this.storeRow(d,!1),b){let j=this.checkRowsBoolean(!1);if(j!=null||(j=this.checkRowsBoolean(!0),j!=null))return j}throw new J}checkRowsBoolean(d){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,d&&(this.rows=this.rows.reverse());let m=null;try{m=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return d&&(this.rows=this.rows.reverse()),m}checkRows(d,m){for(let g=m;g<this.rows.length;g++){let b=this.rows[g];this.pairs.length=0;for(let C of d)this.pairs.push(C.getPairs());if(this.pairs.push(b.getPairs()),!Dt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let j=new Array(d);j.push(b);try{return this.checkRows(j,g+1)}catch(C){this.verbose&&console.log(C)}}throw new J}static isValidSequence(d){for(let m of Dt.FINDER_PATTERN_SEQUENCES){if(d.length>m.length)continue;let g=!0;for(let b=0;b<d.length;b++)if(d[b].getFinderPattern().getValue()!=m[b]){g=!1;break}if(g)return!0}return!1}storeRow(d,m){let g=0,b=!1,j=!1;for(;g<this.rows.length;){let C=this.rows[g];if(C.getRowNumber()>d){j=C.isEquivalent(this.pairs);break}b=C.isEquivalent(this.pairs),g++}j||b||Dt.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new ah(this.pairs,d,m)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(d,m){for(let g of m)if(g.getPairs().length!==d.length){for(let b of g.getPairs())for(let j of d)if(ns.equals(b,j))break}}static isPartialRow(d,m){for(let g of m){let b=!0;for(let j of d){let C=!1;for(let I of g.getPairs())if(j.equals(I)){C=!0;break}if(!C){b=!1;break}}if(b)return!0}return!1}getRows(){return this.rows}static constructResult(d){let m=Bl.buildBitArray(d),b=gm(m).parseInformation(),j=d[0].getFinderPattern().getResultPoints(),C=d[d.length-1].getFinderPattern().getResultPoints(),I=[j[0],j[1],C[0],C[1]];return new ue(b,null,null,I,Ce.RSS_EXPANDED,null)}checkChecksum(){let d=this.pairs.get(0),m=d.getLeftChar(),g=d.getRightChar();if(g==null)return!1;let b=g.getChecksumPortion(),j=2;for(let I=1;I<this.pairs.size();++I){let F=this.pairs.get(I);b+=F.getLeftChar().getChecksumPortion(),j++;let V=F.getRightChar();V!=null&&(b+=V.getChecksumPortion(),j++)}return b%=211,211*(j-4)+b==m.getValue()}static getNextSecondBar(d,m){let g;return d.get(m)?(g=d.getNextUnset(m),g=d.getNextSet(g)):(g=d.getNextSet(m),g=d.getNextUnset(g)),g}retrieveNextPair(d,m,g){let b=m.length%2==0;this.startFromEven&&(b=!b);let j,C=!0,I=-1;do this.findNextPair(d,m,I),j=this.parseFoundFinderPattern(d,g,b),j==null?I=Dt.getNextSecondBar(d,this.startEnd[0]):C=!1;while(C);let F=this.decodeDataCharacter(d,j,b,!0);if(!this.isEmptyPair(m)&&m[m.length-1].mustBeLast())throw new J;let V;try{V=this.decodeDataCharacter(d,j,b,!1)}catch(te){V=null,this.verbose&&console.log(te)}return new ns(F,V,j,!0)}isEmptyPair(d){return d.length===0}findNextPair(d,m,g){let b=this.getDecodeFinderCounters();b[0]=0,b[1]=0,b[2]=0,b[3]=0;let j=d.getSize(),C;g>=0?C=g:this.isEmptyPair(m)?C=0:C=m[m.length-1].getFinderPattern().getStartEnd()[1];let I=m.length%2!=0;this.startFromEven&&(I=!I);let F=!1;for(;C<j&&(F=!d.get(C),!!F);)C++;let V=0,te=C;for(let ce=C;ce<j;ce++)if(d.get(ce)!=F)b[V]++;else{if(V==3){if(I&&Dt.reverseCounters(b),Dt.isFinderPattern(b)){this.startEnd[0]=te,this.startEnd[1]=ce;return}I&&Dt.reverseCounters(b),te+=b[0]+b[1],b[0]=b[2],b[1]=b[3],b[2]=0,b[3]=0,V--}else V++;b[V]=1,F=!F}throw new J}static reverseCounters(d){let m=d.length;for(let g=0;g<m/2;++g){let b=d[g];d[g]=d[m-g-1],d[m-g-1]=b}}parseFoundFinderPattern(d,m,g){let b,j,C;if(g){let V=this.startEnd[0]-1;for(;V>=0&&!d.get(V);)V--;V++,b=this.startEnd[0]-V,j=V,C=this.startEnd[1]}else j=this.startEnd[0],C=d.getNextUnset(this.startEnd[1]+1),b=C-this.startEnd[1];let I=this.getDecodeFinderCounters();w.arraycopy(I,0,I,1,I.length-1),I[0]=b;let F;try{F=this.parseFinderValue(I,Dt.FINDER_PATTERNS)}catch{return null}return new Gr(F,[j,C],j,C,m)}decodeDataCharacter(d,m,g,b){let j=this.getDataCharacterCounters();for(let fs=0;fs<j.length;fs++)j[fs]=0;if(b)Dt.recordPatternInReverse(d,m.getStartEnd()[0],j);else{Dt.recordPattern(d,m.getStartEnd()[1],j);for(let fs=0,Ni=j.length-1;fs<Ni;fs++,Ni--){let Wa=j[fs];j[fs]=j[Ni],j[Ni]=Wa}}let C=17,I=mt.sum(new Int32Array(j))/C,F=(m.getStartEnd()[1]-m.getStartEnd()[0])/15;if(Math.abs(I-F)/F>.3)throw new J;let V=this.getOddCounts(),te=this.getEvenCounts(),ce=this.getOddRoundingErrors(),be=this.getEvenRoundingErrors();for(let fs=0;fs<j.length;fs++){let Ni=1*j[fs]/I,Wa=Ni+.5;if(Wa<1){if(Ni<.3)throw new J;Wa=1}else if(Wa>8){if(Ni>8.7)throw new J;Wa=8}let ju=fs/2;(fs&1)==0?(V[ju]=Wa,ce[ju]=Ni-Wa):(te[ju]=Wa,be[ju]=Ni-Wa)}this.adjustOddEvenCounts(C);let Me=4*m.getValue()+(g?0:2)+(b?0:1)-1,He=0,Ke=0;for(let fs=V.length-1;fs>=0;fs--){if(Dt.isNotA1left(m,g,b)){let Ni=Dt.WEIGHTS[Me][2*fs];Ke+=V[fs]*Ni}He+=V[fs]}let tt=0;for(let fs=te.length-1;fs>=0;fs--)if(Dt.isNotA1left(m,g,b)){let Ni=Dt.WEIGHTS[Me][2*fs+1];tt+=te[fs]*Ni}let ut=Ke+tt;if((He&1)!=0||He>13||He<4)throw new J;let St=(13-He)/2,Pt=Dt.SYMBOL_WIDEST[St],At=9-Pt,Vr=pi.getRSSvalue(V,Pt,!0),Jr=pi.getRSSvalue(te,At,!1),fa=Dt.EVEN_TOTAL_SUBSET[St],Ha=Dt.GSUM[St],wi=Vr*fa+Jr+Ha;return new ja(wi,ut)}static isNotA1left(d,m,g){return!(d.getValue()==0&&m&&g)}adjustOddEvenCounts(d){let m=mt.sum(new Int32Array(this.getOddCounts())),g=mt.sum(new Int32Array(this.getEvenCounts())),b=!1,j=!1;m>13?j=!0:m<4&&(b=!0);let C=!1,I=!1;g>13?I=!0:g<4&&(C=!0);let F=m+g-d,V=(m&1)==1,te=(g&1)==0;if(F==1)if(V){if(te)throw new J;j=!0}else{if(!te)throw new J;I=!0}else if(F==-1)if(V){if(te)throw new J;b=!0}else{if(!te)throw new J;C=!0}else if(F==0){if(V){if(!te)throw new J;m<g?(b=!0,I=!0):(j=!0,C=!0)}else if(te)throw new J}else throw new J;if(b){if(j)throw new J;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(j&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(I)throw new J;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.SYMBOL_WIDEST=[7,5,4,3,1],Dt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Dt.GSUM=[0,348,1388,2948,3988],Dt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Dt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Dt.FINDER_PAT_A=0,Dt.FINDER_PAT_B=1,Dt.FINDER_PAT_C=2,Dt.FINDER_PAT_D=3,Dt.FINDER_PAT_E=4,Dt.FINDER_PAT_F=5,Dt.FINDER_PATTERN_SEQUENCES=[[Dt.FINDER_PAT_A,Dt.FINDER_PAT_A],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_B,Dt.FINDER_PAT_B],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_C,Dt.FINDER_PAT_B,Dt.FINDER_PAT_D],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_E,Dt.FINDER_PAT_B,Dt.FINDER_PAT_D,Dt.FINDER_PAT_C],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_E,Dt.FINDER_PAT_B,Dt.FINDER_PAT_D,Dt.FINDER_PAT_D,Dt.FINDER_PAT_F],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_E,Dt.FINDER_PAT_B,Dt.FINDER_PAT_D,Dt.FINDER_PAT_E,Dt.FINDER_PAT_F,Dt.FINDER_PAT_F],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_A,Dt.FINDER_PAT_B,Dt.FINDER_PAT_B,Dt.FINDER_PAT_C,Dt.FINDER_PAT_C,Dt.FINDER_PAT_D,Dt.FINDER_PAT_D],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_A,Dt.FINDER_PAT_B,Dt.FINDER_PAT_B,Dt.FINDER_PAT_C,Dt.FINDER_PAT_C,Dt.FINDER_PAT_D,Dt.FINDER_PAT_E,Dt.FINDER_PAT_E],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_A,Dt.FINDER_PAT_B,Dt.FINDER_PAT_B,Dt.FINDER_PAT_C,Dt.FINDER_PAT_C,Dt.FINDER_PAT_D,Dt.FINDER_PAT_E,Dt.FINDER_PAT_F,Dt.FINDER_PAT_F],[Dt.FINDER_PAT_A,Dt.FINDER_PAT_A,Dt.FINDER_PAT_B,Dt.FINDER_PAT_B,Dt.FINDER_PAT_C,Dt.FINDER_PAT_D,Dt.FINDER_PAT_D,Dt.FINDER_PAT_E,Dt.FINDER_PAT_E,Dt.FINDER_PAT_F,Dt.FINDER_PAT_F]],Dt.MAX_PAIRS=11;class Wo extends ja{constructor(d,m,g){super(d,m),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vs extends Hs{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(d,m,g){const b=this.decodePair(m,!1,d,g);vs.addOrTally(this.possibleLeftPairs,b),m.reverse();let j=this.decodePair(m,!0,d,g);vs.addOrTally(this.possibleRightPairs,j),m.reverse();for(let C of this.possibleLeftPairs)if(C.getCount()>1){for(let I of this.possibleRightPairs)if(I.getCount()>1&&vs.checkChecksum(C,I))return vs.constructResult(C,I)}throw new J}static addOrTally(d,m){if(m==null)return;let g=!1;for(let b of d)if(b.getValue()===m.getValue()){b.incrementCount(),g=!0;break}g||d.push(m)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(d,m){let g=4537077*d.getValue()+m.getValue(),b=new String(g).toString(),j=new Q;for(let V=13-b.length;V>0;V--)j.append("0");j.append(b);let C=0;for(let V=0;V<13;V++){let te=j.charAt(V).charCodeAt(0)-48;C+=(V&1)===0?3*te:te}C=10-C%10,C===10&&(C=0),j.append(C.toString());let I=d.getFinderPattern().getResultPoints(),F=m.getFinderPattern().getResultPoints();return new ue(j.toString(),null,0,[I[0],I[1],F[0],F[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(d,m){let g=(d.getChecksumPortion()+16*m.getChecksumPortion())%79,b=9*d.getFinderPattern().getValue()+m.getFinderPattern().getValue();return b>72&&b--,b>8&&b--,g===b}decodePair(d,m,g,b){try{let j=this.findFinderPattern(d,m),C=this.parseFoundFinderPattern(d,g,m,j),I=b==null?null:b.get(L.NEED_RESULT_POINT_CALLBACK);if(I!=null){let te=(j[0]+j[1])/2;m&&(te=d.getSize()-1-te),I.foundPossibleResultPoint(new ht(te,g))}let F=this.decodeDataCharacter(d,C,!0),V=this.decodeDataCharacter(d,C,!1);return new Wo(1597*F.getValue()+V.getValue(),F.getChecksumPortion()+4*V.getChecksumPortion(),C)}catch{return null}}decodeDataCharacter(d,m,g){let b=this.getDataCharacterCounters();for(let tt=0;tt<b.length;tt++)b[tt]=0;if(g)qr.recordPatternInReverse(d,m.getStartEnd()[0],b);else{qr.recordPattern(d,m.getStartEnd()[1]+1,b);for(let tt=0,ut=b.length-1;tt<ut;tt++,ut--){let St=b[tt];b[tt]=b[ut],b[ut]=St}}let j=g?16:15,C=mt.sum(new Int32Array(b))/j,I=this.getOddCounts(),F=this.getEvenCounts(),V=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let tt=0;tt<b.length;tt++){let ut=b[tt]/C,St=Math.floor(ut+.5);St<1?St=1:St>8&&(St=8);let Pt=Math.floor(tt/2);(tt&1)===0?(I[Pt]=St,V[Pt]=ut-St):(F[Pt]=St,te[Pt]=ut-St)}this.adjustOddEvenCounts(g,j);let ce=0,be=0;for(let tt=I.length-1;tt>=0;tt--)be*=9,be+=I[tt],ce+=I[tt];let Me=0,He=0;for(let tt=F.length-1;tt>=0;tt--)Me*=9,Me+=F[tt],He+=F[tt];let Ke=be+3*Me;if(g){if((ce&1)!==0||ce>12||ce<4)throw new J;let tt=(12-ce)/2,ut=vs.OUTSIDE_ODD_WIDEST[tt],St=9-ut,Pt=pi.getRSSvalue(I,ut,!1),At=pi.getRSSvalue(F,St,!0),Vr=vs.OUTSIDE_EVEN_TOTAL_SUBSET[tt],Jr=vs.OUTSIDE_GSUM[tt];return new ja(Pt*Vr+At+Jr,Ke)}else{if((He&1)!==0||He>10||He<4)throw new J;let tt=(10-He)/2,ut=vs.INSIDE_ODD_WIDEST[tt],St=9-ut,Pt=pi.getRSSvalue(I,ut,!0),At=pi.getRSSvalue(F,St,!1),Vr=vs.INSIDE_ODD_TOTAL_SUBSET[tt],Jr=vs.INSIDE_GSUM[tt];return new ja(At*Vr+Pt+Jr,Ke)}}findFinderPattern(d,m){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let b=d.getSize(),j=!1,C=0;for(;C<b&&(j=!d.get(C),m!==j);)C++;let I=0,F=C;for(let V=C;V<b;V++)if(d.get(V)!==j)g[I]++;else{if(I===3){if(Hs.isFinderPattern(g))return[F,V];F+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,I--}else I++;g[I]=1,j=!j}throw new J}parseFoundFinderPattern(d,m,g,b){let j=d.get(b[0]),C=b[0]-1;for(;C>=0&&j!==d.get(C);)C--;C++;const I=b[0]-C,F=this.getDecodeFinderCounters(),V=new Int32Array(F.length);w.arraycopy(F,0,V,1,F.length-1),V[0]=I;const te=this.parseFinderValue(V,vs.FINDER_PATTERNS);let ce=C,be=b[1];return g&&(ce=d.getSize()-1-ce,be=d.getSize()-1-be),new Gr(te,[C,b[1]],ce,be,m)}adjustOddEvenCounts(d,m){let g=mt.sum(new Int32Array(this.getOddCounts())),b=mt.sum(new Int32Array(this.getEvenCounts())),j=!1,C=!1,I=!1,F=!1;d?(g>12?C=!0:g<4&&(j=!0),b>12?F=!0:b<4&&(I=!0)):(g>11?C=!0:g<5&&(j=!0),b>10?F=!0:b<4&&(I=!0));let V=g+b-m,te=(g&1)===(d?1:0),ce=(b&1)===1;if(V===1)if(te){if(ce)throw new J;C=!0}else{if(!ce)throw new J;F=!0}else if(V===-1)if(te){if(ce)throw new J;j=!0}else{if(!ce)throw new J;I=!0}else if(V===0){if(te){if(!ce)throw new J;g<b?(j=!0,F=!0):(C=!0,I=!0)}else if(ce)throw new J}else throw new J;if(j){if(C)throw new J;Hs.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(C&&Hs.decrement(this.getOddCounts(),this.getOddRoundingErrors()),I){if(F)throw new J;Hs.increment(this.getEvenCounts(),this.getOddRoundingErrors())}F&&Hs.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vs.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vs.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vs.OUTSIDE_GSUM=[0,161,961,2015,2715],vs.INSIDE_GSUM=[0,336,1036,1516],vs.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vs.INSIDE_ODD_WIDEST=[2,4,6,8],vs.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pc extends qr{constructor(d,m){super(),this.readers=[],this.verbose=m===!0;const g=d?d.get(L.POSSIBLE_FORMATS):null,b=d&&d.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(Ce.EAN_13)||g.includes(Ce.UPC_A)||g.includes(Ce.EAN_8)||g.includes(Ce.UPC_E))&&this.readers.push(new Xi(d)),g.includes(Ce.CODE_39)&&this.readers.push(new Ar(b)),g.includes(Ce.CODE_128)&&this.readers.push(new pt),g.includes(Ce.ITF)&&this.readers.push(new Rr),g.includes(Ce.RSS_14)&&this.readers.push(new vs),g.includes(Ce.RSS_EXPANDED)&&this.readers.push(new Dt(this.verbose))):(this.readers.push(new Xi(d)),this.readers.push(new Ar),this.readers.push(new Xi(d)),this.readers.push(new pt),this.readers.push(new Rr),this.readers.push(new vs),this.readers.push(new Dt(this.verbose)))}decodeRow(d,m,g){for(let b=0;b<this.readers.length;b++)try{return this.readers[b].decodeRow(d,m,g)}catch{}throw new J}reset(){this.readers.forEach(d=>d.reset())}}class oh extends se{constructor(d=500,m){super(new Pc(m),d,m)}}class $n{constructor(d,m,g){this.ecCodewords=d,this.ecBlocks=[m],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wn{constructor(d,m){this.count=d,this.dataCodewords=m}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Dn{constructor(d,m,g,b,j,C){this.versionNumber=d,this.symbolSizeRows=m,this.symbolSizeColumns=g,this.dataRegionSizeRows=b,this.dataRegionSizeColumns=j,this.ecBlocks=C;let I=0;const F=C.getECCodewords(),V=C.getECBlocks();for(let te of V)I+=te.getCount()*(te.getDataCodewords()+F);this.totalCodewords=I}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(d,m){if((d&1)!==0||(m&1)!==0)throw new B;for(let g of Dn.VERSIONS)if(g.symbolSizeRows===d&&g.symbolSizeColumns===m)return g;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Dn(1,10,10,8,8,new $n(5,new wn(1,3))),new Dn(2,12,12,10,10,new $n(7,new wn(1,5))),new Dn(3,14,14,12,12,new $n(10,new wn(1,8))),new Dn(4,16,16,14,14,new $n(12,new wn(1,12))),new Dn(5,18,18,16,16,new $n(14,new wn(1,18))),new Dn(6,20,20,18,18,new $n(18,new wn(1,22))),new Dn(7,22,22,20,20,new $n(20,new wn(1,30))),new Dn(8,24,24,22,22,new $n(24,new wn(1,36))),new Dn(9,26,26,24,24,new $n(28,new wn(1,44))),new Dn(10,32,32,14,14,new $n(36,new wn(1,62))),new Dn(11,36,36,16,16,new $n(42,new wn(1,86))),new Dn(12,40,40,18,18,new $n(48,new wn(1,114))),new Dn(13,44,44,20,20,new $n(56,new wn(1,144))),new Dn(14,48,48,22,22,new $n(68,new wn(1,174))),new Dn(15,52,52,24,24,new $n(42,new wn(2,102))),new Dn(16,64,64,14,14,new $n(56,new wn(2,140))),new Dn(17,72,72,16,16,new $n(36,new wn(4,92))),new Dn(18,80,80,18,18,new $n(48,new wn(4,114))),new Dn(19,88,88,20,20,new $n(56,new wn(4,144))),new Dn(20,96,96,22,22,new $n(68,new wn(4,174))),new Dn(21,104,104,24,24,new $n(56,new wn(6,136))),new Dn(22,120,120,18,18,new $n(68,new wn(6,175))),new Dn(23,132,132,20,20,new $n(62,new wn(8,163))),new Dn(24,144,144,22,22,new $n(62,new wn(8,156),new wn(2,155))),new Dn(25,8,18,6,16,new $n(7,new wn(1,5))),new Dn(26,8,32,6,14,new $n(11,new wn(1,10))),new Dn(27,12,26,10,24,new $n(14,new wn(1,16))),new Dn(28,12,36,10,16,new $n(18,new wn(1,22))),new Dn(29,16,36,14,16,new $n(24,new wn(1,32))),new Dn(30,16,48,14,22,new $n(28,new wn(1,49)))]}}Dn.VERSIONS=Dn.buildVersions();class ha{constructor(d){const m=d.getHeight();if(m<8||m>144||(m&1)!==0)throw new B;this.version=ha.readVersion(d),this.mappingBitMatrix=this.extractDataRegion(d),this.readMappingMatrix=new Z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(d){const m=d.getHeight(),g=d.getWidth();return Dn.getVersionForDimensions(m,g)}readCodewords(){const d=new Int8Array(this.version.getTotalCodewords());let m=0,g=4,b=0;const j=this.mappingBitMatrix.getHeight(),C=this.mappingBitMatrix.getWidth();let I=!1,F=!1,V=!1,te=!1;do if(g===j&&b===0&&!I)d[m++]=this.readCorner1(j,C)&255,g-=2,b+=2,I=!0;else if(g===j-2&&b===0&&(C&3)!==0&&!F)d[m++]=this.readCorner2(j,C)&255,g-=2,b+=2,F=!0;else if(g===j+4&&b===2&&(C&7)===0&&!V)d[m++]=this.readCorner3(j,C)&255,g-=2,b+=2,V=!0;else if(g===j-2&&b===0&&(C&7)===4&&!te)d[m++]=this.readCorner4(j,C)&255,g-=2,b+=2,te=!0;else{do g<j&&b>=0&&!this.readMappingMatrix.get(b,g)&&(d[m++]=this.readUtah(g,b,j,C)&255),g-=2,b+=2;while(g>=0&&b<C);g+=1,b+=3;do g>=0&&b<C&&!this.readMappingMatrix.get(b,g)&&(d[m++]=this.readUtah(g,b,j,C)&255),g+=2,b-=2;while(g<j&&b>=0);g+=3,b+=1}while(g<j||b<C);if(m!==this.version.getTotalCodewords())throw new B;return d}readModule(d,m,g,b){return d<0&&(d+=g,m+=4-(g+4&7)),m<0&&(m+=b,d+=4-(b+4&7)),this.readMappingMatrix.set(m,d),this.mappingBitMatrix.get(m,d)}readUtah(d,m,g,b){let j=0;return this.readModule(d-2,m-2,g,b)&&(j|=1),j<<=1,this.readModule(d-2,m-1,g,b)&&(j|=1),j<<=1,this.readModule(d-1,m-2,g,b)&&(j|=1),j<<=1,this.readModule(d-1,m-1,g,b)&&(j|=1),j<<=1,this.readModule(d-1,m,g,b)&&(j|=1),j<<=1,this.readModule(d,m-2,g,b)&&(j|=1),j<<=1,this.readModule(d,m-1,g,b)&&(j|=1),j<<=1,this.readModule(d,m,g,b)&&(j|=1),j}readCorner1(d,m){let g=0;return this.readModule(d-1,0,d,m)&&(g|=1),g<<=1,this.readModule(d-1,1,d,m)&&(g|=1),g<<=1,this.readModule(d-1,2,d,m)&&(g|=1),g<<=1,this.readModule(0,m-2,d,m)&&(g|=1),g<<=1,this.readModule(0,m-1,d,m)&&(g|=1),g<<=1,this.readModule(1,m-1,d,m)&&(g|=1),g<<=1,this.readModule(2,m-1,d,m)&&(g|=1),g<<=1,this.readModule(3,m-1,d,m)&&(g|=1),g}readCorner2(d,m){let g=0;return this.readModule(d-3,0,d,m)&&(g|=1),g<<=1,this.readModule(d-2,0,d,m)&&(g|=1),g<<=1,this.readModule(d-1,0,d,m)&&(g|=1),g<<=1,this.readModule(0,m-4,d,m)&&(g|=1),g<<=1,this.readModule(0,m-3,d,m)&&(g|=1),g<<=1,this.readModule(0,m-2,d,m)&&(g|=1),g<<=1,this.readModule(0,m-1,d,m)&&(g|=1),g<<=1,this.readModule(1,m-1,d,m)&&(g|=1),g}readCorner3(d,m){let g=0;return this.readModule(d-1,0,d,m)&&(g|=1),g<<=1,this.readModule(d-1,m-1,d,m)&&(g|=1),g<<=1,this.readModule(0,m-3,d,m)&&(g|=1),g<<=1,this.readModule(0,m-2,d,m)&&(g|=1),g<<=1,this.readModule(0,m-1,d,m)&&(g|=1),g<<=1,this.readModule(1,m-3,d,m)&&(g|=1),g<<=1,this.readModule(1,m-2,d,m)&&(g|=1),g<<=1,this.readModule(1,m-1,d,m)&&(g|=1),g}readCorner4(d,m){let g=0;return this.readModule(d-3,0,d,m)&&(g|=1),g<<=1,this.readModule(d-2,0,d,m)&&(g|=1),g<<=1,this.readModule(d-1,0,d,m)&&(g|=1),g<<=1,this.readModule(0,m-2,d,m)&&(g|=1),g<<=1,this.readModule(0,m-1,d,m)&&(g|=1),g<<=1,this.readModule(1,m-1,d,m)&&(g|=1),g<<=1,this.readModule(2,m-1,d,m)&&(g|=1),g<<=1,this.readModule(3,m-1,d,m)&&(g|=1),g}extractDataRegion(d){const m=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(d.getHeight()!==m)throw new f("Dimension of bitMatrix must match the version size");const b=this.version.getDataRegionSizeRows(),j=this.version.getDataRegionSizeColumns(),C=m/b|0,I=g/j|0,F=C*b,V=I*j,te=new Z(V,F);for(let ce=0;ce<C;++ce){const be=ce*b;for(let Me=0;Me<I;++Me){const He=Me*j;for(let Ke=0;Ke<b;++Ke){const tt=ce*(b+2)+1+Ke,ut=be+Ke;for(let St=0;St<j;++St){const Pt=Me*(j+2)+1+St;if(d.get(Pt,tt)){const At=He+St;te.set(At,ut)}}}}}return te}}class af{constructor(d,m){this.numDataCodewords=d,this.codewords=m}static getDataBlocks(d,m){const g=m.getECBlocks();let b=0;const j=g.getECBlocks();for(let Ke of j)b+=Ke.getCount();const C=new Array(b);let I=0;for(let Ke of j)for(let tt=0;tt<Ke.getCount();tt++){const ut=Ke.getDataCodewords(),St=g.getECCodewords()+ut;C[I++]=new af(ut,new Uint8Array(St))}const V=C[0].codewords.length-g.getECCodewords(),te=V-1;let ce=0;for(let Ke=0;Ke<te;Ke++)for(let tt=0;tt<I;tt++)C[tt].codewords[Ke]=d[ce++];const be=m.getVersionNumber()===24,Me=be?8:I;for(let Ke=0;Ke<Me;Ke++)C[Ke].codewords[V-1]=d[ce++];const He=C[0].codewords.length;for(let Ke=V;Ke<He;Ke++)for(let tt=0;tt<I;tt++){const ut=be?(tt+8)%I:tt,St=be&&ut>7?Ke-1:Ke;C[ut].codewords[St]=d[ce++]}if(ce!==d.length)throw new f;return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class yi{constructor(d){this.bytes=d,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(d){if(d<1||d>32||d>this.available())throw new f(""+d);let m=0,g=this.bitOffset,b=this.byteOffset;const j=this.bytes;if(g>0){const C=8-g,I=d<C?d:C,F=C-I,V=255>>8-I<<F;m=(j[b]&V)>>F,d-=I,g+=I,g===8&&(g=0,b++)}if(d>0){for(;d>=8;)m=m<<8|j[b]&255,b++,d-=8;if(d>0){const C=8-d,I=255>>C<<C;m=m<<d|(j[b]&I)>>C,g+=d}}return this.bitOffset=g,this.byteOffset=b,m}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var vi;(function(le){le[le.PAD_ENCODE=0]="PAD_ENCODE",le[le.ASCII_ENCODE=1]="ASCII_ENCODE",le[le.C40_ENCODE=2]="C40_ENCODE",le[le.TEXT_ENCODE=3]="TEXT_ENCODE",le[le.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",le[le.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",le[le.BASE256_ENCODE=6]="BASE256_ENCODE"})(vi||(vi={}));class wo{static decode(d){const m=new yi(d),g=new Q,b=new Q,j=new Array;let C=vi.ASCII_ENCODE;do if(C===vi.ASCII_ENCODE)C=this.decodeAsciiSegment(m,g,b);else{switch(C){case vi.C40_ENCODE:this.decodeC40Segment(m,g);break;case vi.TEXT_ENCODE:this.decodeTextSegment(m,g);break;case vi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(m,g);break;case vi.EDIFACT_ENCODE:this.decodeEdifactSegment(m,g);break;case vi.BASE256_ENCODE:this.decodeBase256Segment(m,g,j);break;default:throw new B}C=vi.ASCII_ENCODE}while(C!==vi.PAD_ENCODE&&m.available()>0);return b.length()>0&&g.append(b.toString()),new pe(d,g.toString(),j.length===0?null:j,null)}static decodeAsciiSegment(d,m,g){let b=!1;do{let j=d.readBits(8);if(j===0)throw new B;if(j<=128)return b&&(j+=128),m.append(String.fromCharCode(j-1)),vi.ASCII_ENCODE;if(j===129)return vi.PAD_ENCODE;if(j<=229){const C=j-130;C<10&&m.append("0"),m.append(""+C)}else switch(j){case 230:return vi.C40_ENCODE;case 231:return vi.BASE256_ENCODE;case 232:m.append("");break;case 233:case 234:break;case 235:b=!0;break;case 236:m.append("[)>05"),g.insert(0,"");break;case 237:m.append("[)>06"),g.insert(0,"");break;case 238:return vi.ANSIX12_ENCODE;case 239:return vi.TEXT_ENCODE;case 240:return vi.EDIFACT_ENCODE;case 241:break;default:if(j!==254||d.available()!==0)throw new B;break}}while(d.available()>0);return vi.ASCII_ENCODE}static decodeC40Segment(d,m){let g=!1;const b=[];let j=0;do{if(d.available()===8)return;const C=d.readBits(8);if(C===254)return;this.parseTwoBytes(C,d.readBits(8),b);for(let I=0;I<3;I++){const F=b[I];switch(j){case 0:if(F<3)j=F+1;else if(F<this.C40_BASIC_SET_CHARS.length){const V=this.C40_BASIC_SET_CHARS[F];g?(m.append(String.fromCharCode(V.charCodeAt(0)+128)),g=!1):m.append(V)}else throw new B;break;case 1:g?(m.append(String.fromCharCode(F+128)),g=!1):m.append(String.fromCharCode(F)),j=0;break;case 2:if(F<this.C40_SHIFT2_SET_CHARS.length){const V=this.C40_SHIFT2_SET_CHARS[F];g?(m.append(String.fromCharCode(V.charCodeAt(0)+128)),g=!1):m.append(V)}else switch(F){case 27:m.append("");break;case 30:g=!0;break;default:throw new B}j=0;break;case 3:g?(m.append(String.fromCharCode(F+224)),g=!1):m.append(String.fromCharCode(F+96)),j=0;break;default:throw new B}}}while(d.available()>0)}static decodeTextSegment(d,m){let g=!1,b=[],j=0;do{if(d.available()===8)return;const C=d.readBits(8);if(C===254)return;this.parseTwoBytes(C,d.readBits(8),b);for(let I=0;I<3;I++){const F=b[I];switch(j){case 0:if(F<3)j=F+1;else if(F<this.TEXT_BASIC_SET_CHARS.length){const V=this.TEXT_BASIC_SET_CHARS[F];g?(m.append(String.fromCharCode(V.charCodeAt(0)+128)),g=!1):m.append(V)}else throw new B;break;case 1:g?(m.append(String.fromCharCode(F+128)),g=!1):m.append(String.fromCharCode(F)),j=0;break;case 2:if(F<this.TEXT_SHIFT2_SET_CHARS.length){const V=this.TEXT_SHIFT2_SET_CHARS[F];g?(m.append(String.fromCharCode(V.charCodeAt(0)+128)),g=!1):m.append(V)}else switch(F){case 27:m.append("");break;case 30:g=!0;break;default:throw new B}j=0;break;case 3:if(F<this.TEXT_SHIFT3_SET_CHARS.length){const V=this.TEXT_SHIFT3_SET_CHARS[F];g?(m.append(String.fromCharCode(V.charCodeAt(0)+128)),g=!1):m.append(V),j=0}else throw new B;break;default:throw new B}}}while(d.available()>0)}static decodeAnsiX12Segment(d,m){const g=[];do{if(d.available()===8)return;const b=d.readBits(8);if(b===254)return;this.parseTwoBytes(b,d.readBits(8),g);for(let j=0;j<3;j++){const C=g[j];switch(C){case 0:m.append("\r");break;case 1:m.append("*");break;case 2:m.append(">");break;case 3:m.append(" ");break;default:if(C<14)m.append(String.fromCharCode(C+44));else if(C<40)m.append(String.fromCharCode(C+51));else throw new B;break}}}while(d.available()>0)}static parseTwoBytes(d,m,g){let b=(d<<8)+m-1,j=Math.floor(b/1600);g[0]=j,b-=j*1600,j=Math.floor(b/40),g[1]=j,g[2]=b-j*40}static decodeEdifactSegment(d,m){do{if(d.available()<=16)return;for(let g=0;g<4;g++){let b=d.readBits(6);if(b===31){const j=8-d.getBitOffset();j!==8&&d.readBits(j);return}(b&32)===0&&(b|=64),m.append(String.fromCharCode(b))}}while(d.available()>0)}static decodeBase256Segment(d,m,g){let b=1+d.getByteOffset();const j=this.unrandomize255State(d.readBits(8),b++);let C;if(j===0?C=d.available()/8|0:j<250?C=j:C=250*(j-249)+this.unrandomize255State(d.readBits(8),b++),C<0)throw new B;const I=new Uint8Array(C);for(let F=0;F<C;F++){if(d.available()<8)throw new B;I[F]=this.unrandomize255State(d.readBits(8),b++)}g.push(I);try{m.append(q.decode(I,H.ISO88591))}catch(F){throw new Ee("Platform does not support required encoding: "+F.message)}}static unrandomize255State(d,m){const g=149*m%255+1,b=d-g;return b>=0?b:b+256}}wo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wo.TEXT_SHIFT2_SET_CHARS=wo.C40_SHIFT2_SET_CHARS,wo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class dl{constructor(){this.rsDecoder=new sr($e.DATA_MATRIX_FIELD_256)}decode(d){const m=new ha(d),g=m.getVersion(),b=m.readCodewords(),j=af.getDataBlocks(b,g);let C=0;for(let V of j)C+=V.getNumDataCodewords();const I=new Uint8Array(C),F=j.length;for(let V=0;V<F;V++){const te=j[V],ce=te.getCodewords(),be=te.getNumDataCodewords();this.correctErrors(ce,be);for(let Me=0;Me<be;Me++)I[Me*F+V]=ce[Me]}return wo.decode(I)}correctErrors(d,m){const g=new Int32Array(d);try{this.rsDecoder.decode(g,d.length-m)}catch{throw new v}for(let b=0;b<m;b++)d[b]=g[b]}}class ls{constructor(d){this.image=d,this.rectangleDetector=new ot(this.image)}detect(){const d=this.rectangleDetector.detect();let m=this.detectSolid1(d);if(m=this.detectSolid2(m),m[3]=this.correctTopRight(m),!m[3])throw new J;m=this.shiftToModuleCenter(m);const g=m[0],b=m[1],j=m[2],C=m[3];let I=this.transitionsBetween(g,C)+1,F=this.transitionsBetween(j,C)+1;(I&1)===1&&(I+=1),(F&1)===1&&(F+=1),4*I<7*F&&4*F<7*I&&(I=F=Math.max(I,F));let V=ls.sampleGrid(this.image,g,b,j,C,I,F);return new Fe(V,[g,b,j,C])}static shiftPoint(d,m,g){let b=(m.getX()-d.getX())/(g+1),j=(m.getY()-d.getY())/(g+1);return new ht(d.getX()+b,d.getY()+j)}static moveAway(d,m,g){let b=d.getX(),j=d.getY();return b<m?b-=1:b+=1,j<g?j-=1:j+=1,new ht(b,j)}detectSolid1(d){let m=d[0],g=d[1],b=d[3],j=d[2],C=this.transitionsBetween(m,g),I=this.transitionsBetween(g,b),F=this.transitionsBetween(b,j),V=this.transitionsBetween(j,m),te=C,ce=[j,m,g,b];return te>I&&(te=I,ce[0]=m,ce[1]=g,ce[2]=b,ce[3]=j),te>F&&(te=F,ce[0]=g,ce[1]=b,ce[2]=j,ce[3]=m),te>V&&(ce[0]=b,ce[1]=j,ce[2]=m,ce[3]=g),ce}detectSolid2(d){let m=d[0],g=d[1],b=d[2],j=d[3],C=this.transitionsBetween(m,j),I=ls.shiftPoint(g,b,(C+1)*4),F=ls.shiftPoint(b,g,(C+1)*4),V=this.transitionsBetween(I,m),te=this.transitionsBetween(F,j);return V<te?(d[0]=m,d[1]=g,d[2]=b,d[3]=j):(d[0]=g,d[1]=b,d[2]=j,d[3]=m),d}correctTopRight(d){let m=d[0],g=d[1],b=d[2],j=d[3],C=this.transitionsBetween(m,j),I=this.transitionsBetween(g,j),F=ls.shiftPoint(m,g,(I+1)*4),V=ls.shiftPoint(b,g,(C+1)*4);C=this.transitionsBetween(F,j),I=this.transitionsBetween(V,j);let te=new ht(j.getX()+(b.getX()-g.getX())/(C+1),j.getY()+(b.getY()-g.getY())/(C+1)),ce=new ht(j.getX()+(m.getX()-g.getX())/(I+1),j.getY()+(m.getY()-g.getY())/(I+1));if(!this.isValid(te))return this.isValid(ce)?ce:null;if(!this.isValid(ce))return te;let be=this.transitionsBetween(F,te)+this.transitionsBetween(V,te),Me=this.transitionsBetween(F,ce)+this.transitionsBetween(V,ce);return be>Me?te:ce}shiftToModuleCenter(d){let m=d[0],g=d[1],b=d[2],j=d[3],C=this.transitionsBetween(m,j)+1,I=this.transitionsBetween(b,j)+1,F=ls.shiftPoint(m,g,I*4),V=ls.shiftPoint(b,g,C*4);C=this.transitionsBetween(F,j)+1,I=this.transitionsBetween(V,j)+1,(C&1)===1&&(C+=1),(I&1)===1&&(I+=1);let te=(m.getX()+g.getX()+b.getX()+j.getX())/4,ce=(m.getY()+g.getY()+b.getY()+j.getY())/4;m=ls.moveAway(m,te,ce),g=ls.moveAway(g,te,ce),b=ls.moveAway(b,te,ce),j=ls.moveAway(j,te,ce);let be,Me;return F=ls.shiftPoint(m,g,I*4),F=ls.shiftPoint(F,j,C*4),be=ls.shiftPoint(g,m,I*4),be=ls.shiftPoint(be,b,C*4),V=ls.shiftPoint(b,j,I*4),V=ls.shiftPoint(V,g,C*4),Me=ls.shiftPoint(j,b,I*4),Me=ls.shiftPoint(Me,m,C*4),[F,be,V,Me]}isValid(d){return d.getX()>=0&&d.getX()<this.image.getWidth()&&d.getY()>0&&d.getY()<this.image.getHeight()}static sampleGrid(d,m,g,b,j,C,I){return It.getInstance().sampleGrid(d,C,I,.5,.5,C-.5,.5,C-.5,I-.5,.5,I-.5,m.getX(),m.getY(),j.getX(),j.getY(),b.getX(),b.getY(),g.getX(),g.getY())}transitionsBetween(d,m){let g=Math.trunc(d.getX()),b=Math.trunc(d.getY()),j=Math.trunc(m.getX()),C=Math.trunc(m.getY()),I=Math.abs(C-b)>Math.abs(j-g);if(I){let Ke=g;g=b,b=Ke,Ke=j,j=C,C=Ke}let F=Math.abs(j-g),V=Math.abs(C-b),te=-F/2,ce=b<C?1:-1,be=g<j?1:-1,Me=0,He=this.image.get(I?b:g,I?g:b);for(let Ke=g,tt=b;Ke!==j;Ke+=be){let ut=this.image.get(I?tt:Ke,I?Ke:tt);if(ut!==He&&(Me++,He=ut),te+=V,te>0){if(tt===C)break;tt+=ce,te-=F}}return Me}}class Oi{constructor(){this.decoder=new dl}decode(d,m=null){let g,b;if(m!=null&&m.has(L.PURE_BARCODE)){const V=Oi.extractPureBits(d.getBlackMatrix());g=this.decoder.decode(V),b=Oi.NO_POINTS}else{const V=new ls(d.getBlackMatrix()).detect();g=this.decoder.decode(V.getBits()),b=V.getPoints()}const j=g.getRawBytes(),C=new ue(g.getText(),j,8*j.length,b,Ce.DATA_MATRIX,w.currentTimeMillis()),I=g.getByteSegments();I!=null&&C.putMetadata(de.BYTE_SEGMENTS,I);const F=g.getECLevel();return F!=null&&C.putMetadata(de.ERROR_CORRECTION_LEVEL,F),C}reset(){}static extractPureBits(d){const m=d.getTopLeftOnBit(),g=d.getBottomRightOnBit();if(m==null||g==null)throw new J;const b=this.moduleSize(m,d);let j=m[1];const C=g[1];let I=m[0];const V=(g[0]-I+1)/b,te=(C-j+1)/b;if(V<=0||te<=0)throw new J;const ce=b/2;j+=ce,I+=ce;const be=new Z(V,te);for(let Me=0;Me<te;Me++){const He=j+Me*b;for(let Ke=0;Ke<V;Ke++)d.get(I+Ke*b,He)&&be.set(Ke,Me)}return be}static moduleSize(d,m){const g=m.getWidth();let b=d[0];const j=d[1];for(;b<g&&m.get(b,j);)b++;if(b===g)throw new J;const C=b-d[0];if(C===0)throw new J;return C}}Oi.NO_POINTS=[];class td extends se{constructor(d=500){super(new Oi,d)}}var Ls;(function(le){le[le.L=0]="L",le[le.M=1]="M",le[le.Q=2]="Q",le[le.H=3]="H"})(Ls||(Ls={}));class ss{constructor(d,m,g){this.value=d,this.stringValue=m,this.bits=g,ss.FOR_BITS.set(g,this),ss.FOR_VALUE.set(d,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(d){switch(d){case"L":return ss.L;case"M":return ss.M;case"Q":return ss.Q;case"H":return ss.H;default:throw new h(d+"not available")}}toString(){return this.stringValue}equals(d){if(!(d instanceof ss))return!1;const m=d;return this.value===m.value}static forBits(d){if(d<0||d>=ss.FOR_BITS.size)throw new f;return ss.FOR_BITS.get(d)}}ss.FOR_BITS=new Map,ss.FOR_VALUE=new Map,ss.L=new ss(Ls.L,"L",1),ss.M=new ss(Ls.M,"M",0),ss.Q=new ss(Ls.Q,"Q",3),ss.H=new ss(Ls.H,"H",2);class Zi{constructor(d){this.errorCorrectionLevel=ss.forBits(d>>3&3),this.dataMask=d&7}static numBitsDiffering(d,m){return T.bitCount(d^m)}static decodeFormatInformation(d,m){const g=Zi.doDecodeFormatInformation(d,m);return g!==null?g:Zi.doDecodeFormatInformation(d^Zi.FORMAT_INFO_MASK_QR,m^Zi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(d,m){let g=Number.MAX_SAFE_INTEGER,b=0;for(const j of Zi.FORMAT_INFO_DECODE_LOOKUP){const C=j[0];if(C===d||C===m)return new Zi(j[1]);let I=Zi.numBitsDiffering(d,C);I<g&&(b=j[1],g=I),d!==m&&(I=Zi.numBitsDiffering(m,C),I<g&&(b=j[1],g=I))}return g<=3?new Zi(b):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(d){if(!(d instanceof Zi))return!1;const m=d;return this.errorCorrectionLevel===m.errorCorrectionLevel&&this.dataMask===m.dataMask}}Zi.FORMAT_INFO_MASK_QR=21522,Zi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class it{constructor(d,...m){this.ecCodewordsPerBlock=d,this.ecBlocks=m}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let d=0;const m=this.ecBlocks;for(const g of m)d+=g.getCount();return d}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ke{constructor(d,m){this.count=d,this.dataCodewords=m}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vr{constructor(d,m,...g){this.versionNumber=d,this.alignmentPatternCenters=m,this.ecBlocks=g;let b=0;const j=g[0].getECCodewordsPerBlock(),C=g[0].getECBlocks();for(const I of C)b+=I.getCount()*(I.getDataCodewords()+j);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(d){return this.ecBlocks[d.getValue()]}static getProvisionalVersionForDimension(d){if(d%4!==1)throw new B;try{return this.getVersionForNumber((d-17)/4)}catch{throw new B}}static getVersionForNumber(d){if(d<1||d>40)throw new f;return vr.VERSIONS[d-1]}static decodeVersionInformation(d){let m=Number.MAX_SAFE_INTEGER,g=0;for(let b=0;b<vr.VERSION_DECODE_INFO.length;b++){const j=vr.VERSION_DECODE_INFO[b];if(j===d)return vr.getVersionForNumber(b+7);const C=Zi.numBitsDiffering(d,j);C<m&&(g=b+7,m=C)}return m<=3?vr.getVersionForNumber(g):null}buildFunctionPattern(){const d=this.getDimensionForVersion(),m=new Z(d);m.setRegion(0,0,9,9),m.setRegion(d-8,0,8,9),m.setRegion(0,d-8,9,8);const g=this.alignmentPatternCenters.length;for(let b=0;b<g;b++){const j=this.alignmentPatternCenters[b]-2;for(let C=0;C<g;C++)b===0&&(C===0||C===g-1)||b===g-1&&C===0||m.setRegion(this.alignmentPatternCenters[C]-2,j,5,5)}return m.setRegion(6,9,1,d-17),m.setRegion(9,6,d-17,1),this.versionNumber>6&&(m.setRegion(d-11,0,3,6),m.setRegion(0,d-11,6,3)),m}toString(){return""+this.versionNumber}}vr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vr.VERSIONS=[new vr(1,new Int32Array(0),new it(7,new ke(1,19)),new it(10,new ke(1,16)),new it(13,new ke(1,13)),new it(17,new ke(1,9))),new vr(2,Int32Array.from([6,18]),new it(10,new ke(1,34)),new it(16,new ke(1,28)),new it(22,new ke(1,22)),new it(28,new ke(1,16))),new vr(3,Int32Array.from([6,22]),new it(15,new ke(1,55)),new it(26,new ke(1,44)),new it(18,new ke(2,17)),new it(22,new ke(2,13))),new vr(4,Int32Array.from([6,26]),new it(20,new ke(1,80)),new it(18,new ke(2,32)),new it(26,new ke(2,24)),new it(16,new ke(4,9))),new vr(5,Int32Array.from([6,30]),new it(26,new ke(1,108)),new it(24,new ke(2,43)),new it(18,new ke(2,15),new ke(2,16)),new it(22,new ke(2,11),new ke(2,12))),new vr(6,Int32Array.from([6,34]),new it(18,new ke(2,68)),new it(16,new ke(4,27)),new it(24,new ke(4,19)),new it(28,new ke(4,15))),new vr(7,Int32Array.from([6,22,38]),new it(20,new ke(2,78)),new it(18,new ke(4,31)),new it(18,new ke(2,14),new ke(4,15)),new it(26,new ke(4,13),new ke(1,14))),new vr(8,Int32Array.from([6,24,42]),new it(24,new ke(2,97)),new it(22,new ke(2,38),new ke(2,39)),new it(22,new ke(4,18),new ke(2,19)),new it(26,new ke(4,14),new ke(2,15))),new vr(9,Int32Array.from([6,26,46]),new it(30,new ke(2,116)),new it(22,new ke(3,36),new ke(2,37)),new it(20,new ke(4,16),new ke(4,17)),new it(24,new ke(4,12),new ke(4,13))),new vr(10,Int32Array.from([6,28,50]),new it(18,new ke(2,68),new ke(2,69)),new it(26,new ke(4,43),new ke(1,44)),new it(24,new ke(6,19),new ke(2,20)),new it(28,new ke(6,15),new ke(2,16))),new vr(11,Int32Array.from([6,30,54]),new it(20,new ke(4,81)),new it(30,new ke(1,50),new ke(4,51)),new it(28,new ke(4,22),new ke(4,23)),new it(24,new ke(3,12),new ke(8,13))),new vr(12,Int32Array.from([6,32,58]),new it(24,new ke(2,92),new ke(2,93)),new it(22,new ke(6,36),new ke(2,37)),new it(26,new ke(4,20),new ke(6,21)),new it(28,new ke(7,14),new ke(4,15))),new vr(13,Int32Array.from([6,34,62]),new it(26,new ke(4,107)),new it(22,new ke(8,37),new ke(1,38)),new it(24,new ke(8,20),new ke(4,21)),new it(22,new ke(12,11),new ke(4,12))),new vr(14,Int32Array.from([6,26,46,66]),new it(30,new ke(3,115),new ke(1,116)),new it(24,new ke(4,40),new ke(5,41)),new it(20,new ke(11,16),new ke(5,17)),new it(24,new ke(11,12),new ke(5,13))),new vr(15,Int32Array.from([6,26,48,70]),new it(22,new ke(5,87),new ke(1,88)),new it(24,new ke(5,41),new ke(5,42)),new it(30,new ke(5,24),new ke(7,25)),new it(24,new ke(11,12),new ke(7,13))),new vr(16,Int32Array.from([6,26,50,74]),new it(24,new ke(5,98),new ke(1,99)),new it(28,new ke(7,45),new ke(3,46)),new it(24,new ke(15,19),new ke(2,20)),new it(30,new ke(3,15),new ke(13,16))),new vr(17,Int32Array.from([6,30,54,78]),new it(28,new ke(1,107),new ke(5,108)),new it(28,new ke(10,46),new ke(1,47)),new it(28,new ke(1,22),new ke(15,23)),new it(28,new ke(2,14),new ke(17,15))),new vr(18,Int32Array.from([6,30,56,82]),new it(30,new ke(5,120),new ke(1,121)),new it(26,new ke(9,43),new ke(4,44)),new it(28,new ke(17,22),new ke(1,23)),new it(28,new ke(2,14),new ke(19,15))),new vr(19,Int32Array.from([6,30,58,86]),new it(28,new ke(3,113),new ke(4,114)),new it(26,new ke(3,44),new ke(11,45)),new it(26,new ke(17,21),new ke(4,22)),new it(26,new ke(9,13),new ke(16,14))),new vr(20,Int32Array.from([6,34,62,90]),new it(28,new ke(3,107),new ke(5,108)),new it(26,new ke(3,41),new ke(13,42)),new it(30,new ke(15,24),new ke(5,25)),new it(28,new ke(15,15),new ke(10,16))),new vr(21,Int32Array.from([6,28,50,72,94]),new it(28,new ke(4,116),new ke(4,117)),new it(26,new ke(17,42)),new it(28,new ke(17,22),new ke(6,23)),new it(30,new ke(19,16),new ke(6,17))),new vr(22,Int32Array.from([6,26,50,74,98]),new it(28,new ke(2,111),new ke(7,112)),new it(28,new ke(17,46)),new it(30,new ke(7,24),new ke(16,25)),new it(24,new ke(34,13))),new vr(23,Int32Array.from([6,30,54,78,102]),new it(30,new ke(4,121),new ke(5,122)),new it(28,new ke(4,47),new ke(14,48)),new it(30,new ke(11,24),new ke(14,25)),new it(30,new ke(16,15),new ke(14,16))),new vr(24,Int32Array.from([6,28,54,80,106]),new it(30,new ke(6,117),new ke(4,118)),new it(28,new ke(6,45),new ke(14,46)),new it(30,new ke(11,24),new ke(16,25)),new it(30,new ke(30,16),new ke(2,17))),new vr(25,Int32Array.from([6,32,58,84,110]),new it(26,new ke(8,106),new ke(4,107)),new it(28,new ke(8,47),new ke(13,48)),new it(30,new ke(7,24),new ke(22,25)),new it(30,new ke(22,15),new ke(13,16))),new vr(26,Int32Array.from([6,30,58,86,114]),new it(28,new ke(10,114),new ke(2,115)),new it(28,new ke(19,46),new ke(4,47)),new it(28,new ke(28,22),new ke(6,23)),new it(30,new ke(33,16),new ke(4,17))),new vr(27,Int32Array.from([6,34,62,90,118]),new it(30,new ke(8,122),new ke(4,123)),new it(28,new ke(22,45),new ke(3,46)),new it(30,new ke(8,23),new ke(26,24)),new it(30,new ke(12,15),new ke(28,16))),new vr(28,Int32Array.from([6,26,50,74,98,122]),new it(30,new ke(3,117),new ke(10,118)),new it(28,new ke(3,45),new ke(23,46)),new it(30,new ke(4,24),new ke(31,25)),new it(30,new ke(11,15),new ke(31,16))),new vr(29,Int32Array.from([6,30,54,78,102,126]),new it(30,new ke(7,116),new ke(7,117)),new it(28,new ke(21,45),new ke(7,46)),new it(30,new ke(1,23),new ke(37,24)),new it(30,new ke(19,15),new ke(26,16))),new vr(30,Int32Array.from([6,26,52,78,104,130]),new it(30,new ke(5,115),new ke(10,116)),new it(28,new ke(19,47),new ke(10,48)),new it(30,new ke(15,24),new ke(25,25)),new it(30,new ke(23,15),new ke(25,16))),new vr(31,Int32Array.from([6,30,56,82,108,134]),new it(30,new ke(13,115),new ke(3,116)),new it(28,new ke(2,46),new ke(29,47)),new it(30,new ke(42,24),new ke(1,25)),new it(30,new ke(23,15),new ke(28,16))),new vr(32,Int32Array.from([6,34,60,86,112,138]),new it(30,new ke(17,115)),new it(28,new ke(10,46),new ke(23,47)),new it(30,new ke(10,24),new ke(35,25)),new it(30,new ke(19,15),new ke(35,16))),new vr(33,Int32Array.from([6,30,58,86,114,142]),new it(30,new ke(17,115),new ke(1,116)),new it(28,new ke(14,46),new ke(21,47)),new it(30,new ke(29,24),new ke(19,25)),new it(30,new ke(11,15),new ke(46,16))),new vr(34,Int32Array.from([6,34,62,90,118,146]),new it(30,new ke(13,115),new ke(6,116)),new it(28,new ke(14,46),new ke(23,47)),new it(30,new ke(44,24),new ke(7,25)),new it(30,new ke(59,16),new ke(1,17))),new vr(35,Int32Array.from([6,30,54,78,102,126,150]),new it(30,new ke(12,121),new ke(7,122)),new it(28,new ke(12,47),new ke(26,48)),new it(30,new ke(39,24),new ke(14,25)),new it(30,new ke(22,15),new ke(41,16))),new vr(36,Int32Array.from([6,24,50,76,102,128,154]),new it(30,new ke(6,121),new ke(14,122)),new it(28,new ke(6,47),new ke(34,48)),new it(30,new ke(46,24),new ke(10,25)),new it(30,new ke(2,15),new ke(64,16))),new vr(37,Int32Array.from([6,28,54,80,106,132,158]),new it(30,new ke(17,122),new ke(4,123)),new it(28,new ke(29,46),new ke(14,47)),new it(30,new ke(49,24),new ke(10,25)),new it(30,new ke(24,15),new ke(46,16))),new vr(38,Int32Array.from([6,32,58,84,110,136,162]),new it(30,new ke(4,122),new ke(18,123)),new it(28,new ke(13,46),new ke(32,47)),new it(30,new ke(48,24),new ke(14,25)),new it(30,new ke(42,15),new ke(32,16))),new vr(39,Int32Array.from([6,26,54,82,110,138,166]),new it(30,new ke(20,117),new ke(4,118)),new it(28,new ke(40,47),new ke(7,48)),new it(30,new ke(43,24),new ke(22,25)),new it(30,new ke(10,15),new ke(67,16))),new vr(40,Int32Array.from([6,30,58,86,114,142,170]),new it(30,new ke(19,118),new ke(6,119)),new it(28,new ke(18,47),new ke(31,48)),new it(30,new ke(34,24),new ke(34,25)),new it(30,new ke(20,15),new ke(61,16)))];var oi;(function(le){le[le.DATA_MASK_000=0]="DATA_MASK_000",le[le.DATA_MASK_001=1]="DATA_MASK_001",le[le.DATA_MASK_010=2]="DATA_MASK_010",le[le.DATA_MASK_011=3]="DATA_MASK_011",le[le.DATA_MASK_100=4]="DATA_MASK_100",le[le.DATA_MASK_101=5]="DATA_MASK_101",le[le.DATA_MASK_110=6]="DATA_MASK_110",le[le.DATA_MASK_111=7]="DATA_MASK_111"})(oi||(oi={}));class Nn{constructor(d,m){this.value=d,this.isMasked=m}unmaskBitMatrix(d,m){for(let g=0;g<m;g++)for(let b=0;b<m;b++)this.isMasked(g,b)&&d.flip(b,g)}}Nn.values=new Map([[oi.DATA_MASK_000,new Nn(oi.DATA_MASK_000,(le,d)=>(le+d&1)===0)],[oi.DATA_MASK_001,new Nn(oi.DATA_MASK_001,(le,d)=>(le&1)===0)],[oi.DATA_MASK_010,new Nn(oi.DATA_MASK_010,(le,d)=>d%3===0)],[oi.DATA_MASK_011,new Nn(oi.DATA_MASK_011,(le,d)=>(le+d)%3===0)],[oi.DATA_MASK_100,new Nn(oi.DATA_MASK_100,(le,d)=>(Math.floor(le/2)+Math.floor(d/3)&1)===0)],[oi.DATA_MASK_101,new Nn(oi.DATA_MASK_101,(le,d)=>le*d%6===0)],[oi.DATA_MASK_110,new Nn(oi.DATA_MASK_110,(le,d)=>le*d%6<3)],[oi.DATA_MASK_111,new Nn(oi.DATA_MASK_111,(le,d)=>(le+d+le*d%3&1)===0)]]);class Ic{constructor(d){const m=d.getHeight();if(m<21||(m&3)!==1)throw new B;this.bitMatrix=d}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let d=0;for(let j=0;j<6;j++)d=this.copyBit(j,8,d);d=this.copyBit(7,8,d),d=this.copyBit(8,8,d),d=this.copyBit(8,7,d);for(let j=5;j>=0;j--)d=this.copyBit(8,j,d);const m=this.bitMatrix.getHeight();let g=0;const b=m-7;for(let j=m-1;j>=b;j--)g=this.copyBit(8,j,g);for(let j=m-8;j<m;j++)g=this.copyBit(j,8,g);if(this.parsedFormatInfo=Zi.decodeFormatInformation(d,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const d=this.bitMatrix.getHeight(),m=Math.floor((d-17)/4);if(m<=6)return vr.getVersionForNumber(m);let g=0;const b=d-11;for(let C=5;C>=0;C--)for(let I=d-9;I>=b;I--)g=this.copyBit(I,C,g);let j=vr.decodeVersionInformation(g);if(j!==null&&j.getDimensionForVersion()===d)return this.parsedVersion=j,j;g=0;for(let C=5;C>=0;C--)for(let I=d-9;I>=b;I--)g=this.copyBit(C,I,g);if(j=vr.decodeVersionInformation(g),j!==null&&j.getDimensionForVersion()===d)return this.parsedVersion=j,j;throw new B}copyBit(d,m,g){return(this.isMirror?this.bitMatrix.get(m,d):this.bitMatrix.get(d,m))?g<<1|1:g<<1}readCodewords(){const d=this.readFormatInformation(),m=this.readVersion(),g=Nn.values.get(d.getDataMask()),b=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,b);const j=m.buildFunctionPattern();let C=!0;const I=new Uint8Array(m.getTotalCodewords());let F=0,V=0,te=0;for(let ce=b-1;ce>0;ce-=2){ce===6&&ce--;for(let be=0;be<b;be++){const Me=C?b-1-be:be;for(let He=0;He<2;He++)j.get(ce-He,Me)||(te++,V<<=1,this.bitMatrix.get(ce-He,Me)&&(V|=1),te===8&&(I[F++]=V,te=0,V=0))}C=!C}if(F!==m.getTotalCodewords())throw new B;return I}remask(){if(this.parsedFormatInfo===null)return;const d=Nn.values[this.parsedFormatInfo.getDataMask()],m=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,m)}setMirror(d){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=d}mirror(){const d=this.bitMatrix;for(let m=0,g=d.getWidth();m<g;m++)for(let b=m+1,j=d.getHeight();b<j;b++)d.get(m,b)!==d.get(b,m)&&(d.flip(b,m),d.flip(m,b))}}class fu{constructor(d,m){this.numDataCodewords=d,this.codewords=m}static getDataBlocks(d,m,g){if(d.length!==m.getTotalCodewords())throw new f;const b=m.getECBlocksForLevel(g);let j=0;const C=b.getECBlocks();for(const He of C)j+=He.getCount();const I=new Array(j);let F=0;for(const He of C)for(let Ke=0;Ke<He.getCount();Ke++){const tt=He.getDataCodewords(),ut=b.getECCodewordsPerBlock()+tt;I[F++]=new fu(tt,new Uint8Array(ut))}const V=I[0].codewords.length;let te=I.length-1;for(;te>=0&&I[te].codewords.length!==V;)te--;te++;const ce=V-b.getECCodewordsPerBlock();let be=0;for(let He=0;He<ce;He++)for(let Ke=0;Ke<F;Ke++)I[Ke].codewords[He]=d[be++];for(let He=te;He<F;He++)I[He].codewords[ce]=d[be++];const Me=I[0].codewords.length;for(let He=ce;He<Me;He++)for(let Ke=0;Ke<F;Ke++){const tt=Ke<te?He:He+1;I[Ke].codewords[tt]=d[be++]}return I}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qa;(function(le){le[le.TERMINATOR=0]="TERMINATOR",le[le.NUMERIC=1]="NUMERIC",le[le.ALPHANUMERIC=2]="ALPHANUMERIC",le[le.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",le[le.BYTE=4]="BYTE",le[le.ECI=5]="ECI",le[le.KANJI=6]="KANJI",le[le.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",le[le.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",le[le.HANZI=9]="HANZI"})(qa||(qa={}));class Br{constructor(d,m,g,b){this.value=d,this.stringValue=m,this.characterCountBitsForVersions=g,this.bits=b,Br.FOR_BITS.set(b,this),Br.FOR_VALUE.set(d,this)}static forBits(d){const m=Br.FOR_BITS.get(d);if(m===void 0)throw new f;return m}getCharacterCountBits(d){const m=d.getVersionNumber();let g;return m<=9?g=0:m<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(d){if(!(d instanceof Br))return!1;const m=d;return this.value===m.value}toString(){return this.stringValue}}Br.FOR_BITS=new Map,Br.FOR_VALUE=new Map,Br.TERMINATOR=new Br(qa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Br.NUMERIC=new Br(qa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Br.ALPHANUMERIC=new Br(qa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Br.STRUCTURED_APPEND=new Br(qa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Br.BYTE=new Br(qa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Br.ECI=new Br(qa.ECI,"ECI",Int32Array.from([0,0,0]),7),Br.KANJI=new Br(qa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Br.FNC1_FIRST_POSITION=new Br(qa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Br.FNC1_SECOND_POSITION=new Br(qa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Br.HANZI=new Br(qa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Fs{static decode(d,m,g,b){const j=new yi(d);let C=new Q;const I=new Array;let F=-1,V=-1;try{let te=null,ce=!1,be;do{if(j.available()<4)be=Br.TERMINATOR;else{const Me=j.readBits(4);be=Br.forBits(Me)}switch(be){case Br.TERMINATOR:break;case Br.FNC1_FIRST_POSITION:case Br.FNC1_SECOND_POSITION:ce=!0;break;case Br.STRUCTURED_APPEND:if(j.available()<16)throw new B;F=j.readBits(8),V=j.readBits(8);break;case Br.ECI:const Me=Fs.parseECIValue(j);if(te=$.getCharacterSetECIByValue(Me),te===null)throw new B;break;case Br.HANZI:const He=j.readBits(4),Ke=j.readBits(be.getCharacterCountBits(m));He===Fs.GB2312_SUBSET&&Fs.decodeHanziSegment(j,C,Ke);break;default:const tt=j.readBits(be.getCharacterCountBits(m));switch(be){case Br.NUMERIC:Fs.decodeNumericSegment(j,C,tt);break;case Br.ALPHANUMERIC:Fs.decodeAlphanumericSegment(j,C,tt,ce);break;case Br.BYTE:Fs.decodeByteSegment(j,C,tt,te,I,b);break;case Br.KANJI:Fs.decodeKanjiSegment(j,C,tt);break;default:throw new B}break}}while(be!==Br.TERMINATOR)}catch{throw new B}return new pe(d,C.toString(),I.length===0?null:I,g===null?null:g.toString(),F,V)}static decodeHanziSegment(d,m,g){if(g*13>d.available())throw new B;const b=new Uint8Array(2*g);let j=0;for(;g>0;){const C=d.readBits(13);let I=C/96<<8&4294967295|C%96;I<959?I+=41377:I+=42657,b[j]=I>>8&255,b[j+1]=I&255,j+=2,g--}try{m.append(q.decode(b,H.GB2312))}catch(C){throw new B(C)}}static decodeKanjiSegment(d,m,g){if(g*13>d.available())throw new B;const b=new Uint8Array(2*g);let j=0;for(;g>0;){const C=d.readBits(13);let I=C/192<<8&4294967295|C%192;I<7936?I+=33088:I+=49472,b[j]=I>>8,b[j+1]=I,j+=2,g--}try{m.append(q.decode(b,H.SHIFT_JIS))}catch(C){throw new B(C)}}static decodeByteSegment(d,m,g,b,j,C){if(8*g>d.available())throw new B;const I=new Uint8Array(g);for(let V=0;V<g;V++)I[V]=d.readBits(8);let F;b===null?F=H.guessEncoding(I,C):F=b.getName();try{m.append(q.decode(I,F))}catch(V){throw new B(V)}j.push(I)}static toAlphaNumericChar(d){if(d>=Fs.ALPHANUMERIC_CHARS.length)throw new B;return Fs.ALPHANUMERIC_CHARS[d]}static decodeAlphanumericSegment(d,m,g,b){const j=m.length();for(;g>1;){if(d.available()<11)throw new B;const C=d.readBits(11);m.append(Fs.toAlphaNumericChar(Math.floor(C/45))),m.append(Fs.toAlphaNumericChar(C%45)),g-=2}if(g===1){if(d.available()<6)throw new B;m.append(Fs.toAlphaNumericChar(d.readBits(6)))}if(b)for(let C=j;C<m.length();C++)m.charAt(C)==="%"&&(C<m.length()-1&&m.charAt(C+1)==="%"?m.deleteCharAt(C+1):m.setCharAt(C,""))}static decodeNumericSegment(d,m,g){for(;g>=3;){if(d.available()<10)throw new B;const b=d.readBits(10);if(b>=1e3)throw new B;m.append(Fs.toAlphaNumericChar(Math.floor(b/100))),m.append(Fs.toAlphaNumericChar(Math.floor(b/10)%10)),m.append(Fs.toAlphaNumericChar(b%10)),g-=3}if(g===2){if(d.available()<7)throw new B;const b=d.readBits(7);if(b>=100)throw new B;m.append(Fs.toAlphaNumericChar(Math.floor(b/10))),m.append(Fs.toAlphaNumericChar(b%10))}else if(g===1){if(d.available()<4)throw new B;const b=d.readBits(4);if(b>=10)throw new B;m.append(Fs.toAlphaNumericChar(b))}}static parseECIValue(d){const m=d.readBits(8);if((m&128)===0)return m&127;if((m&192)===128){const g=d.readBits(8);return(m&63)<<8&4294967295|g}if((m&224)===192){const g=d.readBits(16);return(m&31)<<16&4294967295|g}throw new B}}Fs.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Fs.GB2312_SUBSET=1;class rd{constructor(d){this.mirrored=d}isMirrored(){return this.mirrored}applyMirroredCorrection(d){if(!this.mirrored||d===null||d.length<3)return;const m=d[0];d[0]=d[2],d[2]=m}}class Oc{constructor(){this.rsDecoder=new sr($e.QR_CODE_FIELD_256)}decodeBooleanArray(d,m){return this.decodeBitMatrix(Z.parseFromBooleanArray(d),m)}decodeBitMatrix(d,m){const g=new Ic(d);let b=null;try{return this.decodeBitMatrixParser(g,m)}catch(j){b=j}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const j=this.decodeBitMatrixParser(g,m);return j.setOther(new rd(!0)),j}catch(j){throw b!==null?b:j}}decodeBitMatrixParser(d,m){const g=d.readVersion(),b=d.readFormatInformation().getErrorCorrectionLevel(),j=d.readCodewords(),C=fu.getDataBlocks(j,g,b);let I=0;for(const te of C)I+=te.getNumDataCodewords();const F=new Uint8Array(I);let V=0;for(const te of C){const ce=te.getCodewords(),be=te.getNumDataCodewords();this.correctErrors(ce,be);for(let Me=0;Me<be;Me++)F[V++]=ce[Me]}return Fs.decode(F,g,b,m)}correctErrors(d,m){const g=new Int32Array(d);try{this.rsDecoder.decode(g,d.length-m)}catch{throw new v}for(let b=0;b<m;b++)d[b]=g[b]}}class Go extends ht{constructor(d,m,g){super(d,m),this.estimatedModuleSize=g}aboutEquals(d,m,g){if(Math.abs(m-this.getY())<=d&&Math.abs(g-this.getX())<=d){const b=Math.abs(d-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(d,m,g){const b=(this.getX()+m)/2,j=(this.getY()+d)/2,C=(this.estimatedModuleSize+g)/2;return new Go(b,j,C)}}class Yo{constructor(d,m,g,b,j,C,I){this.image=d,this.startX=m,this.startY=g,this.width=b,this.height=j,this.moduleSize=C,this.resultPointCallback=I,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const d=this.startX,m=this.height,g=this.width,b=d+g,j=this.startY+m/2,C=new Int32Array(3),I=this.image;for(let F=0;F<m;F++){const V=j+((F&1)===0?Math.floor((F+1)/2):-Math.floor((F+1)/2));C[0]=0,C[1]=0,C[2]=0;let te=d;for(;te<b&&!I.get(te,V);)te++;let ce=0;for(;te<b;){if(I.get(te,V))if(ce===1)C[1]++;else if(ce===2){if(this.foundPatternCross(C)){const be=this.handlePossibleCenter(C,V,te);if(be!==null)return be}C[0]=C[2],C[1]=1,C[2]=0,ce=1}else C[++ce]++;else ce===1&&ce++,C[ce]++;te++}if(this.foundPatternCross(C)){const be=this.handlePossibleCenter(C,V,b);if(be!==null)return be}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(d,m){return m-d[2]-d[1]/2}foundPatternCross(d){const m=this.moduleSize,g=m/2;for(let b=0;b<3;b++)if(Math.abs(m-d[b])>=g)return!1;return!0}crossCheckVertical(d,m,g,b){const j=this.image,C=j.getHeight(),I=this.crossCheckStateCount;I[0]=0,I[1]=0,I[2]=0;let F=d;for(;F>=0&&j.get(m,F)&&I[1]<=g;)I[1]++,F--;if(F<0||I[1]>g)return NaN;for(;F>=0&&!j.get(m,F)&&I[0]<=g;)I[0]++,F--;if(I[0]>g)return NaN;for(F=d+1;F<C&&j.get(m,F)&&I[1]<=g;)I[1]++,F++;if(F===C||I[1]>g)return NaN;for(;F<C&&!j.get(m,F)&&I[2]<=g;)I[2]++,F++;if(I[2]>g)return NaN;const V=I[0]+I[1]+I[2];return 5*Math.abs(V-b)>=2*b?NaN:this.foundPatternCross(I)?Yo.centerFromEnd(I,F):NaN}handlePossibleCenter(d,m,g){const b=d[0]+d[1]+d[2],j=Yo.centerFromEnd(d,g),C=this.crossCheckVertical(m,j,2*d[1],b);if(!isNaN(C)){const I=(d[0]+d[1]+d[2])/3;for(const V of this.possibleCenters)if(V.aboutEquals(I,C,j))return V.combineEstimate(C,j,I);const F=new Go(j,C,I);this.possibleCenters.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return null}}class Va extends ht{constructor(d,m,g,b){super(d,m),this.estimatedModuleSize=g,this.count=b,b===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(d,m,g){if(Math.abs(m-this.getY())<=d&&Math.abs(g-this.getX())<=d){const b=Math.abs(d-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(d,m,g){const b=this.count+1,j=(this.count*this.getX()+m)/b,C=(this.count*this.getY()+d)/b,I=(this.count*this.estimatedModuleSize+g)/b;return new Va(j,C,I,b)}}class hl{constructor(d){this.bottomLeft=d[0],this.topLeft=d[1],this.topRight=d[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gr{constructor(d,m){this.image=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=m}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(d){const m=d!=null&&d.get(L.TRY_HARDER)!==void 0,g=d!=null&&d.get(L.PURE_BARCODE)!==void 0,b=this.image,j=b.getHeight(),C=b.getWidth();let I=Math.floor(3*j/(4*gr.MAX_MODULES));(I<gr.MIN_SKIP||m)&&(I=gr.MIN_SKIP);let F=!1;const V=new Int32Array(5);for(let ce=I-1;ce<j&&!F;ce+=I){V[0]=0,V[1]=0,V[2]=0,V[3]=0,V[4]=0;let be=0;for(let Me=0;Me<C;Me++)if(b.get(Me,ce))(be&1)===1&&be++,V[be]++;else if((be&1)===0)if(be===4)if(gr.foundPatternCross(V)){if(this.handlePossibleCenter(V,ce,Me,g)===!0)if(I=2,this.hasSkipped===!0)F=this.haveMultiplyConfirmedCenters();else{const Ke=this.findRowSkip();Ke>V[2]&&(ce+=Ke-V[2]-I,Me=C-1)}else{V[0]=V[2],V[1]=V[3],V[2]=V[4],V[3]=1,V[4]=0,be=3;continue}be=0,V[0]=0,V[1]=0,V[2]=0,V[3]=0,V[4]=0}else V[0]=V[2],V[1]=V[3],V[2]=V[4],V[3]=1,V[4]=0,be=3;else V[++be]++;else V[be]++;gr.foundPatternCross(V)&&this.handlePossibleCenter(V,ce,C,g)===!0&&(I=V[0],this.hasSkipped&&(F=this.haveMultiplyConfirmedCenters()))}const te=this.selectBestPatterns();return ht.orderBestPatterns(te),new hl(te)}static centerFromEnd(d,m){return m-d[4]-d[3]-d[2]/2}static foundPatternCross(d){let m=0;for(let j=0;j<5;j++){const C=d[j];if(C===0)return!1;m+=C}if(m<7)return!1;const g=m/7,b=g/2;return Math.abs(g-d[0])<b&&Math.abs(g-d[1])<b&&Math.abs(3*g-d[2])<3*b&&Math.abs(g-d[3])<b&&Math.abs(g-d[4])<b}getCrossCheckStateCount(){const d=this.crossCheckStateCount;return d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d}crossCheckDiagonal(d,m,g,b){const j=this.getCrossCheckStateCount();let C=0;const I=this.image;for(;d>=C&&m>=C&&I.get(m-C,d-C);)j[2]++,C++;if(d<C||m<C)return!1;for(;d>=C&&m>=C&&!I.get(m-C,d-C)&&j[1]<=g;)j[1]++,C++;if(d<C||m<C||j[1]>g)return!1;for(;d>=C&&m>=C&&I.get(m-C,d-C)&&j[0]<=g;)j[0]++,C++;if(j[0]>g)return!1;const F=I.getHeight(),V=I.getWidth();for(C=1;d+C<F&&m+C<V&&I.get(m+C,d+C);)j[2]++,C++;if(d+C>=F||m+C>=V)return!1;for(;d+C<F&&m+C<V&&!I.get(m+C,d+C)&&j[3]<g;)j[3]++,C++;if(d+C>=F||m+C>=V||j[3]>=g)return!1;for(;d+C<F&&m+C<V&&I.get(m+C,d+C)&&j[4]<g;)j[4]++,C++;if(j[4]>=g)return!1;const te=j[0]+j[1]+j[2]+j[3]+j[4];return Math.abs(te-b)<2*b&&gr.foundPatternCross(j)}crossCheckVertical(d,m,g,b){const j=this.image,C=j.getHeight(),I=this.getCrossCheckStateCount();let F=d;for(;F>=0&&j.get(m,F);)I[2]++,F--;if(F<0)return NaN;for(;F>=0&&!j.get(m,F)&&I[1]<=g;)I[1]++,F--;if(F<0||I[1]>g)return NaN;for(;F>=0&&j.get(m,F)&&I[0]<=g;)I[0]++,F--;if(I[0]>g)return NaN;for(F=d+1;F<C&&j.get(m,F);)I[2]++,F++;if(F===C)return NaN;for(;F<C&&!j.get(m,F)&&I[3]<g;)I[3]++,F++;if(F===C||I[3]>=g)return NaN;for(;F<C&&j.get(m,F)&&I[4]<g;)I[4]++,F++;if(I[4]>=g)return NaN;const V=I[0]+I[1]+I[2]+I[3]+I[4];return 5*Math.abs(V-b)>=2*b?NaN:gr.foundPatternCross(I)?gr.centerFromEnd(I,F):NaN}crossCheckHorizontal(d,m,g,b){const j=this.image,C=j.getWidth(),I=this.getCrossCheckStateCount();let F=d;for(;F>=0&&j.get(F,m);)I[2]++,F--;if(F<0)return NaN;for(;F>=0&&!j.get(F,m)&&I[1]<=g;)I[1]++,F--;if(F<0||I[1]>g)return NaN;for(;F>=0&&j.get(F,m)&&I[0]<=g;)I[0]++,F--;if(I[0]>g)return NaN;for(F=d+1;F<C&&j.get(F,m);)I[2]++,F++;if(F===C)return NaN;for(;F<C&&!j.get(F,m)&&I[3]<g;)I[3]++,F++;if(F===C||I[3]>=g)return NaN;for(;F<C&&j.get(F,m)&&I[4]<g;)I[4]++,F++;if(I[4]>=g)return NaN;const V=I[0]+I[1]+I[2]+I[3]+I[4];return 5*Math.abs(V-b)>=b?NaN:gr.foundPatternCross(I)?gr.centerFromEnd(I,F):NaN}handlePossibleCenter(d,m,g,b){const j=d[0]+d[1]+d[2]+d[3]+d[4];let C=gr.centerFromEnd(d,g),I=this.crossCheckVertical(m,Math.floor(C),d[2],j);if(!isNaN(I)&&(C=this.crossCheckHorizontal(Math.floor(C),Math.floor(I),d[2],j),!isNaN(C)&&(!b||this.crossCheckDiagonal(Math.floor(I),Math.floor(C),d[2],j)))){const F=j/7;let V=!1;const te=this.possibleCenters;for(let ce=0,be=te.length;ce<be;ce++){const Me=te[ce];if(Me.aboutEquals(F,I,C)){te[ce]=Me.combineEstimate(I,C,F),V=!0;break}}if(!V){const ce=new Va(C,I,F);te.push(ce),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ce)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let m=null;for(const g of this.possibleCenters)if(g.getCount()>=gr.CENTER_QUORUM)if(m==null)m=g;else return this.hasSkipped=!0,Math.floor((Math.abs(m.getX()-g.getX())-Math.abs(m.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let d=0,m=0;const g=this.possibleCenters.length;for(const C of this.possibleCenters)C.getCount()>=gr.CENTER_QUORUM&&(d++,m+=C.getEstimatedModuleSize());if(d<3)return!1;const b=m/g;let j=0;for(const C of this.possibleCenters)j+=Math.abs(C.getEstimatedModuleSize()-b);return j<=.05*m}selectBestPatterns(){const d=this.possibleCenters.length;if(d<3)throw new J;const m=this.possibleCenters;let g;if(d>3){let b=0,j=0;for(const F of this.possibleCenters){const V=F.getEstimatedModuleSize();b+=V,j+=V*V}g=b/d;let C=Math.sqrt(j/d-g*g);m.sort((F,V)=>{const te=Math.abs(V.getEstimatedModuleSize()-g),ce=Math.abs(F.getEstimatedModuleSize()-g);return te<ce?-1:te>ce?1:0});const I=Math.max(.2*g,C);for(let F=0;F<m.length&&m.length>3;F++){const V=m[F];Math.abs(V.getEstimatedModuleSize()-g)>I&&(m.splice(F,1),F--)}}if(m.length>3){let b=0;for(const j of m)b+=j.getEstimatedModuleSize();g=b/m.length,m.sort((j,C)=>{if(C.getCount()===j.getCount()){const I=Math.abs(C.getEstimatedModuleSize()-g),F=Math.abs(j.getEstimatedModuleSize()-g);return I<F?1:I>F?-1:0}else return C.getCount()-j.getCount()}),m.splice(3)}return[m[0],m[1],m[2]]}}gr.CENTER_QUORUM=2,gr.MIN_SKIP=3,gr.MAX_MODULES=57;class $l{constructor(d){this.image=d}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(d){this.resultPointCallback=d==null?null:d.get(L.NEED_RESULT_POINT_CALLBACK);const g=new gr(this.image,this.resultPointCallback).find(d);return this.processFinderPatternInfo(g)}processFinderPatternInfo(d){const m=d.getTopLeft(),g=d.getTopRight(),b=d.getBottomLeft(),j=this.calculateModuleSize(m,g,b);if(j<1)throw new J("No pattern found in proccess finder.");const C=$l.computeDimension(m,g,b,j),I=vr.getProvisionalVersionForDimension(C),F=I.getDimensionForVersion()-7;let V=null;if(I.getAlignmentPatternCenters().length>0){const Me=g.getX()-m.getX()+b.getX(),He=g.getY()-m.getY()+b.getY(),Ke=1-3/F,tt=Math.floor(m.getX()+Ke*(Me-m.getX())),ut=Math.floor(m.getY()+Ke*(He-m.getY()));for(let St=4;St<=16;St<<=1)try{V=this.findAlignmentInRegion(j,tt,ut,St);break}catch(Pt){if(!(Pt instanceof J))throw Pt}}const te=$l.createTransform(m,g,b,V,C),ce=$l.sampleGrid(this.image,te,C);let be;return V===null?be=[b,m,g]:be=[b,m,g,V],new Fe(ce,be)}static createTransform(d,m,g,b,j){const C=j-3.5;let I,F,V,te;return b!==null?(I=b.getX(),F=b.getY(),V=C-3,te=V):(I=m.getX()-d.getX()+g.getX(),F=m.getY()-d.getY()+g.getY(),V=C,te=C),vt.quadrilateralToQuadrilateral(3.5,3.5,C,3.5,V,te,3.5,C,d.getX(),d.getY(),m.getX(),m.getY(),I,F,g.getX(),g.getY())}static sampleGrid(d,m,g){return It.getInstance().sampleGridWithTransform(d,g,g,m)}static computeDimension(d,m,g,b){const j=mt.round(ht.distance(d,m)/b),C=mt.round(ht.distance(d,g)/b);let I=Math.floor((j+C)/2)+7;switch(I&3){case 0:I++;break;case 2:I--;break;case 3:throw new J("Dimensions could be not found.")}return I}calculateModuleSize(d,m,g){return(this.calculateModuleSizeOneWay(d,m)+this.calculateModuleSizeOneWay(d,g))/2}calculateModuleSizeOneWay(d,m){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(m.getX()),Math.floor(m.getY())),b=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(m.getX()),Math.floor(m.getY()),Math.floor(d.getX()),Math.floor(d.getY()));return isNaN(g)?b/7:isNaN(b)?g/7:(g+b)/14}sizeOfBlackWhiteBlackRunBothWays(d,m,g,b){let j=this.sizeOfBlackWhiteBlackRun(d,m,g,b),C=1,I=d-(g-d);I<0?(C=d/(d-I),I=0):I>=this.image.getWidth()&&(C=(this.image.getWidth()-1-d)/(I-d),I=this.image.getWidth()-1);let F=Math.floor(m-(b-m)*C);return C=1,F<0?(C=m/(m-F),F=0):F>=this.image.getHeight()&&(C=(this.image.getHeight()-1-m)/(F-m),F=this.image.getHeight()-1),I=Math.floor(d+(I-d)*C),j+=this.sizeOfBlackWhiteBlackRun(d,m,I,F),j-1}sizeOfBlackWhiteBlackRun(d,m,g,b){const j=Math.abs(b-m)>Math.abs(g-d);if(j){let Me=d;d=m,m=Me,Me=g,g=b,b=Me}const C=Math.abs(g-d),I=Math.abs(b-m);let F=-C/2;const V=d<g?1:-1,te=m<b?1:-1;let ce=0;const be=g+V;for(let Me=d,He=m;Me!==be;Me+=V){const Ke=j?He:Me,tt=j?Me:He;if(ce===1===this.image.get(Ke,tt)){if(ce===2)return mt.distance(Me,He,d,m);ce++}if(F+=I,F>0){if(He===b)break;He+=te,F-=C}}return ce===2?mt.distance(g+V,b,d,m):NaN}findAlignmentInRegion(d,m,g,b){const j=Math.floor(b*d),C=Math.max(0,m-j),I=Math.min(this.image.getWidth()-1,m+j);if(I-C<d*3)throw new J("Alignment top exceeds estimated module size.");const F=Math.max(0,g-j),V=Math.min(this.image.getHeight()-1,g+j);if(V-F<d*3)throw new J("Alignment bottom exceeds estimated module size.");return new Yo(this.image,C,F,I-C,V-F,d,this.resultPointCallback).find()}}class Sa{constructor(){this.decoder=new Oc}getDecoder(){return this.decoder}decode(d,m){let g,b;if(m!=null&&m.get(L.PURE_BARCODE)!==void 0){const F=Sa.extractPureBits(d.getBlackMatrix());g=this.decoder.decodeBitMatrix(F,m),b=Sa.NO_POINTS}else{const F=new $l(d.getBlackMatrix()).detect(m);g=this.decoder.decodeBitMatrix(F.getBits(),m),b=F.getPoints()}g.getOther()instanceof rd&&g.getOther().applyMirroredCorrection(b);const j=new ue(g.getText(),g.getRawBytes(),void 0,b,Ce.QR_CODE,void 0),C=g.getByteSegments();C!==null&&j.putMetadata(de.BYTE_SEGMENTS,C);const I=g.getECLevel();return I!==null&&j.putMetadata(de.ERROR_CORRECTION_LEVEL,I),g.hasStructuredAppend()&&(j.putMetadata(de.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),j.putMetadata(de.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),j}reset(){}static extractPureBits(d){const m=d.getTopLeftOnBit(),g=d.getBottomRightOnBit();if(m===null||g===null)throw new J;const b=this.moduleSize(m,d);let j=m[1],C=g[1],I=m[0],F=g[0];if(I>=F||j>=C)throw new J;if(C-j!==F-I&&(F=I+(C-j),F>=d.getWidth()))throw new J;const V=Math.round((F-I+1)/b),te=Math.round((C-j+1)/b);if(V<=0||te<=0)throw new J;if(te!==V)throw new J;const ce=Math.floor(b/2);j+=ce,I+=ce;const be=I+Math.floor((V-1)*b)-F;if(be>0){if(be>ce)throw new J;I-=be}const Me=j+Math.floor((te-1)*b)-C;if(Me>0){if(Me>ce)throw new J;j-=Me}const He=new Z(V,te);for(let Ke=0;Ke<te;Ke++){const tt=j+Math.floor(Ke*b);for(let ut=0;ut<V;ut++)d.get(I+Math.floor(ut*b),tt)&&He.set(ut,Ke)}return He}static moduleSize(d,m){const g=m.getHeight(),b=m.getWidth();let j=d[0],C=d[1],I=!0,F=0;for(;j<b&&C<g;){if(I!==m.get(j,C)){if(++F===5)break;I=!I}j++,C++}if(j===b||C===g)throw new J;return(j-d[0])/7}}Sa.NO_POINTS=new Array;class en{PDF417Common(){}static getBitCountSum(d){return mt.sum(d)}static toIntArray(d){if(d==null||!d.length)return en.EMPTY_INT_ARRAY;const m=new Int32Array(d.length);let g=0;for(const b of d)m[g++]=b;return m}static getCodeword(d){const m=E.binarySearch(en.SYMBOL_TABLE,d&262143);return m<0?-1:(en.CODEWORD_TABLE[m]-1)%en.NUMBER_OF_CODEWORDS}}en.NUMBER_OF_CODEWORDS=929,en.MAX_CODEWORDS_IN_BARCODE=en.NUMBER_OF_CODEWORDS-1,en.MIN_ROWS_IN_BARCODE=3,en.MAX_ROWS_IN_BARCODE=90,en.MODULES_IN_CODEWORD=17,en.MODULES_IN_STOP_PATTERN=18,en.BARS_IN_MODULE=8,en.EMPTY_INT_ARRAY=new Int32Array([]),en.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),en.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xm{constructor(d,m){this.bits=d,this.points=m}getBits(){return this.bits}getPoints(){return this.points}}class Qr{static detectMultiple(d,m,g){let b=d.getBlackMatrix(),j=Qr.detect(g,b);return j.length||(b=b.clone(),b.rotate180(),j=Qr.detect(g,b)),new xm(b,j)}static detect(d,m){const g=new Array;let b=0,j=0,C=!1;for(;b<m.getHeight();){const I=Qr.findVertices(m,b,j);if(I[0]==null&&I[3]==null){if(!C)break;C=!1,j=0;for(const F of g)F[1]!=null&&(b=Math.trunc(Math.max(b,F[1].getY()))),F[3]!=null&&(b=Math.max(b,Math.trunc(F[3].getY())));b+=Qr.ROW_STEP;continue}if(C=!0,g.push(I),!d)break;I[2]!=null?(j=Math.trunc(I[2].getX()),b=Math.trunc(I[2].getY())):(j=Math.trunc(I[4].getX()),b=Math.trunc(I[4].getY()))}return g}static findVertices(d,m,g){const b=d.getHeight(),j=d.getWidth(),C=new Array(8);return Qr.copyToResult(C,Qr.findRowsWithPattern(d,b,j,m,g,Qr.START_PATTERN),Qr.INDEXES_START_PATTERN),C[4]!=null&&(g=Math.trunc(C[4].getX()),m=Math.trunc(C[4].getY())),Qr.copyToResult(C,Qr.findRowsWithPattern(d,b,j,m,g,Qr.STOP_PATTERN),Qr.INDEXES_STOP_PATTERN),C}static copyToResult(d,m,g){for(let b=0;b<g.length;b++)d[g[b]]=m[b]}static findRowsWithPattern(d,m,g,b,j,C){const I=new Array(4);let F=!1;const V=new Int32Array(C.length);for(;b<m;b+=Qr.ROW_STEP){let ce=Qr.findGuardPattern(d,j,b,g,!1,C,V);if(ce!=null){for(;b>0;){const be=Qr.findGuardPattern(d,j,--b,g,!1,C,V);if(be!=null)ce=be;else{b++;break}}I[0]=new ht(ce[0],b),I[1]=new ht(ce[1],b),F=!0;break}}let te=b+1;if(F){let ce=0,be=Int32Array.from([Math.trunc(I[0].getX()),Math.trunc(I[1].getX())]);for(;te<m;te++){const Me=Qr.findGuardPattern(d,be[0],te,g,!1,C,V);if(Me!=null&&Math.abs(be[0]-Me[0])<Qr.MAX_PATTERN_DRIFT&&Math.abs(be[1]-Me[1])<Qr.MAX_PATTERN_DRIFT)be=Me,ce=0;else{if(ce>Qr.SKIPPED_ROW_COUNT_MAX)break;ce++}}te-=ce+1,I[2]=new ht(be[0],te),I[3]=new ht(be[1],te)}return te-b<Qr.BARCODE_MIN_HEIGHT&&E.fill(I,null),I}static findGuardPattern(d,m,g,b,j,C,I){E.fillWithin(I,0,I.length,0);let F=m,V=0;for(;d.get(F,g)&&F>0&&V++<Qr.MAX_PIXEL_DRIFT;)F--;let te=F,ce=0,be=C.length;for(let Me=j;te<b;te++)if(d.get(te,g)!==Me)I[ce]++;else{if(ce===be-1){if(Qr.patternMatchVariance(I,C,Qr.MAX_INDIVIDUAL_VARIANCE)<Qr.MAX_AVG_VARIANCE)return new Int32Array([F,te]);F+=I[0]+I[1],w.arraycopy(I,2,I,0,ce-1),I[ce-1]=0,I[ce]=0,ce--}else ce++;I[ce]=1,Me=!Me}return ce===be-1&&Qr.patternMatchVariance(I,C,Qr.MAX_INDIVIDUAL_VARIANCE)<Qr.MAX_AVG_VARIANCE?new Int32Array([F,te-1]):null}static patternMatchVariance(d,m,g){let b=d.length,j=0,C=0;for(let V=0;V<b;V++)j+=d[V],C+=m[V];if(j<C)return 1/0;let I=j/C;g*=I;let F=0;for(let V=0;V<b;V++){let te=d[V],ce=m[V]*I,be=te>ce?te-ce:ce-te;if(be>g)return 1/0;F+=be}return F/j}}Qr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Qr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Qr.MAX_AVG_VARIANCE=.42,Qr.MAX_INDIVIDUAL_VARIANCE=.8,Qr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Qr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Qr.MAX_PIXEL_DRIFT=3,Qr.MAX_PATTERN_DRIFT=5,Qr.SKIPPED_ROW_COUNT_MAX=25,Qr.ROW_STEP=5,Qr.BARCODE_MIN_HEIGHT=10;class Ws{constructor(d,m){if(m.length===0)throw new f;this.field=d;let g=m.length;if(g>1&&m[0]===0){let b=1;for(;b<g&&m[b]===0;)b++;b===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-b),w.arraycopy(m,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=m}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(d){return this.coefficients[this.coefficients.length-1-d]}evaluateAt(d){if(d===0)return this.getCoefficient(0);if(d===1){let b=0;for(let j of this.coefficients)b=this.field.add(b,j);return b}let m=this.coefficients[0],g=this.coefficients.length;for(let b=1;b<g;b++)m=this.field.add(this.field.multiply(d,m),this.coefficients[b]);return m}add(d){if(!this.field.equals(d.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero())return d;if(d.isZero())return this;let m=this.coefficients,g=d.coefficients;if(m.length>g.length){let C=m;m=g,g=C}let b=new Int32Array(g.length),j=g.length-m.length;w.arraycopy(g,0,b,0,j);for(let C=j;C<g.length;C++)b[C]=this.field.add(m[C-j],g[C]);return new Ws(this.field,b)}subtract(d){if(!this.field.equals(d.field))throw new f("ModulusPolys do not have same ModulusGF field");return d.isZero()?this:this.add(d.negative())}multiply(d){return d instanceof Ws?this.multiplyOther(d):this.multiplyScalar(d)}multiplyOther(d){if(!this.field.equals(d.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero()||d.isZero())return new Ws(this.field,new Int32Array([0]));let m=this.coefficients,g=m.length,b=d.coefficients,j=b.length,C=new Int32Array(g+j-1);for(let I=0;I<g;I++){let F=m[I];for(let V=0;V<j;V++)C[I+V]=this.field.add(C[I+V],this.field.multiply(F,b[V]))}return new Ws(this.field,C)}negative(){let d=this.coefficients.length,m=new Int32Array(d);for(let g=0;g<d;g++)m[g]=this.field.subtract(0,this.coefficients[g]);return new Ws(this.field,m)}multiplyScalar(d){if(d===0)return new Ws(this.field,new Int32Array([0]));if(d===1)return this;let m=this.coefficients.length,g=new Int32Array(m);for(let b=0;b<m;b++)g[b]=this.field.multiply(this.coefficients[b],d);return new Ws(this.field,g)}multiplyByMonomial(d,m){if(d<0)throw new f;if(m===0)return new Ws(this.field,new Int32Array([0]));let g=this.coefficients.length,b=new Int32Array(g+d);for(let j=0;j<g;j++)b[j]=this.field.multiply(this.coefficients[j],m);return new Ws(this.field,b)}toString(){let d=new Q;for(let m=this.getDegree();m>=0;m--){let g=this.getCoefficient(m);g!==0&&(g<0?(d.append(" - "),g=-g):d.length()>0&&d.append(" + "),(m===0||g!==1)&&d.append(g),m!==0&&(m===1?d.append("x"):(d.append("x^"),d.append(m))))}return d.toString()}}class ym{add(d,m){return(d+m)%this.modulus}subtract(d,m){return(this.modulus+d-m)%this.modulus}exp(d){return this.expTable[d]}log(d){if(d===0)throw new f;return this.logTable[d]}inverse(d){if(d===0)throw new qe;return this.expTable[this.modulus-this.logTable[d]-1]}multiply(d,m){return d===0||m===0?0:this.expTable[(this.logTable[d]+this.logTable[m])%(this.modulus-1)]}getSize(){return this.modulus}equals(d){return d===this}}class mu extends ym{constructor(d,m){super(),this.modulus=d,this.expTable=new Int32Array(d),this.logTable=new Int32Array(d);let g=1;for(let b=0;b<d;b++)this.expTable[b]=g,g=g*m%d;for(let b=0;b<d-1;b++)this.logTable[this.expTable[b]]=b;this.zero=new Ws(this,new Int32Array([0])),this.one=new Ws(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(d,m){if(d<0)throw new f;if(m===0)return this.zero;let g=new Int32Array(d+1);return g[0]=m,new Ws(this,g)}}mu.PDF417_GF=new mu(en.NUMBER_OF_CODEWORDS,3);class pu{constructor(){this.field=mu.PDF417_GF}decode(d,m,g){let b=new Ws(this.field,d),j=new Int32Array(m),C=!1;for(let He=m;He>0;He--){let Ke=b.evaluateAt(this.field.exp(He));j[m-He]=Ke,Ke!==0&&(C=!0)}if(!C)return 0;let I=this.field.getOne();if(g!=null)for(const He of g){let Ke=this.field.exp(d.length-1-He),tt=new Ws(this.field,new Int32Array([this.field.subtract(0,Ke),1]));I=I.multiply(tt)}let F=new Ws(this.field,j),V=this.runEuclideanAlgorithm(this.field.buildMonomial(m,1),F,m),te=V[0],ce=V[1],be=this.findErrorLocations(te),Me=this.findErrorMagnitudes(ce,te,be);for(let He=0;He<be.length;He++){let Ke=d.length-1-this.field.log(be[He]);if(Ke<0)throw v.getChecksumInstance();d[Ke]=this.field.subtract(d[Ke],Me[He])}return be.length}runEuclideanAlgorithm(d,m,g){if(d.getDegree()<m.getDegree()){let be=d;d=m,m=be}let b=d,j=m,C=this.field.getZero(),I=this.field.getOne();for(;j.getDegree()>=Math.round(g/2);){let be=b,Me=C;if(b=j,C=I,b.isZero())throw v.getChecksumInstance();j=be;let He=this.field.getZero(),Ke=b.getCoefficient(b.getDegree()),tt=this.field.inverse(Ke);for(;j.getDegree()>=b.getDegree()&&!j.isZero();){let ut=j.getDegree()-b.getDegree(),St=this.field.multiply(j.getCoefficient(j.getDegree()),tt);He=He.add(this.field.buildMonomial(ut,St)),j=j.subtract(b.multiplyByMonomial(ut,St))}I=He.multiply(C).subtract(Me).negative()}let F=I.getCoefficient(0);if(F===0)throw v.getChecksumInstance();let V=this.field.inverse(F),te=I.multiply(V),ce=j.multiply(V);return[te,ce]}findErrorLocations(d){let m=d.getDegree(),g=new Int32Array(m),b=0;for(let j=1;j<this.field.getSize()&&b<m;j++)d.evaluateAt(j)===0&&(g[b]=this.field.inverse(j),b++);if(b!==m)throw v.getChecksumInstance();return g}findErrorMagnitudes(d,m,g){let b=m.getDegree(),j=new Int32Array(b);for(let V=1;V<=b;V++)j[b-V]=this.field.multiply(V,m.getCoefficient(V));let C=new Ws(this.field,j),I=g.length,F=new Int32Array(I);for(let V=0;V<I;V++){let te=this.field.inverse(g[V]),ce=this.field.subtract(0,d.evaluateAt(te)),be=this.field.inverse(C.evaluateAt(te));F[V]=this.field.multiply(ce,be)}return F}}class zl{constructor(d,m,g,b,j){d instanceof zl?this.constructor_2(d):this.constructor_1(d,m,g,b,j)}constructor_1(d,m,g,b,j){const C=m==null||g==null,I=b==null||j==null;if(C&&I)throw new J;C?(m=new ht(0,b.getY()),g=new ht(0,j.getY())):I&&(b=new ht(d.getWidth()-1,m.getY()),j=new ht(d.getWidth()-1,g.getY())),this.image=d,this.topLeft=m,this.bottomLeft=g,this.topRight=b,this.bottomRight=j,this.minX=Math.trunc(Math.min(m.getX(),g.getX())),this.maxX=Math.trunc(Math.max(b.getX(),j.getX())),this.minY=Math.trunc(Math.min(m.getY(),b.getY())),this.maxY=Math.trunc(Math.max(g.getY(),j.getY()))}constructor_2(d){this.image=d.image,this.topLeft=d.getTopLeft(),this.bottomLeft=d.getBottomLeft(),this.topRight=d.getTopRight(),this.bottomRight=d.getBottomRight(),this.minX=d.getMinX(),this.maxX=d.getMaxX(),this.minY=d.getMinY(),this.maxY=d.getMaxY()}static merge(d,m){return d==null?m:m==null?d:new zl(d.image,d.topLeft,d.bottomLeft,m.topRight,m.bottomRight)}addMissingRows(d,m,g){let b=this.topLeft,j=this.bottomLeft,C=this.topRight,I=this.bottomRight;if(d>0){let F=g?this.topLeft:this.topRight,V=Math.trunc(F.getY()-d);V<0&&(V=0);let te=new ht(F.getX(),V);g?b=te:C=te}if(m>0){let F=g?this.bottomLeft:this.bottomRight,V=Math.trunc(F.getY()+m);V>=this.image.getHeight()&&(V=this.image.getHeight()-1);let te=new ht(F.getX(),V);g?j=te:I=te}return new zl(this.image,b,j,C,I)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ql{constructor(d,m,g,b){this.columnCount=d,this.errorCorrectionLevel=b,this.rowCountUpperPart=m,this.rowCountLowerPart=g,this.rowCount=m+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class No{constructor(){this.buffer=""}static form(d,m){let g=-1;function b(C,I,F,V,te,ce){if(C==="%%")return"%";if(m[++g]===void 0)return;C=V?parseInt(V.substr(1)):void 0;let be=te?parseInt(te.substr(1)):void 0,Me;switch(ce){case"s":Me=m[g];break;case"c":Me=m[g][0];break;case"f":Me=parseFloat(m[g]).toFixed(C);break;case"p":Me=parseFloat(m[g]).toPrecision(C);break;case"e":Me=parseFloat(m[g]).toExponential(C);break;case"x":Me=parseInt(m[g]).toString(be||16);break;case"d":Me=parseFloat(parseInt(m[g],be||10).toPrecision(C)).toFixed(0);break}Me=typeof Me=="object"?JSON.stringify(Me):(+Me).toString(be);let He=parseInt(F),Ke=F&&F[0]+""=="0"?"0":" ";for(;Me.length<He;)Me=I!==void 0?Me+Ke:Ke+Me;return Me}let j=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return d.replace(j,b)}format(d,...m){this.buffer+=No.form(d,m)}toString(){return this.buffer}}class no{constructor(d){this.boundingBox=new zl(d),this.codewords=new Array(d.getMaxY()-d.getMinY()+1)}getCodewordNearby(d){let m=this.getCodeword(d);if(m!=null)return m;for(let g=1;g<no.MAX_NEARBY_DISTANCE;g++){let b=this.imageRowToCodewordIndex(d)-g;if(b>=0&&(m=this.codewords[b],m!=null)||(b=this.imageRowToCodewordIndex(d)+g,b<this.codewords.length&&(m=this.codewords[b],m!=null)))return m}return null}imageRowToCodewordIndex(d){return d-this.boundingBox.getMinY()}setCodeword(d,m){this.codewords[this.imageRowToCodewordIndex(d)]=m}getCodeword(d){return this.codewords[this.imageRowToCodewordIndex(d)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const d=new No;let m=0;for(const g of this.codewords){if(g==null){d.format("%3d:    |   %n",m++);continue}d.format("%3d: %3d|%3d%n",m++,g.getRowNumber(),g.getValue())}return d.toString()}}no.MAX_NEARBY_DISTANCE=5;class cc{constructor(){this.values=new Map}setValue(d){d=Math.trunc(d);let m=this.values.get(d);m==null&&(m=0),m++,this.values.set(d,m)}getValue(){let d=-1,m=new Array;for(const[g,b]of this.values.entries()){const j={getKey:()=>g,getValue:()=>b};j.getValue()>d?(d=j.getValue(),m=[],m.push(j.getKey())):j.getValue()===d&&m.push(j.getKey())}return en.toIntArray(m)}getConfidence(d){return this.values.get(d)}}class lh extends no{constructor(d,m){super(d),this._isLeft=m}setRowNumbers(){for(let d of this.getCodewords())d!=null&&d.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(d){let m=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(m,d);let g=this.getBoundingBox(),b=this._isLeft?g.getTopLeft():g.getTopRight(),j=this._isLeft?g.getBottomLeft():g.getBottomRight(),C=this.imageRowToCodewordIndex(Math.trunc(b.getY())),I=this.imageRowToCodewordIndex(Math.trunc(j.getY())),F=-1,V=1,te=0;for(let ce=C;ce<I;ce++){if(m[ce]==null)continue;let be=m[ce],Me=be.getRowNumber()-F;if(Me===0)te++;else if(Me===1)V=Math.max(V,te),te=1,F=be.getRowNumber();else if(Me<0||be.getRowNumber()>=d.getRowCount()||Me>ce)m[ce]=null;else{let He;V>2?He=(V-2)*Me:He=Me;let Ke=He>=ce;for(let tt=1;tt<=He&&!Ke;tt++)Ke=m[ce-tt]!=null;Ke?m[ce]=null:(F=be.getRowNumber(),te=1)}}}getRowHeights(){let d=this.getBarcodeMetadata();if(d==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(d);let m=new Int32Array(d.getRowCount());for(let g of this.getCodewords())if(g!=null){let b=g.getRowNumber();if(b>=m.length)continue;m[b]++}return m}adjustIncompleteIndicatorColumnRowNumbers(d){let m=this.getBoundingBox(),g=this._isLeft?m.getTopLeft():m.getTopRight(),b=this._isLeft?m.getBottomLeft():m.getBottomRight(),j=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.imageRowToCodewordIndex(Math.trunc(b.getY())),I=this.getCodewords(),F=-1;for(let V=j;V<C;V++){if(I[V]==null)continue;let te=I[V];te.setRowNumberAsRowIndicatorColumn();let ce=te.getRowNumber()-F;ce===0||(ce===1?F=te.getRowNumber():te.getRowNumber()>=d.getRowCount()?I[V]=null:F=te.getRowNumber())}}getBarcodeMetadata(){let d=this.getCodewords(),m=new cc,g=new cc,b=new cc,j=new cc;for(let I of d){if(I==null)continue;I.setRowNumberAsRowIndicatorColumn();let F=I.getValue()%30,V=I.getRowNumber();switch(this._isLeft||(V+=2),V%3){case 0:g.setValue(F*3+1);break;case 1:j.setValue(F/3),b.setValue(F%3);break;case 2:m.setValue(F+1);break}}if(m.getValue().length===0||g.getValue().length===0||b.getValue().length===0||j.getValue().length===0||m.getValue()[0]<1||g.getValue()[0]+b.getValue()[0]<en.MIN_ROWS_IN_BARCODE||g.getValue()[0]+b.getValue()[0]>en.MAX_ROWS_IN_BARCODE)return null;let C=new ql(m.getValue()[0],g.getValue()[0],b.getValue()[0],j.getValue()[0]);return this.removeIncorrectCodewords(d,C),C}removeIncorrectCodewords(d,m){for(let g=0;g<d.length;g++){let b=d[g];if(d[g]==null)continue;let j=b.getValue()%30,C=b.getRowNumber();if(C>m.getRowCount()){d[g]=null;continue}switch(this._isLeft||(C+=2),C%3){case 0:j*3+1!==m.getRowCountUpperPart()&&(d[g]=null);break;case 1:(Math.trunc(j/3)!==m.getErrorCorrectionLevel()||j%3!==m.getRowCountLowerPart())&&(d[g]=null);break;case 2:j+1!==m.getColumnCount()&&(d[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Mc{constructor(d,m){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=d,this.barcodeColumnCount=d.getColumnCount(),this.boundingBox=m,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let d=en.MAX_CODEWORDS_IN_BARCODE,m;do m=d,d=this.adjustRowNumbersAndGetCount();while(d>0&&d<m);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(d){d!=null&&d.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let d=this.adjustRowNumbersByRow();if(d===0)return 0;for(let m=1;m<this.barcodeColumnCount+1;m++){let g=this.detectionResultColumns[m].getCodewords();for(let b=0;b<g.length;b++)g[b]!=null&&(g[b].hasValidRowNumber()||this.adjustRowNumbers(m,b,g))}return d}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let d=this.detectionResultColumns[0].getCodewords(),m=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<d.length;g++)if(d[g]!=null&&m[g]!=null&&d[g].getRowNumber()===m[g].getRowNumber())for(let b=1;b<=this.barcodeColumnCount;b++){let j=this.detectionResultColumns[b].getCodewords()[g];j!=null&&(j.setRowNumber(d[g].getRowNumber()),j.hasValidRowNumber()||(this.detectionResultColumns[b].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let d=0,m=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<m.length;g++){if(m[g]==null)continue;let b=m[g].getRowNumber(),j=0;for(let C=this.barcodeColumnCount+1;C>0&&j<this.ADJUST_ROW_NUMBER_SKIP;C--){let I=this.detectionResultColumns[C].getCodewords()[g];I!=null&&(j=Mc.adjustRowNumberIfValid(b,j,I),I.hasValidRowNumber()||d++)}}return d}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let d=0,m=this.detectionResultColumns[0].getCodewords();for(let g=0;g<m.length;g++){if(m[g]==null)continue;let b=m[g].getRowNumber(),j=0;for(let C=1;C<this.barcodeColumnCount+1&&j<this.ADJUST_ROW_NUMBER_SKIP;C++){let I=this.detectionResultColumns[C].getCodewords()[g];I!=null&&(j=Mc.adjustRowNumberIfValid(b,j,I),I.hasValidRowNumber()||d++)}}return d}static adjustRowNumberIfValid(d,m,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(d)?(g.setRowNumber(d),m=0):++m),m}adjustRowNumbers(d,m,g){if(!this.detectionResultColumns[d-1])return;let b=g[m],j=this.detectionResultColumns[d-1].getCodewords(),C=j;this.detectionResultColumns[d+1]!=null&&(C=this.detectionResultColumns[d+1].getCodewords());let I=new Array(14);I[2]=j[m],I[3]=C[m],m>0&&(I[0]=g[m-1],I[4]=j[m-1],I[5]=C[m-1]),m>1&&(I[8]=g[m-2],I[10]=j[m-2],I[11]=C[m-2]),m<g.length-1&&(I[1]=g[m+1],I[6]=j[m+1],I[7]=C[m+1]),m<g.length-2&&(I[9]=g[m+2],I[12]=j[m+2],I[13]=C[m+2]);for(let F of I)if(Mc.adjustRowNumber(b,F))return}static adjustRowNumber(d,m){return m==null?!1:m.hasValidRowNumber()&&m.getBucket()===d.getBucket()?(d.setRowNumber(m.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(d){this.boundingBox=d}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(d,m){this.detectionResultColumns[d]=m}getDetectionResultColumn(d){return this.detectionResultColumns[d]}toString(){let d=this.detectionResultColumns[0];d==null&&(d=this.detectionResultColumns[this.barcodeColumnCount+1]);let m=new No;for(let g=0;g<d.getCodewords().length;g++){m.format("CW %3d:",g);for(let b=0;b<this.barcodeColumnCount+2;b++){if(this.detectionResultColumns[b]==null){m.format("    |   ");continue}let j=this.detectionResultColumns[b].getCodewords()[g];if(j==null){m.format("    |   ");continue}m.format(" %3d|%3d",j.getRowNumber(),j.getValue())}m.format("%n")}return m.toString()}}class Ko{constructor(d,m,g,b){this.rowNumber=Ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(d),this.endX=Math.trunc(m),this.bucket=Math.trunc(g),this.value=Math.trunc(b)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(d){return d!==Ko.BARCODE_ROW_UNKNOWN&&this.bucket===d%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(d){this.rowNumber=d}toString(){return this.rowNumber+"|"+this.value}}Ko.BARCODE_ROW_UNKNOWN=-1;class li{static initialize(){for(let d=0;d<en.SYMBOL_TABLE.length;d++){let m=en.SYMBOL_TABLE[d],g=m&1;for(let b=0;b<en.BARS_IN_MODULE;b++){let j=0;for(;(m&1)===g;)j+=1,m>>=1;g=m&1,li.RATIOS_TABLE[d]||(li.RATIOS_TABLE[d]=new Array(en.BARS_IN_MODULE)),li.RATIOS_TABLE[d][en.BARS_IN_MODULE-b-1]=Math.fround(j/en.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(d){let m=li.getDecodedCodewordValue(li.sampleBitCounts(d));return m!==-1?m:li.getClosestDecodedValue(d)}static sampleBitCounts(d){let m=mt.sum(d),g=new Int32Array(en.BARS_IN_MODULE),b=0,j=0;for(let C=0;C<en.MODULES_IN_CODEWORD;C++){let I=m/(2*en.MODULES_IN_CODEWORD)+C*m/en.MODULES_IN_CODEWORD;j+d[b]<=I&&(j+=d[b],b++),g[b]++}return g}static getDecodedCodewordValue(d){let m=li.getBitValue(d);return en.getCodeword(m)===-1?-1:m}static getBitValue(d){let m=0;for(let g=0;g<d.length;g++)for(let b=0;b<d[g];b++)m=m<<1|(g%2===0?1:0);return Math.trunc(m)}static getClosestDecodedValue(d){let m=mt.sum(d),g=new Array(en.BARS_IN_MODULE);if(m>1)for(let C=0;C<g.length;C++)g[C]=Math.fround(d[C]/m);let b=dr.MAX_VALUE,j=-1;this.bSymbolTableReady||li.initialize();for(let C=0;C<li.RATIOS_TABLE.length;C++){let I=0,F=li.RATIOS_TABLE[C];for(let V=0;V<en.BARS_IN_MODULE;V++){let te=Math.fround(F[V]-g[V]);if(I+=Math.fround(te*te),I>=b)break}I<b&&(b=I,j=en.SYMBOL_TABLE[C])}return j}}li.bSymbolTableReady=!1,li.RATIOS_TABLE=new Array(en.SYMBOL_TABLE.length).map(le=>new Array(en.BARS_IN_MODULE));class gu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(d){this.segmentIndex=d}getFileId(){return this.fileId}setFileId(d){this.fileId=d}getOptionalData(){return this.optionalData}setOptionalData(d){this.optionalData=d}isLastSegment(){return this.lastSegment}setLastSegment(d){this.lastSegment=d}getSegmentCount(){return this.segmentCount}setSegmentCount(d){this.segmentCount=d}getSender(){return this.sender||null}setSender(d){this.sender=d}getAddressee(){return this.addressee||null}setAddressee(d){this.addressee=d}getFileName(){return this.fileName}setFileName(d){this.fileName=d}getFileSize(){return this.fileSize}setFileSize(d){this.fileSize=d}getChecksum(){return this.checksum}setChecksum(d){this.checksum=d}getTimestamp(){return this.timestamp}setTimestamp(d){this.timestamp=d}}class xu{static parseLong(d,m=void 0){return parseInt(d,m)}}class Xo extends u{}Xo.kind="NullPointerException";class Rc{writeBytes(d){this.writeBytesOffset(d,0,d.length)}writeBytesOffset(d,m,g){if(d==null)throw new Xo;if(m<0||m>d.length||g<0||m+g>d.length||m+g<0)throw new N;if(g===0)return;for(let b=0;b<g;b++)this.write(d[m+b])}flush(){}close(){}}class nd extends u{}class of extends Rc{constructor(d=32){if(super(),this.count=0,d<0)throw new f("Negative initial size: "+d);this.buf=new Uint8Array(d)}ensureCapacity(d){d-this.buf.length>0&&this.grow(d)}grow(d){let g=this.buf.length<<1;if(g-d<0&&(g=d),g<0){if(d<0)throw new nd;g=T.MAX_VALUE}this.buf=E.copyOfUint8Array(this.buf,g)}write(d){this.ensureCapacity(this.count+1),this.buf[this.count]=d,this.count+=1}writeBytesOffset(d,m,g){if(m<0||m>d.length||g<0||m+g-d.length>0)throw new N;this.ensureCapacity(this.count+g),w.arraycopy(d,m,this.buf,this.count,g),this.count+=g}writeTo(d){d.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return E.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(d){return d?typeof d=="string"?this.toString_string(d):this.toString_number(d):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(d){return new String(this.buf).toString()}toString_number(d){return new String(this.buf).toString()}close(){}}var On;(function(le){le[le.ALPHA=0]="ALPHA",le[le.LOWER=1]="LOWER",le[le.MIXED=2]="MIXED",le[le.PUNCT=3]="PUNCT",le[le.ALPHA_SHIFT=4]="ALPHA_SHIFT",le[le.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(On||(On={}));function Zo(){if(typeof window<"u")return window.BigInt||null;if(typeof op<"u")return op.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let yu;function ci(le){if(typeof yu>"u"&&(yu=Zo()),yu===null)throw new Error("BigInt is not supported!");return yu(le)}function fl(){let le=[];le[0]=ci(1);let d=ci(900);le[1]=d;for(let m=2;m<16;m++)le[m]=le[m-1]*d;return le}class ft{static decode(d,m){let g=new Q(""),b=$.ISO8859_1;g.enableDecoding(b);let j=1,C=d[j++],I=new gu;for(;j<d[0];){switch(C){case ft.TEXT_COMPACTION_MODE_LATCH:j=ft.textCompaction(d,j,g);break;case ft.BYTE_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH_6:j=ft.byteCompaction(C,d,b,j,g);break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[j++]);break;case ft.NUMERIC_COMPACTION_MODE_LATCH:j=ft.numericCompaction(d,j,g);break;case ft.ECI_CHARSET:$.getCharacterSetECIByValue(d[j++]);break;case ft.ECI_GENERAL_PURPOSE:j+=2;break;case ft.ECI_USER_DEFINED:j++;break;case ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK:j=ft.decodeMacroBlock(d,j,I);break;case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ft.MACRO_PDF417_TERMINATOR:throw new B;default:j--,j=ft.textCompaction(d,j,g);break}if(j<d.length)C=d[j++];else throw B.getFormatInstance()}if(g.length()===0)throw B.getFormatInstance();let F=new pe(null,g.toString(),null,m);return F.setOther(I),F}static decodeMacroBlock(d,m,g){if(m+ft.NUMBER_OF_SEQUENCE_CODEWORDS>d[0])throw B.getFormatInstance();let b=new Int32Array(ft.NUMBER_OF_SEQUENCE_CODEWORDS);for(let I=0;I<ft.NUMBER_OF_SEQUENCE_CODEWORDS;I++,m++)b[I]=d[m];g.setSegmentIndex(T.parseInt(ft.decodeBase900toBase10(b,ft.NUMBER_OF_SEQUENCE_CODEWORDS)));let j=new Q;m=ft.textCompaction(d,m,j),g.setFileId(j.toString());let C=-1;for(d[m]===ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(C=m+1);m<d[0];)switch(d[m]){case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(m++,d[m]){case ft.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let I=new Q;m=ft.textCompaction(d,m+1,I),g.setFileName(I.toString());break;case ft.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let F=new Q;m=ft.textCompaction(d,m+1,F),g.setSender(F.toString());break;case ft.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let V=new Q;m=ft.textCompaction(d,m+1,V),g.setAddressee(V.toString());break;case ft.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let te=new Q;m=ft.numericCompaction(d,m+1,te),g.setSegmentCount(T.parseInt(te.toString()));break;case ft.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ce=new Q;m=ft.numericCompaction(d,m+1,ce),g.setTimestamp(xu.parseLong(ce.toString()));break;case ft.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let be=new Q;m=ft.numericCompaction(d,m+1,be),g.setChecksum(T.parseInt(be.toString()));break;case ft.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Me=new Q;m=ft.numericCompaction(d,m+1,Me),g.setFileSize(xu.parseLong(Me.toString()));break;default:throw B.getFormatInstance()}break;case ft.MACRO_PDF417_TERMINATOR:m++,g.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(C!==-1){let I=m-C;g.isLastSegment()&&I--,g.setOptionalData(E.copyOfRange(d,C,C+I))}return m}static textCompaction(d,m,g){let b=new Int32Array((d[0]-m)*2),j=new Int32Array((d[0]-m)*2),C=0,I=!1;for(;m<d[0]&&!I;){let F=d[m++];if(F<ft.TEXT_COMPACTION_MODE_LATCH)b[C]=F/30,b[C+1]=F%30,C+=2;else switch(F){case ft.TEXT_COMPACTION_MODE_LATCH:b[C++]=ft.TEXT_COMPACTION_MODE_LATCH;break;case ft.BYTE_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH_6:case ft.NUMERIC_COMPACTION_MODE_LATCH:case ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ft.MACRO_PDF417_TERMINATOR:m--,I=!0;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b[C]=ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,F=d[m++],j[C]=F,C++;break}}return ft.decodeTextCompaction(b,j,C,g),m}static decodeTextCompaction(d,m,g,b){let j=On.ALPHA,C=On.ALPHA,I=0;for(;I<g;){let F=d[I],V="";switch(j){case On.ALPHA:if(F<26)V=String.fromCharCode(65+F);else switch(F){case 26:V=" ";break;case ft.LL:j=On.LOWER;break;case ft.ML:j=On.MIXED;break;case ft.PS:C=j,j=On.PUNCT_SHIFT;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(m[I]);break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break;case On.LOWER:if(F<26)V=String.fromCharCode(97+F);else switch(F){case 26:V=" ";break;case ft.AS:C=j,j=On.ALPHA_SHIFT;break;case ft.ML:j=On.MIXED;break;case ft.PS:C=j,j=On.PUNCT_SHIFT;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(m[I]);break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break;case On.MIXED:if(F<ft.PL)V=ft.MIXED_CHARS[F];else switch(F){case ft.PL:j=On.PUNCT;break;case 26:V=" ";break;case ft.LL:j=On.LOWER;break;case ft.AL:j=On.ALPHA;break;case ft.PS:C=j,j=On.PUNCT_SHIFT;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(m[I]);break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break;case On.PUNCT:if(F<ft.PAL)V=ft.PUNCT_CHARS[F];else switch(F){case ft.PAL:j=On.ALPHA;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(m[I]);break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break;case On.ALPHA_SHIFT:if(j=C,F<26)V=String.fromCharCode(65+F);else switch(F){case 26:V=" ";break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break;case On.PUNCT_SHIFT:if(j=C,F<ft.PAL)V=ft.PUNCT_CHARS[F];else switch(F){case ft.PAL:j=On.ALPHA;break;case ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(m[I]);break;case ft.TEXT_COMPACTION_MODE_LATCH:j=On.ALPHA;break}break}V!==""&&b.append(V),I++}}static byteCompaction(d,m,g,b,j){let C=new of,I=0,F=0,V=!1;switch(d){case ft.BYTE_COMPACTION_MODE_LATCH:let te=new Int32Array(6),ce=m[b++];for(;b<m[0]&&!V;)switch(te[I++]=ce,F=900*F+ce,ce=m[b++],ce){case ft.TEXT_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH:case ft.NUMERIC_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH_6:case ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ft.MACRO_PDF417_TERMINATOR:b--,V=!0;break;default:if(I%5===0&&I>0){for(let be=0;be<6;++be)C.write(Number(ci(F)>>ci(8*(5-be))));F=0,I=0}break}b===m[0]&&ce<ft.TEXT_COMPACTION_MODE_LATCH&&(te[I++]=ce);for(let be=0;be<I;be++)C.write(te[be]);break;case ft.BYTE_COMPACTION_MODE_LATCH_6:for(;b<m[0]&&!V;){let be=m[b++];if(be<ft.TEXT_COMPACTION_MODE_LATCH)I++,F=900*F+be;else switch(be){case ft.TEXT_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH:case ft.NUMERIC_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH_6:case ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ft.MACRO_PDF417_TERMINATOR:b--,V=!0;break}if(I%5===0&&I>0){for(let Me=0;Me<6;++Me)C.write(Number(ci(F)>>ci(8*(5-Me))));F=0,I=0}}break}return j.append(q.decode(C.toByteArray(),g)),b}static numericCompaction(d,m,g){let b=0,j=!1,C=new Int32Array(ft.MAX_NUMERIC_CODEWORDS);for(;m<d[0]&&!j;){let I=d[m++];if(m===d[0]&&(j=!0),I<ft.TEXT_COMPACTION_MODE_LATCH)C[b]=I,b++;else switch(I){case ft.TEXT_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH:case ft.BYTE_COMPACTION_MODE_LATCH_6:case ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ft.MACRO_PDF417_TERMINATOR:m--,j=!0;break}(b%ft.MAX_NUMERIC_CODEWORDS===0||I===ft.NUMERIC_COMPACTION_MODE_LATCH||j)&&b>0&&(g.append(ft.decodeBase900toBase10(C,b)),b=0)}return m}static decodeBase900toBase10(d,m){let g=ci(0);for(let j=0;j<m;j++)g+=ft.EXP900[m-j-1]*ci(d[j]);let b=g.toString();if(b.charAt(0)!=="1")throw new B;return b.substring(1)}}ft.TEXT_COMPACTION_MODE_LATCH=900,ft.BYTE_COMPACTION_MODE_LATCH=901,ft.NUMERIC_COMPACTION_MODE_LATCH=902,ft.BYTE_COMPACTION_MODE_LATCH_6=924,ft.ECI_USER_DEFINED=925,ft.ECI_GENERAL_PURPOSE=926,ft.ECI_CHARSET=927,ft.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ft.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ft.MACRO_PDF417_TERMINATOR=922,ft.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ft.MAX_NUMERIC_CODEWORDS=15,ft.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ft.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ft.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ft.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ft.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ft.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ft.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ft.PL=25,ft.LL=27,ft.AS=27,ft.ML=28,ft.AL=28,ft.PS=29,ft.PAL=29,ft.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ft.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ft.EXP900=Zo()?fl():[],ft.NUMBER_OF_SEQUENCE_CODEWORDS=2;class z{constructor(){}static decode(d,m,g,b,j,C,I){let F=new zl(d,m,g,b,j),V=null,te=null,ce;for(let He=!0;;He=!1){if(m!=null&&(V=z.getRowIndicatorColumn(d,F,m,!0,C,I)),b!=null&&(te=z.getRowIndicatorColumn(d,F,b,!1,C,I)),ce=z.merge(V,te),ce==null)throw J.getNotFoundInstance();let Ke=ce.getBoundingBox();if(He&&Ke!=null&&(Ke.getMinY()<F.getMinY()||Ke.getMaxY()>F.getMaxY()))F=Ke;else break}ce.setBoundingBox(F);let be=ce.getBarcodeColumnCount()+1;ce.setDetectionResultColumn(0,V),ce.setDetectionResultColumn(be,te);let Me=V!=null;for(let He=1;He<=be;He++){let Ke=Me?He:be-He;if(ce.getDetectionResultColumn(Ke)!==void 0)continue;let tt;Ke===0||Ke===be?tt=new lh(F,Ke===0):tt=new no(F),ce.setDetectionResultColumn(Ke,tt);let ut=-1,St=ut;for(let Pt=F.getMinY();Pt<=F.getMaxY();Pt++){if(ut=z.getStartColumn(ce,Ke,Pt,Me),ut<0||ut>F.getMaxX()){if(St===-1)continue;ut=St}let At=z.detectCodeword(d,F.getMinX(),F.getMaxX(),Me,ut,Pt,C,I);At!=null&&(tt.setCodeword(Pt,At),St=ut,C=Math.min(C,At.getWidth()),I=Math.max(I,At.getWidth()))}}return z.createDecoderResult(ce)}static merge(d,m){if(d==null&&m==null)return null;let g=z.getBarcodeMetadata(d,m);if(g==null)return null;let b=zl.merge(z.adjustBoundingBox(d),z.adjustBoundingBox(m));return new Mc(g,b)}static adjustBoundingBox(d){if(d==null)return null;let m=d.getRowHeights();if(m==null)return null;let g=z.getMax(m),b=0;for(let I of m)if(b+=g-I,I>0)break;let j=d.getCodewords();for(let I=0;b>0&&j[I]==null;I++)b--;let C=0;for(let I=m.length-1;I>=0&&(C+=g-m[I],!(m[I]>0));I--);for(let I=j.length-1;C>0&&j[I]==null;I--)C--;return d.getBoundingBox().addMissingRows(b,C,d.isLeft())}static getMax(d){let m=-1;for(let g of d)m=Math.max(m,g);return m}static getBarcodeMetadata(d,m){let g;if(d==null||(g=d.getBarcodeMetadata())==null)return m==null?null:m.getBarcodeMetadata();let b;return m==null||(b=m.getBarcodeMetadata())==null?g:g.getColumnCount()!==b.getColumnCount()&&g.getErrorCorrectionLevel()!==b.getErrorCorrectionLevel()&&g.getRowCount()!==b.getRowCount()?null:g}static getRowIndicatorColumn(d,m,g,b,j,C){let I=new lh(m,b);for(let F=0;F<2;F++){let V=F===0?1:-1,te=Math.trunc(Math.trunc(g.getX()));for(let ce=Math.trunc(Math.trunc(g.getY()));ce<=m.getMaxY()&&ce>=m.getMinY();ce+=V){let be=z.detectCodeword(d,0,d.getWidth(),b,te,ce,j,C);be!=null&&(I.setCodeword(ce,be),b?te=be.getStartX():te=be.getEndX())}}return I}static adjustCodewordCount(d,m){let g=m[0][1],b=g.getValue(),j=d.getBarcodeColumnCount()*d.getBarcodeRowCount()-z.getNumberOfECCodeWords(d.getBarcodeECLevel());if(b.length===0){if(j<1||j>en.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();g.setValue(j)}else b[0]!==j&&g.setValue(j)}static createDecoderResult(d){let m=z.createBarcodeMatrix(d);z.adjustCodewordCount(d,m);let g=new Array,b=new Int32Array(d.getBarcodeRowCount()*d.getBarcodeColumnCount()),j=[],C=new Array;for(let F=0;F<d.getBarcodeRowCount();F++)for(let V=0;V<d.getBarcodeColumnCount();V++){let te=m[F][V+1].getValue(),ce=F*d.getBarcodeColumnCount()+V;te.length===0?g.push(ce):te.length===1?b[ce]=te[0]:(C.push(ce),j.push(te))}let I=new Array(j.length);for(let F=0;F<I.length;F++)I[F]=j[F];return z.createDecoderResultFromAmbiguousValues(d.getBarcodeECLevel(),b,en.toIntArray(g),en.toIntArray(C),I)}static createDecoderResultFromAmbiguousValues(d,m,g,b,j){let C=new Int32Array(b.length),I=100;for(;I-- >0;){for(let F=0;F<C.length;F++)m[b[F]]=j[F][C[F]];try{return z.decodeCodewords(m,d,g)}catch(F){if(!(F instanceof v))throw F}if(C.length===0)throw v.getChecksumInstance();for(let F=0;F<C.length;F++)if(C[F]<j[F].length-1){C[F]++;break}else if(C[F]=0,F===C.length-1)throw v.getChecksumInstance()}throw v.getChecksumInstance()}static createBarcodeMatrix(d){let m=Array.from({length:d.getBarcodeRowCount()},()=>new Array(d.getBarcodeColumnCount()+2));for(let b=0;b<m.length;b++)for(let j=0;j<m[b].length;j++)m[b][j]=new cc;let g=0;for(let b of d.getDetectionResultColumns()){if(b!=null){for(let j of b.getCodewords())if(j!=null){let C=j.getRowNumber();if(C>=0){if(C>=m.length)continue;m[C][g].setValue(j.getValue())}}}g++}return m}static isValidBarcodeColumn(d,m){return m>=0&&m<=d.getBarcodeColumnCount()+1}static getStartColumn(d,m,g,b){let j=b?1:-1,C=null;if(z.isValidBarcodeColumn(d,m-j)&&(C=d.getDetectionResultColumn(m-j).getCodeword(g)),C!=null)return b?C.getEndX():C.getStartX();if(C=d.getDetectionResultColumn(m).getCodewordNearby(g),C!=null)return b?C.getStartX():C.getEndX();if(z.isValidBarcodeColumn(d,m-j)&&(C=d.getDetectionResultColumn(m-j).getCodewordNearby(g)),C!=null)return b?C.getEndX():C.getStartX();let I=0;for(;z.isValidBarcodeColumn(d,m-j);){m-=j;for(let F of d.getDetectionResultColumn(m).getCodewords())if(F!=null)return(b?F.getEndX():F.getStartX())+j*I*(F.getEndX()-F.getStartX());I++}return b?d.getBoundingBox().getMinX():d.getBoundingBox().getMaxX()}static detectCodeword(d,m,g,b,j,C,I,F){j=z.adjustCodewordStartColumn(d,m,g,b,j,C);let V=z.getModuleBitCount(d,m,g,b,j,C);if(V==null)return null;let te,ce=mt.sum(V);if(b)te=j+ce;else{for(let He=0;He<V.length/2;He++){let Ke=V[He];V[He]=V[V.length-1-He],V[V.length-1-He]=Ke}te=j,j=te-ce}if(!z.checkCodewordSkew(ce,I,F))return null;let be=li.getDecodedValue(V),Me=en.getCodeword(be);return Me===-1?null:new Ko(j,te,z.getCodewordBucketNumber(be),Me)}static getModuleBitCount(d,m,g,b,j,C){let I=j,F=new Int32Array(8),V=0,te=b?1:-1,ce=b;for(;(b?I<g:I>=m)&&V<F.length;)d.get(I,C)===ce?(F[V]++,I+=te):(V++,ce=!ce);return V===F.length||I===(b?g:m)&&V===F.length-1?F:null}static getNumberOfECCodeWords(d){return 2<<d}static adjustCodewordStartColumn(d,m,g,b,j,C){let I=j,F=b?-1:1;for(let V=0;V<2;V++){for(;(b?I>=m:I<g)&&b===d.get(I,C);){if(Math.abs(j-I)>z.CODEWORD_SKEW_SIZE)return j;I+=F}F=-F,b=!b}return I}static checkCodewordSkew(d,m,g){return m-z.CODEWORD_SKEW_SIZE<=d&&d<=g+z.CODEWORD_SKEW_SIZE}static decodeCodewords(d,m,g){if(d.length===0)throw B.getFormatInstance();let b=1<<m+1,j=z.correctErrors(d,g,b);z.verifyCodewordCount(d,b);let C=ft.decode(d,""+m);return C.setErrorsCorrected(j),C.setErasures(g.length),C}static correctErrors(d,m,g){if(m!=null&&m.length>g/2+z.MAX_ERRORS||g<0||g>z.MAX_EC_CODEWORDS)throw v.getChecksumInstance();return z.errorCorrection.decode(d,g,m)}static verifyCodewordCount(d,m){if(d.length<4)throw B.getFormatInstance();let g=d[0];if(g>d.length)throw B.getFormatInstance();if(g===0)if(m<d.length)d[0]=d.length-m;else throw B.getFormatInstance()}static getBitCountForCodeword(d){let m=new Int32Array(8),g=0,b=m.length-1;for(;!((d&1)!==g&&(g=d&1,b--,b<0));)m[b]++,d>>=1;return m}static getCodewordBucketNumber(d){return d instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(d):this.getCodewordBucketNumber_number(d)}static getCodewordBucketNumber_number(d){return z.getCodewordBucketNumber(z.getBitCountForCodeword(d))}static getCodewordBucketNumber_Int32Array(d){return(d[0]-d[2]+d[4]-d[6]+9)%9}static toString(d){let m=new No;for(let g=0;g<d.length;g++){m.format("Row %2d: ",g);for(let b=0;b<d[g].length;b++){let j=d[g][b];j.getValue().length===0?m.format("        ",null):m.format("%4d(%2d)",j.getValue()[0],j.getConfidence(j.getValue()[0]))}m.format("%n")}return m.toString()}}z.CODEWORD_SKEW_SIZE=2,z.MAX_ERRORS=3,z.MAX_EC_CODEWORDS=512,z.errorCorrection=new pu;class he{decode(d,m=null){let g=he.decode(d,m,!1);if(g==null||g.length===0||g[0]==null)throw J.getNotFoundInstance();return g[0]}decodeMultiple(d,m=null){try{return he.decode(d,m,!0)}catch(g){throw g instanceof B||g instanceof v?J.getNotFoundInstance():g}}static decode(d,m,g){const b=new Array,j=Qr.detectMultiple(d,m,g);for(const C of j.getPoints()){const I=z.decode(j.getBits(),C[4],C[5],C[6],C[7],he.getMinCodewordWidth(C),he.getMaxCodewordWidth(C)),F=new ue(I.getText(),I.getRawBytes(),void 0,C,Ce.PDF_417);F.putMetadata(de.ERROR_CORRECTION_LEVEL,I.getECLevel());const V=I.getOther();V!=null&&F.putMetadata(de.PDF417_EXTRA_METADATA,V),b.push(F)}return b.map(C=>C)}static getMaxWidth(d,m){return d==null||m==null?0:Math.trunc(Math.abs(d.getX()-m.getX()))}static getMinWidth(d,m){return d==null||m==null?T.MAX_VALUE:Math.trunc(Math.abs(d.getX()-m.getX()))}static getMaxCodewordWidth(d){return Math.floor(Math.max(Math.max(he.getMaxWidth(d[0],d[4]),he.getMaxWidth(d[6],d[2])*en.MODULES_IN_CODEWORD/en.MODULES_IN_STOP_PATTERN),Math.max(he.getMaxWidth(d[1],d[5]),he.getMaxWidth(d[7],d[3])*en.MODULES_IN_CODEWORD/en.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(d){return Math.floor(Math.min(Math.min(he.getMinWidth(d[0],d[4]),he.getMinWidth(d[6],d[2])*en.MODULES_IN_CODEWORD/en.MODULES_IN_STOP_PATTERN),Math.min(he.getMinWidth(d[1],d[5]),he.getMinWidth(d[7],d[3])*en.MODULES_IN_CODEWORD/en.MODULES_IN_STOP_PATTERN)))}reset(){}}class De extends u{}De.kind="ReaderException";class We{constructor(d,m){this.verbose=d===!0,m&&this.setHints(m)}decode(d,m){return m&&this.setHints(m),this.decodeInternal(d)}decodeWithState(d){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(d)}setHints(d){this.hints=d;const m=!n(d)&&d.get(L.TRY_HARDER)===!0,g=n(d)?null:d.get(L.POSSIBLE_FORMATS),b=new Array;if(!n(g)){const j=g.some(C=>C===Ce.UPC_A||C===Ce.UPC_E||C===Ce.EAN_13||C===Ce.EAN_8||C===Ce.CODABAR||C===Ce.CODE_39||C===Ce.CODE_93||C===Ce.CODE_128||C===Ce.ITF||C===Ce.RSS_14||C===Ce.RSS_EXPANDED);j&&!m&&b.push(new Pc(d,this.verbose)),g.includes(Ce.QR_CODE)&&b.push(new Sa),g.includes(Ce.DATA_MATRIX)&&b.push(new Oi),g.includes(Ce.AZTEC)&&b.push(new tr),g.includes(Ce.PDF_417)&&b.push(new he),j&&m&&b.push(new Pc(d,this.verbose))}b.length===0&&(m||b.push(new Pc(d,this.verbose)),b.push(new Sa),b.push(new Oi),b.push(new tr),b.push(new he),m&&b.push(new Pc(d,this.verbose))),this.readers=b}reset(){if(this.readers!==null)for(const d of this.readers)d.reset()}decodeInternal(d){if(this.readers===null)throw new De("No readers where selected, nothing can be read.");for(const m of this.readers)try{return m.decode(d,this.hints)}catch(g){if(g instanceof De)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class rt extends se{constructor(d=null,m=500){const g=new We;g.setHints(d),super(g,m)}decodeBitmap(d){return this.reader.decodeWithState(d)}}class jt extends se{constructor(d=500){super(new he,d)}}class Ut extends se{constructor(d=500){super(new Sa,d)}}var br;(function(le){le[le.ERROR_CORRECTION=0]="ERROR_CORRECTION",le[le.CHARACTER_SET=1]="CHARACTER_SET",le[le.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",le[le.MIN_SIZE=3]="MIN_SIZE",le[le.MAX_SIZE=4]="MAX_SIZE",le[le.MARGIN=5]="MARGIN",le[le.PDF417_COMPACT=6]="PDF417_COMPACT",le[le.PDF417_COMPACTION=7]="PDF417_COMPACTION",le[le.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",le[le.AZTEC_LAYERS=9]="AZTEC_LAYERS",le[le.QR_VERSION=10]="QR_VERSION"})(br||(br={}));var nr=br;class rn{constructor(d){this.field=d,this.cachedGenerators=[],this.cachedGenerators.push(new ze(d,Int32Array.from([1])))}buildGenerator(d){const m=this.cachedGenerators;if(d>=m.length){let g=m[m.length-1];const b=this.field;for(let j=m.length;j<=d;j++){const C=g.multiply(new ze(b,Int32Array.from([1,b.exp(j-1+b.getGeneratorBase())])));m.push(C),g=C}}return m[d]}encode(d,m){if(m===0)throw new f("No error correction bytes");const g=d.length-m;if(g<=0)throw new f("No data bytes provided");const b=this.buildGenerator(m),j=new Int32Array(g);w.arraycopy(d,0,j,0,g);let C=new ze(this.field,j);C=C.multiplyByMonomial(m,1);const F=C.divide(b)[1].getCoefficients(),V=m-F.length;for(let te=0;te<V;te++)d[g+te]=0;w.arraycopy(F,0,d,g+V,F.length)}}class pr{constructor(){}static applyMaskPenaltyRule1(d){return pr.applyMaskPenaltyRule1Internal(d,!0)+pr.applyMaskPenaltyRule1Internal(d,!1)}static applyMaskPenaltyRule2(d){let m=0;const g=d.getArray(),b=d.getWidth(),j=d.getHeight();for(let C=0;C<j-1;C++){const I=g[C];for(let F=0;F<b-1;F++){const V=I[F];V===I[F+1]&&V===g[C+1][F]&&V===g[C+1][F+1]&&m++}}return pr.N2*m}static applyMaskPenaltyRule3(d){let m=0;const g=d.getArray(),b=d.getWidth(),j=d.getHeight();for(let C=0;C<j;C++)for(let I=0;I<b;I++){const F=g[C];I+6<b&&F[I]===1&&F[I+1]===0&&F[I+2]===1&&F[I+3]===1&&F[I+4]===1&&F[I+5]===0&&F[I+6]===1&&(pr.isWhiteHorizontal(F,I-4,I)||pr.isWhiteHorizontal(F,I+7,I+11))&&m++,C+6<j&&g[C][I]===1&&g[C+1][I]===0&&g[C+2][I]===1&&g[C+3][I]===1&&g[C+4][I]===1&&g[C+5][I]===0&&g[C+6][I]===1&&(pr.isWhiteVertical(g,I,C-4,C)||pr.isWhiteVertical(g,I,C+7,C+11))&&m++}return m*pr.N3}static isWhiteHorizontal(d,m,g){m=Math.max(m,0),g=Math.min(g,d.length);for(let b=m;b<g;b++)if(d[b]===1)return!1;return!0}static isWhiteVertical(d,m,g,b){g=Math.max(g,0),b=Math.min(b,d.length);for(let j=g;j<b;j++)if(d[j][m]===1)return!1;return!0}static applyMaskPenaltyRule4(d){let m=0;const g=d.getArray(),b=d.getWidth(),j=d.getHeight();for(let F=0;F<j;F++){const V=g[F];for(let te=0;te<b;te++)V[te]===1&&m++}const C=d.getHeight()*d.getWidth();return Math.floor(Math.abs(m*2-C)*10/C)*pr.N4}static getDataMaskBit(d,m,g){let b,j;switch(d){case 0:b=g+m&1;break;case 1:b=g&1;break;case 2:b=m%3;break;case 3:b=(g+m)%3;break;case 4:b=Math.floor(g/2)+Math.floor(m/3)&1;break;case 5:j=g*m,b=(j&1)+j%3;break;case 6:j=g*m,b=(j&1)+j%3&1;break;case 7:j=g*m,b=j%3+(g+m&1)&1;break;default:throw new f("Invalid mask pattern: "+d)}return b===0}static applyMaskPenaltyRule1Internal(d,m){let g=0;const b=m?d.getHeight():d.getWidth(),j=m?d.getWidth():d.getHeight(),C=d.getArray();for(let I=0;I<b;I++){let F=0,V=-1;for(let te=0;te<j;te++){const ce=m?C[I][te]:C[te][I];ce===V?F++:(F>=5&&(g+=pr.N1+(F-5)),F=1,V=ce)}F>=5&&(g+=pr.N1+(F-5))}return g}}pr.N1=3,pr.N2=3,pr.N3=40,pr.N4=10;class Kn{constructor(d,m){this.width=d,this.height=m;const g=new Array(m);for(let b=0;b!==m;b++)g[b]=new Uint8Array(d);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(d,m){return this.bytes[m][d]}getArray(){return this.bytes}setNumber(d,m,g){this.bytes[m][d]=g}setBoolean(d,m,g){this.bytes[m][d]=g?1:0}clear(d){for(const m of this.bytes)E.fill(m,d)}equals(d){if(!(d instanceof Kn))return!1;const m=d;if(this.width!==m.width||this.height!==m.height)return!1;for(let g=0,b=this.height;g<b;++g){const j=this.bytes[g],C=m.bytes[g];for(let I=0,F=this.width;I<F;++I)if(j[I]!==C[I])return!1}return!0}toString(){const d=new Q;for(let m=0,g=this.height;m<g;++m){const b=this.bytes[m];for(let j=0,C=this.width;j<C;++j)switch(b[j]){case 0:d.append(" 0");break;case 1:d.append(" 1");break;default:d.append("  ");break}d.append(`
`)}return d.toString()}}class bs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const d=new Q;return d.append(`<<
`),d.append(" mode: "),d.append(this.mode?this.mode.toString():"null"),d.append(`
 ecLevel: `),d.append(this.ecLevel?this.ecLevel.toString():"null"),d.append(`
 version: `),d.append(this.version?this.version.toString():"null"),d.append(`
 maskPattern: `),d.append(this.maskPattern.toString()),this.matrix?(d.append(`
 matrix:
`),d.append(this.matrix.toString())):d.append(`
 matrix: null
`),d.append(`>>
`),d.toString()}setMode(d){this.mode=d}setECLevel(d){this.ecLevel=d}setVersion(d){this.version=d}setMaskPattern(d){this.maskPattern=d}setMatrix(d){this.matrix=d}static isValidMaskPattern(d){return d>=0&&d<bs.NUM_MASK_PATTERNS}}bs.NUM_MASK_PATTERNS=8;class hn extends u{}hn.kind="WriterException";class ir{constructor(){}static clearMatrix(d){d.clear(255)}static buildMatrix(d,m,g,b,j){ir.clearMatrix(j),ir.embedBasicPatterns(g,j),ir.embedTypeInfo(m,b,j),ir.maybeEmbedVersionInfo(g,j),ir.embedDataBits(d,b,j)}static embedBasicPatterns(d,m){ir.embedPositionDetectionPatternsAndSeparators(m),ir.embedDarkDotAtLeftBottomCorner(m),ir.maybeEmbedPositionAdjustmentPatterns(d,m),ir.embedTimingPatterns(m)}static embedTypeInfo(d,m,g){const b=new M;ir.makeTypeInfoBits(d,m,b);for(let j=0,C=b.getSize();j<C;++j){const I=b.get(b.getSize()-1-j),F=ir.TYPE_INFO_COORDINATES[j],V=F[0],te=F[1];if(g.setBoolean(V,te,I),j<8){const ce=g.getWidth()-j-1;g.setBoolean(ce,8,I)}else{const be=g.getHeight()-7+(j-8);g.setBoolean(8,be,I)}}}static maybeEmbedVersionInfo(d,m){if(d.getVersionNumber()<7)return;const g=new M;ir.makeVersionInfoBits(d,g);let b=17;for(let j=0;j<6;++j)for(let C=0;C<3;++C){const I=g.get(b);b--,m.setBoolean(j,m.getHeight()-11+C,I),m.setBoolean(m.getHeight()-11+C,j,I)}}static embedDataBits(d,m,g){let b=0,j=-1,C=g.getWidth()-1,I=g.getHeight()-1;for(;C>0;){for(C===6&&(C-=1);I>=0&&I<g.getHeight();){for(let F=0;F<2;++F){const V=C-F;if(!ir.isEmpty(g.get(V,I)))continue;let te;b<d.getSize()?(te=d.get(b),++b):te=!1,m!==255&&pr.getDataMaskBit(m,V,I)&&(te=!te),g.setBoolean(V,I,te)}I+=j}j=-j,I+=j,C-=2}if(b!==d.getSize())throw new hn("Not all bits consumed: "+b+"/"+d.getSize())}static findMSBSet(d){return 32-T.numberOfLeadingZeros(d)}static calculateBCHCode(d,m){if(m===0)throw new f("0 polynomial");const g=ir.findMSBSet(m);for(d<<=g-1;ir.findMSBSet(d)>=g;)d^=m<<ir.findMSBSet(d)-g;return d}static makeTypeInfoBits(d,m,g){if(!bs.isValidMaskPattern(m))throw new hn("Invalid mask pattern");const b=d.getBits()<<3|m;g.appendBits(b,5);const j=ir.calculateBCHCode(b,ir.TYPE_INFO_POLY);g.appendBits(j,10);const C=new M;if(C.appendBits(ir.TYPE_INFO_MASK_PATTERN,15),g.xor(C),g.getSize()!==15)throw new hn("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(d,m){m.appendBits(d.getVersionNumber(),6);const g=ir.calculateBCHCode(d.getVersionNumber(),ir.VERSION_INFO_POLY);if(m.appendBits(g,12),m.getSize()!==18)throw new hn("should not happen but we got: "+m.getSize())}static isEmpty(d){return d===255}static embedTimingPatterns(d){for(let m=8;m<d.getWidth()-8;++m){const g=(m+1)%2;ir.isEmpty(d.get(m,6))&&d.setNumber(m,6,g),ir.isEmpty(d.get(6,m))&&d.setNumber(6,m,g)}}static embedDarkDotAtLeftBottomCorner(d){if(d.get(8,d.getHeight()-8)===0)throw new hn;d.setNumber(8,d.getHeight()-8,1)}static embedHorizontalSeparationPattern(d,m,g){for(let b=0;b<8;++b){if(!ir.isEmpty(g.get(d+b,m)))throw new hn;g.setNumber(d+b,m,0)}}static embedVerticalSeparationPattern(d,m,g){for(let b=0;b<7;++b){if(!ir.isEmpty(g.get(d,m+b)))throw new hn;g.setNumber(d,m+b,0)}}static embedPositionAdjustmentPattern(d,m,g){for(let b=0;b<5;++b){const j=ir.POSITION_ADJUSTMENT_PATTERN[b];for(let C=0;C<5;++C)g.setNumber(d+C,m+b,j[C])}}static embedPositionDetectionPattern(d,m,g){for(let b=0;b<7;++b){const j=ir.POSITION_DETECTION_PATTERN[b];for(let C=0;C<7;++C)g.setNumber(d+C,m+b,j[C])}}static embedPositionDetectionPatternsAndSeparators(d){const m=ir.POSITION_DETECTION_PATTERN[0].length;ir.embedPositionDetectionPattern(0,0,d),ir.embedPositionDetectionPattern(d.getWidth()-m,0,d),ir.embedPositionDetectionPattern(0,d.getWidth()-m,d);const g=8;ir.embedHorizontalSeparationPattern(0,g-1,d),ir.embedHorizontalSeparationPattern(d.getWidth()-g,g-1,d),ir.embedHorizontalSeparationPattern(0,d.getWidth()-g,d);const b=7;ir.embedVerticalSeparationPattern(b,0,d),ir.embedVerticalSeparationPattern(d.getHeight()-b-1,0,d),ir.embedVerticalSeparationPattern(b,d.getHeight()-b,d)}static maybeEmbedPositionAdjustmentPatterns(d,m){if(d.getVersionNumber()<2)return;const g=d.getVersionNumber()-1,b=ir.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let j=0,C=b.length;j!==C;j++){const I=b[j];if(I>=0)for(let F=0;F!==C;F++){const V=b[F];V>=0&&ir.isEmpty(m.get(V,I))&&ir.embedPositionAdjustmentPattern(V-2,I-2,m)}}}}ir.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ir.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ir.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ir.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ir.VERSION_INFO_POLY=7973,ir.TYPE_INFO_POLY=1335,ir.TYPE_INFO_MASK_PATTERN=21522;class Qi{constructor(d,m){this.dataBytes=d,this.errorCorrectionBytes=m}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class pn{constructor(){}static calculateMaskPenalty(d){return pr.applyMaskPenaltyRule1(d)+pr.applyMaskPenaltyRule2(d)+pr.applyMaskPenaltyRule3(d)+pr.applyMaskPenaltyRule4(d)}static encode(d,m,g=null){let b=pn.DEFAULT_BYTE_MODE_ENCODING;const j=g!==null&&g.get(nr.CHARACTER_SET)!==void 0;j&&(b=g.get(nr.CHARACTER_SET).toString());const C=this.chooseMode(d,b),I=new M;if(C===Br.BYTE&&(j||pn.DEFAULT_BYTE_MODE_ENCODING!==b)){const Pt=$.getCharacterSetECIByName(b);Pt!==void 0&&this.appendECI(Pt,I)}this.appendModeInfo(C,I);const F=new M;this.appendBytes(d,C,F,b);let V;if(g!==null&&g.get(nr.QR_VERSION)!==void 0){const Pt=Number.parseInt(g.get(nr.QR_VERSION).toString(),10);V=vr.getVersionForNumber(Pt);const At=this.calculateBitsNeeded(C,I,F,V);if(!this.willFit(At,V,m))throw new hn("Data too big for requested version")}else V=this.recommendVersion(m,C,I,F);const te=new M;te.appendBitArray(I);const ce=C===Br.BYTE?F.getSizeInBytes():d.length;this.appendLengthInfo(ce,V,C,te),te.appendBitArray(F);const be=V.getECBlocksForLevel(m),Me=V.getTotalCodewords()-be.getTotalECCodewords();this.terminateBits(Me,te);const He=this.interleaveWithECBytes(te,V.getTotalCodewords(),Me,be.getNumBlocks()),Ke=new bs;Ke.setECLevel(m),Ke.setMode(C),Ke.setVersion(V);const tt=V.getDimensionForVersion(),ut=new Kn(tt,tt),St=this.chooseMaskPattern(He,m,V,ut);return Ke.setMaskPattern(St),ir.buildMatrix(He,m,V,St,ut),Ke.setMatrix(ut),Ke}static recommendVersion(d,m,g,b){const j=this.calculateBitsNeeded(m,g,b,vr.getVersionForNumber(1)),C=this.chooseVersion(j,d),I=this.calculateBitsNeeded(m,g,b,C);return this.chooseVersion(I,d)}static calculateBitsNeeded(d,m,g,b){return m.getSize()+d.getCharacterCountBits(b)+g.getSize()}static getAlphanumericCode(d){return d<pn.ALPHANUMERIC_TABLE.length?pn.ALPHANUMERIC_TABLE[d]:-1}static chooseMode(d,m=null){if($.SJIS.getName()===m&&this.isOnlyDoubleByteKanji(d))return Br.KANJI;let g=!1,b=!1;for(let j=0,C=d.length;j<C;++j){const I=d.charAt(j);if(pn.isDigit(I))g=!0;else if(this.getAlphanumericCode(I.charCodeAt(0))!==-1)b=!0;else return Br.BYTE}return b?Br.ALPHANUMERIC:g?Br.NUMERIC:Br.BYTE}static isOnlyDoubleByteKanji(d){let m;try{m=q.encode(d,$.SJIS)}catch{return!1}const g=m.length;if(g%2!==0)return!1;for(let b=0;b<g;b+=2){const j=m[b]&255;if((j<129||j>159)&&(j<224||j>235))return!1}return!0}static chooseMaskPattern(d,m,g,b){let j=Number.MAX_SAFE_INTEGER,C=-1;for(let I=0;I<bs.NUM_MASK_PATTERNS;I++){ir.buildMatrix(d,m,g,I,b);let F=this.calculateMaskPenalty(b);F<j&&(j=F,C=I)}return C}static chooseVersion(d,m){for(let g=1;g<=40;g++){const b=vr.getVersionForNumber(g);if(pn.willFit(d,b,m))return b}throw new hn("Data too big")}static willFit(d,m,g){const b=m.getTotalCodewords(),C=m.getECBlocksForLevel(g).getTotalECCodewords(),I=b-C,F=(d+7)/8;return I>=F}static terminateBits(d,m){const g=d*8;if(m.getSize()>g)throw new hn("data bits cannot fit in the QR Code"+m.getSize()+" > "+g);for(let C=0;C<4&&m.getSize()<g;++C)m.appendBit(!1);const b=m.getSize()&7;if(b>0)for(let C=b;C<8;C++)m.appendBit(!1);const j=d-m.getSizeInBytes();for(let C=0;C<j;++C)m.appendBits((C&1)===0?236:17,8);if(m.getSize()!==g)throw new hn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(d,m,g,b,j,C){if(b>=g)throw new hn("Block ID too large");const I=d%g,F=g-I,V=Math.floor(d/g),te=V+1,ce=Math.floor(m/g),be=ce+1,Me=V-ce,He=te-be;if(Me!==He)throw new hn("EC bytes mismatch");if(g!==F+I)throw new hn("RS blocks mismatch");if(d!==(ce+Me)*F+(be+He)*I)throw new hn("Total bytes mismatch");b<F?(j[0]=ce,C[0]=Me):(j[0]=be,C[0]=He)}static interleaveWithECBytes(d,m,g,b){if(d.getSizeInBytes()!==g)throw new hn("Number of bits and data bytes does not match");let j=0,C=0,I=0;const F=new Array;for(let te=0;te<b;++te){const ce=new Int32Array(1),be=new Int32Array(1);pn.getNumDataBytesAndNumECBytesForBlockID(m,g,b,te,ce,be);const Me=ce[0],He=new Uint8Array(Me);d.toBytes(8*j,He,0,Me);const Ke=pn.generateECBytes(He,be[0]);F.push(new Qi(He,Ke)),C=Math.max(C,Me),I=Math.max(I,Ke.length),j+=ce[0]}if(g!==j)throw new hn("Data bytes does not match offset");const V=new M;for(let te=0;te<C;++te)for(const ce of F){const be=ce.getDataBytes();te<be.length&&V.appendBits(be[te],8)}for(let te=0;te<I;++te)for(const ce of F){const be=ce.getErrorCorrectionBytes();te<be.length&&V.appendBits(be[te],8)}if(m!==V.getSizeInBytes())throw new hn("Interleaving error: "+m+" and "+V.getSizeInBytes()+" differ.");return V}static generateECBytes(d,m){const g=d.length,b=new Int32Array(g+m);for(let C=0;C<g;C++)b[C]=d[C]&255;new rn($e.QR_CODE_FIELD_256).encode(b,m);const j=new Uint8Array(m);for(let C=0;C<m;C++)j[C]=b[g+C];return j}static appendModeInfo(d,m){m.appendBits(d.getBits(),4)}static appendLengthInfo(d,m,g,b){const j=g.getCharacterCountBits(m);if(d>=1<<j)throw new hn(d+" is bigger than "+((1<<j)-1));b.appendBits(d,j)}static appendBytes(d,m,g,b){switch(m){case Br.NUMERIC:pn.appendNumericBytes(d,g);break;case Br.ALPHANUMERIC:pn.appendAlphanumericBytes(d,g);break;case Br.BYTE:pn.append8BitBytes(d,g,b);break;case Br.KANJI:pn.appendKanjiBytes(d,g);break;default:throw new hn("Invalid mode: "+m)}}static getDigit(d){return d.charCodeAt(0)-48}static isDigit(d){const m=pn.getDigit(d);return m>=0&&m<=9}static appendNumericBytes(d,m){const g=d.length;let b=0;for(;b<g;){const j=pn.getDigit(d.charAt(b));if(b+2<g){const C=pn.getDigit(d.charAt(b+1)),I=pn.getDigit(d.charAt(b+2));m.appendBits(j*100+C*10+I,10),b+=3}else if(b+1<g){const C=pn.getDigit(d.charAt(b+1));m.appendBits(j*10+C,7),b+=2}else m.appendBits(j,4),b++}}static appendAlphanumericBytes(d,m){const g=d.length;let b=0;for(;b<g;){const j=pn.getAlphanumericCode(d.charCodeAt(b));if(j===-1)throw new hn;if(b+1<g){const C=pn.getAlphanumericCode(d.charCodeAt(b+1));if(C===-1)throw new hn;m.appendBits(j*45+C,11),b+=2}else m.appendBits(j,6),b++}}static append8BitBytes(d,m,g){let b;try{b=q.encode(d,g)}catch(j){throw new hn(j)}for(let j=0,C=b.length;j!==C;j++){const I=b[j];m.appendBits(I,8)}}static appendKanjiBytes(d,m){let g;try{g=q.encode(d,$.SJIS)}catch(j){throw new hn(j)}const b=g.length;for(let j=0;j<b;j+=2){const C=g[j]&255,I=g[j+1]&255,F=C<<8&4294967295|I;let V=-1;if(F>=33088&&F<=40956?V=F-33088:F>=57408&&F<=60351&&(V=F-49472),V===-1)throw new hn("Invalid byte sequence");const te=(V>>8)*192+(V&255);m.appendBits(te,13)}}static appendECI(d,m){m.appendBits(Br.ECI.getBits(),4),m.appendBits(d.getValue(),8)}}pn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),pn.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class ui{write(d,m,g,b=null){if(d.length===0)throw new f("Found empty contents");if(m<0||g<0)throw new f("Requested dimensions are too small: "+m+"x"+g);let j=ss.L,C=ui.QUIET_ZONE_SIZE;b!==null&&(b.get(nr.ERROR_CORRECTION)!==void 0&&(j=ss.fromString(b.get(nr.ERROR_CORRECTION).toString())),b.get(nr.MARGIN)!==void 0&&(C=Number.parseInt(b.get(nr.MARGIN).toString(),10)));const I=pn.encode(d,j,b);return this.renderResult(I,m,g,C)}writeToDom(d,m,g,b,j=null){typeof d=="string"&&(d=document.querySelector(d));const C=this.write(m,g,b,j);d&&d.appendChild(C)}renderResult(d,m,g,b){const j=d.getMatrix();if(j===null)throw new Ee;const C=j.getWidth(),I=j.getHeight(),F=C+b*2,V=I+b*2,te=Math.max(m,F),ce=Math.max(g,V),be=Math.min(Math.floor(te/F),Math.floor(ce/V)),Me=Math.floor((te-C*be)/2),He=Math.floor((ce-I*be)/2),Ke=this.createSVGElement(te,ce);for(let tt=0,ut=He;tt<I;tt++,ut+=be)for(let St=0,Pt=Me;St<C;St++,Pt+=be)if(j.get(St,tt)===1){const At=this.createSvgRectElement(Pt,ut,be,be);Ke.appendChild(At)}return Ke}createSVGElement(d,m){const g=document.createElementNS(ui.SVG_NS,"svg");return g.setAttributeNS(null,"height",d.toString()),g.setAttributeNS(null,"width",m.toString()),g}createSvgRectElement(d,m,g,b){const j=document.createElementNS(ui.SVG_NS,"rect");return j.setAttributeNS(null,"x",d.toString()),j.setAttributeNS(null,"y",m.toString()),j.setAttributeNS(null,"height",g.toString()),j.setAttributeNS(null,"width",b.toString()),j.setAttributeNS(null,"fill","#000000"),j}}ui.QUIET_ZONE_SIZE=4,ui.SVG_NS="http://www.w3.org/2000/svg";class Ca{encode(d,m,g,b,j){if(d.length===0)throw new f("Found empty contents");if(m!==Ce.QR_CODE)throw new f("Can only encode QR_CODE, but got "+m);if(g<0||b<0)throw new f(`Requested dimensions are too small: ${g}x${b}`);let C=ss.L,I=Ca.QUIET_ZONE_SIZE;j!==null&&(j.get(nr.ERROR_CORRECTION)!==void 0&&(C=ss.fromString(j.get(nr.ERROR_CORRECTION).toString())),j.get(nr.MARGIN)!==void 0&&(I=Number.parseInt(j.get(nr.MARGIN).toString(),10)));const F=pn.encode(d,C,j);return Ca.renderResult(F,g,b,I)}static renderResult(d,m,g,b){const j=d.getMatrix();if(j===null)throw new Ee;const C=j.getWidth(),I=j.getHeight(),F=C+b*2,V=I+b*2,te=Math.max(m,F),ce=Math.max(g,V),be=Math.min(Math.floor(te/F),Math.floor(ce/V)),Me=Math.floor((te-C*be)/2),He=Math.floor((ce-I*be)/2),Ke=new Z(te,ce);for(let tt=0,ut=He;tt<I;tt++,ut+=be)for(let St=0,Pt=Me;St<C;St++,Pt+=be)j.get(St,tt)===1&&Ke.setRegion(Pt,ut,be,be);return Ke}}Ca.QUIET_ZONE_SIZE=4;class jo{encode(d,m,g,b,j){let C;switch(m){case Ce.QR_CODE:C=new Ca;break;default:throw new f("No encoder available for format "+m)}return C.encode(d,m,g,b,j)}}class Qo extends oe{constructor(d,m,g,b,j,C,I,F){if(super(C,I),this.yuvData=d,this.dataWidth=m,this.dataHeight=g,this.left=b,this.top=j,b+C>m||j+I>g)throw new f("Crop rectangle does not fit within image data.");F&&this.reverseHorizontal(C,I)}getRow(d,m){if(d<0||d>=this.getHeight())throw new f("Requested row is outside the image: "+d);const g=this.getWidth();(m==null||m.length<g)&&(m=new Uint8ClampedArray(g));const b=(d+this.top)*this.dataWidth+this.left;return w.arraycopy(this.yuvData,b,m,0,g),m}getMatrix(){const d=this.getWidth(),m=this.getHeight();if(d===this.dataWidth&&m===this.dataHeight)return this.yuvData;const g=d*m,b=new Uint8ClampedArray(g);let j=this.top*this.dataWidth+this.left;if(d===this.dataWidth)return w.arraycopy(this.yuvData,j,b,0,g),b;for(let C=0;C<m;C++){const I=C*d;w.arraycopy(this.yuvData,j,b,I,d),j+=this.dataWidth}return b}isCropSupported(){return!0}crop(d,m,g,b){return new Qo(this.yuvData,this.dataWidth,this.dataHeight,this.left+d,this.top+m,g,b,!1)}renderThumbnail(){const d=this.getWidth()/Qo.THUMBNAIL_SCALE_FACTOR,m=this.getHeight()/Qo.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(d*m),b=this.yuvData;let j=this.top*this.dataWidth+this.left;for(let C=0;C<m;C++){const I=C*d;for(let F=0;F<d;F++){const V=b[j+F*Qo.THUMBNAIL_SCALE_FACTOR]&255;g[I+F]=4278190080|V*65793}j+=this.dataWidth*Qo.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/Qo.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Qo.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(d,m){const g=this.yuvData;for(let b=0,j=this.top*this.dataWidth+this.left;b<m;b++,j+=this.dataWidth){const C=j+d/2;for(let I=j,F=j+d-1;I<C;I++,F--){const V=g[I];g[I]=g[F],g[F]=V}}}invert(){return new re(this)}}Qo.THUMBNAIL_SCALE_FACTOR=2;class uc extends oe{constructor(d,m,g,b,j,C,I){if(super(m,g),this.dataWidth=b,this.dataHeight=j,this.left=C,this.top=I,d.BYTES_PER_ELEMENT===4){const F=m*g,V=new Uint8ClampedArray(F);for(let te=0;te<F;te++){const ce=d[te],be=ce>>16&255,Me=ce>>7&510,He=ce&255;V[te]=(be+Me+He)/4&255}this.luminances=V}else this.luminances=d;if(b===void 0&&(this.dataWidth=m),j===void 0&&(this.dataHeight=g),C===void 0&&(this.left=0),I===void 0&&(this.top=0),this.left+m>this.dataWidth||this.top+g>this.dataHeight)throw new f("Crop rectangle does not fit within image data.")}getRow(d,m){if(d<0||d>=this.getHeight())throw new f("Requested row is outside the image: "+d);const g=this.getWidth();(m==null||m.length<g)&&(m=new Uint8ClampedArray(g));const b=(d+this.top)*this.dataWidth+this.left;return w.arraycopy(this.luminances,b,m,0,g),m}getMatrix(){const d=this.getWidth(),m=this.getHeight();if(d===this.dataWidth&&m===this.dataHeight)return this.luminances;const g=d*m,b=new Uint8ClampedArray(g);let j=this.top*this.dataWidth+this.left;if(d===this.dataWidth)return w.arraycopy(this.luminances,j,b,0,g),b;for(let C=0;C<m;C++){const I=C*d;w.arraycopy(this.luminances,j,b,I,d),j+=this.dataWidth}return b}isCropSupported(){return!0}crop(d,m,g,b){return new uc(this.luminances,g,b,this.dataWidth,this.dataHeight,this.left+d,this.top+m)}invert(){return new re(this)}}class vu extends ${static forName(d){return this.getCharacterSetECIByName(d)}}class dc{}dc.ISO_8859_1=$.ISO8859_1;class bu{isCompact(){return this.compact}setCompact(d){this.compact=d}getSize(){return this.size}setSize(d){this.size=d}getLayers(){return this.layers}setLayers(d){this.layers=d}getCodeWords(){return this.codeWords}setCodeWords(d){this.codeWords=d}getMatrix(){return this.matrix}setMatrix(d){this.matrix=d}}class Dc{static singletonList(d){return[d]}static min(d,m){return d.sort(m)[0]}}class sd{constructor(d){this.previous=d}getPrevious(){return this.previous}}class Mi extends sd{constructor(d,m,g){super(d),this.value=m,this.bitCount=g}appendTo(d,m){d.appendBits(this.value,this.bitCount)}add(d,m){return new Mi(this,d,m)}addBinaryShift(d,m){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Mi(this,d,m)}toString(){let d=this.value&(1<<this.bitCount)-1;return d|=1<<this.bitCount,"<"+T.toBinaryString(d|1<<this.bitCount).substring(1)+">"}}class Lc extends Mi{constructor(d,m,g){super(d,0,0),this.binaryShiftStart=m,this.binaryShiftByteCount=g}appendTo(d,m){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(d.appendBits(31,5),this.binaryShiftByteCount>62?d.appendBits(this.binaryShiftByteCount-31,16):g===0?d.appendBits(Math.min(this.binaryShiftByteCount,31),5):d.appendBits(this.binaryShiftByteCount-31,5)),d.appendBits(m[this.binaryShiftStart+g],8)}addBinaryShift(d,m){return new Lc(this,d,m)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function id(le,d,m){return new Lc(le,d,m)}function Fc(le,d,m){return new Mi(le,d,m)}const lf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ws=0,So=1,Ri=2,cf=3,bi=4,wu=new Mi(null,0,0),Nu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ch(le){for(let d of le)E.fill(d,-1);return le[ws][bi]=0,le[So][bi]=0,le[So][ws]=28,le[cf][bi]=0,le[Ri][bi]=0,le[Ri][ws]=15,le}const hc=ch(E.createInt32Array(6,6));class Di{constructor(d,m,g,b){this.token=d,this.mode=m,this.binaryShiftByteCount=g,this.bitCount=b}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(d,m){let g=this.bitCount,b=this.token;if(d!==this.mode){let C=Nu[this.mode][d];b=Fc(b,C&65535,C>>16),g+=C>>16}let j=d===Ri?4:5;return b=Fc(b,m,j),new Di(b,d,0,g+j)}shiftAndAppend(d,m){let g=this.token,b=this.mode===Ri?4:5;return g=Fc(g,hc[this.mode][d],b),g=Fc(g,m,5),new Di(g,this.mode,0,this.bitCount+b+5)}addBinaryShiftChar(d){let m=this.token,g=this.mode,b=this.bitCount;if(this.mode===bi||this.mode===Ri){let I=Nu[g][ws];m=Fc(m,I&65535,I>>16),b+=I>>16,g=ws}let j=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,C=new Di(m,g,this.binaryShiftByteCount+1,b+j);return C.binaryShiftByteCount===2078&&(C=C.endBinaryShift(d+1)),C}endBinaryShift(d){if(this.binaryShiftByteCount===0)return this;let m=this.token;return m=id(m,d-this.binaryShiftByteCount,this.binaryShiftByteCount),new Di(m,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(d){let m=this.bitCount+(Nu[this.mode][d.mode]>>16);return this.binaryShiftByteCount<d.binaryShiftByteCount?m+=Di.calculateBinaryShiftCost(d)-Di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>d.binaryShiftByteCount&&d.binaryShiftByteCount>0&&(m+=10),m<=d.bitCount}toBitArray(d){let m=[];for(let b=this.endBinaryShift(d.length).token;b!==null;b=b.getPrevious())m.unshift(b);let g=new M;for(const b of m)b.appendTo(g,d);return g}toString(){return H.format("%s bits=%d bytes=%d",lf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(d){return d.binaryShiftByteCount>62?21:d.binaryShiftByteCount>31?20:d.binaryShiftByteCount>0?10:0}}Di.INITIAL_STATE=new Di(wu,ws,0,0);function Jo(le){const d=H.getCharCode(" "),m=H.getCharCode("."),g=H.getCharCode(",");le[ws][d]=1;const b=H.getCharCode("Z"),j=H.getCharCode("A");for(let be=j;be<=b;be++)le[ws][be]=be-j+2;le[So][d]=1;const C=H.getCharCode("z"),I=H.getCharCode("a");for(let be=I;be<=C;be++)le[So][be]=be-I+2;le[Ri][d]=1;const F=H.getCharCode("9"),V=H.getCharCode("0");for(let be=V;be<=F;be++)le[Ri][be]=be-V+2;le[Ri][g]=12,le[Ri][m]=13;const te=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let be=0;be<te.length;be++)le[cf][H.getCharCode(te[be])]=be;const ce=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let be=0;be<ce.length;be++)H.getCharCode(ce[be])>0&&(le[bi][H.getCharCode(ce[be])]=be);return le}const so=Jo(E.createInt32Array(5,256));class ml{constructor(d){this.text=d}encode(){const d=H.getCharCode(" "),m=H.getCharCode(`
`);let g=Dc.singletonList(Di.INITIAL_STATE);for(let j=0;j<this.text.length;j++){let C,I=j+1<this.text.length?this.text[j+1]:0;switch(this.text[j]){case H.getCharCode("\r"):C=I===m?2:0;break;case H.getCharCode("."):C=I===d?3:0;break;case H.getCharCode(","):C=I===d?4:0;break;case H.getCharCode(":"):C=I===d?5:0;break;default:C=0}C>0?(g=ml.updateStateListForPair(g,j,C),j++):g=this.updateStateListForChar(g,j)}return Dc.min(g,(j,C)=>j.getBitCount()-C.getBitCount()).toBitArray(this.text)}updateStateListForChar(d,m){const g=[];for(let b of d)this.updateStateForChar(b,m,g);return ml.simplifyStates(g)}updateStateForChar(d,m,g){let b=this.text[m]&255,j=so[d.getMode()][b]>0,C=null;for(let I=0;I<=bi;I++){let F=so[I][b];if(F>0){if(C==null&&(C=d.endBinaryShift(m)),!j||I===d.getMode()||I===Ri){const V=C.latchAndAppend(I,F);g.push(V)}if(!j&&hc[d.getMode()][I]>=0){const V=C.shiftAndAppend(I,F);g.push(V)}}}if(d.getBinaryShiftByteCount()>0||so[d.getMode()][b]===0){let I=d.addBinaryShiftChar(m);g.push(I)}}static updateStateListForPair(d,m,g){const b=[];for(let j of d)this.updateStateForPair(j,m,g,b);return this.simplifyStates(b)}static updateStateForPair(d,m,g,b){let j=d.endBinaryShift(m);if(b.push(j.latchAndAppend(bi,g)),d.getMode()!==bi&&b.push(j.shiftAndAppend(bi,g)),g===3||g===4){let C=j.latchAndAppend(Ri,16-g).latchAndAppend(Ri,1);b.push(C)}if(d.getBinaryShiftByteCount()>0){let C=d.addBinaryShiftChar(m).addBinaryShiftChar(m+1);b.push(C)}}static simplifyStates(d){let m=[];for(const g of d){let b=!0;for(const j of m){if(j.isBetterThanOrEqualTo(g)){b=!1;break}g.isBetterThanOrEqualTo(j)&&(m=m.filter(C=>C!==j))}b&&m.push(g)}return m}}class Cn{constructor(){}static encodeBytes(d){return Cn.encode(d,Cn.DEFAULT_EC_PERCENT,Cn.DEFAULT_AZTEC_LAYERS)}static encode(d,m,g){let b=new ml(d).encode(),j=T.truncDivision(b.getSize()*m,100)+11,C=b.getSize()+j,I,F,V,te,ce;if(g!==Cn.DEFAULT_AZTEC_LAYERS){if(I=g<0,F=Math.abs(g),F>(I?Cn.MAX_NB_BITS_COMPACT:Cn.MAX_NB_BITS))throw new f(H.format("Illegal value %s for layers",g));V=Cn.totalBitsInLayer(F,I),te=Cn.WORD_SIZE[F];let At=V-V%te;if(ce=Cn.stuffBits(b,te),ce.getSize()+j>At)throw new f("Data to large for user specified layer");if(I&&ce.getSize()>te*64)throw new f("Data to large for user specified layer")}else{te=0,ce=null;for(let At=0;;At++){if(At>Cn.MAX_NB_BITS)throw new f("Data too large for an Aztec code");if(I=At<=3,F=I?At+1:At,V=Cn.totalBitsInLayer(F,I),C>V)continue;(ce==null||te!==Cn.WORD_SIZE[F])&&(te=Cn.WORD_SIZE[F],ce=Cn.stuffBits(b,te));let Vr=V-V%te;if(!(I&&ce.getSize()>te*64)&&ce.getSize()+j<=Vr)break}}let be=Cn.generateCheckWords(ce,V,te),Me=ce.getSize()/te,He=Cn.generateModeMessage(I,F,Me),Ke=(I?11:14)+F*4,tt=new Int32Array(Ke),ut;if(I){ut=Ke;for(let At=0;At<tt.length;At++)tt[At]=At}else{ut=Ke+1+2*T.truncDivision(T.truncDivision(Ke,2)-1,15);let At=T.truncDivision(Ke,2),Vr=T.truncDivision(ut,2);for(let Jr=0;Jr<At;Jr++){let fa=Jr+T.truncDivision(Jr,15);tt[At-Jr-1]=Vr-fa-1,tt[At+Jr]=Vr+fa+1}}let St=new Z(ut);for(let At=0,Vr=0;At<F;At++){let Jr=(F-At)*4+(I?9:12);for(let fa=0;fa<Jr;fa++){let Ha=fa*2;for(let wi=0;wi<2;wi++)be.get(Vr+Ha+wi)&&St.set(tt[At*2+wi],tt[At*2+fa]),be.get(Vr+Jr*2+Ha+wi)&&St.set(tt[At*2+fa],tt[Ke-1-At*2-wi]),be.get(Vr+Jr*4+Ha+wi)&&St.set(tt[Ke-1-At*2-wi],tt[Ke-1-At*2-fa]),be.get(Vr+Jr*6+Ha+wi)&&St.set(tt[Ke-1-At*2-fa],tt[At*2+wi])}Vr+=Jr*8}if(Cn.drawModeMessage(St,I,ut,He),I)Cn.drawBullsEye(St,T.truncDivision(ut,2),5);else{Cn.drawBullsEye(St,T.truncDivision(ut,2),7);for(let At=0,Vr=0;At<T.truncDivision(Ke,2)-1;At+=15,Vr+=16)for(let Jr=T.truncDivision(ut,2)&1;Jr<ut;Jr+=2)St.set(T.truncDivision(ut,2)-Vr,Jr),St.set(T.truncDivision(ut,2)+Vr,Jr),St.set(Jr,T.truncDivision(ut,2)-Vr),St.set(Jr,T.truncDivision(ut,2)+Vr)}let Pt=new bu;return Pt.setCompact(I),Pt.setSize(ut),Pt.setLayers(F),Pt.setCodeWords(Me),Pt.setMatrix(St),Pt}static drawBullsEye(d,m,g){for(let b=0;b<g;b+=2)for(let j=m-b;j<=m+b;j++)d.set(j,m-b),d.set(j,m+b),d.set(m-b,j),d.set(m+b,j);d.set(m-g,m-g),d.set(m-g+1,m-g),d.set(m-g,m-g+1),d.set(m+g,m-g),d.set(m+g,m-g+1),d.set(m+g,m+g-1)}static generateModeMessage(d,m,g){let b=new M;return d?(b.appendBits(m-1,2),b.appendBits(g-1,6),b=Cn.generateCheckWords(b,28,4)):(b.appendBits(m-1,5),b.appendBits(g-1,11),b=Cn.generateCheckWords(b,40,4)),b}static drawModeMessage(d,m,g,b){let j=T.truncDivision(g,2);if(m)for(let C=0;C<7;C++){let I=j-3+C;b.get(C)&&d.set(I,j-5),b.get(C+7)&&d.set(j+5,I),b.get(20-C)&&d.set(I,j+5),b.get(27-C)&&d.set(j-5,I)}else for(let C=0;C<10;C++){let I=j-5+C+T.truncDivision(C,5);b.get(C)&&d.set(I,j-7),b.get(C+10)&&d.set(j+7,I),b.get(29-C)&&d.set(I,j+7),b.get(39-C)&&d.set(j-7,I)}}static generateCheckWords(d,m,g){let b=d.getSize()/g,j=new rn(Cn.getGF(g)),C=T.truncDivision(m,g),I=Cn.bitsToWords(d,g,C);j.encode(I,C-b);let F=m%g,V=new M;V.appendBits(0,F);for(const te of Array.from(I))V.appendBits(te,g);return V}static bitsToWords(d,m,g){let b=new Int32Array(g),j,C;for(j=0,C=d.getSize()/m;j<C;j++){let I=0;for(let F=0;F<m;F++)I|=d.get(j*m+F)?1<<m-F-1:0;b[j]=I}return b}static getGF(d){switch(d){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new f("Unsupported word size "+d)}}static stuffBits(d,m){let g=new M,b=d.getSize(),j=(1<<m)-2;for(let C=0;C<b;C+=m){let I=0;for(let F=0;F<m;F++)(C+F>=b||d.get(C+F))&&(I|=1<<m-1-F);(I&j)===j?(g.appendBits(I&j,m),C--):(I&j)===0?(g.appendBits(I|1,m),C--):g.appendBits(I,m)}return g}static totalBitsInLayer(d,m){return((m?88:112)+16*d)*d}}Cn.DEFAULT_EC_PERCENT=33,Cn.DEFAULT_AZTEC_LAYERS=0,Cn.MAX_NB_BITS=32,Cn.MAX_NB_BITS_COMPACT=4,Cn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class pl{encode(d,m,g,b){return this.encodeWithHints(d,m,g,b,null)}encodeWithHints(d,m,g,b,j){let C=dc.ISO_8859_1,I=Cn.DEFAULT_EC_PERCENT,F=Cn.DEFAULT_AZTEC_LAYERS;return j!=null&&(j.has(nr.CHARACTER_SET)&&(C=vu.forName(j.get(nr.CHARACTER_SET).toString())),j.has(nr.ERROR_CORRECTION)&&(I=T.parseInt(j.get(nr.ERROR_CORRECTION).toString())),j.has(nr.AZTEC_LAYERS)&&(F=T.parseInt(j.get(nr.AZTEC_LAYERS).toString()))),pl.encodeLayers(d,m,g,b,C,I,F)}static encodeLayers(d,m,g,b,j,C,I){if(m!==Ce.AZTEC)throw new f("Can only encode AZTEC, but got "+m);let F=Cn.encode(H.getBytes(d,j),C,I);return pl.renderResult(F,g,b)}static renderResult(d,m,g){let b=d.getMatrix();if(b==null)throw new Ee;let j=b.getWidth(),C=b.getHeight(),I=Math.max(m,j),F=Math.max(g,C),V=Math.min(I/j,F/C),te=(I-j*V)/2,ce=(F-C*V)/2,be=new Z(I,F);for(let Me=0,He=ce;Me<C;Me++,He+=V)for(let Ke=0,tt=te;Ke<j;Ke++,tt+=V)b.get(Ke,Me)&&be.setRegion(tt,He,V,V);return be}}r.AbstractExpandedDecoder=Ho,r.ArgumentException=h,r.ArithmeticException=qe,r.AztecCode=bu,r.AztecCodeReader=tr,r.AztecCodeWriter=pl,r.AztecDecoder=Gt,r.AztecDetector=ur,r.AztecDetectorResult=Xe,r.AztecEncoder=Cn,r.AztecHighLevelEncoder=ml,r.AztecPoint=$t,r.BarcodeFormat=Ce,r.Binarizer=S,r.BinaryBitmap=y,r.BitArray=M,r.BitMatrix=Z,r.BitSource=yi,r.BrowserAztecCodeReader=_s,r.BrowserBarcodeReader=oh,r.BrowserCodeReader=se,r.BrowserDatamatrixCodeReader=td,r.BrowserMultiFormatReader=rt,r.BrowserPDF417Reader=jt,r.BrowserQRCodeReader=Ut,r.BrowserQRCodeSvgWriter=ui,r.CharacterSetECI=$,r.ChecksumException=v,r.Code128Reader=pt,r.Code39Reader=Ar,r.DataMatrixDecodedBitStreamParser=wo,r.DataMatrixReader=Oi,r.DecodeHintType=L,r.DecoderResult=pe,r.DefaultGridSampler=Tt,r.DetectorResult=Fe,r.EAN13Reader=Rn,r.EncodeHintType=nr,r.Exception=u,r.FormatException=B,r.GenericGF=$e,r.GenericGFPoly=ze,r.GlobalHistogramBinarizer=ye,r.GridSampler=Et,r.GridSamplerInstance=It,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=ge,r.ITFReader=Rr,r.IllegalArgumentException=f,r.IllegalStateException=Ee,r.InvertedLuminanceSource=re,r.LuminanceSource=oe,r.MathUtils=mt,r.MultiFormatOneDReader=Pc,r.MultiFormatReader=We,r.MultiFormatWriter=jo,r.NotFoundException=J,r.OneDReader=qr,r.PDF417DecodedBitStreamParser=ft,r.PDF417DecoderErrorCorrection=pu,r.PDF417Reader=he,r.PDF417ResultMetadata=gu,r.PerspectiveTransform=vt,r.PlanarYUVLuminanceSource=Qo,r.QRCodeByteMatrix=Kn,r.QRCodeDataMask=Nn,r.QRCodeDecodedBitStreamParser=Fs,r.QRCodeDecoderErrorCorrectionLevel=ss,r.QRCodeDecoderFormatInformation=Zi,r.QRCodeEncoder=pn,r.QRCodeEncoderQRCode=bs,r.QRCodeMaskUtil=pr,r.QRCodeMatrixUtil=ir,r.QRCodeMode=Br,r.QRCodeReader=Sa,r.QRCodeVersion=vr,r.QRCodeWriter=Ca,r.RGBLuminanceSource=uc,r.RSS14Reader=vs,r.RSSExpandedReader=Dt,r.ReaderException=De,r.ReedSolomonDecoder=sr,r.ReedSolomonEncoder=rn,r.ReedSolomonException=Ve,r.Result=ue,r.ResultMetadataType=de,r.ResultPoint=ht,r.StringUtils=H,r.UnsupportedOperationException=K,r.VideoInputDevice=ne,r.WhiteRectangleDetector=ot,r.WriterException=hn,r.ZXingArrays=E,r.ZXingCharset=vu,r.ZXingInteger=T,r.ZXingStandardCharsets=dc,r.ZXingStringBuilder=Q,r.ZXingStringEncoding=q,r.ZXingSystem=w,r.createAbstractExpandedDecoder=gm,Object.defineProperty(r,"__esModule",{value:!0})}))})(Vv,Vv.exports)),Vv.exports}var Bi=WZe();const GZe=as(Bi),YZe=_J({__proto__:null,default:GZe},[Bi]);var QY=(function(){function t(e,r,n){if(this.formatMap=new Map([[Cr.QR_CODE,Bi.BarcodeFormat.QR_CODE],[Cr.AZTEC,Bi.BarcodeFormat.AZTEC],[Cr.CODABAR,Bi.BarcodeFormat.CODABAR],[Cr.CODE_39,Bi.BarcodeFormat.CODE_39],[Cr.CODE_93,Bi.BarcodeFormat.CODE_93],[Cr.CODE_128,Bi.BarcodeFormat.CODE_128],[Cr.DATA_MATRIX,Bi.BarcodeFormat.DATA_MATRIX],[Cr.MAXICODE,Bi.BarcodeFormat.MAXICODE],[Cr.ITF,Bi.BarcodeFormat.ITF],[Cr.EAN_13,Bi.BarcodeFormat.EAN_13],[Cr.EAN_8,Bi.BarcodeFormat.EAN_8],[Cr.PDF_417,Bi.BarcodeFormat.PDF_417],[Cr.RSS_14,Bi.BarcodeFormat.RSS_14],[Cr.RSS_EXPANDED,Bi.BarcodeFormat.RSS_EXPANDED],[Cr.UPC_A,Bi.BarcodeFormat.UPC_A],[Cr.UPC_E,Bi.BarcodeFormat.UPC_E],[Cr.UPC_EAN_EXTENSION,Bi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!YZe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),a=new Map;a.set(Bi.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Bi.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var r=new Bi.MultiFormatReader(this.verbose,this.hints),n=new Bi.HTMLCanvasElementLuminanceSource(e),i=new Bi.BinaryBitmap(new Bi.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:$me.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),KZe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},XZe=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},JY=(function(){function t(e,r,n){if(this.formatMap=new Map([[Cr.QR_CODE,"qr_code"],[Cr.AZTEC,"aztec"],[Cr.CODABAR,"codabar"],[Cr.CODE_39,"code_39"],[Cr.CODE_93,"code_93"],[Cr.CODE_128,"code_128"],[Cr.DATA_MATRIX,"data_matrix"],[Cr.ITF,"itf"],[Cr.EAN_13,"ean_13"],[Cr.EAN_8,"ean_8"],[Cr.PDF_417,"pdf417"],[Cr.UPC_A,"upc_a"],[Cr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return KZe(this,void 0,void 0,function(){var r,n;return XZe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:$me.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,a=e;i<a.length;i++){var o=a[i],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),eK=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},tK=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ZZe=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&JY.isSupported()?(this.primaryDecoder=new JY(e,n,i),this.secondaryDecoder=new QY(e,n,i)):this.primaryDecoder=new QY(e,n,i)}return t.prototype.decodeAsync=function(e){return eK(this,void 0,void 0,function(){var r;return tK(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return eK(this,void 0,void 0,function(){var r,n;return tK(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),VD=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YS=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},KS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hme=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),QZe=(function(t){VD(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(Hme),JZe=(function(t){VD(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(QZe),eQe=(function(t){VD(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(Hme),tQe=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new JZe(this.track)},t.prototype.torchFeature=function(){return new eQe(this.track)},t})(),rQe=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return YS(this,void 0,void 0,function(){var a,o;return KS(this,function(l){switch(l.label){case 0:return a=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return YS(this,void 0,void 0,function(){return KS(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),a=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(l){e.mediaStream.removeTrack(l),l.stop(),++o,o>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new tQe(this.getFirstTrackOrFail())},t})(),nQe=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return YS(this,void 0,void 0,function(){return KS(this,function(i){return[2,rQe.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return YS(this,void 0,void 0,function(){var r,n;return KS(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),rK=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},nK=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sQe=(function(){function t(){}return t.failIfNotSupported=function(){return rK(this,void 0,void 0,function(){return nK(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return rK(this,void 0,void 0,function(){return nK(this,function(r){return[2,nQe.create(e)]})})},t})(),iQe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},aQe=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},oQe=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=bx.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=bx.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return iQe(this,void 0,void 0,function(){var e,r,n,i,a,o,l;return aQe(this,function(c){switch(c.label){case 0:return e=function(u){for(var h=u.getVideoTracks(),f=0,y=h;f<y.length;f++){var v=y[f];v.enabled=!1,v.stop(),u.removeTrack(v)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,o=n;a<o.length;a++)l=o[a],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(a){for(var o=[],l=0,c=a;l<c.length;l++){var u=c[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t})(),ia;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ia||(ia={}));var lQe=(function(){function t(){this.state=ia.NOT_STARTED,this.onGoingTransactionNewState=ia.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ia.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ia.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ia.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ia.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ia.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ia.UNKNOWN:throw"Transition from unknown is not allowed";case ia.NOT_STARTED:this.failIfNewStateIs(e,[ia.PAUSED]);break;case ia.SCANNING:break;case ia.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),cQe=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ia.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ia.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ia.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ia.PAUSED},t})(),uQe=(function(){function t(){}return t.create=function(){return new cQe(new lQe)},t})(),dQe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Gc=(function(t){dQe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Rd),hQe=(function(){function t(e,r){this.logger=r,this.fps=Gc.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Gc.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vme.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Nh(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),i8=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new qme(this.verbose),this.qrcode=new ZZe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=uQe.create()}return t.prototype.start=function(e,r,n,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var l=hQe.create(r,this.logger);this.clearElement();var c=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Gc.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var f=this,y=this.stateManagerProxy.startTransition(ia.SCANNING);return new Promise(function(v,S){var w=u?l.videoConstraints:f.createVideoConstraints(e);if(!w){y.cancel(),S("videoConstraints should be defined");return}var N={};(!u||l.aspectRatio)&&(N.aspectRatio=l.aspectRatio);var _={onRenderSurfaceReady:function(E,T){f.setupUi(E,T,l),f.isScanning=!0,f.foreverScan(l,n,o)}};sQe.failIfNotSupported().then(function(E){E.create(w).then(function(T){return T.render(a.element,N,_).then(function(M){f.renderedCamera=M,y.execute(),v(null)}).catch(function(M){y.cancel(),S(M)})}).catch(function(T){y.cancel(),S(bx.errorGettingUserMedia(T))})}).catch(function(E){y.cancel(),S(bx.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ia.PAUSED),this.showPausedState(),(Nh(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ia.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ia.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var a=document.getElementById(Gc.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Nh(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var l=o.width,c=o.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:Gc.DEFAULT_WIDTH,f=Math.max(u.clientHeight?u.clientHeight:c,Gc.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(l,c,h,f);if(r){var v=n.createCanvasElement(h,f,"qr-canvas-visible");v.style.display="inline-block",u.appendChild(v);var S=v.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=h,S.canvas.height=f,S.drawImage(o,0,0,l,c,y.x,y.y,y.width,y.height)}var w=Gc.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(o.width,y.width),_=Math.max(o.height,y.height),E=N+2*w,T=_+2*w,M=n.createCanvasElement(E,T);u.appendChild(M);var O=M.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=E,O.canvas.height=T,O.drawImage(o,0,0,l,c,w,w,N,_);try{n.qrcode.decodeRobustlyAsync(M).then(function(L){i(KY.createFromQrcodeResult(L))}).catch(a)}catch(L){a("QR code parse error, error = ".concat(L))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return oQe.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Vme.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Cr.QR_CODE,Cr.AZTEC,Cr.CODABAR,Cr.CODE_39,Cr.CODE_93,Cr.CODE_128,Cr.DATA_MATRIX,Cr.MAXICODE,Cr.ITF,Cr.EAN_13,Cr.EAN_8,Cr.PDF_417,Cr.RSS_14,Cr.RSS_EXPANDED,Cr.UPC_A,Cr.UPC_E,Cr.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=e.formatsToSupport;i<a.length;i++){var o=a[i];qZe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Nh(e))return!0;if(!Nh(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Nh(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Nh(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(e,r,a),l=function(u){if(u<Gc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Gc.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};l(o.width),l(o.height),o.width=c(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Nh(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,l={x:0,y:0,width:e,height:r},c=o?this.getShadedRegionBounds(e,r,a):l,u=this.createCanvasElement(c.width,c.height),h={willReadFrequently:!0},f=u.getContext("2d",h);f.canvas.width=c.width,f.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,e,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=f,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=bx.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,KY.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=bx.codeParseError(i);return r(a,zme.createFrom(a)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,l=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*l,h=this.qrRegion.x*o,f=this.qrRegion.y*l;this.context.drawImage(a,h,f,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(v){!v&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){y()})):y()}).catch(function(v){i.logger.logError("Error happend while scanning context",v),y()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(S){if(S in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},l=Object.keys(e);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var c=Object.keys(e)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=e.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(o(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var f=e.deviceId;if(typeof f=="string")return{deviceId:f};if(typeof f=="object"){if(a in f)return{deviceId:{exact:f["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof f;throw"Invalid type of 'deviceId' = ".concat(y)}}}var v=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(v)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var a=(n-e)/2,o=(i-r)/2;return{x:a,y:o,width:e,height:r}}else{var l=e,c=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(c)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Gc.BORDER_SHADER_MATCH_COLOR:Gc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Nh(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,l=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Gc.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,r,n,i,a,o,l){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Gc.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),l?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),e.appendChild(c)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),HD="data:image/svg+xml;base64,",fQe=HD+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",mQe=HD+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sK=HD+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",pQe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",iK=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),gQe=(function(){function t(){this.data=iK.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=iK.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),xQe=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=XY.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=XY.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),yQe=(function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sK,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=pQe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sK,this.infoIcon.style.opacity="0.6")},t})(),vQe=(function(){function t(){var e=this;this.infoDiv=new xQe,this.infoIcon=new yQe(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),bQe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},wQe=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},aK=(function(){function t(){}return t.hasPermissions=function(){return bQe(this,void 0,void 0,function(){var e,r,n,i;return wQe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),r=0,n=e;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),$m=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===um.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===um.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Rd.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Rd.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=e;n<i.length;n++){var a=i[n];if(!Rd.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t})(),tu=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),zf=(function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(tu.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t})(),Wme=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},Gme=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},oK=(function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Wme(this,void 0,void 0,function(){var e,r;return Gme(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?Qs.torchOffButton():Qs.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?Qs.torchOnFailedMessage():Qs.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),NQe=(function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=zf.createElement("button",tu.TORCH_BUTTON_ID),this.torchController=new oK(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=Qs.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return Wme(n,void 0,void 0,function(){return Gme(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(tu.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(tu.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(tu.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(tu.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new oK(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Qs.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,i){var a=new t(r,i);return a.render(e,n),a},t})(),jQe=(function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=zf.createElement("button",tu.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(l){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=zf.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(l){if(!(l==null||l.target==null)){var c=l.target;if(!(c.files&&c.files.length===0)){var u=c.files,h=u[0],f=h.name;a.setImageNameToButton(f),n(h)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(l){l.stopPropagation(),l.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var c=l.dataTransfer;if(c){var u=c.files;if(!u||u.length===0)return;for(var h=!1,f=0;f<u.length;++f){var y=u.item(f);if(y){var v=/image.*/;if(y.type.match(v)){h=!0;var S=y.name;a.setImageNameToButton(S),n(y),o.innerText=Qs.dragAndDropMessage();break}}}h||(o.innerText=Qs.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Qs.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(n,"....").concat(a)}var o=Qs.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=Qs.fileSelectionChooseImage()+" - "+Qs.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var i=new t(e,r,n);return i},t})(),SQe=(function(){function t(e){this.selectElement=zf.createElement("select",tu.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=Qs.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,l=this.cameras;o<l.length;o++){var c=l[o],u=c.id,h=c.label==null?u:c.label;(!h||h==="")&&(h=[Qs.anonymousCameraPrefix(),a++].join(" "));var f=document.createElement("option");f.value=u,f.innerText=h,this.options.push(f),this.selectElement.appendChild(f)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t})(),CQe=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=zf.createElement("input",tu.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Qs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Qs.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,i){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t})(),Yc;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yc||(Yc={}));function AQe(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function _Qe(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var Yme=(function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new $m(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new qme(this.verbose),this.persistedDataManager=new gQe,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(e)e(a,o);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(Qs.lastMatch(a),Yc.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){r&&r(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new i8(this.getScanRegionId(),_Qe(this.config,this.verbose))},t.prototype.pause=function(e){(Nh(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Rd.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Rd.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Rd.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Rd.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Rd.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Rd.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Rd.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),$m.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new vQe;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Qs.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(e,r)};i8.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(r),i.renderCameraSelection(o)):(i.setHeaderMessage(Qs.noCameraFound(),Yc.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(o,Yc.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,i=zf.createElement("button",this.getCameraPermissionButtonId());i.innerText=Qs.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(e,r,i)}),r.appendChild(i)},t.prototype.createPermissionsUi=function(e,r){var n=this;if($m.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){aK.hasPermissions().then(function(i){i?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=$m.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=$m.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";$m.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Qs.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,Yc.STATUS_WARNING),n.qrCodeErrorCallback(o,zme.createFrom(o))}))};this.fileSelectionUi=jQe.create(e,r,i)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=CQe.create(i,!1),o=function(w){var N=w.zoomFeature();if(N.isSupported()){a.setOnCameraZoomValueChangeCallback(function(E){N.apply(E)});var _=1;r.config.defaultZoomValueIfSupported&&(_=r.config.defaultZoomValueIfSupported),_=VZe(_,N.min(),N.max()),a.setValues(N.min(),N.max(),_,N.step()),a.show()}},l=SQe.create(i,e),c=document.createElement("span"),u=zf.createElement("button",tu.CAMERA_START_BUTTON_ID);u.innerText=Qs.scanButtonStartScanningText(),c.appendChild(u);var h=zf.createElement("button",tu.CAMERA_STOP_BUTTON_ID);h.innerText=Qs.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,c.appendChild(h);var f,y=function(w){if(!w.torchFeature().isSupported()){f&&f.hide();return}f?f.updateTorchCapability(w.torchFeature()):f=NQe.create(c,w.torchFeature(),{display:"none",marginLeft:"5px"},function(N){n.setHeaderMessage(N,Yc.STATUS_WARNING)}),f.show()};i.appendChild(c);var v=function(w){w||(u.style.display="none"),u.innerText=Qs.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,w&&(u.style.display="inline-block")};if(u.addEventListener("click",function(w){u.innerText=Qs.scanButtonScanningStarting(),l.disable(),u.disabled=!0,u.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var N=l.getValue();n.persistedDataManager.setLastUsedCameraId(N),n.html5Qrcode.start(N,AQe(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(_){h.disabled=!1,h.style.display="inline-block",v(!1);var E=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&y(E),r.config.showZoomSliderIfSupported===!0&&o(E)}).catch(function(_){n.showHideScanTypeSwapLink(!0),l.enable(),v(!0),n.setHeaderMessage(_,Yc.STATUS_WARNING)})}),l.hasSingleItem()&&u.click(),h.addEventListener("click",function(w){if(!n.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,n.html5Qrcode.stop().then(function(N){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),l.enable(),u.disabled=!1,h.style.display="none",u.style.display="inline-block",f&&(f.reset(),f.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(N){h.disabled=!1,n.setHeaderMessage(N,Yc.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var S=n.persistedDataManager.getLastUsedCameraId();l.hasValue(S)?(l.setValue(S),u.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=Qs.textIfCameraScanSelected(),n=Qs.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=zf.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=$m.isCameraScanType(this.currentScanType)?r:n,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,$m.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=n,e.currentScanType=um.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=r,e.currentScanType=um.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){aK.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=Yc.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case Yc.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Yc.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Yc.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=fQe,this.cameraScanImage.alt=Qs.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=mQe,this.fileScanImage.alt=Qs.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return tu.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return tu.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const EQe=Object.freeze(Object.defineProperty({__proto__:null,Html5Qrcode:i8,get Html5QrcodeScanType(){return um},Html5QrcodeScanner:Yme,get Html5QrcodeScannerState(){return ia},get Html5QrcodeSupportedFormats(){return Cr}},Symbol.toStringTag,{value:"Module"}));var mP={exports:{}},lK;function TQe(){return lK||(lK=1,(function(t){var e=(function(r){var n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(re,me,ne){re[me]=ne.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function f(re,me,ne){return Object.defineProperty(re,me,{value:ne,enumerable:!0,configurable:!0,writable:!0}),re[me]}try{f({},"")}catch{f=function(me,ne,G){return me[ne]=G}}function y(re,me,ne,G){var se=me&&me.prototype instanceof T?me:T,ue=Object.create(se.prototype),je=new ye(G||[]);return a(ue,"_invoke",{value:H(re,ne,je)}),ue}r.wrap=y;function v(re,me,ne){try{return{type:"normal",arg:re.call(me,ne)}}catch(G){return{type:"throw",arg:G}}}var S="suspendedStart",w="suspendedYield",N="executing",_="completed",E={};function T(){}function M(){}function O(){}var L={};f(L,c,function(){return this});var B=Object.getPrototypeOf,U=B&&B(B(ge([])));U&&U!==n&&i.call(U,c)&&(L=U);var $=O.prototype=T.prototype=Object.create(L);M.prototype=O,a($,"constructor",{value:O,configurable:!0}),a(O,"constructor",{value:M,configurable:!0}),M.displayName=f(O,h,"GeneratorFunction");function K(re){["next","throw","return"].forEach(function(me){f(re,me,function(ne){return this._invoke(me,ne)})})}r.isGeneratorFunction=function(re){var me=typeof re=="function"&&re.constructor;return me?me===M||(me.displayName||me.name)==="GeneratorFunction":!1},r.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,O):(re.__proto__=O,f(re,h,"GeneratorFunction")),re.prototype=Object.create($),re},r.awrap=function(re){return{__await:re}};function q(re,me){function ne(ue,je,Ce,ae){var de=v(re[ue],re,je);if(de.type==="throw")ae(de.arg);else{var pe=de.arg,Oe=pe.value;return Oe&&typeof Oe=="object"&&i.call(Oe,"__await")?me.resolve(Oe.__await).then(function(ze){ne("next",ze,Ce,ae)},function(ze){ne("throw",ze,Ce,ae)}):me.resolve(Oe).then(function(ze){pe.value=ze,Ce(pe)},function(ze){return ne("throw",ze,Ce,ae)})}}var G;function se(ue,je){function Ce(){return new me(function(ae,de){ne(ue,je,ae,de)})}return G=G?G.then(Ce,Ce):Ce()}a(this,"_invoke",{value:se})}K(q.prototype),f(q.prototype,u,function(){return this}),r.AsyncIterator=q,r.async=function(re,me,ne,G,se){se===void 0&&(se=Promise);var ue=new q(y(re,me,ne,G),se);return r.isGeneratorFunction(me)?ue:ue.next().then(function(je){return je.done?je.value:ue.next()})};function H(re,me,ne){var G=S;return function(ue,je){if(G===N)throw new Error("Generator is already running");if(G===_){if(ue==="throw")throw je;return oe()}for(ne.method=ue,ne.arg=je;;){var Ce=ne.delegate;if(Ce){var ae=Q(Ce,ne);if(ae){if(ae===E)continue;return ae}}if(ne.method==="next")ne.sent=ne._sent=ne.arg;else if(ne.method==="throw"){if(G===S)throw G=_,ne.arg;ne.dispatchException(ne.arg)}else ne.method==="return"&&ne.abrupt("return",ne.arg);G=N;var de=v(re,me,ne);if(de.type==="normal"){if(G=ne.done?_:w,de.arg===E)continue;return{value:de.arg,done:ne.done}}else de.type==="throw"&&(G=_,ne.method="throw",ne.arg=de.arg)}}}function Q(re,me){var ne=me.method,G=re.iterator[ne];if(G===o)return me.delegate=null,ne==="throw"&&re.iterator.return&&(me.method="return",me.arg=o,Q(re,me),me.method==="throw")||ne!=="return"&&(me.method="throw",me.arg=new TypeError("The iterator does not provide a '"+ne+"' method")),E;var se=v(G,re.iterator,me.arg);if(se.type==="throw")return me.method="throw",me.arg=se.arg,me.delegate=null,E;var ue=se.arg;if(!ue)return me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,E;if(ue.done)me[re.resultName]=ue.value,me.next=re.nextLoc,me.method!=="return"&&(me.method="next",me.arg=o);else return ue;return me.delegate=null,E}K($),f($,h,"Generator"),f($,c,function(){return this}),f($,"toString",function(){return"[object Generator]"});function Z(re){var me={tryLoc:re[0]};1 in re&&(me.catchLoc=re[1]),2 in re&&(me.finallyLoc=re[2],me.afterLoc=re[3]),this.tryEntries.push(me)}function J(re){var me=re.completion||{};me.type="normal",delete me.arg,re.completion=me}function ye(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(Z,this),this.reset(!0)}r.keys=function(re){var me=Object(re),ne=[];for(var G in me)ne.push(G);return ne.reverse(),function se(){for(;ne.length;){var ue=ne.pop();if(ue in me)return se.value=ue,se.done=!1,se}return se.done=!0,se}};function ge(re){if(re){var me=re[c];if(me)return me.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var ne=-1,G=function se(){for(;++ne<re.length;)if(i.call(re,ne))return se.value=re[ne],se.done=!1,se;return se.value=o,se.done=!0,se};return G.next=G}}return{next:oe}}r.values=ge;function oe(){return{value:o,done:!0}}return ye.prototype={constructor:ye,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(J),!re)for(var me in this)me.charAt(0)==="t"&&i.call(this,me)&&!isNaN(+me.slice(1))&&(this[me]=o)},stop:function(){this.done=!0;var re=this.tryEntries[0],me=re.completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var me=this;function ne(ae,de){return ue.type="throw",ue.arg=re,me.next=ae,de&&(me.method="next",me.arg=o),!!de}for(var G=this.tryEntries.length-1;G>=0;--G){var se=this.tryEntries[G],ue=se.completion;if(se.tryLoc==="root")return ne("end");if(se.tryLoc<=this.prev){var je=i.call(se,"catchLoc"),Ce=i.call(se,"finallyLoc");if(je&&Ce){if(this.prev<se.catchLoc)return ne(se.catchLoc,!0);if(this.prev<se.finallyLoc)return ne(se.finallyLoc)}else if(je){if(this.prev<se.catchLoc)return ne(se.catchLoc,!0)}else if(Ce){if(this.prev<se.finallyLoc)return ne(se.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(re,me){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var G=this.tryEntries[ne];if(G.tryLoc<=this.prev&&i.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var se=G;break}}se&&(re==="break"||re==="continue")&&se.tryLoc<=me&&me<=se.finallyLoc&&(se=null);var ue=se?se.completion:{};return ue.type=re,ue.arg=me,se?(this.method="next",this.next=se.finallyLoc,E):this.complete(ue)},complete:function(re,me){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&me&&(this.next=me),E},finish:function(re){for(var me=this.tryEntries.length-1;me>=0;--me){var ne=this.tryEntries[me];if(ne.finallyLoc===re)return this.complete(ne.completion,ne.afterLoc),J(ne),E}},catch:function(re){for(var me=this.tryEntries.length-1;me>=0;--me){var ne=this.tryEntries[me];if(ne.tryLoc===re){var G=ne.completion;if(G.type==="throw"){var se=G.arg;J(ne)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(re,me,ne){return this.delegate={iterator:ge(re),resultName:me,nextLoc:ne},this.method==="next"&&(this.arg=o),E}},r})(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(mP)),mP.exports}var pP,cK;function WD(){return cK||(cK=1,pP=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`),pP}var gP,uK;function Kme(){if(uK)return gP;uK=1;const t=WD();let e=0;return gP=({id:r,action:n,payload:i={}})=>{let a=r;return typeof a>"u"&&(a=t("Job",e),e+=1),{id:a,action:n,payload:i}},gP}var Nv={},dK;function GD(){if(dK)return Nv;dK=1;let t=!1;return Nv.logging=t,Nv.setLogging=e=>{t=e},Nv.log=(...e)=>t?console.log.apply(this,e):null,Nv}var xP,hK;function kQe(){if(hK)return xP;hK=1;const t=Kme(),{log:e}=GD(),r=WD();let n=0;return xP=()=>{const i=r("Scheduler",n),a={},o={};let l=[];n+=1;const c=()=>l.length,u=()=>Object.keys(a).length,h=()=>{if(l.length!==0){const w=Object.keys(a);for(let N=0;N<w.length;N+=1)if(typeof o[w[N]]>"u"){l[0](a[w[N]]);break}}},f=(w,N)=>new Promise((_,E)=>{const T=t({action:w,payload:N});l.push(async M=>{l.shift(),o[M.id]=T;try{_(await M[w].apply(this,[...N,T.id]))}catch(O){E(O)}finally{delete o[M.id],h()}}),e(`[${i}]: Add ${T.id} to JobQueue`),e(`[${i}]: JobQueue length=${l.length}`),h()});return{addWorker:w=>(a[w.id]=w,e(`[${i}]: Add ${w.id}`),e(`[${i}]: Number of workers=${u()}`),h(),w.id),addJob:async(w,...N)=>{if(u()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return f(w,N)},terminate:async()=>{Object.keys(a).forEach(async w=>{await a[w].terminate()}),l=[]},getQueueLen:c,getNumWorkers:u}},xP}function PQe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yP,fK;function IQe(){return fK||(fK=1,yP=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof PQe=="function"&&(e.type="node"),typeof t>"u"?e:e[t]}),yP}var vP,mK;function OQe(){if(mK)return vP;mK=1;const e=IQe()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return vP=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(i=>{r[i]&&(n[i]=e(n[i]))}),n},vP}var bP,pK;function Xme(){return pK||(pK=1,bP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),bP}const MQe="6.0.1",RQe={version:MQe};var wP,gK;function DQe(){return gK||(gK=1,wP={workerBlobURL:!0,logger:()=>{}}),wP}var NP,xK;function LQe(){if(xK)return NP;xK=1;const t=RQe.version;return NP={...DQe(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},NP}var jP,yK;function FQe(){return yK||(yK=1,jP=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r}),jP}var SP,vK;function BQe(){return vK||(vK=1,SP=t=>{t.terminate()}),SP}var CP,bK;function UQe(){return bK||(bK=1,CP=(t,e)=>{t.onmessage=({data:r})=>{e(r)}}),CP}var AP,wK;function $Qe(){return wK||(wK=1,AP=async(t,e)=>{t.postMessage(e)}),AP}var _P,NK;function zQe(){if(NK)return _P;NK=1;const t=r=>new Promise((n,i)=>{const a=new FileReader;a.onload=()=>{n(a.result)},a.onerror=({target:{error:{code:o}}})=>{i(Error(`File could not be read! Code=${o}`))},a.readAsArrayBuffer(r)}),e=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(i=>i.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await e(r.src)),r.tagName==="VIDEO"&&(n=await e(r.poster)),r.tagName==="CANVAS"&&await new Promise(i=>{r.toBlob(async a=>{n=await t(a),i()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const i=await r.convertToBlob();n=await t(i)}else(r instanceof File||r instanceof Blob)&&(n=await t(r));return new Uint8Array(n)};return _P=e,_P}var EP,jK;function qQe(){if(jK)return EP;jK=1;const t=LQe(),e=FQe(),r=BQe(),n=UQe(),i=$Qe(),a=zQe();return EP={defaultOptions:t,spawnWorker:e,terminateWorker:r,onMessage:n,send:i,loadImage:a},EP}var TP,SK;function Zme(){if(SK)return TP;SK=1;const t=OQe(),e=Kme(),{log:r}=GD(),n=WD(),i=Xme(),{defaultOptions:a,spawnWorker:o,terminateWorker:l,onMessage:c,loadImage:u,send:h}=qQe();let f=0;return TP=async(y="eng",v=i.LSTM_ONLY,S={},w={})=>{const N=n("Worker",f),{logger:_,errorHandler:E,...T}=t({...a,...S}),M={},O=typeof y=="string"?y.split("+"):y;let L=v,B=w;const U=[i.DEFAULT,i.LSTM_ONLY].includes(v)&&!T.legacyCore;let $,K;const q=new Promise((pe,Oe)=>{K=pe,$=Oe}),H=pe=>{$(pe.message)};let Q=o(T);Q.onerror=H,f+=1;const Z=({id:pe,action:Oe,payload:ze})=>new Promise((qe,$e)=>{r(`[${N}]: Start ${pe}, action=${Oe}`);const Ve=`${Oe}-${pe}`;M[Ve]={resolve:qe,reject:$e},h(Q,{workerId:N,jobId:pe,action:Oe,payload:ze})}),J=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ye=pe=>Z(e({id:pe,action:"load",payload:{options:{lstmOnly:U,corePath:T.corePath,logging:T.logging}}})),ge=(pe,Oe,ze)=>Z(e({id:ze,action:"FS",payload:{method:"writeFile",args:[pe,Oe]}})),oe=(pe,Oe)=>Z(e({id:Oe,action:"FS",payload:{method:"readFile",args:[pe,{encoding:"utf8"}]}})),re=(pe,Oe)=>Z(e({id:Oe,action:"FS",payload:{method:"unlink",args:[pe]}})),me=(pe,Oe,ze)=>Z(e({id:ze,action:"FS",payload:{method:pe,args:Oe}})),ne=(pe,Oe)=>Z(e({id:Oe,action:"loadLanguage",payload:{langs:pe,options:{langPath:T.langPath,dataPath:T.dataPath,cachePath:T.cachePath,cacheMethod:T.cacheMethod,gzip:T.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(L)&&!T.legacyLang}}})),G=(pe,Oe,ze,qe)=>Z(e({id:qe,action:"initialize",payload:{langs:pe,oem:Oe,config:ze}})),se=(pe="eng",Oe,ze,qe)=>{if(U&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(Oe))throw Error("Legacy model requested but code missing.");const $e=Oe||L;L=$e;const Ve=ze||B;B=Ve;const sr=(typeof pe=="string"?pe.split("+"):pe).filter(Zt=>!O.includes(Zt));return O.push(...sr),sr.length>0?ne(sr,qe).then(()=>G(pe,$e,Ve,qe)):G(pe,$e,Ve,qe)},ue=(pe={},Oe)=>Z(e({id:Oe,action:"setParameters",payload:{params:pe}})),je=async(pe,Oe={},ze={text:!0},qe)=>Z(e({id:qe,action:"recognize",payload:{image:await u(pe),options:Oe,output:ze}})),Ce=async(pe,Oe)=>{if(U)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return Z(e({id:Oe,action:"detect",payload:{image:await u(pe)}}))},ae=async()=>(Q!==null&&(l(Q),Q=null),Promise.resolve());c(Q,({workerId:pe,jobId:Oe,status:ze,action:qe,data:$e})=>{const Ve=`${qe}-${Oe}`;if(ze==="resolve")r(`[${pe}]: Complete ${Oe}`),M[Ve].resolve({jobId:Oe,data:$e}),delete M[Ve];else if(ze==="reject")if(M[Ve].reject($e),delete M[Ve],qe==="load"&&$($e),E)E($e);else throw Error($e);else ze==="progress"&&_({...$e,userJobId:Oe})});const de={id:N,worker:Q,load:J,writeText:ge,readText:oe,removeFile:re,FS:me,reinitialize:se,setParameters:ue,recognize:je,detect:Ce,terminate:ae};return ye().then(()=>ne(y)).then(()=>G(y,v,w)).then(()=>K(de)).catch(()=>{}),q},TP}var kP,CK;function VQe(){if(CK)return kP;CK=1;const t=Zme();return kP={recognize:async(n,i,a)=>{const o=await t(i,1,a);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,i)=>{const a=await t("osd",0,i);return a.detect(n).finally(async()=>{await a.terminate()})}},kP}var PP,AK;function HQe(){return AK||(AK=1,PP={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),PP}var IP,_K;function WQe(){return _K||(_K=1,IP={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),IP}var OP,EK;function GQe(){if(EK)return OP;EK=1,TQe();const t=kQe(),e=Zme(),r=VQe(),n=HQe(),i=Xme(),a=WQe(),{setLogging:o}=GD();return OP={languages:n,OEM:i,PSM:a,createScheduler:t,createWorker:e,setLogging:o,...r},OP}var Qme=GQe();function YQe({onVerified:t}){const[e,r]=P.useState(""),[n,i]=P.useState(!1),[a,o]=P.useState(""),[l,c]=P.useState(null),u=P.useRef(null),h="qr-scanner-region",{toast:f}=Vn();P.useEffect(()=>((async()=>{try{const N=await Qme.createWorker("eng+amh",1,{logger:_=>{_.status==="recognizing text"&&o(`Processing: ${Math.round(_.progress*100)}%`)}});c(N)}catch(N){console.error("Failed to initialize Tesseract:",N)}})(),()=>{l&&l.terminate(),u.current&&u.current.clear().catch(console.error)}),[]);const y=()=>{if(u.current)return;const w=new Yme(h,{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);w.render(async N=>{r(N),await S(N,"qr"),w.clear().catch(console.error),u.current=null},N=>{console.log("QR scan error:",N)}),u.current=w},v=async w=>{var _;const N=(_=w.target.files)==null?void 0:_[0];if(!N||!l){f({title:"Error",description:"Please select an image and wait for OCR to initialize",variant:"destructive"});return}i(!0),o("Initializing...");try{const{data:{text:E}}=await l.recognize(N);r(E),await S(E,"photo")}catch(E){console.error("OCR Error:",E),f({title:"Scan Failed",description:"Could not read text from image. Please try again.",variant:"destructive"})}finally{i(!1),o("")}},S=async(w,N)=>{i(!0);try{const _=await fetch("/api/id-scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scanData:w,scanMethod:N,timestamp:new Date().toISOString()})});if(!_.ok)throw new Error("Verification failed");const E=await _.json();f({title:"ID Verified Successfully",description:"Your identification has been validated."}),t&&t(E)}catch(_){console.error("ID verification error:",_),f({title:"Verification Failed",description:_.message||"Could not verify ID. Please try again.",variant:"destructive"})}finally{i(!1)}};return s.jsx(_e,{className:"p-6 max-w-2xl mx-auto","data-testid":"card-id-scanner",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Scan Your Ethiopian ID"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use QR code scanning or photo upload to verify your identity"})]}),s.jsxs(oc,{defaultValue:"qr",className:"w-full",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-2",children:[s.jsxs(tn,{value:"qr","data-testid":"tab-qr-scan",children:[s.jsx(qu,{className:"w-4 h-4 mr-2"}),"QR Code Scan"]}),s.jsxs(tn,{value:"photo","data-testid":"tab-photo-scan",children:[s.jsx(lp,{className:"w-4 h-4 mr-2"}),"Photo Upload"]})]}),s.jsx(Tn,{value:"qr",className:"space-y-4",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Position your Ethiopian ID's QR code in front of the camera"}),s.jsx("div",{id:h,className:"w-full"}),!u.current&&s.jsxs(Be,{onClick:y,className:"w-full","data-testid":"button-start-qr-scan",children:[s.jsx(qu,{className:"w-4 h-4 mr-2"}),"Start QR Scanner"]})]})}),s.jsx(Tn,{value:"photo",className:"space-y-4",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Upload a clear photo of your Ethiopian ID card"}),s.jsx("input",{type:"file",accept:"image/*",onChange:v,disabled:n||!l,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50","data-testid":"input-photo-upload"}),!l&&s.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Initializing OCR engine..."})]})})]}),n&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx(eo,{className:"w-5 h-5 animate-spin text-blue-600"}),s.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400","data-testid":"text-processing",children:a||"Processing ID..."})]}),e&&!n&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mr,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-700 dark:text-green-400",children:"Scan Successful"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border border-green-200 dark:border-green-800",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Scanned Data:"}),s.jsxs("pre",{className:"text-xs text-gray-900 dark:text-white whitespace-pre-wrap break-words","data-testid":"text-scan-result",children:[e.substring(0,500),e.length>500&&"..."]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsx("p",{children:" Supports Ethiopian Digital ID QR codes"}),s.jsx("p",{children:" OCR for physical ID cards (Amharic + English)"}),s.jsx("p",{children:" Secure verification process"})]})]})})}function KQe(){const[t,e]=P.useState(null),{toast:r}=Vn(),n={validQR:{name:"Valid QR Code (Abebe Belete)",data:"eyJpZE51bWJlciI6IjEyMzQ1Njc4OTAxMiIsImZ1bGxOYW1lIjoiQWJlYmUgQmVsZXRlIn0=",description:"Base64-encoded JSON with 12-digit ID"},validQR2:{name:"Valid QR Code (Yohannes Abebe)",data:"eyJpZE51bWJlciI6Ijk4NzY1NDMyMTA5OCIsImZ1bGxOYW1lIjoi4Yuo4YiQ4YqV4YizIOGKoOGJoOGJoOGKqyJ9",description:"Ethiopian name in Amharic"},validOCR:{name:"Valid OCR Text",data:`Ethiopian National ID
Name:  
ID Number: 987654321098
Date of Birth: 01/01/1990
Issue Date: 15/06/2020`,description:"Simulated OCR text from ID card photo"},validOCREnglish:{name:"Valid OCR (English)",data:`FEDERAL DEMOCRATIC REPUBLIC OF ETHIOPIA
Name: ABEBE BELETE KEBEDE
ID: 123456789012
Sex: M
Birth: 15/03/1985`,description:"English text extraction"},invalidShort:{name:"Invalid - Too Short",data:"12345",description:"ID number with less than 12 digits (should fail)"},invalidFormat:{name:"Invalid - Wrong Format",data:"ABC123XYZ456",description:"Non-numeric ID (should fail)"}},i=async l=>{try{const u=await(await fetch("/api/id-scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scanData:l,scanMethod:"qr",timestamp:new Date().toISOString()})})).json();e(u),u.success?r({title:" Verification Successful",description:`ID: ${u.idNumber}, Name: ${u.fullName||"N/A"}`}):r({title:" Verification Failed",description:u.message,variant:"destructive"})}catch(c){r({title:"Error",description:c.message||"Network error",variant:"destructive"})}},a=l=>{navigator.clipboard.writeText(l),r({title:"Copied!",description:"Test data copied to clipboard"})},o=l=>{try{return JSON.parse(atob(l))}catch{return null}};return s.jsxs("div",{className:"min-h-screen",style:{background:"#f6f2ec"},children:[s.jsx(Zr,{}),s.jsx("div",{className:"container mx-auto py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 text-gray-900 dark:text-white",children:" Ethiopian ID Scanner - Test Lab"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Test the ID verification system with sample data or scan real Ethiopian IDs"})]}),s.jsxs(oc,{defaultValue:"live",className:"w-full",children:[s.jsxs(Fl,{className:"grid w-full grid-cols-2",children:[s.jsx(tn,{value:"live",children:"Live Scanner"}),s.jsx(tn,{value:"test",children:"Test Data"})]}),s.jsx(Tn,{value:"live",className:"space-y-4",children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Live ID Scanner"}),s.jsx(YQe,{onVerified:l=>{e(l),r({title:"ID Verified!",description:`Successfully verified ID: ${l.idNumber||"N/A"}`})}})]})}),s.jsx(Tn,{value:"test",className:"space-y-6",children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Test Cases"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Click any button to test the validation logic instantly"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(n).map(([l,c])=>s.jsx(_e,{className:`p-4 border-2 ${l.includes("invalid")?"border-red-200 dark:border-red-800":"border-green-200 dark:border-green-800"}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:c.name}),l.includes("invalid")?s.jsx(ll,{className:"w-4 h-4 text-red-500"}):s.jsx(Mr,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.description}),l.includes("QR")&&s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs",children:[s.jsx("strong",{children:"Decoded:"}),s.jsx("pre",{className:"mt-1 overflow-auto",children:JSON.stringify(o(c.data),null,2)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Be,{onClick:()=>i(c.data),className:"flex-1",variant:l.includes("invalid")?"destructive":"default",size:"sm",children:"Test This"}),s.jsx(Be,{onClick:()=>a(c.data),variant:"outline",size:"sm",children:s.jsx(r2e,{className:"w-4 h-4"})})]})]})},l))})]})})]}),t&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:t.success?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"w-6 h-6 text-green-500"}),"Verification Result - Success"]}):s.jsxs(s.Fragment,{children:[s.jsx(ll,{className:"w-6 h-6 text-red-500"}),"Verification Result - Failed"]})}),s.jsx("div",{className:`p-4 rounded-lg ${t.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:s.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(t,null,2)})}),t.success&&s.jsx("div",{className:"mt-4 space-y-2",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ID Number"}),s.jsx("p",{className:"text-lg font-mono font-semibold",children:t.idNumber})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Full Name"}),s.jsx("p",{className:"text-lg font-semibold",children:t.fullName||"Not extracted"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Expiry Date"}),s.jsx("p",{className:"text-lg font-semibold",children:t.expiryDate||"Not detected"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Location"}),s.jsx("p",{className:"text-lg font-semibold",children:t.location||"Not detected"})]})]})})]}),s.jsxs(_e,{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[s.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:" How It Works"}),s.jsxs("ul",{className:"text-sm space-y-1 text-gray-700 dark:text-gray-300",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"QR Codes:"})," Decodes base64 JSON from Ethiopian digital IDs"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"OCR Text:"})," Extracts 12-digit ID numbers from photos"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Validation:"})," Requires exactly 12 numeric digits"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Name Extraction:"})," Supports both English and Amharic (:)"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Security:"})," All scans are logged and require authentication"]})]})]})]})}),s.jsx(Ei,{})]})}class Qn{constructor(e,r,n,i,a){this._legacyCanvasSize=Qn.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||i||a?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||a||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(i=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),a=this.$overlay.style,a.position="absolute",a.display="none",a.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let l=window.getComputedStyle(e);l.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Qn.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Qn.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),n;try{e&&(await r()).every(i=>!i.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((i,a)=>({id:i.deviceId,label:i.label||(a===0?"Default Camera":`Camera ${a+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Qn._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Qn._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Qn._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:r}=await this._getCameraStream();!this._active||this._paused?Qn._stopVideoStream(e):(this._setVideoMirror(r),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(Qn._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,r,n,i,a=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,i=r.canvas,a=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||i||a||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,h;[n,u]=await Promise.all([n||Qn.createQrEngine(),Qn._loadImage(e)]),[i,h]=Qn._drawToCanvas(u,l,i,a);let f;if(n instanceof Worker){let y=n;r||Qn._postWorkerMessageSync(y,"inversionMode","both"),f=await new Promise((v,S)=>{let w,N,_,E=-1;N=M=>{M.data.id===E&&(y.removeEventListener("message",N),y.removeEventListener("error",_),clearTimeout(w),M.data.data!==null?v({data:M.data.data,cornerPoints:Qn._convertPoints(M.data.cornerPoints,l)}):S(Qn.NO_QR_CODE_FOUND))},_=M=>{y.removeEventListener("message",N),y.removeEventListener("error",_),clearTimeout(w),S("Scanner error: "+(M?M.message||M:"Unknown Error"))},y.addEventListener("message",N),y.addEventListener("error",_),w=setTimeout(()=>_("timeout"),1e4);let T=h.getImageData(0,0,i.width,i.height);E=Qn._postWorkerMessageSync(y,"decode",T,[T.data.buffer])})}else f=await Promise.race([new Promise((y,v)=>window.setTimeout(()=>v("Scanner error: timeout"),1e4)),(async()=>{try{var[y]=await n.detect(i);if(!y)throw Qn.NO_QR_CODE_FOUND;return{data:y.rawValue,cornerPoints:Qn._convertPoints(y.cornerPoints,l)}}catch(v){if(y=v.message||v,/not implemented|service unavailable/.test(y))return Qn._disableBarcodeDetector=!0,Qn.scanImage(e,{scanRegion:l,canvas:i,disallowCanvasResizing:a,alsoTryWithoutScanRegion:o});throw`Scanner error: ${y}`}})()]);return c?f:f.data}catch(u){if(!l||!o)throw u;let h=await Qn.scanImage(e,{qrEngine:n,canvas:i,disallowCanvasResizing:a});return c?h:h.data}finally{r||Qn._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,r,n,i=!0){Qn._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:r,blue:n,useIntegerApproximation:i})}setInversionMode(e){Qn._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>ab(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!Qn._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:i})=>/arm/i.test(n||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let r=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-r)/2),y:Math.round((e.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,r=e.videoWidth,n=e.videoHeight,i=e.offsetWidth,a=e.offsetHeight,o=e.offsetLeft,l=e.offsetTop,c=window.getComputedStyle(e),u=c.objectFit,h=r/n,f=i/a;switch(u){case"none":var y=r,v=n;break;case"fill":y=i,v=a;break;default:(u==="cover"?h>f:h<f)?(v=a,y=v*h):(y=i,v=y/h),u==="scale-down"&&(y=Math.min(y,r),v=Math.min(v,n))}var[S,w]=c.objectPosition.split(" ").map((_,E)=>{const T=parseFloat(_);return _.endsWith("%")?(E?a-v:i-y)*T/100:T});c=this._scanRegion.width||r,f=this._scanRegion.height||n,u=this._scanRegion.x||0;var N=this._scanRegion.y||0;h=this.$overlay.style,h.width=`${c/r*y}px`,h.height=`${f/n*v}px`,h.top=`${l+w+N/n*v}px`,n=/scaleX\(-1\)/.test(e.style.transform),h.left=`${o+(n?i-S-y:S)+(n?r-u-c:u)/r*y}px`,h.transform=e.style.transform}})}static _convertPoints(e,r){if(!r)return e;let n=r.x||0,i=r.y||0,a=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of e)o.x=o.x*a+n,o.y=o.y*r+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;e<r&&await new Promise(i=>setTimeout(i,r-e)),this._lastScanTimestamp=Date.now();try{var n=await Qn.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!Qn._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Qn.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:i,y:a})=>`${i},${a}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==Qn.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...n,...r])try{let a=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),o=this._getFacingMode(a)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:a,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let r of e.getTracks())r.stop(),e.removeTrack(r)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,r,n,i=!1){n=n||document.createElement("canvas");let a=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:e.videoWidth||e.width,c=r&&r.height?r.height:e.videoHeight||e.height;return i||(i=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==i&&(n.width=i),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(e,a,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(e){if(e instanceof Image)return await Qn._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let r=new Image;r.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Qn._awaitImageLoad(r),r}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((r,n)=>{let i=a=>{e.removeEventListener("load",i),e.removeEventListener("error",i),a instanceof ErrorEvent?n("Image load error"):r()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,r,n,i){return Qn._postWorkerMessageSync(await e,r,n,i)}static _postWorkerMessageSync(e,r,n,i){if(!(e instanceof Worker))return-1;let a=Qn._workerMessageId++;return e.postMessage({id:a,type:r,data:n},i),a}}Qn.DEFAULT_CANVAS_SIZE=400;Qn.NO_QR_CODE_FOUND="No QR code found";Qn._disableBarcodeDetector=!1;Qn._workerMessageId=0;function XQe({onVerified:t,userType:e="auto"}){var L,B;const r=P.useRef(null),n=P.useRef(null),i=P.useRef(null),[a,o]=P.useState(null),[l,c]=P.useState("idle"),[u,h]=P.useState("Choose verification method"),[f,y]=P.useState(null),[v,S]=P.useState("qr"),[w,N]=P.useState(""),{toast:_}=Vn();P.useEffect(()=>((async()=>{try{const $=await Qme.createWorker("eng",1,{logger:K=>{K.status==="recognizing text"&&N(`Processing: ${Math.round(K.progress*100)}%`)}});o($)}catch($){console.error("Failed to initialize Tesseract:",$)}})(),()=>{a&&a.terminate(),i.current&&(i.current.stop(),i.current.destroy())}),[]);const E=async()=>{try{if(c("scanning"),h("Starting camera..."),y(null),S("qr"),!r.current)throw new Error("Video element not ready");const U=navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}}}),$=new Promise((H,Q)=>setTimeout(()=>Q(new Error("Camera timeout")),1e4)),K=await Promise.race([U,$]);r.current.srcObject=K,await r.current.play(),h("Hold your ID's QR code in the frame");const q=new Qn(r.current,async H=>{await M(H.data,"qr"),q.stop(),K.getTracks().forEach(Q=>Q.stop())},{returnDetailedScanResult:!0,highlightScanRegion:!0,highlightCodeOutline:!0});await q.start(),i.current=q}catch(U){console.error("Camera error:",U),c("error");const $=U.message==="Camera timeout"?" Camera took too long to start. Please refresh and try again.":U.name==="NotAllowedError"?" Camera access denied. Please allow camera permissions.":U.name==="NotFoundError"?" No camera found on this device.":" Camera unavailable. Please try photo upload instead.";h($)}},T=async U=>{var K;const $=(K=U.target.files)==null?void 0:K[0];if(!$||!a){_({title:"Error",description:"Please select an image and wait for OCR to initialize",variant:"destructive"});return}c("verifying"),h("Uploading document..."),S("photo"),N("Uploading...");try{const q=new FormData;q.append("image",$);const H=await fetch("/api/upload/id-document",{method:"POST",body:q});if(!H.ok)throw new Error("Failed to upload image");const Z=(await H.json()).url;h("Reading document..."),N("Processing...");const{data:{text:J}}=await a.recognize($);await M(J,"photo",Z)}catch(q){console.error("OCR Error:",q),c("error"),h(" Could not process document. Please try again.")}finally{N("")}},M=async(U,$,K)=>{c("verifying"),h("Verifying document...");try{const H=await(await fetch("/api/id-scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scanData:U,scanMethod:$,imageUrl:K,timestamp:new Date().toISOString()})})).json();H.success?(c("success"),h(" Document verified successfully!"),y(H),_({title:"Verified!",description:`Document verified: ${H.idNumber}`}),t&&t(H)):(c("error"),h(` ${H.message||"Verification failed"}`),y(H))}catch(q){console.error("Verification error:",q),c("error"),h(" Network error. Please try again.")}},O=()=>{i.current&&(i.current.stop(),i.current.destroy(),i.current=null),c("idle"),h("Choose verification method"),y(null),n.current&&(n.current.value="")};return s.jsxs(_e,{className:"max-w-2xl mx-auto overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-eth-orange/10 to-eth-brown/10 dark:from-eth-orange/20 dark:to-eth-brown/20 p-4 border-b",children:[s.jsx("h3",{className:"font-semibold text-eth-brown dark:text-white mb-2",children:" Required Documents"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Ethiopians & Diaspora:"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ethiopian Digital ID / Yellow Card (QR code)"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Foreign Visitors:"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Passport, Driver's License, or National ID"})]})]})]}),l==="idle"&&s.jsxs(oc,{defaultValue:"qr",className:"w-full",children:[s.jsxs(Fl,{className:"w-full grid grid-cols-2",children:[s.jsxs(tn,{value:"qr",children:[s.jsx(qu,{className:"w-4 h-4 mr-2"}),"QR Scan (Ethiopian Citizens)"]}),s.jsxs(tn,{value:"photo",children:[s.jsx(lp,{className:"w-4 h-4 mr-2"}),"Photo Upload (Foreign Visitors)"]})]}),s.jsx(Tn,{value:"qr",className:"p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(qu,{className:"w-16 h-16 text-gray-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"For Ethiopian citizens & diaspora with Yellow Card (Digital ID)"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"Note: Even if you hold an international passport, use this option if you have an Ethiopian ID"})]}),s.jsxs(Be,{onClick:E,className:"w-full bg-eth-orange hover:bg-eth-orange/90",size:"lg","data-testid":"button-scan-qr",children:[s.jsx(qu,{className:"w-5 h-5 mr-2"}),"Scan Ethiopian ID QR Code"]})]})}),s.jsx(Tn,{value:"photo",className:"p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(lp,{className:"w-16 h-16 text-gray-400"})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload a clear photo of your passport, driver's license, or national ID"}),s.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:T,className:"hidden","data-testid":"input-photo-upload"}),s.jsxs(Be,{onClick:()=>{var U;return(U=n.current)==null?void 0:U.click()},className:"w-full bg-eth-brown hover:bg-eth-brown/90",size:"lg",variant:"default","data-testid":"button-upload-photo",children:[s.jsx(lp,{className:"w-5 h-5 mr-2"}),"Upload Document Photo"]})]})})]}),(l==="scanning"||l==="verifying")&&s.jsxs("div",{className:"p-6",children:[v==="qr"&&s.jsx("div",{className:"relative bg-gray-900 aspect-video rounded-lg overflow-hidden mb-4",children:s.jsx("video",{ref:r,className:"w-full h-full object-cover",playsInline:!0,muted:!0})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(eo,{className:"w-5 h-5 animate-spin text-eth-orange"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:u})]}),w&&s.jsx("p",{className:"text-xs text-gray-500",children:w})]})]}),l==="success"&&f&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Mr,{className:"w-6 h-6 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Document Verified!"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"ID Number"}),s.jsx("p",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:f.idNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"First Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.firstName||((L=f.fullName)==null?void 0:L.split(" ")[0])||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Middle Name ",s.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.middleName||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Last Name"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.lastName||((B=f.fullName)==null?void 0:B.split(" ").slice(1).join(" "))||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Date of Birth"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.dateOfBirth||f.dob||"N/A"})]}),f.expiryDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Expiry Date"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.expiryDate})]}),f.nationality&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nationality"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.nationality})]})]})]}),s.jsx(Be,{onClick:O,variant:"outline",className:"w-full",size:"lg","data-testid":"button-verify-another",children:"Verify Another Document"})]}),l==="error"&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx(ll,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),s.jsx("p",{className:"text-red-900 dark:text-red-100 font-medium",children:u}),v==="qr"&&u.includes("Camera")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:"No worries! You can upload a photo of your ID instead."}),s.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:T,className:"hidden"}),s.jsxs(Be,{onClick:()=>{O(),setTimeout(()=>{var U;return(U=n.current)==null?void 0:U.click()},100)},className:"bg-eth-brown hover:bg-eth-brown/90",size:"lg","data-testid":"button-switch-to-upload",children:[s.jsx(lp,{className:"w-5 h-5 mr-2"}),"Upload Photo Instead"]})]})]}),s.jsx(Be,{onClick:O,variant:"outline",className:"w-full",size:"lg","data-testid":"button-try-again",children:v==="qr"&&u.includes("Camera")?"Back to Options":"Try Again"})]}),l==="idle"&&s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-t border-blue-200 dark:border-blue-800",children:s.jsx("p",{className:"text-xs text-center text-blue-800 dark:text-blue-200",children:" All document information is encrypted and securely stored"})})]})}function ZQe(){Ms();const{toast:t}=Vn(),e=r=>{t({title:" Document Verified!",description:`Successfully verified: ${r.idNumber}`})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2]",children:[s.jsx(Zr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-eth-brown mb-2",children:" Identity Verification"}),s.jsx("p",{className:"text-eth-brown mb-1",children:"Required for all users - guests, hosts, and property owners"}),s.jsx("p",{className:"text-sm text-eth-brown/70",children:"Ethiopians & Diaspora with Yellow Card: Digital ID (QR) | Foreign Visitors: Passport, Driver's License, or National ID"})]}),s.jsx(XQe,{onVerified:e}),s.jsxs("div",{className:"mt-8 max-w-2xl mx-auto grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-2 border-eth-orange/30 rounded-lg p-4 shadow-lg",children:[s.jsx("h3",{className:"font-semibold text-sm text-eth-brown mb-2 flex items-center gap-2",children:" Ethiopian Citizens & Diaspora"}),s.jsx("p",{className:"text-xs text-eth-brown/80 mb-2 italic",children:"Have a Yellow Card (Ethiopian Digital ID)? Use this option, even if you carry an international passport."}),s.jsxs("ol",{className:"text-sm text-eth-brown space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:'Select "QR Scan" tab'}),s.jsx("li",{children:'Tap "Scan Ethiopian ID QR Code"'}),s.jsx("li",{children:"Hold QR code in front of camera"}),s.jsx("li",{children:"Automatic verification"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[#f9e9d8] to-[#f6d8c2] border-2 border-eth-orange/30 rounded-lg p-4 shadow-lg",children:[s.jsx("h3",{className:"font-semibold text-sm text-eth-brown mb-2 flex items-center gap-2",children:" Foreign Visitors"}),s.jsxs("ol",{className:"text-sm text-eth-brown space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:'Select "Photo Upload" tab'}),s.jsx("li",{children:"Take clear photo of your document"}),s.jsx("li",{children:"Upload passport/license/ID"}),s.jsx("li",{children:"Wait for verification"})]})]})]}),s.jsx("div",{className:"mt-6 max-w-2xl mx-auto text-center",children:s.jsx("p",{className:"text-xs text-eth-brown/70",children:" All documents are encrypted and securely stored. We never share your personal information."})})]}),s.jsx(Ei,{})]})}function QQe({message:t,emoji:e="",duration:r=5e3,onDismiss:n}){const[i,a]=P.useState(!0);return P.useEffect(()=>{const o=setTimeout(()=>{a(!1),n==null||n()},r);return()=>clearTimeout(o)},[r,n]),i?s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-40 animate-in fade-in slide-in-from-top-2 duration-300",role:"alert","aria-live":"polite",children:s.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 rounded-2xl shadow-lg border-2 max-w-md",style:{background:"#fff",borderColor:"#8a6e4b"},children:[s.jsx("span",{className:"text-3xl flex-shrink-0","aria-hidden":"true",children:e}),s.jsx("p",{className:"text-base font-medium flex-1",style:{color:"#2d1405"},children:t}),s.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>{a(!1),n==null||n()},className:"flex-shrink-0 h-8 w-8 p-0","aria-label":"Dismiss tooltip",role:"button",children:s.jsx(Cc,{className:"h-4 w-4"})})]})}):null}function JQe(t){const[e,r]=P.useState(!1);return P.useEffect(()=>{localStorage.getItem(`tooltip-dismissed-${t}`)||r(!0)},[t]),{showTooltip:e,handleDismiss:()=>{localStorage.setItem(`tooltip-dismissed-${t}`,"true"),r(!1)}}}const TK=[{type:"cleaning",icon:ua,title:"Cleaning",description:"Professional cleaning during or after your stay",color:"from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",iconColor:"text-blue-600 dark:text-blue-400"},{type:"laundry",icon:b2e,title:"Laundry",description:"Laundry and garment care services",color:"from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900",iconColor:"text-purple-600 dark:text-purple-400"},{type:"airport_pickup",icon:v6,title:"Transport",description:"Airport pickup, daily drivers, and tour cars",color:"from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",iconColor:"text-green-600 dark:text-green-400"},{type:"electrical",icon:_4,title:"Electrical",description:"Electrical repairs and installations",color:"from-yellow-50 to-yellow-100 dark:from-yellow-950 dark:to-yellow-900",iconColor:"text-yellow-600 dark:text-yellow-400"},{type:"plumbing",icon:n2e,title:"Plumbing",description:"Plumbing fixes and maintenance",color:"from-cyan-50 to-cyan-100 dark:from-cyan-950 dark:to-cyan-900",iconColor:"text-cyan-600 dark:text-cyan-400"},{type:"driver",icon:v6,title:"Driver Services",description:"Personal drivers and transportation",color:"from-indigo-50 to-indigo-100 dark:from-indigo-950 dark:to-indigo-900",iconColor:"text-indigo-600 dark:text-indigo-400"},{type:"meal_support",icon:k2e,title:"Meal Support",description:"Local cooks and meal delivery partners",color:"from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900",iconColor:"text-orange-600 dark:text-orange-400"},{type:"local_guide",icon:u2e,title:"Local Guides",description:"City tours and cultural experiences",color:"from-pink-50 to-pink-100 dark:from-pink-950 dark:to-pink-900",iconColor:"text-pink-600 dark:text-pink-400"},{type:"photography",icon:qu,title:"Photography",description:"Professional photos and listing optimization",color:"from-rose-50 to-rose-100 dark:from-rose-950 dark:to-rose-900",iconColor:"text-rose-600 dark:text-rose-400"},{type:"landscaping",icon:_2e,title:"Landscaping",description:"Outdoor maintenance and beautification",color:"from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900",iconColor:"text-emerald-600 dark:text-emerald-400"},{type:"welcome_pack",icon:N1,title:"Welcome Pack",description:"Curated welcome amenities for guests",color:"from-amber-50 to-amber-100 dark:from-amber-950 dark:to-amber-900",iconColor:"text-amber-600 dark:text-amber-400"},{type:"self_care",icon:y2e,title:"Self Care",description:"Hair, makeup, and nail services",color:"from-pink-50 to-pink-100 dark:from-pink-950 dark:to-pink-900",iconColor:"text-pink-600 dark:text-pink-400"}];function eJe(){const{showTooltip:t,handleDismiss:e}=JQe("services-page");return s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx(Zr,{}),t&&s.jsx(QQe,{message:"Need help at home? Tap a service below to find trusted local providers.",emoji:"",duration:5e3,onDismiss:e}),s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(Cs,{to:"/become-provider",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-white hover:opacity-90 transition-opacity cursor-pointer",style:{background:"#2d1405"},"data-testid":"banner-become-provider",children:[s.jsx(N1,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Want to join Alga as a service provider?"}),s.jsx("span",{className:"sm:hidden",children:"Become a Provider"}),s.jsx("span",{className:"ml-1",children:""})]})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-3",style:{color:"#2d1405"},children:"Alga Services Marketplace"}),s.jsx("p",{className:"text-lg",style:{color:"#5a4a42"},children:"Professional services for guests, hosts, and homeowners across Ethiopia"})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:TK.slice(0,2).map(r=>s.jsx(Cs,{to:`/services/${r.type}`,"data-testid":`link-service-${r.type}`,children:s.jsx(_e,{className:`h-full transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer border-0 bg-gradient-to-br ${r.color}`,children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-white/80 dark:bg-black/20 ${r.iconColor}`,children:s.jsx(r.icon,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",style:{color:"#2d1405"},children:r.title}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:r.description})]})]})})})},r.type))})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:TK.slice(2).map(r=>s.jsx(Cs,{to:`/services/${r.type}`,"data-testid":`link-service-${r.type}`,children:s.jsx(_e,{className:`h-full transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer border-0 bg-gradient-to-br ${r.color}`,children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-white/80 dark:bg-black/20 ${r.iconColor}`,children:s.jsx(r.icon,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",style:{color:"#2d1405"},children:r.title}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:r.description})]})]})})})},r.type))})})]})}function Jme({provider:t,size:e="md"}){const r=[];t.verificationStatus==="approved"&&r.push({icon:s.jsx(Mr,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Verified",color:"bg-green-100 text-green-700 hover:bg-green-100",tooltip:"ID verified by Alga"});const n=parseFloat(t.rating||"0");return n>=4.5&&r.push({icon:s.jsx(ca,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Top Rated",color:"bg-amber-100 text-amber-700 hover:bg-amber-100",tooltip:`${n.toFixed(1)} stars - Highly rated provider`}),(t.totalJobsCompleted||0)>=5&&r.push({icon:s.jsx(_4,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Experienced",color:"bg-blue-100 text-blue-700 hover:bg-blue-100",tooltip:`${t.totalJobsCompleted} jobs completed`}),r.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((i,a)=>s.jsxs(zje,{children:[s.jsx(qje,{asChild:!0,children:s.jsx(Rt,{variant:"secondary",className:`${i.color} ${e==="sm"?"text-xs px-2 py-0.5":"px-3 py-1"}`,"data-testid":`badge-${i.label.toLowerCase().replace(" ","-")}`,children:s.jsxs("span",{className:"flex items-center gap-1",children:[i.icon,s.jsx("span",{children:i.label})]})})}),s.jsx(lne,{children:s.jsx("p",{children:i.tooltip})})]},a))})}function tJe({value:t,onChange:e,placeholder:r="Enter your area (e.g., Bole, Sarbet)",className:n=""}){const[i,a]=P.useState(!1),[o,l]=P.useState(!1);P.useEffect(()=>{const u=H6();u&&!t&&(e(u.area),l(!0))},[]);const c=async()=>{a(!0);try{const u=H6();if(u){e(u.area),a(!1);return}const h=await O3e(),{latitude:f,longitude:y}=h.coords,{area:v,city:S}=await I3e(f,y);P3e({latitude:f,longitude:y,area:v,city:S,timestamp:Date.now()}),e(v),l(!0)}catch(u){u.code===1?alert(" Location access denied. Please enter your area manually."):u.code===2?alert(" Unable to determine your location. Please enter your area manually."):u.code===3?alert(" Location request timed out. Please try again or enter manually."):alert(" Could not get your location. Please enter your area manually.")}finally{a(!1)}};return s.jsxs("div",{className:`flex gap-2 ${n}`,children:[s.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),placeholder:r,className:"flex-1 px-3 py-2 rounded-lg border border-[#e5d9ce] focus:outline-none focus:ring-2 focus:ring-[#F49F0A] bg-white","data-testid":"input-location-picker"}),s.jsx(Be,{type:"button",onClick:c,disabled:i,variant:"outline",className:"shrink-0",style:{borderColor:"#e5d9ce",color:"#2d1405",background:o?"#FFF6EA":"#fff"},"data-testid":"button-use-location",children:i?s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"w-4 h-4 mr-2 animate-spin"}),"Finding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ki,{className:"w-4 h-4 mr-2"}),o?" Saved":"Use GPS"]})})]})}const rJe={cleaning:"Cleaning Services",laundry:"Laundry Services",airport_pickup:"Transport & Airport Pickup",electrical:"Electrical Services",plumbing:"Plumbing Services",driver:"Driver Services",meal_support:"Meal Support & Catering",local_guide:"Local Guides & Tours",photography:"Photography Services",landscaping:"Landscaping & Gardening",welcome_pack:"Welcome Pack Services",self_care:"Self-Care at Home"},nJe=["Hair Styling","Pedicure","Manicure","Waxing","Upper Lip","Facial","Massage","Eyebrow Shaping"],sJe=[{value:"all",label:"Anytime"},{value:"now",label:"Available Now"},{value:"today_am",label:"Today Morning (8AM-12PM)"},{value:"today_pm",label:"Today Afternoon (12PM-6PM)"},{value:"today_evening",label:"Today Evening (6PM-10PM)"},{value:"tomorrow",label:"Tomorrow"},{value:"this_week",label:"This Week"}];function iJe(){const{type:t}=m4(),[e,r]=P.useState("all"),[n,i]=P.useState("rating"),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,h]=P.useState(""),{data:f,isLoading:y}=Nr({queryKey:["/api/service-providers",t,e],queryFn:async()=>{const S=new URLSearchParams;t&&S.append("serviceType",t),e!=="all"&&S.append("city",e),S.append("verificationStatus","approved");const w=await fetch(`/api/service-providers?${S}`);if(!w.ok)throw new Error("Failed to fetch providers");return w.json()}}),v=f?[...f].sort((S,w)=>n==="rating"?parseFloat(w.rating||"0")-parseFloat(S.rating||"0"):n==="price_low"?parseFloat(S.basePrice)-parseFloat(w.basePrice):n==="price_high"?parseFloat(w.basePrice)-parseFloat(S.basePrice):0):[];return y?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#2d1405"}}),s.jsx("p",{style:{color:"#5a4a42"},children:"Loading providers..."})]})}):s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx(Zr,{}),s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx(Cs,{to:"/services",children:s.jsxs(Be,{variant:"ghost",className:"mb-4","data-testid":"button-back-services",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"All Services"]})}),s.jsxs("h1",{className:"text-3xl font-bold mb-2",style:{color:"#2d1405"},children:[rJe[t||""]||"Service Providers"," ",t==="self_care"&&""]}),s.jsx("p",{style:{color:"#5a4a42"},children:t==="self_care"?"Let the beauty come to you  trusted professionals at your doorstep":`${v.length} verified providers available`})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="self_care"&&s.jsxs("div",{className:"mb-6 p-6 rounded-xl shadow-lg border-2 border-[#F49F0A]/20",style:{background:"#FFF6EA"},children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#2d1405"},children:" Find Your Perfect Beauty Professional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#2d1405"},children:"What service do you need?"}),s.jsxs(Jn,{value:a,onValueChange:o,children:[s.jsx(Gn,{"data-testid":"select-selfcare-specialty",children:s.jsx(es,{placeholder:"All services"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Services"}),nJe.map(S=>s.jsx(Vt,{value:S.toLowerCase().replace(/\s+/g,"_"),children:S},S))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#2d1405"},children:"Your area (e.g., Bole, Sarbet)"}),s.jsx(tJe,{value:u,onChange:h,placeholder:"Enter your neighborhood"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#2d1405"},children:"When do you need them?"}),s.jsxs(Jn,{value:l,onValueChange:c,children:[s.jsx(Gn,{"data-testid":"select-time-slot",children:s.jsx(es,{placeholder:"Anytime"})}),s.jsx(Yn,{children:sJe.map(S=>s.jsx(Vt,{value:S.value,children:S.label},S.value))})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 p-4 rounded-lg",style:{background:"#fff"},children:[s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#2d1405"},children:"City"}),s.jsxs(Jn,{value:e,onValueChange:r,children:[s.jsx(Gn,{"data-testid":"select-city-filter",children:s.jsx(es,{placeholder:"All cities"})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"all",children:"All Cities"}),T2.map(S=>s.jsx(Vt,{value:S,children:S},S))]})]})]}),s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#2d1405"},children:"Sort By"}),s.jsxs(Jn,{value:n,onValueChange:i,children:[s.jsx(Gn,{"data-testid":"select-sort-by",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"rating",children:"Highest Rated"}),s.jsx(Vt,{value:"price_low",children:"Price: Low to High"}),s.jsx(Vt,{value:"price_high",children:"Price: High to Low"})]})]})]})]}),v.length===0?s.jsxs("div",{className:"text-center py-16 px-4 rounded-lg",style:{background:"#fff"},children:[s.jsx(ua,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#2d1405",opacity:.3}}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#2d1405"},children:t==="self_care"?"No beauty professionals found yet in your area":"No providers found"}),s.jsx("p",{style:{color:"#5a4a42"},children:t==="self_care"?" We're onboarding mobile beauty experts near you. Check back soon!":"Try adjusting your filters or check back later for new providers."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(S=>s.jsx(Cs,{to:`/service-providers/${S.id}`,children:s.jsx(_e,{className:"h-full transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",style:{background:"#fff"},"data-testid":`card-provider-${S.id}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-lg",style:{color:"#2d1405"},children:S.businessName}),S.rating&&parseFloat(S.rating)>0&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded",style:{background:"#faf5f0"},children:[s.jsx(ca,{className:"w-4 h-4 fill-current",style:{color:"#d4af37"}}),s.jsx("span",{className:"font-medium text-sm",style:{color:"#2d1405"},children:parseFloat(S.rating).toFixed(1)})]})]}),s.jsx("div",{className:"mb-3",children:s.jsx(Jme,{provider:S,size:"sm"})}),s.jsx("p",{className:"text-sm mb-4 line-clamp-2",style:{color:"#5a4a42"},children:S.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(ki,{className:"w-4 h-4"}),s.jsx("span",{children:S.city})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(ii,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-semibold",style:{color:"#2d1405"},children:["ETB ",parseFloat(S.basePrice).toFixed(0)]}),s.jsxs("span",{children:["/ ",S.pricingModel==="hourly"?"hour":"service"]})]}),(S.totalJobsCompleted||0)>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(ei,{className:"w-4 h-4"}),s.jsxs("span",{children:[S.totalJobsCompleted," jobs completed"]})]})]})]})})},S.id))})]})]})}function jv({label:t,value:e,count:r}){return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground w-32",children:t}),s.jsx(R4,{value:e/5*100,className:"h-2 flex-1"}),s.jsx("span",{className:"text-sm font-medium w-12 text-right",children:e.toFixed(1)}),s.jsxs("span",{className:"text-xs text-muted-foreground w-12",children:["(",r,")"]})]})}function aJe({providerId:t}){const{data:e,isLoading:r}=Nr({queryKey:["/api/service-providers",t,"reviews"],queryFn:()=>fetch(`/api/service-providers/${t}/reviews`).then(u=>u.json())});if(r)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ti,{className:"h-32 w-full"}),s.jsx(Ti,{className:"h-32 w-full"}),s.jsx(Ti,{className:"h-32 w-full"})]});if(!e||e.length===0)return s.jsx(_e,{children:s.jsxs(Te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(ca,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No reviews yet"}),s.jsx("p",{className:"text-sm",children:"Be the first to review this service provider!"})]})});const n=e.reduce((u,h)=>u+h.rating,0)/e.length,i=e.filter(u=>u.professionalism).reduce((u,h)=>u+(h.professionalism||0),0)/e.filter(u=>u.professionalism).length,a=e.filter(u=>u.quality).reduce((u,h)=>u+(h.quality||0),0)/e.filter(u=>u.quality).length,o=e.filter(u=>u.timeliness).reduce((u,h)=>u+(h.timeliness||0),0)/e.filter(u=>u.timeliness).length,l=e.filter(u=>u.communication).reduce((u,h)=>u+(h.communication||0),0)/e.filter(u=>u.communication).length,c=e.filter(u=>u.value).reduce((u,h)=>u+(h.value||0),0)/e.filter(u=>u.value).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl font-bold text-eth-brown",children:n.toFixed(1)}),s.jsx("div",{className:"flex justify-center my-2",children:[...Array(5)].map((u,h)=>s.jsx(ca,{className:`w-5 h-5 ${h<Math.round(n)?"fill-amber-400 text-amber-400":"text-gray-300"}`},h))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," reviews"]})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(jv,{label:"Professionalism",value:i||0,count:e.filter(u=>u.professionalism).length}),s.jsx(jv,{label:"Quality",value:a||0,count:e.filter(u=>u.quality).length}),s.jsx(jv,{label:"Timeliness",value:o||0,count:e.filter(u=>u.timeliness).length}),s.jsx(jv,{label:"Communication",value:l||0,count:e.filter(u=>u.communication).length}),s.jsx(jv,{label:"Value",value:c||0,count:e.filter(u=>u.value).length})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Customer Reviews"}),e.map(u=>s.jsx(_e,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-eth-brown/10 flex items-center justify-center flex-shrink-0",children:s.jsx(cu,{className:"w-5 h-5 text-eth-brown"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[[...Array(5)].map((h,f)=>s.jsx(ca,{className:`w-4 h-4 ${f<u.rating?"fill-amber-400 text-amber-400":"text-gray-300"}`},f)),s.jsxs("span",{className:"text-sm font-semibold",children:[u.rating,".0"]})]})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:Lh(new Date(u.createdAt),"MMM d, yyyy")})]}),u.comment&&s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:u.comment}),(u.professionalism||u.quality||u.timeliness||u.communication||u.value)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mt-4 pt-4 border-t",children:[u.professionalism&&s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Professionalism"}),s.jsxs("p",{className:"font-medium",children:[u.professionalism,".0 "]})]}),u.quality&&s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Quality"}),s.jsxs("p",{className:"font-medium",children:[u.quality,".0 "]})]}),u.timeliness&&s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Timeliness"}),s.jsxs("p",{className:"font-medium",children:[u.timeliness,".0 "]})]}),u.communication&&s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Communication"}),s.jsxs("p",{className:"font-medium",children:[u.communication,".0 "]})]}),u.value&&s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Value"}),s.jsxs("p",{className:"font-medium",children:[u.value,".0 "]})]})]})]})]})})},u.id))]})]})}function oJe(){const{id:t}=m4(),{toast:e}=Vn(),{isAuthenticated:r}=ti(),n=Ms(),[i,a]=P.useState(""),[o,l]=P.useState(""),[c,u]=P.useState(""),[h,f]=P.useState(""),{data:y,isLoading:v}=Nr({queryKey:["/api/service-providers",t],enabled:!!t}),S=Ln({mutationFn:async N=>xn("/api/service-bookings","POST",N),onSuccess:()=>{e({title:"Booking Successful!",description:"Your service request has been submitted. The provider will confirm shortly."}),zn.invalidateQueries({queryKey:["/api/my-service-bookings"]}),n("/my-alga")},onError:N=>{e({title:"Booking Failed",description:N.message,variant:"destructive"})}}),w=()=>{if(!r){e({title:"Please Sign In",description:"You need to be signed in to book a service.",variant:"destructive"}),n("/login");return}if(!i||!o||!c){e({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!y)return;const N=parseFloat(y.basePrice),_=N*.15,E=N*.85;S.mutate({serviceProviderId:y.id,serviceType:y.serviceType,scheduledDate:new Date(i).toISOString(),scheduledTime:o,propertyLocation:c,totalPrice:N.toString(),algaCommission:_.toFixed(2),providerPayout:E.toFixed(2),specialInstructions:h||void 0})};return v?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#2d1405"}}),s.jsx("p",{style:{color:"#5a4a42"},children:"Loading provider details..."})]})}):y?s.jsx("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Cs,{to:`/services/${y.serviceType}`,children:s.jsxs(Be,{variant:"ghost",className:"mb-6","data-testid":"button-back-category",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to ",y.serviceType]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(Ye,{className:"text-2xl mb-2",style:{color:"#2d1405"},children:y.businessName}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mb-3",style:{color:"#5a4a42"},children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ki,{className:"w-4 h-4"}),y.city,", ",y.region]}),y.rating&&parseFloat(y.rating)>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ca,{className:"w-4 h-4 fill-current",style:{color:"#d4af37"}}),s.jsx("span",{className:"font-medium",children:parseFloat(y.rating).toFixed(1)}),(y.totalJobsCompleted||0)>0&&s.jsxs("span",{className:"text-xs",children:["(",y.totalJobsCompleted," jobs)"]})]})]}),s.jsx(Jme,{provider:y})]})})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"About"}),s.jsx("p",{style:{color:"#5a4a42"},children:y.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Pricing"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:["ETB ",parseFloat(y.basePrice).toFixed(0)]}),s.jsxs("span",{style:{color:"#5a4a42"},children:["/ ",y.pricingModel==="hourly"?"hour":"service"]})]}),s.jsx("p",{className:"text-sm mt-2",style:{color:"#5a4a42"},children:"Final price may vary based on service requirements"})]}),y.address&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Service Area"}),s.jsx("p",{style:{color:"#5a4a42"},children:y.address})]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(_e,{className:"sticky top-4",style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsx(Ye,{style:{color:"#2d1405"},children:"Book This Service"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"date",style:{color:"#2d1405"},children:"Date *"}),s.jsx(Or,{id:"date",type:"date",value:i,onChange:N=>a(N.target.value),min:new Date().toISOString().split("T")[0],required:!0,"data-testid":"input-booking-date"})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"time",style:{color:"#2d1405"},children:"Time *"}),s.jsx(Or,{id:"time",type:"time",value:o,onChange:N=>l(N.target.value),required:!0,"data-testid":"input-booking-time"})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"location",style:{color:"#2d1405"},children:"Location *"}),s.jsx(Or,{id:"location",type:"text",placeholder:"City or address",value:c,onChange:N=>u(N.target.value),required:!0,"data-testid":"input-booking-location"})]}),s.jsxs("div",{children:[s.jsx(yr,{htmlFor:"instructions",style:{color:"#2d1405"},children:"Special Instructions"}),s.jsx(_i,{id:"instructions",placeholder:"Any specific requirements...",value:h,onChange:N=>f(N.target.value),rows:3,"data-testid":"textarea-booking-instructions"})]}),s.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"#e5d9ce"},children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{style:{color:"#5a4a42"},children:"Service Fee"}),s.jsxs("span",{className:"font-medium",style:{color:"#2d1405"},children:["ETB ",parseFloat(y.basePrice).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm mb-3",style:{color:"#5a4a42"},children:[s.jsx("span",{children:"Alga Commission (15%)"}),s.jsxs("span",{children:["ETB ",(parseFloat(y.basePrice)*.15).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold mb-4",children:[s.jsx("span",{style:{color:"#2d1405"},children:"Total"}),s.jsxs("span",{style:{color:"#2d1405"},children:["ETB ",parseFloat(y.basePrice).toFixed(2)]})]}),s.jsx(Be,{onClick:w,disabled:S.isPending,className:"w-full",style:{background:"#2d1405"},"data-testid":"button-book-now",children:S.isPending?"Booking...":"Book Now"}),s.jsx("p",{className:"text-xs text-center mt-3",style:{color:"#5a4a42"},children:"Provider will confirm within 24 hours"})]})]})]})})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"#2d1405"},children:"Reviews & Ratings"}),s.jsx(aJe,{providerId:y.id})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Provider Not Found"}),s.jsx("p",{className:"mb-4",style:{color:"#5a4a42"},children:"This service provider doesn't exist or has been removed."}),s.jsx(Cs,{to:"/services",children:s.jsx(Be,{children:"Browse Services"})})]})})}function lJe(){const[t,e]=P.useState("all"),[r,n]=P.useState(null),[i,a]=P.useState(!1);P.useEffect(()=>{navigator.geolocation&&(a(!0),navigator.geolocation.getCurrentPosition(h=>{n({latitude:h.coords.latitude,longitude:h.coords.longitude}),a(!1)},()=>{a(!1)}))},[]);const{data:o,isLoading:l}=Nr({queryKey:["/api/service-providers",{serviceType:"meal_support"}]}),c=(h,f,y,v)=>{const w=(y-h)*Math.PI/180,N=(v-f)*Math.PI/180,_=Math.sin(w/2)*Math.sin(w/2)+Math.cos(h*Math.PI/180)*Math.cos(y*Math.PI/180)*Math.sin(N/2)*Math.sin(N/2);return 6371*(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)))},u=(o==null?void 0:o.filter(h=>{if(t!=="all"&&h.providerType!==t)return!1;if(r!=null&&r.latitude&&(r!=null&&r.longitude)&&h.latitude&&h.longitude){const f=c(r.latitude,r.longitude,parseFloat(h.latitude),parseFloat(h.longitude)),y=h.deliveryRadiusKm||5;return f<=y}return!0}).sort((h,f)=>{const y=parseFloat(f.rating)-parseFloat(h.rating);return y!==0?y:f.totalJobsCompleted-h.totalJobsCompleted}))||[];return s.jsxs("div",{className:"min-h-screen bg-[#f6f2ec]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"bg-gradient-to-r from-[#CD7F32] to-[#F49F0A] text-white py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 flex items-center justify-center gap-3",children:[s.jsx(XA,{className:"w-12 h-12"}),"Meal Support"]}),s.jsx("p",{className:"text-xl mb-2",children:"Delicious meals delivered to your door "}),s.jsx("p",{className:"text-white/90",children:"Choose from authentic Ethiopian home cooks or local restaurants"}),(r==null?void 0:r.latitude)&&s.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full",children:[s.jsx(ki,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Showing providers within 5km of ",r.neighborhood||"your location"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(oc,{value:t,onValueChange:h=>e(h),className:"mb-8",children:s.jsxs(Fl,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(tn,{value:"all",children:"All Providers"}),s.jsx(tn,{value:"home_cook",children:"Home Cooks"}),s.jsx(tn,{value:"restaurant",children:"Restaurants"})]})}),l&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-[#CD7F32] border-r-transparent"}),s.jsx("p",{className:"mt-4 text-[#5a4a42]",children:"Loading meal providers..."})]}),!l&&u.length===0&&s.jsx(_e,{className:"max-w-md mx-auto",children:s.jsxs(Te,{className:"pt-6 text-center",children:[s.jsx(XA,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#2d1405"},children:"No providers found nearby"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"We're expanding our network of meal providers. Check back soon or try a different filter."})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>{var y;const f=r!=null&&r.latitude&&(r!=null&&r.longitude)&&h.latitude&&h.longitude?c(r.latitude,r.longitude,parseFloat(h.latitude),parseFloat(h.longitude)):null;return s.jsxs(_e,{className:"hover:shadow-xl transition-all cursor-pointer","data-testid":`meal-provider-${h.id}`,children:[s.jsxs("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[(y=h.portfolioImages)!=null&&y[0]?s.jsx("img",{src:h.portfolioImages[0],alt:h.businessName,className:"w-full h-full object-cover",loading:"lazy"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#CD7F32]/20 to-[#F49F0A]/20 flex items-center justify-center",children:h.providerType==="home_cook"?s.jsx(XA,{className:"w-16 h-16 text-[#CD7F32]"}):s.jsx(S2e,{className:"w-16 h-16 text-[#CD7F32]"})}),h.verificationStatus==="approved"&&s.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-full flex items-center gap-1 text-xs font-semibold shadow-lg",children:[s.jsx(Mh,{className:"w-3 h-3"}),"Verified"]}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(Rt,{variant:"secondary",className:"bg-white/95 text-[#2d1405] font-semibold",children:h.providerType==="home_cook"?" Home Cook":" Restaurant"})}),f&&s.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/70 text-white px-3 py-1 rounded-full text-xs font-semibold",children:[f.toFixed(1)," km away"]})]}),s.jsxs(Ge,{children:[s.jsx(Ye,{className:"text-xl",style:{color:"#2d1405"},children:h.businessName}),s.jsx("div",{className:"flex items-center gap-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ca,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-semibold",children:parseFloat(h.rating).toFixed(1)}),s.jsxs("span",{className:"text-gray-500",children:["(",h.totalJobsCompleted," orders)"]})]})}),h.cuisine&&s.jsx(Rt,{variant:"outline",className:"w-fit mt-2",children:h.cuisine})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-[#5a4a42] line-clamp-2",children:h.description}),h.specialties&&h.specialties.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[#2d1405] mb-2",children:"Popular Dishes:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.specialties.slice(0,3).map((v,S)=>s.jsx(Rt,{variant:"secondary",className:"text-xs",children:v},S)),h.specialties.length>3&&s.jsxs(Rt,{variant:"secondary",className:"text-xs",children:["+",h.specialties.length-3," more"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"w-4 h-4 text-[#CD7F32]"}),s.jsxs("span",{className:"font-semibold text-[#2d1405]",children:["From ",AI(parseFloat(h.basePrice))]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[s.jsx(ei,{className:"w-3 h-3"}),s.jsxs("span",{children:[h.deliveryRadiusKm||5,"km radius"]})]})]}),s.jsx(Be,{className:"w-full bg-[#CD7F32] hover:bg-[#b36f2c]","data-testid":`button-order-${h.id}`,onClick:()=>{alert(`Order from ${h.businessName} - Coming soon!`)},children:"Order Now"})]})]},h.id)})}),s.jsxs(_e,{className:"mt-12 bg-white",children:[s.jsx(Ge,{children:s.jsx(Ye,{className:"text-2xl text-center",style:{color:"#2d1405"},children:"How Meal Support Works"})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#CD7F32]/10 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-[#CD7F32]",children:"1"})}),s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Browse Providers"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Choose from home cooks or restaurants near you"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#CD7F32]/10 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-[#CD7F32]",children:"2"})}),s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Place Order"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select your dishes and checkout securely"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#CD7F32]/10 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-[#CD7F32]",children:"3"})}),s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Fast Delivery"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Meals delivered fresh to your door"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#CD7F32]/10 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-2xl font-bold text-[#CD7F32]",children:"4"})}),s.jsx("h3",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:"Enjoy & Review"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Savor your meal and share your experience"})]})]})})]})]}),s.jsx(Ei,{})]})}function Sv({label:t,value:e,onChange:r}){return s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{className:"text-sm font-medium",children:t}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(n=>s.jsx("button",{type:"button",onClick:()=>r(n),className:"p-1 hover:scale-110 transition-transform","data-testid":`rating-${t.toLowerCase()}-${n}`,children:s.jsx(ca,{className:`w-6 h-6 ${n<=e?"fill-amber-400 text-amber-400":"text-gray-300"}`})},n))})]})}function cJe({open:t,onOpenChange:e,booking:r}){const{toast:n}=Vn(),i=ay(),[a,o]=P.useState(5),[l,c]=P.useState(5),[u,h]=P.useState(5),[f,y]=P.useState(5),[v,S]=P.useState(5),[w,N]=P.useState(5),[_,E]=P.useState(""),T=Ln({mutationFn:async L=>await xn("POST","/api/service-reviews",L),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/my-service-bookings"]}),i.invalidateQueries({queryKey:["/api/service-providers",r.serviceProviderId]}),n({title:"Review submitted",description:"Thank you for your feedback!"}),e(!1),M()},onError:L=>{n({title:"Failed to submit review",description:L.message||"Please try again later",variant:"destructive"})}}),M=()=>{o(5),c(5),h(5),y(5),S(5),N(5),E("")},O=L=>{L.preventDefault(),T.mutate({serviceBookingId:r.id,serviceProviderId:r.serviceProviderId,rating:a,professionalism:l,quality:u,timeliness:f,communication:v,value:w,comment:_.trim()||null})};return s.jsx(Uo,{open:t,onOpenChange:e,children:s.jsxs(po,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(go,{children:[s.jsx(xo,{children:"Review Service"}),s.jsx(Sc,{children:"Share your experience to help others make informed decisions"})]}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{className:"text-base font-semibold",children:"Overall Rating"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(L=>s.jsx("button",{type:"button",onClick:()=>o(L),className:"p-1 hover:scale-110 transition-transform","data-testid":`rating-overall-${L}`,children:s.jsx(ca,{className:`w-8 h-8 ${L<=a?"fill-amber-400 text-amber-400":"text-gray-300"}`})},L))})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Detailed Ratings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Sv,{label:"Professionalism",value:l,onChange:c}),s.jsx(Sv,{label:"Quality",value:u,onChange:h}),s.jsx(Sv,{label:"Timeliness",value:f,onChange:y}),s.jsx(Sv,{label:"Communication",value:v,onChange:S}),s.jsx(Sv,{label:"Value for Money",value:w,onChange:N})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"comment",children:"Your Review (Optional)"}),s.jsx(_i,{id:"comment",value:_,onChange:L=>E(L.target.value),placeholder:"Share your experience with this service provider...",rows:4,className:"resize-none","data-testid":"input-review-comment"})]}),s.jsxs(Wu,{children:[s.jsx(Be,{type:"button",variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-review",children:"Cancel"}),s.jsx(Be,{type:"submit",disabled:T.isPending,"data-testid":"button-submit-review",children:T.isPending?"Submitting...":"Submit Review"})]})]})]})})}const uJe={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",in_progress:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-100",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"};function dJe(){const{user:t}=ti(),e=Ms(),[r,n]=P.useState(!1),[i,a]=P.useState(null),{data:o,isLoading:l}=Nr({queryKey:["/api/my-service-bookings"],enabled:!!t}),c=u=>{a(u),n(!0)};return t?l?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#2d1405"}}),s.jsx("p",{style:{color:"#5a4a42"},children:"Loading your services..."})]})}):s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx(Cs,{to:"/my-alga",children:s.jsxs(Be,{variant:"ghost",className:"mb-4","data-testid":"button-back-my-alga",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"My Alga"]})}),s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"My Services"}),s.jsxs("p",{style:{color:"#5a4a42"},children:[(o==null?void 0:o.length)||0," service bookings"]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:!o||o.length===0?s.jsx(_e,{style:{background:"#fff"},children:s.jsxs(Te,{className:"py-16 text-center",children:[s.jsx(ei,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#2d1405",opacity:.3}}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"#2d1405"},children:"No Services Yet"}),s.jsx("p",{className:"mb-6",style:{color:"#5a4a42"},children:"You haven't booked any services yet."}),s.jsx(Cs,{to:"/services",children:s.jsx(Be,{"data-testid":"button-browse-services",children:"Browse Services"})})]})}):s.jsxs("div",{className:"space-y-4",children:[o.map(u=>s.jsxs(_e,{className:"hover:shadow-md transition-shadow",style:{background:"#fff"},"data-testid":`card-service-booking-${u.id}`,children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Ye,{className:"text-xl mb-1",style:{color:"#2d1405"},children:u.serviceType.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase())}),s.jsxs("p",{className:"text-sm",style:{color:"#5a4a42"},children:["Booking #",u.id]})]}),s.jsx(Rt,{className:uJe[u.status],children:u.status.replace(/_/g," ")})]})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(Pi,{className:"w-4 h-4"}),s.jsxs("span",{children:[Lh(new Date(u.scheduledDate),"MMMM d, yyyy"),u.scheduledTime&&` at ${u.scheduledTime}`]})]}),u.propertyLocation&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(ki,{className:"w-4 h-4"}),s.jsx("span",{children:u.propertyLocation})]})]}),s.jsxs("div",{className:"space-y-2 md:text-right",children:[s.jsxs("div",{className:"flex md:justify-end items-center gap-2 text-sm",style:{color:"#5a4a42"},children:[s.jsx(ii,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-semibold",style:{color:"#2d1405"},children:["ETB ",parseFloat(u.totalPrice).toFixed(2)]})]}),s.jsxs("div",{className:"text-sm",style:{color:"#5a4a42"},children:["Payment: ",u.paymentStatus]})]})]}),u.specialInstructions&&s.jsxs("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"#e5d9ce"},children:[s.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#2d1405"},children:"Special Instructions:"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:u.specialInstructions})]}),u.status==="completed"&&!u.hasReviewed&&s.jsx("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"#e5d9ce"},children:s.jsxs(Be,{onClick:()=>c(u),className:"w-full sm:w-auto",variant:"outline","data-testid":`button-review-${u.id}`,children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Write a Review"]})}),u.status==="completed"&&u.hasReviewed&&s.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center gap-2 text-sm",style:{borderColor:"#e5d9ce",color:"#86a38f"},children:[s.jsx(ca,{className:"w-4 h-4 fill-current"}),s.jsx("span",{children:"You reviewed this service"})]})]})]},u.id)),s.jsx(_e,{style:{background:"#86a38f"},className:"border-0",children:s.jsxs(Te,{className:"py-8 text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Need More Services?"}),s.jsx("p",{className:"text-white/90 mb-4",children:"Browse our marketplace for cleaning, repairs, transport, and more"}),s.jsx(Cs,{to:"/services",children:s.jsx(Be,{variant:"secondary",className:"bg-white hover:bg-gray-100","data-testid":"button-book-more-services",children:"Browse All Services"})})]})})]})}),i&&s.jsx(cJe,{open:r,onOpenChange:n,booking:i})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Please Sign In"}),s.jsx("p",{className:"mb-4",style:{color:"#5a4a42"},children:"You need to sign in to view your services."}),s.jsx(Be,{onClick:()=>e("/login"),children:"Sign In"})]})})}function hJe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn(),[n,i]=P.useState(!1),[a,o]=P.useState({firstName:"",lastName:"",bio:"",phoneNumber:""}),{data:l}=Nr({queryKey:["/api/profile"],enabled:!!t});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#faf5f0"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#2d1405"},children:"Please Sign In"}),s.jsx("p",{className:"mb-4",style:{color:"#5a4a42"},children:"You need to sign in to view your profile."}),s.jsx(Be,{onClick:()=>e("/"),children:"Go Home"})]})});const c=()=>{const N=t.firstName||"",_=t.lastName||"";return`${N[0]||""}${_[0]||""}`.toUpperCase()||"U"},u=N=>{switch(N){case"admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"host":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"operator":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}},h=()=>{o({firstName:t.firstName||"",lastName:t.lastName||"",bio:t.bio||"",phoneNumber:t.phoneNumber||""}),i(!0)},f=Ln({mutationFn:async N=>await xn("PUT","/api/profile",N),onSuccess:()=>{r({title:" Profile Updated",description:"Your profile has been successfully updated"}),i(!1),zn.invalidateQueries({queryKey:["/api/user"]}),zn.invalidateQueries({queryKey:["/api/profile"]})},onError:N=>{r({title:" Update Failed",description:N.message||"Failed to update profile",variant:"destructive"})}}),y=Ln({mutationFn:async N=>await xn("POST","/api/profile/preferences",N),onSuccess:()=>{zn.invalidateQueries({queryKey:["/api/profile"]}),r({title:" Preferences saved!",description:"Your preferences have been updated."})}}),v=(N,_)=>{y.mutate({[N]:_})},S=(l==null?void 0:l.preferences)||{},w=(l==null?void 0:l.recentActivity)||[];return s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Be,{variant:"ghost",className:"mb-4",onClick:()=>e("/my-alga"),"data-testid":"button-back-my-alga",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"My Alga"]}),s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Profile & Settings"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Manage your information, preferences, and account settings"})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"lg:col-span-1",style:{background:"#fff"},"data-testid":"card-profile-info",children:[s.jsxs(Ge,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs(j2,{className:"w-24 h-24",children:[s.jsx(HM,{src:t.profileImageUrl||""}),s.jsx(S2,{className:"text-2xl text-white font-bold",style:{background:"#2d1405"},children:c()})]})}),s.jsxs(Ye,{className:"text-2xl",style:{color:"#2d1405"},children:[t.firstName," ",t.lastName]}),s.jsx(ar,{className:"flex items-center justify-center gap-2 mt-2",children:s.jsx(Rt,{className:u(t.role),children:t.role.toUpperCase()})})]}),s.jsxs(Te,{className:"space-y-4",children:[t.bio&&s.jsx("div",{children:s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:t.bio})}),s.jsxs(Be,{className:"w-full",variant:"outline",onClick:h,"data-testid":"button-edit-profile",children:[s.jsx(wre,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-contact-info",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(cu,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(ar,{children:"Your contact details and verification status"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kp,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#2d1405"},children:"Email"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:t.email||"Not provided"})]})]}),t.email&&s.jsx(Mr,{className:"w-5 h-5 text-green-600"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gh,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#2d1405"},children:"Phone Number"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:t.phoneNumber||"Not provided"})]})]}),t.phoneVerified?s.jsx(Mr,{className:"w-5 h-5 text-green-600"}):s.jsx(Do,{className:"w-5 h-5 text-gray-400"})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-verification",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ps,{className:"w-5 h-5"}),"Verification & Security"]}),s.jsx(ar,{children:"Your identity verification and security settings"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ps,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#2d1405"},children:"ID Verification"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:t.idVerified?"Verified":"Not verified"})]})]}),t.idVerified?s.jsx(Mr,{className:"w-5 h-5 text-green-600"}):s.jsx(Be,{variant:"outline",size:"sm","data-testid":"button-verify-id",children:"Verify Now"})]}),t.faydaVerified&&s.jsx("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mr,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Fayda ID Verified"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"National Digital Identity verified"})]})]})})]})]}),s.jsxs(oc,{defaultValue:"settings",className:"space-y-6",children:[s.jsxs(Fl,{className:"bg-white border border-[#CD7F32]/20",children:[s.jsxs(tn,{value:"settings","data-testid":"tab-settings",children:[s.jsx(_b,{className:"w-4 h-4 mr-2"}),"Settings"]}),s.jsxs(tn,{value:"preferences","data-testid":"tab-preferences",children:[s.jsx(jb,{className:"w-4 h-4 mr-2"}),"Preferences"]}),s.jsxs(tn,{value:"activity","data-testid":"tab-activity",children:[s.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Activity"]})]}),s.jsx(Tn,{value:"settings",children:s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-settings",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Quick Settings"}),s.jsx(ar,{children:"Access your account settings"})]}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs(Be,{className:"w-full mb-2",onClick:()=>e("/settings"),"data-testid":"button-all-settings",children:[s.jsx(_b,{className:"w-4 h-4 mr-2"}),"View All Settings"]}),s.jsxs("div",{className:"border-t pt-2 mt-2 space-y-2",children:[s.jsxs(Be,{variant:"ghost",className:"w-full justify-start hover:bg-gray-100","data-testid":"button-notifications",onClick:()=>e("/settings/notifications"),children:[s.jsx(jb,{className:"w-4 h-4 mr-3"}),"Notifications"]}),s.jsxs(Be,{variant:"ghost",className:"w-full justify-start hover:bg-gray-100","data-testid":"button-security",onClick:()=>e("/settings/security"),children:[s.jsx(Ro,{className:"w-4 h-4 mr-3"}),"Security & Privacy"]}),s.jsxs(Be,{variant:"ghost",className:"w-full justify-start hover:bg-gray-100","data-testid":"button-payments",onClick:()=>e("/settings/payment"),children:[s.jsx(Ol,{className:"w-4 h-4 mr-3"}),"Payment Methods"]}),s.jsxs(Be,{variant:"ghost",className:"w-full justify-start hover:bg-gray-100","data-testid":"button-language",onClick:()=>e("/settings/language"),children:[s.jsx(c5,{className:"w-4 h-4 mr-3"}),"Language & Region"]})]})]})]})}),s.jsx(Tn,{value:"preferences",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Notification Preferences"}),s.jsx(ar,{children:"Choose how you want to be notified"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Email Notifications"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Receive booking updates via email"})]}),s.jsx(sc,{checked:S.emailNotifications??!0,onCheckedChange:N=>v("emailNotifications",N),"data-testid":"switch-email-notifications"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(yr,{style:{color:"#2d1405"},children:"SMS Notifications"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Get booking confirmations via SMS"})]}),s.jsx(sc,{checked:S.smsNotifications??!0,onCheckedChange:N=>v("smsNotifications",N),"data-testid":"switch-sms-notifications"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Marketing Updates"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Receive special offers and news"})]}),s.jsx(sc,{checked:S.marketingEmails??!1,onCheckedChange:N=>v("marketingEmails",N),"data-testid":"switch-marketing"})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Display Preferences"}),s.jsx(ar,{children:"Customize how you see Alga"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Preferred Language"}),s.jsxs(Jn,{value:S.language||"en",onValueChange:N=>v("language",N),children:[s.jsx(Gn,{className:"border-[#CD7F32]/20","data-testid":"select-language",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"en",children:"English"}),s.jsx(Vt,{value:"am",children:" (Amharic)"}),s.jsx(Vt,{value:"ti",children:" (Tigrinya)"}),s.jsx(Vt,{value:"om",children:"Afaan Oromoo (Oromo)"}),s.jsx(Vt,{value:"zh",children:" (Chinese)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Currency"}),s.jsxs(Jn,{value:S.currency||"ETB",onValueChange:N=>v("currency",N),children:[s.jsx(Gn,{className:"border-[#CD7F32]/20","data-testid":"select-currency",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"ETB",children:"ETB (Ethiopian Birr)"}),s.jsx(Vt,{value:"USD",children:"USD (US Dollar)"}),s.jsx(Vt,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Search Preferences"}),s.jsx(ar,{children:"Help us personalize your search results"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Save Search History"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Remember searches for better recommendations"})]}),s.jsx(sc,{checked:S.saveSearchHistory??!0,onCheckedChange:N=>v("saveSearchHistory",N),"data-testid":"switch-save-search"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(yr,{style:{color:"#2d1405"},children:"Show Favorites First"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Prioritize similar to your favorites"})]}),s.jsx(sc,{checked:S.showFavoritesFirst??!1,onCheckedChange:N=>v("showFavoritesFirst",N),"data-testid":"switch-favorites-first"})]})]})]})]})}),s.jsx(Tn,{value:"activity",children:s.jsxs(_e,{style:{background:"#fff"},children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Recent Activity"}),s.jsx(ar,{children:"Your interactions on Alga"})]}),s.jsx(Te,{children:w&&w.length>0?s.jsx("div",{className:"space-y-3",children:w.map((N,_)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{background:"#faf5f0",borderColor:"#CD7F32",borderWidth:"1px"},"data-testid":`activity-${_}`,children:[s.jsxs("div",{className:"mt-1",children:[N.action==="viewed_property"&&s.jsx(kn,{className:"w-4 h-4",style:{color:"#CD7F32"}}),N.action==="made_booking"&&s.jsx(Mr,{className:"w-4 h-4 text-green-600"}),N.action==="searched"&&s.jsx(c5,{className:"w-4 h-4 text-blue-600"}),N.action==="chatted_lemlem"&&s.jsx(cu,{className:"w-4 h-4 text-purple-600"}),!["viewed_property","made_booking","searched","chatted_lemlem"].includes(N.action)&&s.jsx(Xv,{className:"w-4 h-4",style:{color:"#CD7F32"}})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#2d1405"},children:N.action.replace(/_/g," ").replace(/\b\w/g,E=>E.toUpperCase())}),N.metadata&&Object.keys(N.metadata).length>0&&s.jsx("p",{className:"text-xs mt-1",style:{color:"#5a4a42"},children:JSON.stringify(N.metadata)}),s.jsx("p",{className:"text-xs mt-1",style:{color:"#8a7a72"},children:new Date(N.createdAt).toLocaleString()})]})]},N.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xv,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#CD7F32",opacity:.3}}),s.jsx("p",{style:{color:"#5a4a42"},children:"No activity yet"}),s.jsx("p",{className:"text-sm mt-1",style:{color:"#8a7a72"},children:"Start exploring properties to see your activity here"})]})})]})})]})]})]})}),s.jsx(Uo,{open:n,onOpenChange:i,children:s.jsxs(po,{className:"sm:max-w-[500px]",style:{background:"#fff"},children:[s.jsxs(go,{children:[s.jsx(xo,{style:{color:"#2d1405"},children:"Edit Profile"}),s.jsx(Sc,{style:{color:"#5a4a42"},children:"Update your personal information"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"firstName",style:{color:"#2d1405"},children:"First Name"}),s.jsx(Or,{id:"firstName",value:a.firstName,onChange:N=>o({...a,firstName:N.target.value}),placeholder:"Enter first name","data-testid":"input-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"lastName",style:{color:"#2d1405"},children:"Last Name"}),s.jsx(Or,{id:"lastName",value:a.lastName,onChange:N=>o({...a,lastName:N.target.value}),placeholder:"Enter last name","data-testid":"input-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"phoneNumber",style:{color:"#2d1405"},children:"Phone Number"}),s.jsx(Or,{id:"phoneNumber",type:"tel",value:a.phoneNumber,maxLength:10,onChange:N=>{const _=N.target.value.replace(/[^0-9]/g,"").slice(0,10);o({...a,phoneNumber:_})},placeholder:"091 234 5678","data-testid":"input-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{htmlFor:"bio",style:{color:"#2d1405"},children:"Bio"}),s.jsx(_i,{id:"bio",value:a.bio,onChange:N=>o({...a,bio:N.target.value}),placeholder:"Tell us about yourself...",rows:4,"data-testid":"input-bio"})]})]}),s.jsxs(Wu,{children:[s.jsx(Be,{variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsx(Be,{onClick:()=>f.mutate(a),disabled:f.isPending,style:{background:"#2d1405"},"data-testid":"button-save-profile",children:f.isPending?"Saving...":"Save Changes"})]})]})})]})}function fJe(){const{user:t}=ti(),e=Ms(),[r,n]=P.useState(!1);if(P.useEffect(()=>{t&&(async()=>{try{(await fetch("/api/dellala/dashboard")).ok&&n(!0)}catch{n(!1)}})()},[t]),!t)return e("/"),null;const i=[{title:"Personal Information",description:"Phone number, email, name, profile photo",icon:cu,path:"/profile",color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950"},{title:"Banking & Payments",description:"Chapa, TeleBirr, bank account details",icon:Ol,path:"/settings/payment",color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950",sensitiveIcon:ps},{title:"Security",description:"Password, 2FA, login devices",icon:ps,path:"/settings/security",color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950",sensitiveIcon:ps},{title:"Notifications",description:"Booking alerts, email preferences",icon:jb,path:"/settings/notifications",color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950"},{title:"Language & Region",description:"Choose your preferred language",icon:c5,path:"/settings/language",color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950"}],a=[];return(t.role==="host"||t.role==="admin")&&a.push({title:"Host Settings",description:"Payout account, property notifications",icon:kn,path:"/host/dashboard",color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-950"}),r&&a.push({title:"Agent Settings",description:"Commission payout, team info",icon:Cf,path:"/dellala/dashboard",color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-950"}),s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsx("div",{className:"min-h-screen bg-[#FAF5F0] dark:bg-gray-900 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(_b,{className:"w-10 h-10 text-eth-brown dark:text-cream"}),s.jsx("h1",{className:"text-4xl font-bold text-eth-brown dark:text-cream",children:"Settings"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account, preferences, and security settings"})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-eth-brown dark:text-cream mb-4",children:"General Settings"}),s.jsx("div",{className:"grid gap-4",children:i.map(o=>{const l=o.icon,c=o.sensitiveIcon;return s.jsx(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow border-eth-brown/20 dark:border-gray-700 bg-white dark:bg-gray-800",onClick:()=>e(o.path),"data-testid":`card-settings-${o.path.replace(/\//g,"-")}`,children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${o.bgColor}`,children:s.jsx(l,{className:`w-6 h-6 ${o.color}`})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-eth-brown dark:text-cream flex items-center gap-2",children:[o.title,c&&s.jsx("span",{title:"Requires OTP verification",children:s.jsx(ps,{className:"w-4 h-4 text-amber-600"})})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description})]})]}),s.jsx(o5,{className:"w-5 h-5 text-gray-400"})]})})},o.path)})})]}),a.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-semibold text-eth-brown dark:text-cream mb-4",children:"Role-Specific Settings"}),s.jsx("div",{className:"grid gap-4",children:a.map(o=>{const l=o.icon;return s.jsx(_e,{className:"cursor-pointer hover:shadow-lg transition-shadow border-eth-brown/20 dark:border-gray-700 bg-white dark:bg-gray-800",onClick:()=>e(o.path),"data-testid":`card-settings-${o.path.replace(/\//g,"-")}`,children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${o.bgColor}`,children:s.jsx(l,{className:`w-6 h-6 ${o.color}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-eth-brown dark:text-cream",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description})]})]}),s.jsx(o5,{className:"w-5 h-5 text-gray-400"})]})})},o.path)})})]}),s.jsx(_e,{className:"mt-8 border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ps,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"Security Notice"}),s.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"Changes to sensitive information (phone number, email, payment details) require OTP verification and password confirmation to keep your account secure."})]})]})})})]})})]})}const mJe={en:"en-US",am:"am-ET",ti:"ti-ER",om:"om-ET",zh:"zh-CN"},pJe=[{code:"en",label:"English"},{code:"am",label:" (Amharic)"},{code:"ti",label:" (Tigrinya)"},{code:"om",label:"Afaan Oromoo (Oromo)"},{code:"zh",label:" (Chinese)"}],MP={en:`Hello, dear! I'm Lemlem  your AI agent named after my grandmother. 

I can help you with lockbox codes, WiFi passwords, check-in/check-out times, emergency contacts, and local recommendations. What can I help you with today? `,am:`!        AI  

   WiFi   /           ? `,ti:`!        AI  

    WiFi   /    '       ? `,om:`Nagaa! Ani Lemlem jedhama  maqaa akaakayyoo kootiin moggaafame AI agent. 

Koodii sanduqa cufsaa, jecha icciitii WiFi, sa'aatii seensaa/bahuu, quunnamtii ariifachiisaa, akkasumas gorsa naannoo isin gargaaruu nan danda'a. Maal isin gargaaruu danda'a? `,zh:` Lemlem  AI

WiFi/`};function YD({propertyId:t,bookingId:e,defaultOpen:r=!1}){var oe;const[n,i]=P.useState(r),[a,o]=P.useState("en"),[l,c]=P.useState([{id:"welcome",text:MP.en,isUser:!1,usedTemplate:!0,cost:0}]),[u,h]=P.useState(""),[f,y]=P.useState(!1),[v,S]=P.useState(0),[w,N]=P.useState(!1),[_,E]=P.useState(!1),[T,M]=P.useState(nZe()),O=P.useRef(null),{toast:L}=Vn(),B=G4();P.useEffect(()=>{bh.init().then(()=>{bh.preloadOfflineResponses(a)})},[a]),P.useEffect(()=>{n&&t&&fetch(`/api/property-info/${t}`).then(re=>re.json()).then(async re=>{await bh.syncPropertyKnowledge(t,re)&&L({title:" Lemlem learned your tips!",description:"New local recommendations cached for offline use.",variant:"default",duration:3e3})}).catch(re=>{console.log("Property info sync skipped (offline or not available)")})},[n,t,L]),P.useEffect(()=>{sZe(me=>{M(me),me?(L({title:" Back Online!",description:"Lemlem can now fetch fresh information for you.",variant:"default"}),J()):L({title:" Low/No Internet",description:"Lemlem will use offline answers. She'll sync when you're back online!",variant:"default"})})},[]),P.useEffect(()=>{window.speechSynthesis&&(window.speechSynthesis.getVoices(),window.speechSynthesis.onvoiceschanged=()=>{window.speechSynthesis.getVoices()})},[]);const{data:U}=Nr({queryKey:["/api/profile"],enabled:n}),$=a||((oe=U==null?void 0:U.preferences)==null?void 0:oe.language)||"en";P.useEffect(()=>{var re;(re=U==null?void 0:U.preferences)!=null&&re.language&&a==="en"&&o(U.preferences.language)},[U]),P.useEffect(()=>{c(re=>{const me=[...re],ne=me.findIndex(G=>G.id==="welcome");return ne!==-1&&(me[ne]={...me[ne],text:MP[a]||MP.en}),me})},[a]);const K=()=>{var re;(re=O.current)==null||re.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{K()},[l]);const q=re=>re.replace(/[\u2600-\u27BF]/g,"").replace(/[\uE000-\uF8FF]/g,"").replace(/[\u2700-\u27BF]/g,"").replace(/[\uD800-\uDFFF]/g,"").replace(/[]/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/##/g,"").replace(/#/g,"").replace(/`/g,"").replace(/[|]/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim(),H=re=>{if(!w||!window.speechSynthesis)return;window.speechSynthesis.cancel();const me=q(re);if(!me)return;const ne=new SpeechSynthesisUtterance(me),G=mJe[$]||"en-US";ne.lang=G,ne.rate=.75,ne.pitch=1.35,ne.volume=.9;const se=window.speechSynthesis.getVoices();let ue=null;$==="zh"?ue=se.find(je=>(je.lang.includes("zh-CN")||je.lang.includes("zh"))&&(je.name.includes("Female")||je.name.includes("Ting-Ting")||je.name.includes("Mei"))):$==="am"?ue=se.find(je=>je.lang.includes("am")||je.lang.includes("AM")):$==="ti"?ue=se.find(je=>je.lang.includes("ti")||je.lang.includes("TI")):$==="om"?ue=se.find(je=>je.lang.includes("om")||je.lang.includes("OM")):ue=se.find(je=>je.lang.startsWith("en")&&(je.name.includes("Female")||je.name.includes("Samantha")||je.name.includes("Victoria"))),ue||(ue=se.find(je=>je.lang.startsWith(G.split("-")[0]))),ue||(ue=se.find(je=>je.name.toLowerCase().includes("female")||je.name.toLowerCase().includes("woman"))),ue&&(ne.voice=ue),ne.onstart=()=>E(!0),ne.onend=()=>E(!1),ne.onerror=()=>E(!1),setTimeout(()=>{window.speechSynthesis.speak(ne)},300)},Q=re=>{w&&setTimeout(()=>H(re),100)},Z=["What's the lockbox code?","What's the WiFi password?","When is check-out?","Emergency contacts","Where can I eat nearby?"],J=async()=>{try{const re=await bh.getPendingMessages();for(const me of re)try{await xn("POST","/api/lemlem/chat",{message:me.message,propertyId:me.propertyId,bookingId:me.bookingId,language:me.language}),await bh.deletePendingMessage(me.id)}catch{me.retryCount<3&&await bh.addPendingMessage({...me,retryCount:me.retryCount+1})}}catch(re){console.error("Failed to retry pending messages:",re)}},ye=async re=>{const me=re||u;if(!me.trim())return;const ne={id:Date.now().toString(),text:me,isUser:!0};if(c(G=>[...G,ne]),h(""),y(!0),!T){const G=await bh.getCachedResponse(me);if(G){const se={id:(Date.now()+1).toString(),text:G.answer,isUser:!1,usedTemplate:!0,cost:0};c(ue=>[...ue,se]),Q(G.answer)}else{const se={id:(Date.now()+1).toString(),text:"I need an internet connection to answer that, dear. I'll remember your question and respond when you're back online! ",isUser:!1,usedTemplate:!0,cost:0};c(ue=>[...ue,se]),await bh.addPendingMessage({id:`pending-${Date.now()}`,message:me,propertyId:t,bookingId:e,language:a,timestamp:Date.now(),retryCount:0})}y(!1);return}try{const G=await xn("POST","/api/lemlem/chat",{message:me,propertyId:t,bookingId:e,language:a}),se={id:(Date.now()+1).toString(),text:G.message,isUser:!1,usedTemplate:G.usedTemplate,cost:G.cost||0};c(ue=>[...ue,se]),await bh.cacheResponse({question:me.toLowerCase().trim(),answer:G.message,language:a}),Q(G.message),G.cost&&G.cost>0&&(S(ue=>ue+G.cost),L({title:" AI Used",description:`Cost: $${G.cost.toFixed(6)} (using AI for complex question)`,variant:"default"}))}catch(G){L({title:"Error",description:G.message||"Failed to send message",variant:"destructive"});const se={id:(Date.now()+1).toString(),text:"I'm having trouble right now, dear. Please try again in a moment or contact the host directly. ",isUser:!1,usedTemplate:!0,cost:0};c(ue=>[...ue,se])}finally{y(!1)}},ge=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),ye())};return n?s.jsxs(_e,{className:`fixed ${B?"bottom-20 right-4 left-4 w-auto":"bottom-6 right-6 w-96"} h-[600px] flex flex-col shadow-2xl z-50 border-2 border-[#CD7F32]`,"data-testid":"card-lemlem-chat",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-[#CD7F32] to-[#FF8C00] text-white rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold","data-testid":"text-lemlem-title",children:"Lemlem (), your AI Assistant"}),s.jsxs("p",{className:"text-xs opacity-90",children:["Named after my beautiful grandma! ",_&&s.jsx("span",{className:"ml-2 animate-pulse",children:""}),!T&&s.jsx("span",{className:"ml-2",title:"Offline Mode - Using cached responses",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!T&&s.jsxs("div",{className:"text-xs bg-yellow-500/20 border border-yellow-500/50 rounded px-2 py-1 flex items-center gap-1",title:"Offline - Using cached answers",children:[s.jsx(A4,{className:"h-3 w-3"}),s.jsx("span",{children:"Offline"})]}),s.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>{const re=!w;N(re),re||(window.speechSynthesis.cancel(),E(!1))},className:"text-white hover:bg-white/20","data-testid":"button-toggle-voice",title:w?"Turn Voice Off":"Turn Voice On",children:w?s.jsx(r9,{className:"h-5 w-5"}):s.jsx(I2e,{className:"h-5 w-5"})}),s.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>i(!1),className:"text-white hover:bg-white/20","data-testid":"button-close-lemlem",children:s.jsx(Cc,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"px-4 py-3 border-b bg-[#f9e9d8]/50 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"text-sm text-[#2d1405] font-medium",children:"Language:"}),s.jsxs(Jn,{value:a,onValueChange:o,children:[s.jsx(Gn,{className:"w-[200px] bg-white border-[#CD7F32]/30 text-[#2d1405] focus:ring-[#CD7F32]","data-testid":"select-language",children:s.jsx(es,{})}),s.jsx(Yn,{children:pJe.map(re=>s.jsx(Vt,{value:re.code,"data-testid":`option-lang-${re.code}`,children:re.label},re.code))})]})]}),v>0&&s.jsxs("div",{className:"px-4 py-2 bg-yellow-50 border-b text-xs text-center text-yellow-800",children:[" Total AI Cost: $",v.toFixed(6)," (Most questions are FREE with templates!)"]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#f9e9d8]/30",children:[l.map(re=>s.jsx("div",{className:`flex ${re.isUser?"justify-end":"justify-start"}`,"data-testid":`message-${re.isUser?"user":"lemlem"}-${re.id}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${re.isUser?"bg-[#CD7F32] text-white":"bg-white border border-[#CD7F32]/20"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:re.text}),!re.isUser&&re.usedTemplate&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Answered instantly (no AI cost)"}),!re.isUser&&!re.usedTemplate&&re.cost&&re.cost>0&&s.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:[" AI used ($",re.cost.toFixed(6),")"]})]}),!re.isUser&&s.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>H(re.text),className:"h-8 w-8 text-[#CD7F32] hover:text-[#B87333] hover:bg-[#f9e9d8]","data-testid":`button-speak-${re.id}`,title:"Listen to this message",children:s.jsx(r9,{className:"h-4 w-4"})})]})},re.id)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-[#CD7F32]/20 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-[#CD7F32] rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-[#CD7F32] rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"w-2 h-2 bg-[#CD7F32] rounded-full animate-bounce delay-200"})]})})}),s.jsx("div",{ref:O})]}),l.length===1&&s.jsxs("div",{className:"px-4 py-2 border-t bg-white",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(re=>s.jsx("button",{onClick:()=>ye(re),className:"text-xs px-2 py-1 rounded-full bg-[#f9e9d8] hover:bg-[#CD7F32] hover:text-white transition-colors border border-[#CD7F32]/20","data-testid":`button-quick-${re.toLowerCase().replace(/[^a-z]/g,"-")}`,children:re},re))})]}),s.jsxs("div",{className:"p-4 border-t bg-white rounded-b-lg",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Or,{value:u,onChange:re=>h(re.target.value),onKeyPress:ge,placeholder:"Type your question...",className:"flex-1 border-[#CD7F32]/20 focus:border-[#CD7F32]",disabled:f,"data-testid":"input-lemlem-message"}),s.jsx(Be,{onClick:()=>ye(),disabled:f||!u.trim(),className:"bg-[#CD7F32] hover:bg-[#B87333] text-white","data-testid":"button-send-lemlem",children:s.jsx(Ab,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Most questions answered FREE with templates! "})]})]}):s.jsxs("button",{onClick:()=>i(!0),title:"Get help with Lemlem ()  your AI assistant named after my grandmother",className:`fixed ${B?"bottom-20":"bottom-6"} right-6 h-16 w-16 rounded-full shadow-2xl bg-gradient-to-br from-[#F49F0A] via-[#FF8C00] to-[#CD7F32] hover:from-[#FFB020] hover:via-[#FFA500] hover:to-[#DAA520] text-white z-50 flex flex-col items-center justify-center transition-all duration-300 hover:scale-110 hover:shadow-[0_8px_30px_rgba(244,159,10,0.5)] border-2 border-white/20`,"data-testid":"button-open-lemlem","data-lemlem-chat":!0,style:{fontFamily:"'Noto Sans Ethiopic', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},children:[s.jsx("span",{className:"text-[10px] font-semibold leading-tight tracking-wide",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"Lemlem"}),s.jsx("span",{className:"text-base font-bold leading-tight mt-0.5",style:{fontFamily:"'Noto Sans Ethiopic', serif"},children:""})]})}function kK(){const[t,e]=P.useState(!1);P.useEffect(()=>{document.title="Ask Lemlem - Your AI Travel Assistant | Alga";const a=document.querySelector('meta[name="description"]');if(a)a.setAttribute("content","Chat with Lemlem, your AI travel assistant for Ethiopian property rentals. Get instant help with bookings, payments, safety, and local guidance in Amharic, Oromiffa, and English.");else{const o=document.createElement("meta");o.name="description",o.content="Chat with Lemlem, your AI travel assistant for Ethiopian property rentals. Get instant help with bookings, payments, safety, and local guidance in Amharic, Oromiffa, and English.",document.head.appendChild(o)}},[]);const r=[{icon:ps,title:"Safety & Security",lemlemVoice:"Let me help you stay safe, dear ",description:"Emergency contacts, location sharing, and safety tips",link:"/help/safety",color:"from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900",iconColor:"text-purple-600 dark:text-purple-400"},{icon:kn,title:"Finding a Place",lemlemVoice:"I'll guide you to the perfect stay ",description:"How to search, book, and check in to properties",link:"/properties",color:"from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",iconColor:"text-blue-600 dark:text-blue-400"},{icon:N1,title:"Getting Services",lemlemVoice:"Need help? I know just the people ",description:"How to hire service providers for your stay",link:"/services",color:"from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900",iconColor:"text-orange-600 dark:text-orange-400"},{icon:Ol,title:"Money Matters",lemlemVoice:"Don't worry, we'll sort it out together ",description:"Payment methods, refunds, and billing questions",link:"/help/payments",color:"from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",iconColor:"text-green-600 dark:text-green-400"},{icon:i2e,title:"For Hosts",lemlemVoice:"I'll walk you through hosting with confidence ",description:"Listing your property and managing bookings",link:"/become-host",color:"from-yellow-50 to-yellow-100 dark:from-yellow-950 dark:to-yellow-900",iconColor:"text-yellow-600 dark:text-yellow-400"},{icon:N1,title:"For Providers",lemlemVoice:"Let me help you share your skills ",description:"Offering services on Alga marketplace",link:"/become-provider",color:"from-teal-50 to-teal-100 dark:from-teal-950 dark:to-teal-900",iconColor:"text-teal-600 dark:text-teal-400"}],n=["When you travel, keep your ID and your smile ready  one keeps you safe, the other opens hearts.","A guest is a gift from God  treat them with warmth and they'll carry your kindness home.","The best coffee is shared with good conversation  take time to connect with your host.","Trust is built slowly, like a strong foundation  give it time to grow.","A locked door is safer than a worried mind  always secure your space."],i=n[Math.floor(Math.random()*n.length)];return s.jsxs("div",{className:"min-h-screen bg-[#f9e9d8] dark:bg-[#2d1405]",children:[s.jsx(Zr,{}),s.jsx("div",{className:"border-b bg-gradient-to-br from-[#FFF6EA] to-[#f9e9d8] dark:from-[#3c2f2f] dark:to-[#2d1405] border-[#e5d9ce] dark:border-[#5a4a42]",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center shadow-2xl text-6xl bg-gradient-to-br from-[#F49F0A] to-[#CD7F32] border-4 border-white dark:border-[#5a4a42]",children:""})}),s.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-3",style:{color:"#2d1405",fontFamily:"'Noto Sans Ethiopic', 'Noto Sans', sans-serif"},"data-testid":"text-page-title",children:"Ask Lemlem ()"}),s.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-[#CD7F32]/10 dark:bg-[#CD7F32]/20 mb-4",children:s.jsx("p",{className:"text-lg font-semibold text-[#CD7F32] dark:text-[#F49F0A]",children:"Your AI Assistant  Named After My Beautiful Grandma! "})}),s.jsx("p",{className:"text-lg sm:text-2xl max-w-3xl mx-auto text-[#5a4a42] dark:text-[#e5d9ce] leading-relaxed",children:"Like a caring Ethiopian grandmother, I'm here to guide you with warmth and wisdom. Ask me anything about your stay! "}),s.jsx("div",{className:"mt-8",children:s.jsxs(Be,{size:"lg",onClick:()=>e(!0),className:"h-16 px-10 text-xl rounded-full shadow-2xl hover:shadow-[0_8px_30px_rgba(244,159,10,0.5)] transition-all hover:scale-105 bg-gradient-to-r from-[#F49F0A] to-[#CD7F32] hover:from-[#FFB020] hover:to-[#DAA520] text-white border-2 border-white/30","data-testid":"button-chat-with-lemlem",children:[s.jsx(ua,{className:"mr-3 h-6 w-6"}),"Chat with Lemlem Now"]})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 text-[#2d1405] dark:text-[#f9e9d8]",children:"What I Can Help You With"}),s.jsx("p",{className:"text-lg text-[#5a4a42] dark:text-[#e5d9ce] mb-8",children:"Choose a topic and I'll guide you through it, step by step "}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((a,o)=>{const l=s.jsx(_e,{className:`h-full transition-all duration-200 hover:shadow-2xl hover:-translate-y-2 cursor-pointer border-2 border-[#CD7F32]/20 hover:border-[#CD7F32] bg-gradient-to-br ${a.color}`,"data-testid":`card-${a.title.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsxs(Te,{className:"p-8 text-center",children:[s.jsx("div",{className:`inline-block p-5 rounded-2xl bg-white dark:bg-[#2d1405]/50 ${a.iconColor} mb-4 shadow-lg`,children:s.jsx(a.icon,{className:"w-8 h-8"})}),s.jsx("h3",{className:"font-bold text-xl mb-3 text-[#2d1405] dark:text-white",children:a.title}),s.jsxs("p",{className:"text-base italic mb-3 font-medium",style:{color:"#CD7F32"},children:['"',a.lemlemVoice,'"']}),s.jsx("p",{className:"text-sm text-[#5a4a42] dark:text-[#e5d9ce]",children:a.description})]})});return a.link?s.jsx(Cs,{to:a.link,children:l},o):s.jsx("div",{children:l},o)})})]}),s.jsx("section",{className:"mb-16",children:s.jsx(_e,{className:"border-2 border-[#CD7F32]/30 shadow-xl overflow-hidden",style:{background:"linear-gradient(135deg, #FFF6EA 0%, #f9e9d8 100%)"},children:s.jsxs(Te,{className:"p-10 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Nx,{className:"w-12 h-12 text-[#CD7F32] animate-pulse"})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-[#2d1405]",children:"Lemlem's Wisdom for Today "}),s.jsxs("p",{className:"text-lg italic text-[#5a4a42] leading-relaxed max-w-3xl mx-auto font-medium",children:['"',i,'"']}),s.jsx("p",{className:"mt-4 text-sm text-[#8a6e4b]",children:" From your grandmother Lemlem, with love "})]})})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 text-[#2d1405] dark:text-[#f9e9d8]",children:"Quick Answers from Lemlem"}),s.jsx("p",{className:"text-lg text-[#5a4a42] dark:text-[#e5d9ce] mb-8",children:"Here are answers to the questions guests ask me most often "}),s.jsx("div",{className:"space-y-4",children:[{question:"How do I book a property, Lemlem?",answer:"It's easy, dear! Browse properties, pick your dates, and click 'Book Now'. You'll get instant confirmation  like a warm hug! "},{question:"What payment methods can I use?",answer:"We welcome Chapa, Telebirr, Stripe, and PayPal. Choose whichever makes you comfortable, my dear. "},{question:"Can I cancel my booking?",answer:"Of course! Life happens. Just check the property's cancellation policy for the details. I'm here if you need help. "},{question:"How do I become a host on Alga?",answer:"Wonderful! Click 'List Your Property' on your dashboard. I'll walk you through it step by step, with care and patience. "}].map((a,o)=>s.jsx(_e,{className:"border-2 border-[#e5d9ce] dark:border-[#5a4a42] shadow-md hover:shadow-xl transition-all bg-white dark:bg-[#3c2f2f]","data-testid":`faq-${o}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3 text-[#2d1405] dark:text-[#f9e9d8]",children:a.question}),s.jsx("p",{className:"text-[#5a4a42] dark:text-[#e5d9ce] leading-relaxed",children:a.answer})]})},o))})]}),s.jsx("section",{className:"mt-16 text-center",children:s.jsx(_e,{className:"border-0 shadow-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #F49F0A 0%, #CD7F32 100%)"},children:s.jsxs(Te,{className:"p-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Still Need Help, Dear?"}),s.jsx("p",{className:"text-xl text-white/95 mb-8 max-w-2xl mx-auto leading-relaxed",children:"I'm always here for you  day or night. Let's chat and sort things out together, just like family. "}),s.jsxs(Be,{size:"lg",onClick:()=>e(!0),className:"h-16 px-10 text-lg rounded-full shadow-xl hover:shadow-2xl transition-all hover:scale-105 bg-white text-[#CD7F32] hover:bg-[#FFF6EA]","data-testid":"button-chat-lemlem-cta",children:[s.jsx(ua,{className:"mr-3 h-6 w-6"}),"Start Chatting with Lemlem"]})]})})})]}),t&&s.jsx(YD,{propertyId:void 0,bookingId:void 0,defaultOpen:!0}),s.jsx(Ei,{})]})}function gJe(){const{user:t}=ti(),e=(t==null?void 0:t.firstName)||"Friend",r=[{emoji:"",title:"Stay Somewhere",description:"Find a cozy place for your trip",link:"/properties",color:"from-blue-50 to-blue-100",icon:kn,testId:"stay-somewhere"},{emoji:"",title:"Fix Something",description:"Get help from local service providers",link:"/services",color:"from-orange-50 to-orange-100",icon:N1,testId:"fix-something"},{emoji:"",title:"Check My Trips",description:"See your bookings and activities",link:"/my-alga",color:"from-green-50 to-green-100",icon:Pi,testId:"check-trips"}];return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#f6f2ec"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"mb-6",children:s.jsx("span",{className:"text-7xl","aria-hidden":"true",children:""})}),s.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",style:{color:"#2d1405"},children:["Hi ",e,"!"]}),s.jsx("p",{className:"text-2xl sm:text-3xl",style:{color:"#5a4a42"},children:"What would you like to do today?"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:r.map(n=>s.jsx(Cs,{to:n.link,children:s.jsx(_e,{className:`h-full transition-all duration-200 hover:shadow-2xl hover:-translate-y-2 cursor-pointer border-0 bg-gradient-to-br ${n.color}`,"data-testid":`card-${n.testId}`,children:s.jsxs(Te,{className:"p-8 sm:p-10 text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("span",{className:"text-6xl","aria-hidden":"true",children:n.emoji})}),s.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"#2d1405"},children:n.title}),s.jsx("p",{className:"text-lg mb-6",style:{color:"#5a4a42"},children:n.description}),s.jsx(Be,{size:"lg",className:"w-full h-14 text-lg rounded-xl shadow-md",style:{background:"#8a6e4b"},"aria-label":n.title,role:"button",children:"Let's Go "})]})})},n.link))}),s.jsx("div",{className:"text-center",children:s.jsx(Cs,{to:"/properties",children:s.jsx(Be,{variant:"ghost",size:"lg",className:"text-lg","aria-label":"Skip to browse properties",role:"button",children:"Skip for now"})})})]})})}function xJe(){return s.jsxs("div",{className:"flex min-h-screen bg-eth-warm-tan",children:[s.jsx("div",{className:"ethiopian-pattern-sidebar fixed left-0 top-0 hidden lg:block"}),s.jsxs("div",{className:"flex-1 lg:ml-20 flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-8 left-24 lg:left-32",children:s.jsx(tf,{})}),s.jsx(_e,{className:"w-full max-w-md mx-4 bg-white/60 backdrop-blur-sm border-eth-brown/20",children:s.jsxs(Te,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(ll,{className:"h-8 w-8 text-eth-orange"}),s.jsx("h1",{className:"text-2xl font-bold text-eth-brown",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-eth-brown",children:"Did you forget to add the page to the router?"})]})})]})]})}function yJe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn(),[n,i]=P.useState(!0),[a,o]=P.useState(!1),[l,c]=P.useState(!0),[u,h]=P.useState(!1),[f,y]=P.useState(!0);if(!t)return e("/"),null;const v=()=>{r({title:"Settings Saved",description:"Your notification preferences have been updated."})};return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Be,{variant:"ghost",className:"mb-4",onClick:()=>e("/settings"),"data-testid":"button-back-settings",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Settings"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jb,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Notifications"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Manage how you receive updates and alerts"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-notification-channels",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Notification Channels"}),s.jsx(ar,{children:"Choose how you want to receive notifications"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kp,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs(yr,{htmlFor:"email-notifications",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"Email Notifications"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]})]}),s.jsx(sc,{id:"email-notifications",checked:n,onCheckedChange:i,"data-testid":"switch-email-notifications"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(iM,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs(yr,{htmlFor:"sms-notifications",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"SMS Notifications"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Receive updates via text message"})]})]}),s.jsx(sc,{id:"sms-notifications",checked:a,onCheckedChange:o,"data-testid":"switch-sms-notifications"})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-notification-types",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"What to Notify Me About"}),s.jsx(ar,{children:"Select the types of updates you want to receive"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(yr,{htmlFor:"booking-updates",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"Booking Updates"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Confirmations, cancellations, and status changes"})]}),s.jsx(sc,{id:"booking-updates",checked:l,onCheckedChange:c,"data-testid":"switch-booking-updates"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(yr,{htmlFor:"reminders",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"Reminders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Check-in reminders and upcoming trip alerts"})]}),s.jsx(sc,{id:"reminders",checked:f,onCheckedChange:y,"data-testid":"switch-reminders"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(yr,{htmlFor:"promotions",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"Promotions & Offers"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Special deals and exclusive offers"})]}),s.jsx(sc,{id:"promotions",checked:u,onCheckedChange:h,"data-testid":"switch-promotions"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Be,{onClick:v,"data-testid":"button-save-notifications",children:"Save Preferences"})})]})]})]})}function vJe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn(),[n,i]=P.useState(!1),[a,o]=P.useState(!0);if(!t)return e("/"),null;const l=()=>{r({title:"Change Password",description:"Password change feature coming soon."})},c=()=>{r({title:"Settings Saved",description:"Your security preferences have been updated."})};return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Be,{variant:"ghost",className:"mb-4",onClick:()=>e("/settings"),"data-testid":"button-back-settings",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Settings"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ro,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Security & Privacy"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Keep your account secure and manage your privacy"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-authentication",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Authentication"}),s.jsx(ar,{children:"Manage your login credentials"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last changed: Never (OTP login)"})]}),s.jsx(Be,{variant:"outline",onClick:l,"data-testid":"button-change-password",children:"Set Password"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ps,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add extra layer of security"})]})]}),s.jsx(sc,{id:"two-factor",checked:n,onCheckedChange:i,"data-testid":"switch-two-factor"})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-login-activity",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Login Activity"}),s.jsx(ar,{children:"Monitor account access"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Df,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs(yr,{htmlFor:"login-alerts",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"Login Alerts"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Get notified of new logins to your account"})]})]}),s.jsx(sc,{id:"login-alerts",checked:a,onCheckedChange:o,"data-testid":"switch-login-alerts"})]}),s.jsxs(Be,{variant:"outline",className:"w-full","data-testid":"button-view-login-history",children:[s.jsx(Df,{className:"w-4 h-4 mr-2"}),"View Login History"]})]})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-privacy",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Privacy"}),s.jsx(ar,{children:"Control your data and visibility"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx(Be,{variant:"outline",className:"w-full","data-testid":"button-download-data",children:"Download My Data"}),s.jsxs(Be,{variant:"outline",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":"button-delete-account",children:[s.jsx(Da,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Be,{onClick:c,"data-testid":"button-save-security",children:"Save Settings"})})]})]})]})}function bJe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn();if(!t)return e("/"),null;const n=()=>{r({title:"Add Payment Method",description:"Payment method feature coming soon."})};return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Be,{variant:"ghost",className:"mb-4",onClick:()=>e("/settings"),"data-testid":"button-back-settings",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Settings"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ol,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Payment Methods"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Manage your payment options"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-payment-methods",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Saved Payment Methods"}),s.jsx(ar,{children:"Your cards and payment accounts"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ol,{className:"w-16 h-16 mx-auto mb-4 opacity-20",style:{color:"#5a4a42"}}),s.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"#2d1405"},children:"No payment methods yet"}),s.jsx("p",{className:"text-sm mb-6",style:{color:"#5a4a42"},children:"Add a payment method to make booking faster"}),s.jsxs(Be,{onClick:n,"data-testid":"button-add-payment",children:[s.jsx(Zv,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})]})})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-payment-options",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Accepted Payment Options"}),s.jsx(ar,{children:"Available payment methods on Alga"})]}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Ol,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"Credit & Debit Cards"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Visa, Mastercard, American Express"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Ol,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"Chapa"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Telebirr, CBE Birr, M-Pesa"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(Ol,{className:"w-5 h-5",style:{color:"#5a4a42"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"PayPal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"International payments"})]})]})]})]})]})]})]})}var KD="Radio",[wJe,epe]=yo(KD),[NJe,jJe]=wJe(KD),tpe=P.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...h}=t,[f,y]=P.useState(null),v=Pn(e,N=>y(N)),S=P.useRef(!1),w=f?u||!!f.closest("form"):!0;return s.jsxs(NJe,{scope:r,checked:i,disabled:o,children:[s.jsx(Tr.button,{type:"button",role:"radio","aria-checked":i,"data-state":spe(i),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:Jt(t.onClick,N=>{i||c==null||c(),w&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),w&&s.jsx(SJe,{control:f,bubbles:!S.current,name:n,value:l,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});tpe.displayName=KD;var rpe="RadioIndicator",npe=P.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=jJe(rpe,r);return s.jsx(cl,{present:n||a.checked,children:s.jsx(Tr.span,{"data-state":spe(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});npe.displayName=rpe;var SJe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=P.useRef(null),o=tR(r),l=mM(e);return P.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const y=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(y)}},[o,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function spe(t){return t?"checked":"unchecked"}var CJe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XD="RadioGroup",[AJe]=yo(XD,[fy,epe]),ipe=fy(),ape=epe(),[_Je,EJe]=AJe(XD),ope=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:f,...y}=t,v=ipe(r),S=m0(u),[w,N]=lu({prop:a,defaultProp:i,onChange:f});return s.jsx(_Je,{scope:r,name:n,required:o,disabled:l,value:w,onValueChange:N,children:s.jsx(AM,{asChild:!0,...v,orientation:c,dir:S,loop:h,children:s.jsx(Tr.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:S,...y,ref:e})})})});ope.displayName=XD;var lpe="RadioGroupItem",cpe=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=EJe(lpe,r),o=a.disabled||n,l=ipe(r),c=ape(r),u=P.useRef(null),h=Pn(e,u),f=a.value===i.value,y=P.useRef(!1);return P.useEffect(()=>{const v=w=>{CJe.includes(w.key)&&(y.current=!0)},S=()=>y.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",S)}},[]),s.jsx(_M,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(tpe,{disabled:o,required:a.required,checked:f,...c,...i,name:a.name,ref:h,onCheck:()=>a.onValueChange(i.value),onKeyDown:Jt(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:Jt(i.onFocus,()=>{var v;y.current&&((v=u.current)==null||v.click())})})})});cpe.displayName=lpe;var TJe="RadioGroupIndicator",upe=P.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=ape(r);return s.jsx(npe,{...i,...n,ref:e})});upe.displayName=TJe;var dpe=ope,hpe=cpe,kJe=upe;const a8=P.forwardRef(({className:t,...e},r)=>s.jsx(dpe,{className:er("grid gap-2",t),...e,ref:r}));a8.displayName=dpe.displayName;const ox=P.forwardRef(({className:t,...e},r)=>s.jsx(hpe,{ref:r,className:er("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(kJe,{className:"flex items-center justify-center",children:s.jsx(mre,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ox.displayName=hpe.displayName;function PJe(){const{user:t}=ti(),e=Ms(),{toast:r}=Vn(),[n,i]=P.useState("en"),[a,o]=P.useState("ETB"),[l,c]=P.useState("dd/mm/yyyy");if(!t)return e("/"),null;const u=()=>{r({title:"Settings Saved",description:"Your language and region preferences have been updated."})};return s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"min-h-screen",style:{background:"#faf5f0"},children:[s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Be,{variant:"ghost",className:"mb-4",onClick:()=>e("/settings"),"data-testid":"button-back-settings",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Settings"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c5,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Language & Region"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Customize your location and display preferences"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-language",children:[s.jsxs(Ge,{children:[s.jsx(Ye,{style:{color:"#2d1405"},children:"Language"}),s.jsx(ar,{children:"Choose your preferred language"})]}),s.jsx(Te,{children:s.jsxs(a8,{value:n,onValueChange:i,children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(ox,{value:"en",id:"lang-en","data-testid":"radio-lang-en"}),s.jsxs(yr,{htmlFor:"lang-en",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"English"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"English (US)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(ox,{value:"am",id:"lang-am","data-testid":"radio-lang-am"}),s.jsxs(yr,{htmlFor:"lang-am",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Amharic"})]})]})]})})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-currency",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ii,{className:"w-5 h-5"}),"Currency"]}),s.jsx(ar,{children:"Select your preferred currency"})]}),s.jsx(Te,{children:s.jsxs(Jn,{value:a,onValueChange:o,children:[s.jsx(Gn,{"data-testid":"select-currency",children:s.jsx(es,{})}),s.jsxs(Yn,{children:[s.jsx(Vt,{value:"ETB",children:"Ethiopian Birr (ETB)"}),s.jsx(Vt,{value:"USD",children:"US Dollar (USD)"}),s.jsx(Vt,{value:"EUR",children:"Euro (EUR)"}),s.jsx(Vt,{value:"GBP",children:"British Pound (GBP)"})]})]})})]}),s.jsxs(_e,{style:{background:"#fff"},"data-testid":"card-date-format",children:[s.jsxs(Ge,{children:[s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Pi,{className:"w-5 h-5"}),"Date Format"]}),s.jsx(ar,{children:"Choose how dates are displayed"})]}),s.jsx(Te,{children:s.jsxs(a8,{value:l,onValueChange:c,children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(ox,{value:"dd/mm/yyyy",id:"date-1","data-testid":"radio-date-ddmmyyyy"}),s.jsxs(yr,{htmlFor:"date-1",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"DD/MM/YYYY"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Example: 23/10/2025"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(ox,{value:"mm/dd/yyyy",id:"date-2","data-testid":"radio-date-mmddyyyy"}),s.jsxs(yr,{htmlFor:"date-2",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"MM/DD/YYYY"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Example: 10/23/2025"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(ox,{value:"yyyy-mm-dd",id:"date-3","data-testid":"radio-date-yyyymmdd"}),s.jsxs(yr,{htmlFor:"date-3",className:"flex-1 cursor-pointer",children:[s.jsx("p",{className:"font-medium",style:{color:"#2d1405"},children:"YYYY-MM-DD"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Example: 2025-10-23"})]})]})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Be,{onClick:u,"data-testid":"button-save-language",children:"Save Preferences"})})]})]})]})}var ZD="Collapsible",[IJe,fpe]=yo(ZD),[OJe,QD]=IJe(ZD),mpe=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c=!1,u]=lu({prop:n,defaultProp:i,onChange:o});return s.jsx(OJe,{scope:r,disabled:a,contentId:su(),open:c,onOpenToggle:P.useCallback(()=>u(h=>!h),[u]),children:s.jsx(Tr.div,{"data-state":eL(c),"data-disabled":a?"":void 0,...l,ref:e})})});mpe.displayName=ZD;var ppe="CollapsibleTrigger",gpe=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=QD(ppe,r);return s.jsx(Tr.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":eL(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Jt(t.onClick,i.onOpenToggle)})});gpe.displayName=ppe;var JD="CollapsibleContent",xpe=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=QD(JD,t.__scopeCollapsible);return s.jsx(cl,{present:r||i.open,children:({present:a})=>s.jsx(MJe,{...n,ref:e,present:a})})});xpe.displayName=JD;var MJe=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,o=QD(JD,r),[l,c]=P.useState(n),u=P.useRef(null),h=Pn(e,u),f=P.useRef(0),y=f.current,v=P.useRef(0),S=v.current,w=o.open||l,N=P.useRef(w),_=P.useRef(void 0);return P.useEffect(()=>{const E=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(E)},[]),Ba(()=>{const E=u.current;if(E){_.current=_.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const T=E.getBoundingClientRect();f.current=T.height,v.current=T.width,N.current||(E.style.transitionDuration=_.current.transitionDuration,E.style.animationName=_.current.animationName),c(n)}},[o.open,n]),s.jsx(Tr.div,{"data-state":eL(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...a,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:w&&i})});function eL(t){return t?"open":"closed"}var RJe=mpe,DJe=gpe,LJe=xpe,pm="Accordion",FJe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[tL,BJe,UJe]=h2(pm),[DC]=yo(pm,[UJe,fpe]),rL=fpe(),ype=Le.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return s.jsx(tL.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?s.jsx(VJe,{...a,ref:e}):s.jsx(qJe,{...i,ref:e})})});ype.displayName=pm;var[vpe,$Je]=DC(pm),[bpe,zJe]=DC(pm,{collapsible:!1}),qJe=Le.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[l,c]=lu({prop:r,defaultProp:n,onChange:i});return s.jsx(vpe,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:Le.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(bpe,{scope:t.__scopeAccordion,collapsible:a,children:s.jsx(wpe,{...o,ref:e})})})}),VJe=Le.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[o=[],l]=lu({prop:r,defaultProp:n,onChange:i}),c=Le.useCallback(h=>l((f=[])=>[...f,h]),[l]),u=Le.useCallback(h=>l((f=[])=>f.filter(y=>y!==h)),[l]);return s.jsx(vpe,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(bpe,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(wpe,{...a,ref:e})})})}),[HJe,LC]=DC(pm),wpe=Le.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=t,l=Le.useRef(null),c=Pn(l,e),u=BJe(r),f=m0(i)==="ltr",y=Jt(t.onKeyDown,v=>{var U;if(!FJe.includes(v.key))return;const S=v.target,w=u().filter($=>{var K;return!((K=$.ref.current)!=null&&K.disabled)}),N=w.findIndex($=>$.ref.current===S),_=w.length;if(N===-1)return;v.preventDefault();let E=N;const T=0,M=_-1,O=()=>{E=N+1,E>M&&(E=T)},L=()=>{E=N-1,E<T&&(E=M)};switch(v.key){case"Home":E=T;break;case"End":E=M;break;case"ArrowRight":a==="horizontal"&&(f?O():L());break;case"ArrowDown":a==="vertical"&&O();break;case"ArrowLeft":a==="horizontal"&&(f?L():O());break;case"ArrowUp":a==="vertical"&&L();break}const B=E%_;(U=w[B].ref.current)==null||U.focus()});return s.jsx(HJe,{scope:r,disabled:n,direction:i,orientation:a,children:s.jsx(tL.Slot,{scope:r,children:s.jsx(Tr.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:y})})})}),XS="AccordionItem",[WJe,nL]=DC(XS),Npe=Le.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=LC(XS,r),o=$Je(XS,r),l=rL(r),c=su(),u=n&&o.value.includes(n)||!1,h=a.disabled||t.disabled;return s.jsx(WJe,{scope:r,open:u,disabled:h,triggerId:c,children:s.jsx(RJe,{"data-orientation":a.orientation,"data-state":Epe(u),...l,...i,ref:e,disabled:h,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Npe.displayName=XS;var jpe="AccordionHeader",Spe=Le.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=LC(pm,r),a=nL(jpe,r);return s.jsx(Tr.h3,{"data-orientation":i.orientation,"data-state":Epe(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Spe.displayName=jpe;var o8="AccordionTrigger",Cpe=Le.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=LC(pm,r),a=nL(o8,r),o=zJe(o8,r),l=rL(r);return s.jsx(tL.ItemSlot,{scope:r,children:s.jsx(DJe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...n,ref:e})})});Cpe.displayName=o8;var Ape="AccordionContent",_pe=Le.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=LC(pm,r),a=nL(Ape,r),o=rL(r);return s.jsx(LJe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});_pe.displayName=Ape;function Epe(t){return t?"open":"closed"}var GJe=ype,YJe=Npe,KJe=Spe,Tpe=Cpe,kpe=_pe;const XJe=GJe,vd=P.forwardRef(({className:t,...e},r)=>s.jsx(YJe,{ref:r,className:er("border-b",t),...e}));vd.displayName="AccordionItem";const bd=P.forwardRef(({className:t,children:e,...r},n)=>s.jsx(KJe,{className:"flex",children:s.jsxs(Tpe,{ref:n,className:er("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,s.jsx(sM,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));bd.displayName=Tpe.displayName;const wd=P.forwardRef(({className:t,children:e,...r},n)=>s.jsx(kpe,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:er("pb-4 pt-0",t),children:e})}));wd.displayName=kpe.displayName;function ZJe(){return s.jsxs("div",{className:"min-h-screen",style:{background:"#f6f2ec"},children:[s.jsx(Zr,{}),s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx(Cs,{to:"/support",children:s.jsxs(Be,{variant:"ghost",className:"mb-4","data-testid":"button-back-support",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Help"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ol,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Payments"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Everything about payment methods, refunds, and billing"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Ol,{className:"w-5 h-5"}),"Accepted Payment Methods"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[s.jsx("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"#2d1405"},children:" Ethiopian Payments (via Alga Pay)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Telebirr"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Pay instantly using your Telebirr mobile wallet. Lower fees for Ethiopian users."})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" CBE Birr"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Commercial Bank of Ethiopia's mobile banking. Fast and secure for CBE customers."})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" M-Pesa"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Safaricom's mobile money service. Available for select Ethiopian mobile users."})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Bank Transfers"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Direct bank transfer from any Ethiopian bank. Takes 1-2 business days to process."})]})]})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[s.jsx("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"#2d1405"},children:" International Payments"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Visa & Mastercard (Alga Pay)"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Credit and debit cards from any country. Instant confirmation with 3D Secure protection."})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" American Express"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"AMEX cards accepted worldwide. Premium cards may offer travel protection."})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" PayPal"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Pay with your PayPal balance or linked cards. Buyer protection included."})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#2d1405"},children:" Smart Tip for Ethiopians"}),s.jsxs("p",{className:"text-xs",style:{color:"#5a4a42"},children:["Use ",s.jsx("strong",{children:"Chapa (Telebirr or CBE Birr)"})," to save on fees! Ethiopian payments have 40% lower transaction costs compared to international cards."]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ii,{className:"w-5 h-5"}),"Currency & Pricing"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:" Supported Currencies"}),s.jsxs("p",{className:"text-sm mb-3",style:{color:"#5a4a42"},children:["All properties are listed in ",s.jsx("strong",{children:"Ethiopian Birr (ETB)"}),". International payments are automatically converted."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"#2d1405"},children:" Ethiopian Payments"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Pay directly in ETB with no conversion fees"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"#2d1405"},children:" International Payments"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Converted at live exchange rates + 2.5% bank fee"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:" What You Pay"}),s.jsxs("div",{className:"space-y-2 text-sm",style:{color:"#5a4a42"},children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Property price (per night)"}),s.jsx("span",{className:"font-medium",children:"As listed"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Alga service fee"}),s.jsx("span",{className:"font-medium",children:"10% of subtotal"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"VAT (Value Added Tax)"}),s.jsx("span",{className:"font-medium",children:"15% (included in service fee)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Payment processing fee"}),s.jsx("span",{className:"font-medium",children:"Varies by method"})]}),s.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between items-center font-semibold",children:[s.jsx("span",{children:"Total charged"}),s.jsx("span",{children:"Shown at checkout"})]})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm",style:{color:"#2d1405"},children:[s.jsx("strong",{children:" Transparency Promise:"})," All fees are shown ",s.jsx("u",{children:"before"})," you pay. No hidden charges or surprises!"]})})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Mr,{className:"w-5 h-5"}),"How Payment Works"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center font-bold text-green-700",children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Book Your Stay"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:'Select dates, review pricing breakdown, and click "Book Now"'})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center font-bold text-green-700",children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Choose Payment Method"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Select Chapa (Ethiopian), Stripe (cards), or PayPal"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center font-bold text-green-700",children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Complete Secure Payment"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Pay through encrypted gateway. Your card info never touches our servers"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center font-bold text-green-700",children:"4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Instant Confirmation"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Receive booking confirmation email with 6-digit access code within minutes"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center font-bold text-green-700",children:"5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Check In"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Use your access code to check in. Host gets paid 24 hours after check-in"})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(vre,{className:"w-5 h-5"}),"Refunds & Cancellations"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"#2d1405"},children:" Standard Cancellation Policy"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-3 rounded",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Free Cancellation (100% refund)"}),s.jsxs("p",{className:"text-xs",style:{color:"#5a4a42"},children:["Cancel up to ",s.jsx("strong",{children:"24 hours before"})," check-in time. Full refund processed automatically."]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Partial Refund (50%)"}),s.jsxs("p",{className:"text-xs",style:{color:"#5a4a42"},children:["Cancel ",s.jsx("strong",{children:"12-24 hours before"})," check-in. Service fees are non-refundable."]})]}),s.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" No Refund (0%)"}),s.jsxs("p",{className:"text-xs",style:{color:"#5a4a42"},children:["Cancel ",s.jsx("strong",{children:"less than 12 hours"})," before check-in or after check-in."]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#2d1405"},children:" Property-Specific Policies"}),s.jsxs("p",{className:"text-xs",style:{color:"#5a4a42"},children:["Some properties have stricter or more flexible policies. Always check the ",s.jsx("strong",{children:'"Cancellation Policy"'})," section on the property page before booking."]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"#2d1405"},children:" Refund Processing Times"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{style:{color:"#5a4a42"},children:" Telebirr / CBE Birr"}),s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"1-3 business days"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{style:{color:"#5a4a42"},children:" Credit/Debit Cards"}),s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"5-10 business days"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{style:{color:"#5a4a42"},children:" PayPal"}),s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"1-3 business days"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{style:{color:"#5a4a42"},children:" Bank Transfer"}),s.jsx("span",{className:"font-medium",style:{color:"#2d1405"},children:"3-7 business days"})]})]}),s.jsx("p",{className:"text-xs mt-3 text-gray-500",children:"*Timing depends on your bank. We process refunds within 24 hours of approval."})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2",style:{color:"#2d1405"},children:" How to Cancel a Booking"}),s.jsxs("ol",{className:"space-y-2 text-sm",style:{color:"#5a4a42"},children:[s.jsxs("li",{children:["1. Go to ",s.jsx("strong",{children:"My Bookings"})," in your dashboard"]}),s.jsx("li",{children:"2. Find the booking you want to cancel"}),s.jsxs("li",{children:["3. Click ",s.jsx("strong",{children:'"Cancel Booking"'})]}),s.jsx("li",{children:"4. Review the refund amount"}),s.jsx("li",{children:"5. Confirm cancellation"}),s.jsx("li",{children:"6. Receive email confirmation with refund details"})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ps,{className:"w-5 h-5"}),"Payment Security & Protection"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Your payment security is our top priority. We use industry-leading technology to protect every transaction."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Bank-Level Encryption"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"256-bit SSL encryption protects all payment data"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" PCI DSS Compliant"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Certified by global payment security standards"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Zero Card Storage"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"We never store your card details on our servers"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" 24/7 Fraud Detection"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"AI-powered monitoring prevents suspicious activity"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" 3D Secure"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Extra verification for international card payments"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:" Payment Hold"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Hosts receive payment only after successful check-in"})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ll,{className:"w-5 h-5"}),"Payment Issues & Troubleshooting"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"#2d1405"},children:" Payment Failed? Try This:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:"1. Check Your Balance"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Ensure you have sufficient funds in your account or wallet"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:"2. Verify Card Details"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Double-check card number, expiry date, and CVV code"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:"3. Enable Online Payments"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Contact your bank to activate online/international transactions"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:"4. Try Different Payment Method"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Switch from cards to Telebirr or PayPal if one fails"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-sm mb-1",style:{color:"#2d1405"},children:"5. Clear Cache & Try Again"}),s.jsx("p",{className:"text-xs",style:{color:"#5a4a42"},children:"Clear browser cookies or try a different browser/device"})]})]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",style:{color:"#2d1405"},children:" Charged But Booking Failed?"}),s.jsx("p",{className:"text-xs mb-2",style:{color:"#5a4a42"},children:"Don't worry! This is usually a temporary authorization hold. It will be automatically released by your bank within 3-5 business days."}),s.jsx("p",{className:"text-xs font-medium",style:{color:"#2d1405"},children:"If the charge doesn't disappear, contact support immediately with your transaction ID."})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(fre,{className:"w-5 h-5"}),"Common Payment Questions"]})}),s.jsx(Te,{children:s.jsxs(XJe,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(vd,{value:"item-1",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"When will I be charged?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"You're charged immediately when you confirm your booking. The host receives payment 24 hours after your check-in time to ensure everything is as expected."})]}),s.jsxs(vd,{value:"item-2",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Can I pay in cash when I arrive?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"No, all bookings must be paid online through our secure platform. This protects both guests and hosts and provides you with booking confirmation and access codes."})]}),s.jsxs(vd,{value:"item-3",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Is there a deposit or security hold?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"Most properties don't require a deposit. However, some hosts may request a refundable security deposit (shown clearly at checkout). This is held separately and refunded within 7 days after checkout if there's no damage."})]}),s.jsxs(vd,{value:"item-4",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Why was my payment declined?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"Common reasons: insufficient funds, incorrect card details, international transactions blocked by your bank, or expired card. Contact your bank or try a different payment method."})]}),s.jsxs(vd,{value:"item-5",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Can I get a receipt for my booking?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:`Yes! After payment, you'll receive an email with your booking confirmation and a detailed receipt showing the breakdown of all charges. You can also download receipts from your "My Bookings" page.`})]}),s.jsxs(vd,{value:"item-6",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Are there extra fees for using credit cards?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"International cards (Stripe) have a 2.9% + ETB 10 processing fee. Ethiopian payment methods (Chapa) have lower fees of around 1.5%. All fees are shown before you confirm payment."})]}),s.jsxs(vd,{value:"item-7",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"What if the host cancels my booking?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"If a host cancels your confirmed booking, you receive an automatic 100% refund within 3 business days, plus a ETB 500 credit for the inconvenience. We'll help you find alternative accommodation immediately."})]}),s.jsxs(vd,{value:"item-8",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Can I split payment with friends?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"Currently, we don't offer split payment at checkout. You'll need to settle payment arrangements privately. One person must complete the full booking payment."})]}),s.jsxs(vd,{value:"item-9",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Do you offer payment plans for long stays?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"For stays longer than 28 nights, we offer monthly payment plans. Contact the host or our support team before booking to arrange installment options."})]}),s.jsxs(vd,{value:"item-10",children:[s.jsx(bd,{className:"text-left",style:{color:"#2d1405"},children:"Is my payment information safe with Alga?"}),s.jsx(wd,{style:{color:"#5a4a42"},children:"Absolutely! We never see or store your full payment details. All transactions are processed through certified payment gateways (Chapa, Stripe, PayPal) with bank-level encryption and PCI DSS compliance."})]})]})})]}),s.jsx("div",{className:"text-center pt-6 pb-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsx("p",{className:"text-lg font-semibold mb-2",style:{color:"#2d1405"},children:"Still Have Payment Questions? "}),s.jsx("p",{className:"mb-4 text-sm",style:{color:"#5a4a42"},children:"Our friendly support team is here to help 24/7"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx(Cs,{to:"/support",children:s.jsx(Be,{size:"lg","data-testid":"button-contact-support",children:" Contact Support"})}),s.jsx(Be,{variant:"outline",size:"lg",onClick:()=>{const t=document.querySelector("[data-lemlem-chat]");t&&t.click()},"data-testid":"button-ask-lemlem",children:" Ask Lemlem ()"})]})]})})]}),s.jsx(Ei,{})]})}function QJe(){return s.jsxs("div",{className:"min-h-screen",style:{background:"#f6f2ec"},children:[s.jsx(Zr,{}),s.jsx("div",{className:"border-b",style:{background:"#fff",borderColor:"#e5d9ce"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx(Cs,{to:"/support",children:s.jsxs(Be,{variant:"ghost",className:"mb-4","data-testid":"button-back-support",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),"Back to Help"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ps,{className:"w-8 h-8",style:{color:"#2d1405"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"#2d1405"},children:"Safety & Security"}),s.jsx("p",{style:{color:"#5a4a42"},children:"Your safety is our top priority"})]})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ps,{className:"w-5 h-5"}),"Host & Property Verification"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Mr,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"ID Verification Required"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"All hosts must verify their identity with Ethiopian Digital ID or government-issued ID"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Mr,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Property Inspection"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Our team reviews all property listings before approval"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Mr,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",style:{color:"#2d1405"},children:"Review System"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Read reviews from previous guests to make informed decisions"})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Gh,{className:"w-5 h-5"}),"24/7 Emergency Support"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"If you encounter any emergency during your stay, contact us immediately:"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx("a",{href:"tel:+251911234567",className:"block",children:s.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Gh,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",style:{color:"#2d1405"},children:"Emergency Hotline"}),s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"+251 911 234 567 (24/7)"})]})]})}),s.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg bg-red-50",children:[s.jsx(Da,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900",children:"Police Emergency"}),s.jsx("p",{className:"text-sm text-red-700",children:"911 (Ethiopia)"})]})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(ki,{className:"w-5 h-5"}),"Location Sharing"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm",style:{color:"#5a4a42"},children:"Share your trip details with trusted contacts for added safety:"}),s.jsxs("ul",{className:"space-y-2 text-sm",style:{color:"#5a4a42"},children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Property address and check-in details sent to your email"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Share your booking confirmation with family/friends"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Mr,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Keep someone informed of your check-in and check-out times"})]})]})]})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Ki,{className:"w-5 h-5"}),"Guest Safety Tips"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("h4",{className:"font-semibold mb-1",style:{color:"#2d1405"},children:"Before You Book"}),s.jsxs("ul",{className:"space-y-1 text-sm",style:{color:"#5a4a42"},children:[s.jsx("li",{children:" Read property reviews carefully"}),s.jsx("li",{children:" Check host verification status"}),s.jsx("li",{children:" Review cancellation policy"})]})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("h4",{className:"font-semibold mb-1",style:{color:"#2d1405"},children:"During Your Stay"}),s.jsxs("ul",{className:"space-y-1 text-sm",style:{color:"#5a4a42"},children:[s.jsx("li",{children:" Lock doors and windows at night"}),s.jsx("li",{children:" Keep valuables secure"}),s.jsx("li",{children:" Report any issues immediately"}),s.jsx("li",{children:" Don't share access codes with strangers"})]})]}),s.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[s.jsx("h4",{className:"font-semibold mb-1",style:{color:"#2d1405"},children:"Communication"}),s.jsxs("ul",{className:"space-y-1 text-sm",style:{color:"#5a4a42"},children:[s.jsx("li",{children:" Use Alga's messaging system for host communication"}),s.jsx("li",{children:" Never share personal financial information"}),s.jsx("li",{children:" Report suspicious activity to our team"})]})]})]})})]}),s.jsxs(_e,{style:{background:"#fff"},children:[s.jsx(Ge,{children:s.jsxs(Ye,{className:"flex items-center gap-2",style:{color:"#2d1405"},children:[s.jsx(Da,{className:"w-5 h-5"}),"What to Avoid"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 rounded-lg",children:[s.jsx(Da,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-red-900",children:"Never pay outside the platform"}),s.jsx("p",{className:"text-red-700",children:"All payments must go through Alga for your protection"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 rounded-lg",children:[s.jsx(Da,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-red-900",children:"Don't share personal details too early"}),s.jsx("p",{className:"text-red-700",children:"Wait until booking is confirmed before sharing sensitive info"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 rounded-lg",children:[s.jsx(Da,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-red-900",children:"Report scams immediately"}),s.jsx("p",{className:"text-red-700",children:"Contact us if anything seems suspicious or unsafe"})]})]})]})})]}),s.jsxs("div",{className:"text-center pt-8",children:[s.jsx("p",{className:"mb-4",style:{color:"#5a4a42"},children:"Have safety concerns or questions?"}),s.jsx(Cs,{to:"/support",children:s.jsx(Be,{size:"lg","data-testid":"button-contact-support",children:"Contact Support Team"})})]})]}),s.jsx(Ei,{})]})}function JJe(){return s.jsx("div",{className:"min-h-screen bg-cream dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-dark-brown dark:text-cream mb-2",children:"Terms of Service"}),s.jsx("p",{className:"text-muted-foreground",children:"Alga One Member PLC (TIN: 0101809194)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Last Updated: November 12, 2025"})]}),s.jsx(Ud,{className:"mb-8"}),s.jsx(Qf,{className:"h-[600px] pr-4",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Welcome to Alga"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:`Alga ( - "bed" in Amharic) is Ethiopia's premier property rental platform, connecting travelers with unique accommodations across the country. By using our services, you agree to these terms and our commitment to safe, legal, and culturally immersive hospitality experiences.`})]}),s.jsxs("section",{className:"border-2 border-blue-200 dark:border-blue-800 rounded-lg p-6 bg-blue-50 dark:bg-blue-950",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ps,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream",children:"Electronic Signature Policy"})]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-brown dark:text-cream mb-2 flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5"}),"Legal Authority"]}),s.jsx("p",{className:"leading-relaxed",children:"Alga's electronic signature system is fully compliant with Ethiopian law and operates under the authority of:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Electronic Signature Proclamation No. 1072/2018"})," - Governing the use and validity of electronic signatures in Ethiopia"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Electronic Transactions Proclamation No. 1205/2020"})," - Establishing legal framework for electronic commerce and transactions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"INSA (Information Network Security Agency)"})," - Regulatory authority for electronic signature compliance"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-brown dark:text-cream mb-2 flex items-center gap-2",children:[s.jsx(Ro,{className:"h-5 w-5"}),"What Constitutes Your Electronic Signature"]}),s.jsx("p",{className:"leading-relaxed",children:'When you click "I Agree" on any action within the Alga platform (including but not limited to bookings, payments, contracts, and registrations), you are providing your legally binding electronic signature. This action has the same legal force and effect as a handwritten signature.'}),s.jsx("p",{className:"mt-2 leading-relaxed",children:"Each signature is recorded with:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:"Your verified user identity (via OTP or Fayda ID)"}),s.jsx("li",{children:"Exact date and time of signature"}),s.jsx("li",{children:"Action being signed"}),s.jsx("li",{children:"Encrypted IP address and device information"}),s.jsx("li",{children:"Immutable cryptographic hash (SHA-256) for verification"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-brown dark:text-cream mb-2 flex items-center gap-2",children:[s.jsx(pre,{className:"h-5 w-5"}),"Data Retention and Storage"]}),s.jsxs("p",{className:"leading-relaxed",children:["Alga retains encrypted signature logs for ",s.jsx("strong",{children:"five (5) years"})," from the date of signature, as required by Ethiopian law and international best practices. This retention period ensures:"]}),s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:"Legal traceability for dispute resolution"}),s.jsx("li",{children:"Compliance with tax and financial regulations"}),s.jsx("li",{children:"Protection for both guests and hosts"}),s.jsx("li",{children:"INSA audit readiness"})]}),s.jsx("p",{className:"mt-2 leading-relaxed",children:"All signature data is:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encrypted"})," - IP addresses and device info use AES-256 encryption"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Immutable"})," - Signature hashes cannot be altered"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Backed up"})," - Off-site backups ensure data integrity"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access-controlled"})," - Only authorized personnel for audit purposes"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-brown dark:text-cream mb-2 flex items-center gap-2",children:[s.jsx(ei,{className:"h-5 w-5"}),"Your Rights: Audit Copies and PDF Receipts"]}),s.jsx("p",{className:"leading-relaxed",children:"You have the right to request audit copies of your electronic signature events at any time. To request a PDF receipt containing:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:"Your name and verified identity"}),s.jsx("li",{children:"Action signed and date/time"}),s.jsx("li",{children:"Signature verification token (hash)"}),s.jsx("li",{children:"Legal reference to Ethiopian proclamations"})]}),s.jsxs("p",{className:"mt-2 leading-relaxed",children:["Please contact: ",s.jsx("a",{href:"mailto:legal@alga.et",className:"text-blue-600 dark:text-blue-400 underline",children:"legal@alga.et"})]})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded p-4 mt-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-100",children:" Important Notice"}),s.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mt-2",children:"By using Alga's services, you consent to electronic signatures and acknowledge that they carry the same legal weight as traditional handwritten signatures. If you do not agree to electronic signatures, please do not use our platform."})]}),s.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-800 rounded",children:s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Compliance Reference: Ethiopian Electronic Signature Proclamation No. 1072/2018, Electronic Transactions Proclamation No. 1205/2020 | Regulated by INSA"})})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"User Accounts"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To access certain features, you must create an account and verify your identity through OTP (phone or email) or Fayda ID. You are responsible for maintaining the security of your account credentials."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Property Listings and Bookings"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-2",children:"Hosts must ensure their listings comply with all local regulations and include mandatory safety equipment:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Smart lockbox (TTLock-compatible, 4-digit PIN, offline capable)"}),s.jsx("li",{children:"Security cameras for guest safety and incident documentation"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Payment and Commissions"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"All payments are processed through Alga Pay, our secure payment gateway. Alga charges a service fee on each booking. Delala agents earn a 5% commission on properties they refer for 36 months."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Privacy and Data Protection"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We are committed to protecting your privacy. All personal data is handled in accordance with Ethiopian data protection laws and international best practices. Sensitive information (including signature logs) is encrypted and stored securely."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"While Alga strives to provide a safe and reliable platform, we are not responsible for disputes between hosts and guests, property damage, or incidents occurring during stays. Users are encouraged to maintain appropriate insurance."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Governing Law"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These terms are governed by the laws of the Federal Democratic Republic of Ethiopia. Any disputes shall be resolved in accordance with Ethiopian law."})]}),s.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-dark-brown dark:text-cream mb-4",children:"Contact Us"}),s.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[s.jsx("p",{children:s.jsx("strong",{children:"Alga One Member PLC"})}),s.jsx("p",{children:"TIN: 0101809194"}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:legal@alga.et",className:"text-blue-600 dark:text-blue-400 underline",children:"legal@alga.et"})]}),s.jsxs("p",{children:["Support: ",s.jsx("a",{href:"mailto:support@alga.et",className:"text-blue-600 dark:text-blue-400 underline",children:"support@alga.et"})]})]})]}),s.jsx("section",{className:"border-t pt-6",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center italic",children:" Alga is a women-run, women-owned, and women-operated company committed to empowering Ethiopian hospitality and fostering cultural immersion."})})]})})]})})})}function eet(){const[t,e]=P.useState(null),[r,n]=P.useState(!1);P.useEffect(()=>{const o=l=>{l.preventDefault(),e(l),localStorage.getItem("alga-pwa-dismissed")||n(!0)};return window.addEventListener("beforeinstallprompt",o),()=>window.removeEventListener("beforeinstallprompt",o)},[]);const i=async()=>{if(!t)return;t.prompt();const{outcome:o}=await t.userChoice;o==="accepted"&&(e(null),n(!1))},a=()=>{n(!1),localStorage.setItem("alga-pwa-dismissed",Date.now().toString())};return!r||!t?null:s.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border-2 border-[#704d2a] p-4 z-50 animate-in slide-in-from-bottom","data-testid":"pwa-install-prompt",children:[s.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600","data-testid":"button-dismiss-install",children:s.jsx(Cc,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#704d2a] to-[#e0ad60] rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Dl,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Install Alga App"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Get quick access to Ethiopian stays & services. Works offline!"})]})]}),s.jsxs(Be,{onClick:i,className:"w-full bg-[#704d2a] hover:bg-[#5a3d22] text-white","data-testid":"button-install-pwa",children:[s.jsx(Dl,{className:"w-4 h-4 mr-2"}),"Install App"]})]})}function tet(){const[t,e]=P.useState(navigator.onLine),[r,n]=P.useState(!1);return P.useEffect(()=>{const i=()=>{e(!0),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{e(!1),n(!1)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),t&&!r?null:s.jsx("div",{className:`fixed top-16 left-1/2 -translate-x-1/2 z-50 px-4 py-3 rounded-lg shadow-lg animate-in slide-in-from-top ${t?"bg-green-600 text-white":"bg-orange-600 text-white"}`,"data-testid":"offline-indicator",children:s.jsx("div",{className:"flex items-center gap-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx(p2,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back online!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(A4,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"You're offline. Some features may be limited."})]})})})}function ret(){const t=Ms(),e=Ac(),r=[{path:"/properties",icon:kn,label:"Stays",testId:"stays"},{path:"/services",icon:N1,label:"Services",testId:"services"},{path:"/my-alga",icon:cu,label:"Me",testId:"me"},{path:"/support",icon:ua,label:"Lemlem",testId:"lemlem"}],n=i=>e.pathname===i||e.pathname.startsWith(`${i}/`);return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-[#E5D9C8] safe-area-inset-bottom z-50",style:{boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)",paddingBottom:"env(safe-area-inset-bottom)"},"data-testid":"bottom-nav",children:s.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(i=>{const a=i.icon,o=n(i.path);return s.jsxs("button",{onClick:()=>t(i.path),className:`flex flex-col items-center justify-center w-20 h-full transition-all relative ${o?"text-[#3C2313]":"text-[#9CA3AF]"}`,"data-testid":`mobile-nav-${i.testId}`,children:[s.jsx(a,{className:`w-6 h-6 transition-all ${o?"scale-110":"scale-100"}`,strokeWidth:o?2.5:2}),s.jsx("span",{className:`text-[10px] mt-1 font-medium ${o?"opacity-100":"opacity-60"}`,children:i.label}),o&&s.jsx("div",{className:"absolute top-0 w-12 h-1 bg-[#3C2313] rounded-b-full"})]},i.path)})})})}function net({children:t,showBottomNav:e=!0}){return s.jsxs("div",{className:"min-h-screen bg-[#f9e9d8] pb-16",children:[s.jsx("header",{className:"bg-[#F8F1E7] shadow-sm sticky top-0 z-40 border-b border-[#E5D9C8] safe-area-inset-top",children:s.jsx("div",{className:"flex items-center justify-center h-14 px-4",children:s.jsx("h1",{className:"text-xl font-bold text-eth-brown",children:"Alga"})})}),s.jsx("main",{className:e?"pb-4":"",children:t}),e&&s.jsx(ret,{}),s.jsx(YD,{propertyId:void 0,bookingId:void 0})]})}function set({children:t}){const{isAuthenticated:e,isLoading:r}=ti(),[n,i]=P.useState(!1);return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F8F1E7] to-[#f9e9d8] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-eth-brown rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-4 animate-pulse",children:s.jsx(kn,{className:"text-white text-2xl"})}),s.jsx("p",{className:"text-eth-brown text-lg font-medium",children:"Loading Alga..."})]})}):e?s.jsx(s.Fragment,{children:t}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#F8F1E7] to-[#f9e9d8] flex items-center justify-center p-4",children:[s.jsxs(_e,{className:"w-full max-w-md border-2 border-[#CD7F32]/20 shadow-2xl",children:[s.jsxs(Ge,{className:"text-center pb-4",children:[s.jsx("div",{className:"w-20 h-20 bg-eth-brown rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-4",children:s.jsx(kn,{className:"text-white text-3xl"})}),s.jsx(Ye,{className:"text-3xl font-bold text-eth-brown mb-2",children:"Welcome to Alga"}),s.jsx(ar,{className:"text-base text-[#5a4a42]",children:"Ethiopia's trusted platform for stays and services"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[#f9e9d8] rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm text-[#2d1405]",children:"Discover unique stays across Ethiopia"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm text-[#2d1405]",children:"Book trusted local services"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm text-[#2d1405]",children:"Safe, secure, and verified"})]})]}),s.jsx(Be,{size:"lg",onClick:()=>i(!0),className:"w-full h-14 text-lg bg-eth-brown hover:bg-eth-brown/90 shadow-lg","data-testid":"button-mobile-signin",children:"Sign In to Continue"}),s.jsx("p",{className:"text-center text-xs text-[#5a4a42] mt-4",children:"By continuing, you agree to Alga's Terms of Service and Privacy Policy"})]})]}),s.jsx(_2,{open:n,onOpenChange:i,defaultMode:"login"})]})}function iet(){const[t,e]=P.useState(!1);P.useEffect(()=>{localStorage.getItem("dev-force-mobile")==="true"&&e(!0)},[]);const r=()=>{const n=!t;e(n),localStorage.setItem("dev-force-mobile",String(n)),window.location.reload()};return s.jsxs("div",{className:"fixed top-4 left-4 z-[100]",children:[s.jsx(Be,{onClick:r,size:"sm",variant:t?"default":"outline",className:`gap-2 shadow-lg ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white hover:bg-gray-100"}`,"data-testid":"button-dev-toggle-mobile",children:t?s.jsxs(s.Fragment,{children:[s.jsx(j2e,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-semibold",children:"Mobile Mode"})]}):s.jsxs(s.Fragment,{children:[s.jsx(f2e,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-semibold",children:"Web Mode"})]})}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1 text-center",children:t?"Testing mobile UI":"Click to preview mobile"})]})}const aet={initial:{opacity:0},animate:{opacity:1,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.1,ease:"easeIn"}}};function Yr({children:t}){return s.jsx(Ev.div,{variants:aet,initial:"initial",animate:"animate",exit:"exit",children:t})}function oet(){ti();const t=Ac(),e=G4();Hje();const r=s.jsx(FP,{mode:"sync",initial:!1,children:s.jsxs(l0e,{location:t,children:[s.jsx(Hr,{path:"/login",element:s.jsx(Yr,{children:s.jsx(Yje,{})})}),s.jsx(Hr,{path:"/search",element:s.jsx(Yr,{children:s.jsx(L3e,{})})}),s.jsx(Hr,{path:"/discover",element:s.jsx(Yr,{children:s.jsx(hEe,{})})}),s.jsx(Hr,{path:"/become-host",element:s.jsx(Yr,{children:s.jsx(fEe,{})})}),s.jsx(Hr,{path:"/become-provider",element:s.jsx(Yr,{children:s.jsx(e6e,{})})}),s.jsx(Hr,{path:"/become-agent",element:s.jsx(Yr,{children:s.jsx(s6e,{})})}),s.jsx(Hr,{path:"/agent-program",element:s.jsx(Yr,{children:s.jsx(MZe,{})})}),s.jsx(Hr,{path:"/properties",element:s.jsx(Yr,{children:s.jsx(Q9,{})})}),s.jsx(Hr,{path:"/properties/:id",element:s.jsx(Yr,{children:s.jsx(D3e,{})})}),s.jsx(Hr,{path:"/booking/success",element:s.jsx(Yr,{children:s.jsx(UZe,{})})}),s.jsx(Hr,{path:"/booking/cancelled",element:s.jsx(Yr,{children:s.jsx($Ze,{})})}),s.jsx(Hr,{path:"/scan-id",element:s.jsx(Yr,{children:s.jsx(ZQe,{})})}),s.jsx(Hr,{path:"/test-id-scanner",element:s.jsx(Yr,{children:s.jsx(KQe,{})})}),s.jsx(Hr,{path:"/terms",element:s.jsx(Yr,{children:s.jsx(JJe,{})})}),s.jsx(Hr,{path:"/services",element:s.jsx(Yr,{children:s.jsx(eJe,{})})}),s.jsx(Hr,{path:"/services/meal-support",element:s.jsx(Yr,{children:s.jsx(lJe,{})})}),s.jsx(Hr,{path:"/services/:type",element:s.jsx(Yr,{children:s.jsx(iJe,{})})}),s.jsx(Hr,{path:"/service-providers/:id",element:s.jsx(Yr,{children:s.jsx(oJe,{})})}),s.jsx(Hr,{path:"/support",element:s.jsx(Yr,{children:s.jsx(kK,{})})}),s.jsx(Hr,{path:"/ask-lemlem",element:s.jsx(Yr,{children:s.jsx(kK,{})})}),s.jsx(Hr,{path:"/welcome",element:s.jsx(Yr,{children:s.jsx(gJe,{})})}),s.jsx(Hr,{path:"/onboarding",element:s.jsx(Yr,{children:s.jsx(n5e,{})})}),s.jsx(Hr,{path:"/my-alga",element:s.jsx(Yr,{children:s.jsx(EG,{})})}),s.jsx(Hr,{path:"/host/dashboard",element:s.jsx(Yr,{children:s.jsx(VIe,{})})}),s.jsx(Hr,{path:"/owner/payout",element:s.jsx(Yr,{children:s.jsx(LGe,{})})}),s.jsx(Hr,{path:"/provider/dashboard",element:s.jsx(Yr,{children:s.jsx(RZe,{})})}),s.jsx(Hr,{path:"/agent-dashboard",element:s.jsx(Yr,{children:s.jsx(XOe,{})})}),s.jsx(Hr,{path:"/agent/success",element:s.jsx(Yr,{children:s.jsx(FGe,{})})}),s.jsx(Hr,{path:"/dellala/dashboard",element:s.jsx(Yr,{children:s.jsx(TGe,{})})}),s.jsx(Hr,{path:"/dellala/list-property",element:s.jsx(Yr,{children:s.jsx(DGe,{})})}),s.jsx(Hr,{path:"/admin/dashboard",element:s.jsx(Yr,{children:s.jsx(EG,{})})}),s.jsx(Hr,{path:"/admin/service-providers",element:s.jsx(Yr,{children:s.jsx(TG,{})})}),s.jsx(Hr,{path:"/admin/providers",element:s.jsx(Yr,{children:s.jsx(TG,{})})}),s.jsx(Hr,{path:"/admin/lemlem-insights",element:s.jsx(Yr,{children:s.jsx(BGe,{})})}),s.jsx(Hr,{path:"/admin/ai-control",element:s.jsx(Yr,{children:s.jsx(WGe,{})})}),s.jsx(Hr,{path:"/admin/roles-permissions",element:s.jsx(Yr,{children:s.jsx(GGe,{})})}),s.jsx(Hr,{path:"/admin/agents",element:s.jsx(Yr,{children:s.jsx(YGe,{})})}),s.jsx(Hr,{path:"/admin/lemlem-ops",element:s.jsx(Yr,{children:s.jsx(SZe,{})})}),s.jsx(Hr,{path:"/admin/lemlem-validation",element:s.jsx(Yr,{children:s.jsx(EZe,{})})}),s.jsx(Hr,{path:"/admin/lemlem-dashboard",element:s.jsx(Yr,{children:s.jsx(iZe,{})})}),s.jsx(Hr,{path:"/admin/reports",element:s.jsx(Yr,{children:s.jsx(kZe,{})})}),s.jsx(Hr,{path:"/admin/signatures",element:s.jsx(Yr,{children:s.jsx(PZe,{})})}),s.jsx(Hr,{path:"/insa-compliance",element:s.jsx(Yr,{children:s.jsx(IZe,{})})}),s.jsx(Hr,{path:"/operator/dashboard",element:s.jsx(Yr,{children:s.jsx(OZe,{})})}),s.jsx(Hr,{path:"/bookings",element:s.jsx(Yr,{children:s.jsx(DZe,{})})}),s.jsx(Hr,{path:"/bookings/:id",element:s.jsx(Yr,{children:s.jsx(BZe,{})})}),s.jsx(Hr,{path:"/favorites",element:s.jsx(Yr,{children:s.jsx(zZe,{})})}),s.jsx(Hr,{path:"/my-services",element:s.jsx(Yr,{children:s.jsx(dJe,{})})}),s.jsx(Hr,{path:"/profile",element:s.jsx(Yr,{children:s.jsx(hJe,{})})}),s.jsx(Hr,{path:"/settings",element:s.jsx(Yr,{children:s.jsx(fJe,{})})}),s.jsx(Hr,{path:"/settings/notifications",element:s.jsx(Yr,{children:s.jsx(yJe,{})})}),s.jsx(Hr,{path:"/settings/security",element:s.jsx(Yr,{children:s.jsx(vJe,{})})}),s.jsx(Hr,{path:"/settings/payment",element:s.jsx(Yr,{children:s.jsx(bJe,{})})}),s.jsx(Hr,{path:"/settings/language",element:s.jsx(Yr,{children:s.jsx(PJe,{})})}),s.jsx(Hr,{path:"/help/payments",element:s.jsx(Yr,{children:s.jsx(ZJe,{})})}),s.jsx(Hr,{path:"/help/safety",element:s.jsx(Yr,{children:s.jsx(QJe,{})})}),s.jsx(Hr,{path:"/",element:s.jsx(Yr,{children:s.jsx(Q9,{})})}),s.jsx(Hr,{path:"*",element:s.jsx(Yr,{children:s.jsx(xJe,{})})})]},t.pathname)});return e?s.jsx(set,{children:s.jsx(net,{children:r})}):r}function cet(){const t=G4(),e=w1.isNativePlatform();return Wje(),Gje(),s.jsx(Vje,{children:s.jsx(Obe,{client:zn,children:s.jsxs($je,{children:[s.jsx(mNe,{}),s.jsx(oet,{}),!t&&s.jsx(YD,{}),s.jsx(eet,{}),s.jsx(tet,{}),!e&&s.jsx(iet,{})]})})})}yge.createRoot(document.getElementById("root")).render(s.jsx(I0e,{children:s.jsx(cet,{})}));export{Js as _,op as c,as as g};
