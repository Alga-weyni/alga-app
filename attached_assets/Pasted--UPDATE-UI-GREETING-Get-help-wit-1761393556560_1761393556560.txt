# ============================================================
# UPDATE UI & GREETING: â€œGet help with Lemlem (áˆáˆáˆáˆ) â€” our AI agent named after my grandmother.â€
# ============================================================

echo "ğŸŒ¸ Updating Lemlem (áˆáˆáˆáˆ) interface with heritage story..."

# 1ï¸âƒ£  Replace the chat button component with branded text
mkdir -p client/components
cat > client/components/ChatWidget.jsx <<'EOF'
import React from 'react';

export default function ChatWidget({ onClick }) {
  return (
    <div
      onClick={onClick}
      title="Get help with Lemlem (áˆáˆáˆáˆ) â€” our AI agent named after my grandmother."
      style={{
        position: 'fixed',
        bottom: '24px',
        right: '24px',
        width: '74px',
        height: '74px',
        borderRadius: '50%',
        backgroundColor: '#F49F0A',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        justifyContent: 'center',
        boxShadow: '0 4px 10px rgba(0,0,0,0.25)',
        cursor: 'pointer',
        zIndex: 1000,
        transition: 'all 0.3s ease-in-out'
      }}
    >
      <span style={{
        fontFamily: 'Noto Sans Ethiopic, sans-serif',
        fontWeight: '700',
        fontSize: '12px',
        color: 'white',
        textAlign: 'center',
        lineHeight: '1.2'
      }}>
        Lemlem<br/>áˆáˆáˆáˆ
      </span>
      <small style={{
        color: 'white',
        fontSize: '8.5px',
        opacity: 0.9
      }}>
        AI Agent<br/>named after my grandmother
      </small>
    </div>
  );
}
EOF

# 2ï¸âƒ£  Add first-time greeting in both English & Amharic
mkdir -p client/utils
cat > client/utils/lemlemGreeting.js <<'EOF'
export function lemlemFirstGreeting(lang="en") {
  const greetings = {
    en: "Hello! Iâ€™m Lemlem â€” your AI agent named after my grandmother. How can I help you today?",
    am: "áˆ°áˆ‹áˆá£ áŠ¥áŠ” áˆáˆáˆáˆ áŠáŠá¢ á‰ áŠ á‹«á‰´ áˆµáˆ á‹¨á‰°áˆ°á‹¨áˆ˜ á‹¨áŠ áŠ¢ áŠ áŒˆáˆáŒ‹á‹­á‹ áŠáŠá¢ áŠ¥áŠ•á‹´á‰µ áˆáˆ¨á‹³á‹?"
  };
  const message = greetings[lang] || greetings.en;
  if (!localStorage.getItem("lemlemIntroShown")) {
    alert(message);
    localStorage.setItem("lemlemIntroShown", true);
  }
}
EOF

# 3ï¸âƒ£  Confirmation
echo "âœ… Updated tooltip, label, and greeting!"
echo "âœ¨ Users now see: â€œGet help with Lemlem (áˆáˆáˆáˆ) â€” our AI agent named after my grandmother.â€"
echo "ğŸ’¬ Lemlem greets first-time users in both English and Amharic."